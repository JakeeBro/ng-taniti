var bM=Object.defineProperty,SM=Object.defineProperties;var AM=Object.getOwnPropertyDescriptors;var Ou=Object.getOwnPropertySymbols;var _w=Object.prototype.hasOwnProperty,Ew=Object.prototype.propertyIsEnumerable;var vw=(t,e,n)=>e in t?bM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,N=(t,e)=>{for(var n in e||={})_w.call(e,n)&&vw(t,n,e[n]);if(Ou)for(var n of Ou(e))Ew.call(e,n)&&vw(t,n,e[n]);return t},re=(t,e)=>SM(t,AM(e));var gp=(t,e)=>{var n={};for(var r in t)_w.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ou)for(var r of Ou(t))e.indexOf(r)<0&&Ew.call(t,r)&&(n[r]=t[r]);return n};var mt=null,ku=!1,_p=1,RM=null,Lt=Symbol("SIGNAL");function G(t){let e=mt;return mt=t,e}function Fu(){return mt}var Ea={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ia(t){if(ku)throw new Error("");if(mt===null)return;mt.consumerOnSignalRead(t);let e=mt.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=mt.recomputing;if(r&&(n=e!==void 0?e.nextProducer:mt.producers,n!==void 0&&n.producer===t)){mt.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===mt&&(!r||MM(i,mt)))return;let o=No(mt),s={producer:t,consumer:mt,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};mt.producersTail=s,e!==void 0?e.nextProducer=s:mt.producers=s,o&&Dw(t,s)}function Iw(){_p++}function Ep(t){if(!(No(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===_p)){if(!t.producerMustRecompute(t)&&!ju(t)){vp(t);return}t.producerRecomputeValue(t),vp(t)}}function Ip(t){if(t.consumers===void 0)return;let e=ku;ku=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||NM(r)}}finally{ku=e}}function wp(){return mt?.consumerAllowSignalWrites!==!1}function NM(t){t.dirty=!0,Ip(t),t.consumerMarkedDirty?.(t)}function vp(t){t.dirty=!1,t.lastCleanEpoch=_p}function wa(t){return t&&ww(t),G(t)}function ww(t){t.producersTail=void 0,t.recomputing=!0}function Vu(t,e){G(e),t&&Tw(t)}function Tw(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(No(t))do n=Tp(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function ju(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Ep(n),r!==n.version))return!0}return!1}function Ta(t){if(No(t)){let e=t.producers;for(;e!==void 0;)e=Tp(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function Dw(t,e){let n=t.consumersTail,r=No(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)Dw(i.producer,i)}function Tp(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!No(e)){let o=e.producers;for(;o!==void 0;)o=Tp(o)}return n}function No(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Dp(t){RM?.(t)}function MM(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Cp(t,e){return Object.is(t,e)}function Uu(t,e){let n=Object.create(xM);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Ep(n),Ia(n),n.value===Lu)throw n.error;return n.value};return r[Lt]=n,Dp(n),r}var mp=Symbol("UNSET"),yp=Symbol("COMPUTING"),Lu=Symbol("ERRORED"),xM=re(N({},Ea),{value:mp,dirty:!0,error:null,equal:Cp,kind:"computed",producerMustRecompute(t){return t.value===mp||t.value===yp},producerRecomputeValue(t){if(t.value===yp)throw new Error("");let e=t.value;t.value=yp;let n=wa(t),r,i=!1;try{r=t.computation(),G(null),i=e!==mp&&e!==Lu&&r!==Lu&&t.equal(e,r)}catch(o){r=Lu,t.error=o}finally{Vu(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function PM(){throw new Error}var Cw=PM;function bw(t){Cw(t)}function bp(t){Cw=t}var OM=null;function Sp(t,e){let n=Object.create(Bu);n.value=t,e!==void 0&&(n.equal=e);let r=()=>Sw(n);return r[Lt]=n,Dp(n),[r,s=>Da(n,s),s=>Aw(n,s)]}function Sw(t){return Ia(t),t.value}function Da(t,e){wp()||bw(t),t.equal(t.value,e)||(t.value=e,kM(t))}function Aw(t,e){wp()||bw(t),Da(t,e(t.value))}var Bu=re(N({},Ea),{equal:Cp,value:void 0,kind:"signal"});function kM(t){t.version++,Iw(),Ip(t),OM?.(t)}function Ap(t){let e=G(null);try{return t()}finally{G(e)}}function ee(t){return typeof t=="function"}function Mo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var $u=Mo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ca(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ht=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(o){e=o instanceof $u?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Rw(o)}catch(s){e=e??[],s instanceof $u?e=[...e,...s.errors]:e.push(s)}}if(e)throw new $u(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Rw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ca(n,e)}remove(e){let{_finalizers:n}=this;n&&Ca(n,e),e instanceof t&&e._removeParent(this)}};ht.EMPTY=(()=>{let t=new ht;return t.closed=!0,t})();var Rp=ht.EMPTY;function Hu(t){return t instanceof ht||t&&"closed"in t&&ee(t.remove)&&ee(t.add)&&ee(t.unsubscribe)}function Rw(t){ee(t)?t():t.unsubscribe()}var mn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var xo={setTimeout(t,e,...n){let{delegate:r}=xo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=xo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function zu(t){xo.setTimeout(()=>{let{onUnhandledError:e}=mn;if(e)e(t);else throw t})}function ba(){}var Nw=Np("C",void 0,void 0);function Mw(t){return Np("E",void 0,t)}function xw(t){return Np("N",t,void 0)}function Np(t,e,n){return{kind:t,value:e,error:n}}var Mi=null;function Po(t){if(mn.useDeprecatedSynchronousErrorHandling){let e=!Mi;if(e&&(Mi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Mi;if(Mi=null,n)throw r}}else t()}function Pw(t){mn.useDeprecatedSynchronousErrorHandling&&Mi&&(Mi.errorThrown=!0,Mi.error=t)}var xi=class extends ht{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Hu(e)&&e.add(this)):this.destination=VM}static create(e,n,r){return new Oo(e,n,r)}next(e){this.isStopped?xp(xw(e),this):this._next(e)}error(e){this.isStopped?xp(Mw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?xp(Nw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},LM=Function.prototype.bind;function Mp(t,e){return LM.call(t,e)}var Pp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){qu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){qu(r)}else qu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){qu(n)}}},Oo=class extends xi{constructor(e,n,r){super();let i;if(ee(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&mn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Mp(e.next,o),error:e.error&&Mp(e.error,o),complete:e.complete&&Mp(e.complete,o)}):i=e}this.destination=new Pp(i)}};function qu(t){mn.useDeprecatedSynchronousErrorHandling?Pw(t):zu(t)}function FM(t){throw t}function xp(t,e){let{onStoppedNotification:n}=mn;n&&xo.setTimeout(()=>n(t,e))}var VM={closed:!0,next:ba,error:FM,complete:ba};var ko=typeof Symbol=="function"&&Symbol.observable||"@@observable";function yn(t){return t}function Op(...t){return kp(t)}function kp(t){return t.length===0?yn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var _e=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=UM(n)?n:new Oo(n,r,i);return Po(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Ow(r),new r((i,o)=>{let s=new Oo({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ko](){return this}pipe(...n){return kp(n)(this)}toPromise(n){return n=Ow(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Ow(t){var e;return(e=t??mn.Promise)!==null&&e!==void 0?e:Promise}function jM(t){return t&&ee(t.next)&&ee(t.error)&&ee(t.complete)}function UM(t){return t&&t instanceof xi||jM(t)&&Hu(t)}function BM(t){return ee(t?.lift)}function De(t){return e=>{if(BM(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ae(t,e,n,r,i){return new Lp(t,e,n,r,i)}var Lp=class extends xi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var kw=Mo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var st=(()=>{class t extends _e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Gu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new kw}next(n){Po(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Po(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Po(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Rp:(this.currentObservers=null,o.push(n),new ht(()=>{this.currentObservers=null,Ca(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new _e;return n.source=this,n}}return t.create=(e,n)=>new Gu(e,n),t})(),Gu=class extends st{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Rp}};var pt=class extends st{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ft=new _e(t=>t.complete());function Lw(t){return t&&ee(t.schedule)}function Fw(t){return t[t.length-1]}function Vw(t){return ee(Fw(t))?t.pop():void 0}function Ur(t){return Lw(Fw(t))?t.pop():void 0}function Uw(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function jw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pi(t){return this instanceof Pi?(this.v=t,this):new Pi(t)}function Bw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(S){return Promise.resolve(S).then(y,p)}}function a(y,S){r[y]&&(i[y]=function(A){return new Promise(function(R,L){o.push([y,A,R,L])>1||u(y,A)})},S&&(i[y]=S(i[y])))}function u(y,S){try{l(r[y](S))}catch(A){m(o[0][3],A)}}function l(y){y.value instanceof Pi?Promise.resolve(y.value.v).then(f,p):m(o[0][2],y)}function f(y){u("next",y)}function p(y){u("throw",y)}function m(y,S){y(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function $w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof jw=="function"?jw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Wu=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ku(t){return ee(t?.then)}function Qu(t){return ee(t[ko])}function Yu(t){return Symbol.asyncIterator&&ee(t?.[Symbol.asyncIterator])}function Ju(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function $M(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Zu=$M();function Xu(t){return ee(t?.[Zu])}function el(t){return Bw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Pi(n.read());if(i)return yield Pi(void 0);yield yield Pi(r)}}finally{n.releaseLock()}})}function tl(t){return ee(t?.getReader)}function at(t){if(t instanceof _e)return t;if(t!=null){if(Qu(t))return HM(t);if(Wu(t))return zM(t);if(Ku(t))return qM(t);if(Yu(t))return Hw(t);if(Xu(t))return GM(t);if(tl(t))return WM(t)}throw Ju(t)}function HM(t){return new _e(e=>{let n=t[ko]();if(ee(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function zM(t){return new _e(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function qM(t){return new _e(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,zu)})}function GM(t){return new _e(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Hw(t){return new _e(e=>{KM(t,e).catch(n=>e.error(n))})}function WM(t){return Hw(el(t))}function KM(t,e){var n,r,i,o;return Uw(this,void 0,void 0,function*(){try{for(n=$w(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Vt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function nl(t,e=0){return De((n,r)=>{n.subscribe(Ae(r,i=>Vt(r,t,()=>r.next(i),e),()=>Vt(r,t,()=>r.complete(),e),i=>Vt(r,t,()=>r.error(i),e)))})}function rl(t,e=0){return De((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function zw(t,e){return at(t).pipe(rl(e),nl(e))}function qw(t,e){return at(t).pipe(rl(e),nl(e))}function Gw(t,e){return new _e(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Ww(t,e){return new _e(n=>{let r;return Vt(n,e,()=>{r=t[Zu](),Vt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function il(t,e){if(!t)throw new Error("Iterable cannot be null");return new _e(n=>{Vt(n,e,()=>{let r=t[Symbol.asyncIterator]();Vt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Kw(t,e){return il(el(t),e)}function Qw(t,e){if(t!=null){if(Qu(t))return zw(t,e);if(Wu(t))return Gw(t,e);if(Ku(t))return qw(t,e);if(Yu(t))return il(t,e);if(Xu(t))return Ww(t,e);if(tl(t))return Kw(t,e)}throw Ju(t)}function Xe(t,e){return e?Qw(t,e):at(t)}function le(...t){let e=Ur(t);return Xe(t,e)}function Fp(t,e){let n=ee(t)?t:()=>t,r=i=>i.error(n());return new _e(e?i=>e.schedule(r,0,i):r)}function ol(t){return!!t&&(t instanceof _e||ee(t.lift)&&ee(t.subscribe))}var Oi=Mo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ke(t,e){return De((n,r)=>{let i=0;n.subscribe(Ae(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:QM}=Array;function YM(t,e){return QM(e)?t(...e):t(e)}function Yw(t){return ke(e=>YM(t,e))}var{isArray:JM}=Array,{getPrototypeOf:ZM,prototype:XM,keys:ex}=Object;function Jw(t){if(t.length===1){let e=t[0];if(JM(e))return{args:e,keys:null};if(tx(e)){let n=ex(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function tx(t){return t&&typeof t=="object"&&ZM(t)===XM}function Zw(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Vp(...t){let e=Ur(t),n=Vw(t),{args:r,keys:i}=Jw(t);if(r.length===0)return Xe([],e);let o=new _e(nx(r,e,i?s=>Zw(i,s):yn));return n?o.pipe(Yw(n)):o}function nx(t,e,n=yn){return r=>{Xw(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)Xw(e,()=>{let l=Xe(t[u],e),f=!1;l.subscribe(Ae(r,p=>{o[u]=p,f||(f=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Xw(t,e,n){t?Vt(n,t,e):e()}function eT(t,e,n,r,i,o,s,a){let u=[],l=0,f=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=A=>l<r?S(A):u.push(A),S=A=>{o&&e.next(A),l++;let R=!1;at(n(A,f++)).subscribe(Ae(e,L=>{i?.(L),o?y(L):e.next(L)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let L=u.shift();s?Vt(e,s,()=>S(L)):S(L)}m()}catch(L){e.error(L)}}))};return t.subscribe(Ae(e,y,()=>{p=!0,m()})),()=>{a?.()}}function yt(t,e,n=1/0){return ee(e)?yt((r,i)=>ke((o,s)=>e(r,o,i,s))(at(t(r,i))),n):(typeof e=="number"&&(n=e),De((r,i)=>eT(r,i,t,n)))}function Lo(t=1/0){return yt(yn,t)}function tT(){return Lo(1)}function Fo(...t){return tT()(Xe(t,Ur(t)))}function Sa(t){return new _e(e=>{at(t()).subscribe(e)})}function vn(t,e){return De((n,r)=>{let i=0;n.subscribe(Ae(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Vo(t){return De((e,n)=>{let r=null,i=!1,o;r=e.subscribe(Ae(n,void 0,void 0,s=>{o=at(t(s,Vo(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Aa(t,e){return ee(e)?yt(t,e,1):yt(t,1)}function jp(t){return De((e,n)=>{let r=!1;e.subscribe(Ae(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function lr(t){return t<=0?()=>Ft:De((e,n)=>{let r=0;e.subscribe(Ae(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function nT(t=rx){return De((e,n)=>{let r=!1;e.subscribe(Ae(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function rx(){return new Oi}function Up(t){return De((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function dr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?vn((i,o)=>t(i,o,r)):yn,lr(1),n?jp(e):nT(()=>new Oi))}function sl(t){return t<=0?()=>Ft:De((e,n)=>{let r=[];e.subscribe(Ae(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Bp(...t){let e=Ur(t);return De((n,r)=>{(e?Fo(t,n,e):Fo(t,n)).subscribe(r)})}function jn(t,e){return De((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(Ae(r,u=>{i?.unsubscribe();let l=0,f=o++;at(t(u,f)).subscribe(i=Ae(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ra(t){return De((e,n)=>{at(t).subscribe(Ae(n,()=>n.complete(),ba)),!n.closed&&e.subscribe(n)})}function Ct(t,e,n){let r=ee(t)||e||n?{next:t,error:e,complete:n}:t;return r?De((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ae(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):yn}var $p;function al(){return $p}function Un(t){let e=$p;return $p=t,e}var rT=Symbol("NotFound");function jo(t){return t===rT||t?.name==="\u0275NotFound"}var hl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",j=class extends Error{code;constructor(e,n){super(Hr(e,n)),this.code=e}};function sx(t){return`NG0${Math.abs(t)}`}function Hr(t,e){return`${sx(t)}${e?": "+e:""}`}var gr=globalThis;function Ce(t){for(let e in t)if(t[e]===Ce)return e;throw Error("")}function hr(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(hr).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function pl(t,e){return t?e?`${t} ${e}`:t:e||""}var ax=Ce({__forward_ref__:Ce});function gl(t){return t.__forward_ref__=gl,t.toString=function(){return hr(this())},t}function jt(t){return rg(t)?t():t}function rg(t){return typeof t=="function"&&t.hasOwnProperty(ax)&&t.__forward_ref__===gl}function U(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ka(t){return cx(t,ml)}function ig(t){return ka(t)!==null}function cx(t,e){return t.hasOwnProperty(e)&&t[e]||null}function ux(t){let e=t?.[ml]??null;return e||null}function zp(t){return t&&t.hasOwnProperty(ul)?t[ul]:null}var ml=Ce({\u0275prov:Ce}),ul=Ce({\u0275inj:Ce}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=U({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function og(t){return t&&!!t.\u0275providers}var sg=Ce({\u0275cmp:Ce}),ag=Ce({\u0275dir:Ce}),cg=Ce({\u0275pipe:Ce}),ug=Ce({\u0275mod:Ce}),Ma=Ce({\u0275fac:Ce}),Vi=Ce({__NG_ELEMENT_ID__:Ce}),iT=Ce({__NG_ENV_ID__:Ce});function La(t){return typeof t=="string"?t:t==null?"":String(t)}function cT(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():La(t)}var uT=Ce({ngErrorCode:Ce}),lx=Ce({ngErrorMessage:Ce}),dx=Ce({ngTokenPath:Ce});function lg(t,e){return lT("",-200,e)}function yl(t,e){throw new j(-201,!1)}function lT(t,e,n){let r=new j(e,t);return r[uT]=e,r[lx]=t,n&&(r[dx]=n),r}function fx(t){return t[uT]}var qp;function dT(){return qp}function bt(t){let e=qp;return qp=t,e}function dg(t,e,n){let r=ka(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;yl(t,"Injector")}var hx={},ki=hx,px="__NG_DI_FLAG__",Gp=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Li(n)||0;try{return this.injector.get(e,r&8?null:ki,r)}catch(i){if(jo(i))return i;throw i}}};function gx(t,e=0){let n=al();if(n===void 0)throw new j(-203,!1);if(n===null)return dg(t,void 0,e);{let r=mx(e),i=n.retrieve(t,r);if(jo(i)){if(r.optional)return null;throw i}return i}}function Y(t,e=0){return(dT()||gx)(jt(t),e)}function P(t,e){return Y(t,Li(e))}function Li(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function mx(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Wp(t){let e=[];for(let n=0;n<t.length;n++){let r=jt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=yx(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(Y(i,o))}else e.push(Y(r))}return e}function yx(t){return t[px]}function Br(t,e){let n=t.hasOwnProperty(Ma);return n?t[Ma]:null}function fT(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function hT(t){return t.flat(Number.POSITIVE_INFINITY)}function vl(t,e){t.forEach(n=>Array.isArray(n)?vl(n,e):e(n))}function fg(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Fa(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function _l(t,e,n){let r=$o(t,e);return r>=0?t[r|1]=n:(r=~r,pT(t,r,e,n)),r}function El(t,e){let n=$o(t,e);if(n>=0)return t[n|1]}function $o(t,e){return vx(t,e,1)}function vx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var ji={},Bn=[],Ui=new $(""),hg=new $("",-1),pg=new $(""),xa=class{get(e,n=ki){if(n===ki){let i=lT("",-201);throw i.name="\u0275NotFound",i}return n}};function gg(t){return t[ug]||null}function zr(t){return t[sg]||null}function mg(t){return t[ag]||null}function gT(t){return t[cg]||null}function Bi(t){return{\u0275providers:t}}function mT(t){return Bi([{provide:Ui,multi:!0,useValue:t}])}function yT(...t){return{\u0275providers:yg(!0,t),\u0275fromNgModule:!0}}function yg(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return vl(e,s=>{let a=s;ll(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&vT(i,o),n}function vT(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];vg(i,o=>{e(o,r)})}}function ll(t,e,n,r){if(t=jt(t),!t)return!1;let i=null,o=zp(t),s=!o&&zr(t);if(!o&&!s){let u=t.ngModule;if(o=zp(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)ll(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{vl(o.imports,f=>{ll(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&vT(l,e)}if(!a){let l=Br(i)||(()=>new i);e({provide:i,useFactory:l,deps:Bn},i),e({provide:pg,useValue:i,multi:!0},i),e({provide:Ui,useValue:()=>Y(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;vg(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function vg(t,e){for(let n of t)og(n)&&(n=n.\u0275providers),Array.isArray(n)?vg(n,e):e(n)}var _x=Ce({provide:String,useValue:Ce});function _T(t){return t!==null&&typeof t=="object"&&_x in t}function Ex(t){return!!(t&&t.useExisting)}function Ix(t){return!!(t&&t.useFactory)}function dl(t){return typeof t=="function"}var Va=new $(""),cl={},oT={},Hp;function ja(){return Hp===void 0&&(Hp=new xa),Hp}var ct=class{},Fi=class extends ct{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Qp(e,s=>this.processProvider(s)),this.records.set(hg,Uo(void 0,this)),i.has("environment")&&this.records.set(ct,Uo(void 0,this));let o=this.records.get(Va);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(pg,Bn,{self:!0}))}retrieve(e,n){let r=Li(n)||0;try{return this.get(e,ki,r)}catch(i){if(jo(i))return i;throw i}}destroy(){Na(this),this._destroyed=!0;let e=G(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),G(e)}}onDestroy(e){return Na(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Na(this);let n=Un(this),r=bt(void 0),i;try{return e()}finally{Un(n),bt(r)}}get(e,n=ki,r){if(Na(this),e.hasOwnProperty(iT))return e[iT](this);let i=Li(r),o,s=Un(this),a=bt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let f=bx(e)&&ka(e);f&&this.injectableDefInScope(f)?l=Uo(Kp(e),cl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?ja():this.parent;return n=i&8&&n===ki?null:n,u.get(e,n)}catch(u){let l=fx(u);throw l===-200||l===-201?new j(l,null):u}finally{bt(a),Un(s)}}resolveInjectorInitializers(){let e=G(null),n=Un(this),r=bt(void 0),i;try{let o=this.get(Ui,Bn,{self:!0});for(let s of o)s()}finally{Un(n),bt(r),G(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(hr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=jt(e);let n=dl(e)?e:jt(e&&e.provide),r=Tx(e);if(!dl(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Uo(void 0,cl,!0),i.factory=()=>Wp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=G(null);try{if(n.value===oT)throw lg(hr(e));return n.value===cl&&(n.value=oT,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&Cx(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{G(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=jt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Kp(t){let e=ka(t),n=e!==null?e.factory:Br(t);if(n!==null)return n;if(t instanceof $)throw new j(204,!1);if(t instanceof Function)return wx(t);throw new j(204,!1)}function wx(t){if(t.length>0)throw new j(204,!1);let n=ux(t);return n!==null?()=>n.factory(t):()=>new t}function Tx(t){if(_T(t))return Uo(void 0,t.useValue);{let e=ET(t);return Uo(e,cl)}}function ET(t,e,n){let r;if(dl(t)){let i=jt(t);return Br(i)||Kp(i)}else if(_T(t))r=()=>jt(t.useValue);else if(Ix(t))r=()=>t.useFactory(...Wp(t.deps||[]));else if(Ex(t))r=(i,o)=>Y(jt(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=jt(t&&(t.useClass||t.provide));if(Dx(t))r=()=>new i(...Wp(t.deps));else return Br(i)||Kp(i)}return r}function Na(t){if(t.destroyed)throw new j(205,!1)}function Uo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Dx(t){return!!t.deps}function Cx(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function bx(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Qp(t,e){for(let n of t)Array.isArray(n)?Qp(n,e):n&&og(n)?Qp(n.\u0275providers,e):e(n)}function St(t,e){let n;t instanceof Fi?(Na(t),n=t):n=new Gp(t);let r,i=Un(n),o=bt(void 0);try{return e()}finally{Un(i),bt(o)}}function IT(){return dT()!==void 0||al()!=null}var En=0,z=1,J=2,et=3,nn=4,rn=5,Ho=6,zo=7,He=8,mr=9,$n=10,Le=11,qo=12,_g=13,$i=14,Gt=15,qr=16,Hi=17,Hn=18,Ua=19,Eg=20,fr=21,Il=22,Ba=23,Wt=24,wl=25,zi=26,tt=27,wT=1,Ig=6,Gr=7,$a=8,qi=9,Be=10;function zn(t){return Array.isArray(t)&&typeof t[wT]=="object"}function In(t){return Array.isArray(t)&&t[wT]===!0}function wg(t){return(t.flags&4)!==0}function Wr(t){return t.componentOffset>-1}function Tl(t){return(t.flags&1)===1}function Gi(t){return!!t.template}function Go(t){return(t[J]&512)!==0}function Wi(t){return(t[J]&256)===256}var TT="svg",DT="math";function on(t){for(;Array.isArray(t);)t=t[En];return t}function Tg(t,e){return on(e[t])}function wn(t,e){return on(e[t.index])}function Ha(t,e){return t.data[e]}function CT(t,e){return t[e]}function Dg(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function sn(t,e){let n=e[t];return zn(n)?n:n[En]}function bT(t){return(t[J]&4)===4}function Dl(t){return(t[J]&128)===128}function ST(t){return In(t[et])}function qn(t,e){return e==null?null:t[e]}function Cg(t){t[Hi]=0}function bg(t){t[J]&1024||(t[J]|=1024,Dl(t)&&qa(t))}function AT(t,e){for(;t>0;)e=e[$i],t--;return e}function za(t){return!!(t[J]&9216||t[Wt]?.dirty)}function Cl(t){t[$n].changeDetectionScheduler?.notify(8),t[J]&64&&(t[J]|=1024),za(t)&&qa(t)}function qa(t){t[$n].changeDetectionScheduler?.notify(0);let e=$r(t);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!Dl(e)));)e=$r(e)}function Sg(t,e){if(Wi(t))throw new j(911,!1);t[fr]===null&&(t[fr]=[]),t[fr].push(e)}function RT(t,e){if(t[fr]===null)return;let n=t[fr].indexOf(e);n!==-1&&t[fr].splice(n,1)}function $r(t){let e=t[et];return In(e)?e[et]:e}function Ag(t){return t[zo]??=[]}function Rg(t){return t.cleanup??=[]}function NT(t,e,n,r){let i=Ag(e);i.push(n),t.firstCreatePass&&Rg(t).push(r,i.length-1)}var ue={lFrame:HT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Yp=!1;function MT(){return ue.lFrame.elementDepthCount}function xT(){ue.lFrame.elementDepthCount++}function Ng(){ue.lFrame.elementDepthCount--}function PT(){return ue.bindingsEnabled}function OT(){return ue.skipHydrationRootTNode!==null}function Mg(t){return ue.skipHydrationRootTNode===t}function xg(){ue.skipHydrationRootTNode=null}function ce(){return ue.lFrame.lView}function ut(){return ue.lFrame.tView}function At(t){return ue.lFrame.contextLView=t,t[He]}function Rt(t){return ue.lFrame.contextLView=null,t}function Nt(){let t=Pg();for(;t!==null&&t.type===64;)t=t.parent;return t}function Pg(){return ue.lFrame.currentTNode}function kT(){let t=ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Wo(t,e){let n=ue.lFrame;n.currentTNode=t,n.isParent=e}function Og(){return ue.lFrame.isParent}function LT(){ue.lFrame.isParent=!1}function kg(){return Yp}function Lg(t){let e=Yp;return Yp=t,e}function Fg(){let t=ue.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function FT(t){return ue.lFrame.bindingIndex=t}function Ki(){return ue.lFrame.bindingIndex++}function Vg(t){let e=ue.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function VT(){return ue.lFrame.inI18n}function jT(t,e){let n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,bl(e)}function UT(){return ue.lFrame.currentDirectiveIndex}function bl(t){ue.lFrame.currentDirectiveIndex=t}function BT(t){let e=ue.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function jg(){return ue.lFrame.currentQueryIndex}function Sl(t){ue.lFrame.currentQueryIndex=t}function Sx(t){let e=t[z];return e.type===2?e.declTNode:e.type===1?t[rn]:null}function Ug(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=Sx(o),i===null||(o=o[$i],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ue.lFrame=$T();return r.currentTNode=e,r.lView=t,!0}function Al(t){let e=$T(),n=t[z];ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function $T(){let t=ue.lFrame,e=t===null?null:t.child;return e===null?HT(t):e}function HT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function zT(){let t=ue.lFrame;return ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Bg=zT;function Rl(){let t=zT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function qT(t){return(ue.lFrame.contextLView=AT(t,ue.lFrame.contextLView))[He]}function yr(){return ue.lFrame.selectedIndex}function Kr(t){ue.lFrame.selectedIndex=t}function Nl(){let t=ue.lFrame;return Ha(t.tView,t.selectedIndex)}function GT(){return ue.lFrame.currentNamespace}var WT=!0;function Ml(){return WT}function xl(t){WT=t}function Jp(t,e=null,n=null,r){let i=$g(t,e,n,r);return i.resolveInjectorInitializers(),i}function $g(t,e=null,n=null,r,i=new Set){let o=[n||Bn,yT(t)];return r=r||(typeof t=="object"?void 0:hr(t)),new Fi(o,e||ja(),r||null,i)}var _n=class t{static THROW_IF_NOT_FOUND=ki;static NULL=new xa;static create(e,n){if(Array.isArray(e))return Jp({name:""},n,e,"");{let r=e.name??"";return Jp({name:r},e.parent,e.providers,r)}}static \u0275prov=U({token:t,providedIn:"any",factory:()=>Y(hg)});static __NG_ELEMENT_ID__=-1},ze=new $(""),Qr=(()=>{class t{static __NG_ELEMENT_ID__=Ax;static __NG_ENV_ID__=n=>n}return t})(),Zp=class extends Qr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Wi(this._lView)}onDestroy(e){let n=this._lView;return Sg(n,e),()=>RT(n,e)}};function Ax(){return new Zp(ce())}var KT=!1,Yr=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new pt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new _e(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})(),Xp=class extends st{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,IT()&&(this.destroyRef=P(Qr,{optional:!0})??void 0,this.pendingTasks=P(Yr,{optional:!0})??void 0)}emit(e){let n=G(null);try{super.next(e)}finally{G(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ht&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},vt=Xp;function fl(...t){}function Hg(t){let e,n;function r(){t=fl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function zg(t){return queueMicrotask(()=>t()),()=>{t=fl}}var qg="isAngularZone",Pa=qg+"_ID",Rx=0,Ut=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new vt(!1);onMicrotaskEmpty=new vt(!1);onStable=new vt(!1);onError=new vt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=KT}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,xx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(qg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Nx,fl,fl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Nx={};function Gg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Mx(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Hg(()=>{t.callbackScheduled=!1,eg(t),t.isCheckStableRunning=!0,Gg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),eg(t)}function xx(t){let e=()=>{Mx(t)},n=Rx++;t._inner=t._inner.fork({name:"angular",properties:{[qg]:!0,[Pa]:n,[Pa+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(Px(u))return r.invokeTask(o,s,a,u);try{return sT(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),aT(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return sT(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Ox(u)&&e(),aT(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,eg(t),Gg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function eg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function sT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function aT(t){t._nesting--,Gg(t)}var Oa=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new vt;onMicrotaskEmpty=new vt;onStable=new vt;onError=new vt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Px(t){return QT(t,"__ignore_ng_zone__")}function Ox(t){return QT(t,"__scheduler_tick__")}function QT(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var pr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},an=new $("",{factory:()=>{let t=P(Ut),e=P(ct),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(pr),n.handleError(r))})}}}),YT={provide:Ui,useValue:()=>{let t=P(pr,{optional:!0})},multi:!0},kx=new $("",{factory:()=>{let t=P(ze).defaultView;if(!t)return;let e=P(an),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),P(Qr).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function Wg(){return Bi([mT(()=>void P(kx))])}function Ge(t,e){let[n,r,i]=Sp(t,e?.equal),o=n,s=o[Lt];return o.set=r,o.update=i,o.asReadonly=JT.bind(o),o}function JT(){let t=this[Lt];if(t.readonlyFn===void 0){let e=()=>this();e[Lt]=t,t.readonlyFn=e}return t.readonlyFn}var Bo=class{},Ga=new $("",{factory:()=>!0});var Kg=new $("");var Qg=(()=>{class t{static \u0275prov=U({token:t,providedIn:"root",factory:()=>new tg})}return t})(),tg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},ng=class{[Lt];constructor(e){this[Lt]=e}destroy(){this[Lt].destroy()}};function Tn(t){return Ap(t)}function od(t){return{toString:t}.toString()}function qx(t){return typeof t=="function"}function CD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Ul=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},eo=(()=>{let t=()=>bD;return t.ngInherit=!0,t})();function bD(t){return t.type.prototype.ngOnChanges&&(t.setInput=Wx),Gx}function Gx(){let t=AD(this),e=t?.current;if(e){let n=t.previous;if(n===ji)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Wx(t,e,n,r,i){let o=this.declaredInputs[r],s=AD(t)||Kx(t,{previous:ji,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Ul(l&&l.currentValue,n,u===ji),CD(t,e,i,n)}var SD="__ngSimpleChanges__";function AD(t){return t[SD]||null}function Kx(t,e){return t[SD]=e}var ZT=[];var Re=function(t,e=null,n){for(let r=0;r<ZT.length;r++){let i=ZT[r];i(t,e,n)}},Ee=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(Ee||{});function Qx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=bD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Yx(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function kl(t,e,n){RD(t,e,3,n)}function Ll(t,e,n,r){(t[J]&3)===n&&RD(t,e,n,r)}function Yg(t,e){let n=t[J];(n&3)===e&&(n&=16383,n+=1,t[J]=n)}function RD(t,e,n,r){let i=r!==void 0?t[Hi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Hi]+=65536),(a<o||o==-1)&&(Jx(t,n,e,u),t[Hi]=(t[Hi]&4294901760)+u+2),u++}function XT(t,e){Re(Ee.LifecycleHookStart,t,e);let n=G(null);try{e.call(t)}finally{G(n),Re(Ee.LifecycleHookEnd,t,e)}}function Jx(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[J]>>14<t[Hi]>>16&&(t[J]&3)===e&&(t[J]+=16384,XT(a,o)):XT(a,o)}var Qo=-1,Ya=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function Zx(t){return(t.flags&8)!==0}function Xx(t){return(t.flags&16)!==0}function eP(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];tP(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function ND(t){return t===3||t===4||t===6}function tP(t){return t.charCodeAt(0)===64}function sd(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?eD(t,n,i,null,e[++r]):eD(t,n,i,null,null))}}return t}function eD(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function MD(t){return t!==Qo}function Bl(t){return t&32767}function nP(t){return t>>16}function $l(t,e){let n=nP(t),r=e;for(;n>0;)r=r[$i],n--;return r}var im=!0;function Hl(t){let e=im;return im=t,e}var rP=256,xD=rP-1,PD=5,iP=0,Gn={};function oP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Vi)&&(r=n[Vi]),r==null&&(r=n[Vi]=iP++);let i=r&xD,o=1<<i;e.data[t+(i>>PD)]|=o}function OD(t,e){let n=kD(t,e);if(n!==-1)return n;let r=e[z];r.firstCreatePass&&(t.injectorIndex=e.length,Jg(r.data,t),Jg(e,null),Jg(r.blueprint,null));let i=Rm(t,e),o=t.injectorIndex;if(MD(i)){let s=Bl(i),a=$l(i,e),u=a[z].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Jg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function kD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Rm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=UD(i),r===null)return Qo;if(n++,i=i[$i],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Qo}function sP(t,e,n){oP(t,e,n)}function aP(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(ND(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function LD(t,e,n){if(n&8||t!==void 0)return t;yl(e,"NodeInjector")}function FD(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[mr],o=bt(void 0);try{return i?i.get(e,r,n&8):dg(e,r,n&8)}finally{bt(o)}}return LD(r,e,n)}function VD(t,e,n,r=0,i){if(t!==null){if(e[J]&2048&&!(r&2)){let s=dP(t,e,n,r,Gn);if(s!==Gn)return s}let o=jD(t,e,n,r,Gn);if(o!==Gn)return o}return FD(e,n,r,i)}function jD(t,e,n,r,i){let o=uP(n);if(typeof o=="function"){if(!Ug(e,t,r))return r&1?LD(i,n,r):FD(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))yl(n);else return s}finally{Bg()}}else if(typeof o=="number"){let s=null,a=kD(t,e),u=Qo,l=r&1?e[Gt][rn]:null;for((a===-1||r&4)&&(u=a===-1?Rm(t,e):e[a+8],u===Qo||!nD(r,!1)?a=-1:(s=e[z],a=Bl(u),e=$l(u,e)));a!==-1;){let f=e[z];if(tD(o,a,f.data)){let p=cP(a,e,n,s,r,l);if(p!==Gn)return p}u=e[a+8],u!==Qo&&nD(r,e[z].data[a+8]===l)&&tD(o,a,e)?(s=f,a=Bl(u),e=$l(u,e)):a=-1}}return i}function cP(t,e,n,r,i,o){let s=e[z],a=s.data[t+8],u=r==null?Wr(a)&&im:r!=s&&(a.type&3)!==0,l=i&1&&o===a,f=Fl(a,s,n,u,l);return f!==null?zl(e,s,f,a,i):Gn}function Fl(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,f=o>>20,p=r?a:a+f,m=i?a+f:l;for(let y=p;y<m;y++){let S=s[y];if(y<u&&n===S||y>=u&&S.type===n)return y}if(i){let y=s[u];if(y&&Gi(y)&&y.type===n)return u}return null}function zl(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof Ya){let a=o;if(a.resolving){let y=cT(s[n]);throw lg(y)}let u=Hl(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],f,p=a.injectImpl?bt(a.injectImpl):null,m=Ug(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Qx(n,s[n],e)}finally{p!==null&&bt(p),Hl(u),a.resolving=!1,Bg()}}return o}function uP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Vi)?t[Vi]:void 0;return typeof e=="number"?e>=0?e&xD:lP:e}function tD(t,e,n){let r=1<<t;return!!(n[e+(t>>PD)]&r)}function nD(t,e){return!(t&2)&&!(t&1&&e)}var Qi=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return VD(this._tNode,this._lView,e,Li(r),n)}};function lP(){return new Qi(Nt(),ce())}function rc(t){return od(()=>{let e=t.prototype.constructor,n=e[Ma]||om(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Ma]||om(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function om(t){return rg(t)?()=>{let e=om(jt(t));return e&&e()}:Br(t)}function dP(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[J]&2048&&!Go(s);){let a=jD(o,s,n,r|2,Gn);if(a!==Gn)return a;let u=o.parent;if(!u){let l=s[Eg];if(l){let f=l.get(n,Gn,r);if(f!==Gn)return f}u=UD(s),s=s[$i]}o=u}return i}function UD(t){let e=t[z],n=e.type;return n===2?e.declTNode:n===1?t[rn]:null}function ic(t){return aP(Nt(),t)}function fP(){return es(Nt(),ce())}function es(t,e){return new Bt(wn(t,e))}var Bt=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=fP}return t})();function hP(t){return t instanceof Bt?t.nativeElement:t}function pP(){return this._results[Symbol.iterator]()}var ql=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new st}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=hT(e);(this._changesDetected=!fT(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=pP};function BD(t){return(t.flags&128)===128}var Nm=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Nm||{}),$D=new Map,gP=0;function mP(){return gP++}function yP(t){$D.set(t[Ua],t)}function sm(t){$D.delete(t[Ua])}var rD="__ngContext__";function Yo(t,e){zn(e)?(t[rD]=e[Ua],yP(e)):t[rD]=e}function HD(t){return qD(t[qo])}function zD(t){return qD(t[nn])}function qD(t){for(;t!==null&&!In(t);)t=t[nn];return t}var vP;function Mm(t){vP=t}var ad=new $("",{factory:()=>_P}),_P="ng";var cd=new $(""),oc=new $("",{providedIn:"platform",factory:()=>"unknown"});var ud=new $("",{factory:()=>P(ze).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var GD="r";var WD="di";var KD=!1,QD=new $("",{factory:()=>KD});var EP=(t,e,n,r)=>{};function IP(t,e,n,r){EP(t,e,n,r)}function xm(t){return(t.flags&32)===32}var wP=()=>null;function YD(t,e,n=!1){return wP(t,e,n)}function JD(t,e){let n=t.contentQueries;if(n!==null){let r=G(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Sl(o),a.contentQueries(2,e[s],s)}}}finally{G(r)}}}function am(t,e,n){Sl(0);let r=G(null);try{e(t,n)}finally{G(r)}}function ZD(t,e,n){if(wg(e)){let r=G(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{G(r)}}}var bn=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(bn||{});var Pl;function TP(){if(Pl===void 0&&(Pl=null,gr.trustedTypes))try{Pl=gr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pl}function iD(t){return TP()?.createScriptURL(t)||t}var Gl=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${hl})`}};function ts(t){return t instanceof Gl?t.changingThisBreaksApplicationSecurity:t}function Pm(t,e){let n=XD(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${hl})`)}return n===e}function XD(t){return t instanceof Gl&&t.getTypeName()||null}var DP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function eC(t){return t=String(t),t.match(DP)?t:"unsafe:"+t}function CP(t,e){return t.createText(e)}function bP(t,e,n){t.setValue(e,n)}function tC(t,e,n){return t.createElement(e,n)}function Wl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function nC(t,e,n){t.appendChild(e,n)}function oD(t,e,n,r,i){r!==null?Wl(t,e,n,r,i):nC(t,e,n)}function rC(t,e,n,r){t.removeChild(null,e,n,r)}function SP(t,e,n){t.setAttribute(e,"style",n)}function AP(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function iC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&eP(t,e,r),i!==null&&AP(t,e,i),o!==null&&SP(t,e,o)}var ld=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(ld||{});function cn(t){let e=sC();return e?e.sanitize(ld.URL,t)||"":Pm(t,"URL")?ts(t):eC(La(t))}function oC(t){let e=sC();if(e)return iD(e.sanitize(ld.RESOURCE_URL,t)||"");if(Pm(t,"ResourceURL"))return iD(ts(t));throw new j(904,!1)}function RP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?oC:cn}function Om(t,e,n){return RP(e,n)(t)}function sC(){let t=ce();return t&&t[$n].sanitizer}function km(t){return t.ownerDocument}function aC(t){return t instanceof Function?t():t}function NP(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var cC="ng-template";function MP(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&NP(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Lm(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Lm(t){return t.type===4&&t.value!==cC}function xP(t,e,n){let r=t.type===4&&!n?cC:t.value;return e===r}function PP(t,e,n){let r=4,i=t.attrs,o=i!==null?LP(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Dn(r)&&!Dn(u))return!1;if(s&&Dn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!xP(t,u,n)||u===""&&e.length===1){if(Dn(r))return!1;s=!0}}else if(r&8){if(i===null||!MP(t,i,u,n)){if(Dn(r))return!1;s=!0}}else{let l=e[++a],f=OP(u,i,Lm(t),n);if(f===-1){if(Dn(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Dn(r))return!1;s=!0}}}}return Dn(r)||s}function Dn(t){return(t&1)===0}function OP(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return FP(e,t)}function kP(t,e,n=!1){for(let r=0;r<e.length;r++)if(PP(t,e[r],n))return!0;return!1}function LP(t){for(let e=0;e<t.length;e++){let n=t[e];if(ND(n))return e}return t.length}function FP(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function sD(t,e){return t?":not("+e.trim()+")":e}function VP(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Dn(s)&&(e+=sD(o,i),i=""),r=s,o=o||!Dn(r);n++}return i!==""&&(e+=sD(o,i)),e}function jP(t){return t.map(VP).join(",")}function UP(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Dn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var un={};function Fm(t,e,n,r,i,o,s,a,u,l,f){let p=tt+r,m=p+i,y=BP(p,m),S=typeof l=="function"?l():l;return y[z]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:f}}function BP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:un);return n}function $P(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Fm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Vm(t,e,n,r,i,o,s,a,u,l,f){let p=e.blueprint.slice();return p[En]=i,p[J]=r|4|128|8|64|1024,(l!==null||t&&t[J]&2048)&&(p[J]|=2048),Cg(p),p[et]=p[$i]=t,p[He]=n,p[$n]=s||t&&t[$n],p[Le]=a||t&&t[Le],p[mr]=u||t&&t[mr]||null,p[rn]=o,p[Ua]=mP(),p[Ho]=f,p[Eg]=l,p[Gt]=e.type==2?t[Gt]:p,p}function HP(t,e,n){let r=wn(e,t),i=$P(n),o=t[$n].rendererFactory,s=jm(t,Vm(t,i,null,uC(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function uC(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function lC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function jm(t,e){return t[qo]?t[_g][nn]=e:t[qo]=e,t[_g]=e,e}function O(t=1){dC(ut(),ce(),yr()+t,!1)}function dC(t,e,n,r){if(!r)if((e[J]&3)===3){let o=t.preOrderCheckHooks;o!==null&&kl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Ll(e,o,0,n)}Kr(n)}var dd=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(dd||{});function cm(t,e,n,r){let i=G(null);try{let[o,s,a]=t.inputs[n],u=null;(s&dd.SignalBased)!==0&&(u=e[o][Lt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):CD(e,u,o,r)}finally{G(i)}}var Wn=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Wn||{}),zP;function Um(t,e){return zP(t,e)}var Yi=new Set,Bm=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Bm||{}),sc=new $(""),aD=new Set;function Zr(t){aD.has(t)||(aD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var fC=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})();var hC=new $("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:P(ct)})});function pC(t,e,n){let r=t.get(hC);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function qP(t,e){let n=t.get(hC);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)n.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function GP(t,e){for(let[n,r]of e)pC(t,r.animateFns)}function cD(t,e,n,r){let i=t?.[zi]?.enter;e!==null&&i&&i.has(n.index)&&GP(r,i)}function Ko(t,e,n,r,i,o,s,a){if(i!=null){let u,l=!1;In(i)?u=i:zn(i)&&(l=!0,i=i[En]);let f=on(i);t===0&&r!==null?(cD(a,r,o,n),s==null?nC(e,r,f):Wl(e,r,f,s||null,!0)):t===1&&r!==null?(cD(a,r,o,n),Wl(e,r,f,s||null,!0)):t===2?uD(a,o,n,p=>{rC(e,f,l,p)}):t===3&&uD(a,o,n,()=>{e.destroyNode(f)}),u!=null&&oO(e,t,n,u,o,r,s)}}function WP(t,e){gC(t,e),e[En]=null,e[rn]=null}function KP(t,e,n,r,i,o){r[En]=i,r[rn]=e,hd(t,r,n,1,i,o)}function gC(t,e){e[$n].changeDetectionScheduler?.notify(9),hd(t,e,e[Le],2,null,null)}function QP(t){let e=t[qo];if(!e)return Zg(t[z],t);for(;e;){let n=null;if(zn(e))n=e[qo];else{let r=e[Be];r&&(n=r)}if(!n){for(;e&&!e[nn]&&e!==t;)zn(e)&&Zg(e[z],e),e=e[et];e===null&&(e=t),zn(e)&&Zg(e[z],e),n=e&&e[nn]}e=n}}function $m(t,e){let n=t[qi],r=n.indexOf(e);n.splice(r,1)}function fd(t,e){if(Wi(e))return;let n=e[Le];n.destroyNode&&hd(t,e,n,3,null,null),QP(e)}function Zg(t,e){if(Wi(e))return;let n=G(null);try{e[J]&=-129,e[J]|=256,e[Wt]&&Ta(e[Wt]),ZP(t,e),JP(t,e),e[z].type===1&&e[Le].destroy();let r=e[qr];if(r!==null&&In(e[et])){r!==e[et]&&$m(r,e);let i=e[Hn];i!==null&&i.detachView(t)}sm(e)}finally{G(n)}}function uD(t,e,n,r){let i=t?.[zi];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&Yi.add(t),pC(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:f}=l();a.push(f)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),YP(t,r)}else t&&Yi.delete(t),r(!1)},i)}function YP(t,e){let n=t[zi]?.running;if(n){n.then(()=>{t[zi].running=void 0,Yi.delete(t),e(!0)});return}e(!1)}function JP(t,e){let n=t.cleanup,r=e[zo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[zo]=null);let i=e[fr];if(i!==null){e[fr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Ba];if(o!==null){e[Ba]=null;for(let s of o)s.destroy()}}function ZP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ya)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Re(Ee.LifecycleHookStart,a,u);try{u.call(a)}finally{Re(Ee.LifecycleHookEnd,a,u)}}else{Re(Ee.LifecycleHookStart,i,o);try{o.call(i)}finally{Re(Ee.LifecycleHookEnd,i,o)}}}}}function XP(t,e,n){return eO(t,e.parent,n)}function eO(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[En];if(Wr(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===bn.None||i===bn.Emulated)return null}return wn(r,n)}function tO(t,e,n){return rO(t,e,n)}function nO(t,e,n){return t.type&40?wn(t,n):null}var rO=nO,lD;function Hm(t,e,n,r){let i=XP(t,r,e),o=e[Le],s=r.parent||e[rn],a=tO(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)oD(o,i,n[u],a,!1);else oD(o,i,n,a,!1);lD!==void 0&&lD(o,r,e,n,i)}function Ka(t,e){if(e!==null){let n=e.type;if(n&3)return wn(e,t);if(n&4)return um(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ka(t,r);{let i=t[e.index];return In(i)?um(-1,i):on(i)}}else{if(n&128)return Ka(t,e.next);if(n&32)return Um(e,t)()||on(t[e.index]);{let r=mC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=$r(t[Gt]);return Ka(i,r)}else return Ka(t,e.next)}}}return null}function mC(t,e){if(e!==null){let r=t[Gt][rn],i=e.projection;return r.projection[i]}return null}function um(t,e){let n=Be+t+1;if(n<e.length){let r=e[n],i=r[z].firstChild;if(i!==null)return Ka(r,i)}return e[Gr]}function zm(t,e,n,r,i,o,s){for(;n!=null;){let a=r[mr];if(n.type===128){n=n.next;continue}let u=r[n.index],l=n.type;if(s&&e===0&&(u&&Yo(on(u),r),n.flags|=2),!xm(n))if(l&8)zm(t,e,n.child,r,i,o,!1),Ko(e,t,a,i,u,n,o,r);else if(l&32){let f=Um(n,r),p;for(;p=f();)Ko(e,t,a,i,p,n,o,r);Ko(e,t,a,i,u,n,o,r)}else l&16?iO(t,e,r,n,i,o):Ko(e,t,a,i,u,n,o,r);n=s?n.projectionNext:n.next}}function hd(t,e,n,r,i,o){zm(n,r,t.firstChild,e,i,o,!1)}function iO(t,e,n,r,i,o){let s=n[Gt],u=s[rn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Ko(e,t,n[mr],i,f,r,o,n)}else{let l=u,f=s[et];BD(r)&&(l.flags|=128),zm(t,e,l,f,i,o,!0)}}function oO(t,e,n,r,i,o,s){let a=r[Gr],u=on(r);a!==u&&Ko(e,t,n,o,a,i,s);for(let l=Be;l<r.length;l++){let f=r[l];hd(f[z],f,t,e,o,a)}}function sO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Wn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Wn.Important),t.setStyle(n,r,i,o))}}function yC(t,e,n,r,i){let o=yr(),s=r&2;try{Kr(-1),s&&e.length>tt&&dC(t,e,tt,!1);let a=s?Ee.TemplateUpdateStart:Ee.TemplateCreateStart;Re(a,i,n),n(r,i)}finally{Kr(o);let a=s?Ee.TemplateUpdateEnd:Ee.TemplateCreateEnd;Re(a,i,n)}}function vC(t,e,n){hO(t,e,n),(n.flags&64)===64&&pO(t,e,n)}function qm(t,e,n=wn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function aO(t,e,n,r){let o=r.get(QD,KD)||n===bn.ShadowDom||n===bn.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,o);return cO(s),s}function cO(t){uO(t)}var uO=()=>null;function lO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function dO(t,e,n,r,i,o){let s=e[z];if(Gm(t,s,e,n,r)){Wr(t)&&fO(e,t.index);return}t.type&3&&(n=lO(n)),_C(t,e,n,r,i,o)}function _C(t,e,n,r,i,o){if(t.type&3){let s=wn(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function fO(t,e){let n=sn(e,t);n[J]&16||(n[J]|=64)}function hO(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Wr(n)&&HP(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||OD(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=zl(e,t,s,n);if(Yo(u,e),o!==null&&_O(e,s-r,u,a,n,o),Gi(a)){let l=sn(n.index,e);l[He]=zl(e,t,s,n)}}}function pO(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=UT();try{Kr(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];bl(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&gO(u,l)}}finally{Kr(-1),bl(s)}}function gO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function mO(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];kP(e,o.selectors,!1)&&(r??=[],Gi(o)?r.unshift(o):r.push(o))}return r}function yO(t,e,n,r,i,o){let s=wn(t,e);vO(e[Le],s,o,t.value,n,r,i)}function vO(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?La(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function _O(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];cm(r,n,u,l)}}function EC(t,e,n,r,i){let o=tt+n,s=e[z],a=i(s,e,t,r,n);e[o]=a,Wo(t,!0);let u=t.type===2;return u?(iC(e[Le],a,t),(MT()===0||Tl(t))&&Yo(a,e),xT()):Yo(a,e),Ml()&&(!u||!xm(t))&&Hm(s,e,a,t),t}function IC(t){let e=t;return Og()?LT():(e=e.parent,Wo(e,!1)),e}function EO(t,e){let n=t[mr];if(!n)return;let r;try{r=n.get(an,null)}catch{r=null}r?.(e)}function Gm(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],f=s[u+1],p=e.data[l];cm(p,n[l],f,i),a=!0}if(o)for(let u of o){let l=n[u],f=e.data[u];cm(f,l,r,i),a=!0}return a}function IO(t,e){let n=sn(e,t),r=n[z];wO(r,n);let i=n[En];i!==null&&n[Ho]===null&&(n[Ho]=YD(i,n[mr])),Re(Ee.ComponentStart);try{Wm(r,n,n[He])}finally{Re(Ee.ComponentEnd,n[He])}}function wO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Wm(t,e,n){Al(e);try{let r=t.viewQuery;r!==null&&am(1,r,n);let i=t.template;i!==null&&yC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Hn]?.finishViewCreation(t),t.staticContentQueries&&JD(t,e),t.staticViewQueries&&am(2,t.viewQuery,n);let o=t.components;o!==null&&TO(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[J]&=-5,Rl()}}function TO(t,e){for(let n=0;n<e.length;n++)IO(t,e[n])}function pd(t,e,n,r){let i=G(null);try{let o=e.tView,a=t[J]&4096?4096:16,u=Vm(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[qr]=l;let f=t[Hn];return f!==null&&(u[Hn]=f.createEmbeddedView(o)),Wm(o,u,n),u}finally{G(i)}}function Ja(t,e){return!e||e.firstChild===null||BD(t)}function Za(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(on(o)),In(o)&&wC(o,r);let s=n.type;if(s&8)Za(t,e,n.child,r);else if(s&32){let a=Um(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=mC(e,n);if(Array.isArray(a))r.push(...a);else{let u=$r(e[Gt]);Za(u[z],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function wC(t,e){for(let n=Be;n<t.length;n++){let r=t[n],i=r[z].firstChild;i!==null&&Za(r[z],r,i,e)}t[Gr]!==t[En]&&e.push(t[Gr])}function TC(t){if(t[wl]!==null){for(let e of t[wl])e.impl.addSequence(e);t[wl].length=0}}var DC=[];function DO(t){return t[Wt]??CO(t)}function CO(t){let e=DC.pop()??Object.create(SO);return e.lView=t,e}function bO(t){t.lView[Wt]!==t&&(t.lView=null,DC.push(t))}var SO=re(N({},Ea),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{qa(t.lView)},consumerOnSignalRead(){this.lView[Wt]=this}});function AO(t){let e=t[Wt]??Object.create(RO);return e.lView=t,e}var RO=re(N({},Ea),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=$r(t.lView);for(;e&&!CC(e[z]);)e=$r(e);e&&bg(e)},consumerOnSignalRead(){this.lView[Wt]=this}});function CC(t){return t.type!==2}function bC(t){if(t[Ba]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Ba])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[J]&8192)}}var NO=100;function SC(t,e=0){let r=t[$n].rendererFactory,i=!1;i||r.begin?.();try{MO(t,e)}finally{i||r.end?.()}}function MO(t,e){let n=kg();try{Lg(!0),lm(t,e);let r=0;for(;za(t);){if(r===NO)throw new j(103,!1);r++,lm(t,1)}}finally{Lg(n)}}function xO(t,e,n,r){if(Wi(e))return;let i=e[J],o=!1,s=!1;Al(e);let a=!0,u=null,l=null;o||(CC(t)?(l=DO(e),u=wa(l)):Fu()===null?(a=!1,l=AO(e),u=wa(l)):e[Wt]&&(Ta(e[Wt]),e[Wt]=null));try{Cg(e),FT(t.bindingStartIndex),n!==null&&yC(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let y=t.preOrderCheckHooks;y!==null&&kl(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Ll(e,y,0,null),Yg(e,0)}if(s||PO(e),bC(e),AC(e,0),t.contentQueries!==null&&JD(t,e),!o)if(f){let y=t.contentCheckHooks;y!==null&&kl(e,y)}else{let y=t.contentHooks;y!==null&&Ll(e,y,1),Yg(e,1)}kO(t,e);let p=t.components;p!==null&&NC(e,p,0);let m=t.viewQuery;if(m!==null&&am(2,m,r),!o)if(f){let y=t.viewCheckHooks;y!==null&&kl(e,y)}else{let y=t.viewHooks;y!==null&&Ll(e,y,2),Yg(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Il]){for(let y of e[Il])y();e[Il]=null}o||(TC(e),e[J]&=-73)}catch(f){throw o||qa(e),f}finally{l!==null&&(Vu(l,u),a&&bO(l)),Rl()}}function AC(t,e){for(let n=HD(t);n!==null;n=zD(n))for(let r=Be;r<n.length;r++){let i=n[r];RC(i,e)}}function PO(t){for(let e=HD(t);e!==null;e=zD(e)){if(!(e[J]&2))continue;let n=e[qi];for(let r=0;r<n.length;r++){let i=n[r];bg(i)}}}function OO(t,e,n){Re(Ee.ComponentStart);let r=sn(e,t);try{RC(r,n)}finally{Re(Ee.ComponentEnd,r[He])}}function RC(t,e){Dl(t)&&lm(t,e)}function lm(t,e){let r=t[z],i=t[J],o=t[Wt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ju(o)),s||=!1,o&&(o.dirty=!1),t[J]&=-9217,s)xO(r,t,r.template,t[He]);else if(i&8192){let a=G(null);try{bC(t),AC(t,1);let u=r.components;u!==null&&NC(t,u,1),TC(t)}finally{G(a)}}}function NC(t,e,n){for(let r=0;r<e.length;r++)OO(t,e[r],n)}function kO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Kr(~i);else{let o=i,s=n[++r],a=n[++r];jT(s,o);let u=e[o];Re(Ee.HostBindingsUpdateStart,u);try{a(2,u)}finally{Re(Ee.HostBindingsUpdateEnd,u)}}}}finally{Kr(-1)}}function Km(t,e){let n=kg()?64:1088;for(t[$n].changeDetectionScheduler?.notify(e);t;){t[J]|=n;let r=$r(t);if(Go(t)&&!r)return t;t=r}return null}function MC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function xC(t,e){let n=Be+e;if(n<t.length)return t[n]}function gd(t,e,n,r=!0){let i=e[z];if(LO(i,e,t,n),r){let s=um(n,t),a=e[Le],u=a.parentNode(t[Gr]);u!==null&&KP(i,t[rn],a,e,u,s)}let o=e[Ho];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function PC(t,e){let n=Xa(t,e);return n!==void 0&&fd(n[z],n),n}function Xa(t,e){if(t.length<=Be)return;let n=Be+e,r=t[n];if(r){let i=r[qr];i!==null&&i!==t&&$m(i,r),e>0&&(t[n-1][nn]=r[nn]);let o=Fa(t,Be+e);WP(r[z],r);let s=o[Hn];s!==null&&s.detachView(o[z]),r[et]=null,r[nn]=null,r[J]&=-129}return r}function LO(t,e,n,r){let i=Be+r,o=n.length;r>0&&(n[i-1][nn]=e),r<o-Be?(e[nn]=n[i],fg(n,Be+r,e)):(n.push(e),e[nn]=null),e[et]=n;let s=e[qr];s!==null&&n!==s&&OC(s,e);let a=e[Hn];a!==null&&a.insertView(t),Cl(e),e[J]|=128}function OC(t,e){let n=t[qi],r=e[et];if(zn(r))t[J]|=2;else{let i=r[et][Gt];e[Gt]!==i&&(t[J]|=2)}n===null?t[qi]=[e]:n.push(e)}var Jr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[z];return Za(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[He]}set context(e){this._lView[He]=e}get destroyed(){return Wi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[et];if(In(e)){let n=e[$a],r=n?n.indexOf(this):-1;r>-1&&(Xa(e,r),Fa(n,r))}this._attachedToViewContainer=!1}fd(this._lView[z],this._lView)}onDestroy(e){Sg(this._lView,e)}markForCheck(){Km(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){Cl(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,SC(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Go(this._lView),n=this._lView[qr];n!==null&&!e&&$m(n,this._lView),gC(this._lView[z],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let n=Go(this._lView),r=this._lView[qr];r!==null&&!n&&OC(r,this._lView),Cl(this._lView)}};var Jo=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=FO;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=pd(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Jr(o)}}return t})();function FO(){return Qm(Nt(),ce())}function Qm(t,e){return t.type&4?new Jo(e,t,es(t,e)):null}function md(t,e,n,r,i){let o=t.data[e];if(o===null)o=VO(t,e,n,r,i),VT()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=kT();o.injectorIndex=s===null?-1:s.injectorIndex}return Wo(o,!0),o}function VO(t,e,n,r,i){let o=Pg(),s=Og(),a=s?o:o&&o.parent,u=t.data[e]=UO(t,a,n,e,r,i);return jO(t,u,o,s),u}function jO(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function UO(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return OT()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function BO(t){let e=t[Ig]??[],r=t[et][Le],i=[];for(let o of e)o.data[WD]!==void 0?i.push(o):$O(o,r);t[Ig]=i}function $O(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[GD];for(;n<i;){let o=r.nextSibling;rC(e,r,!1),r=o,n++}}}var HO=()=>null,zO=()=>null;function dm(t,e){return HO(t,e)}function kC(t,e,n){return zO(t,e,n)}var LC=class{},yd=class{},fm=class{resolveComponentFactory(e){throw new j(917,!1)}},ac=class{static NULL=new fm},Ji=class{},to=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>qO()}return t})();function qO(){let t=ce(),e=Nt(),n=sn(e.index,t);return(zn(n)?n:t)[Le]}var FC=(()=>{class t{static \u0275prov=U({token:t,providedIn:"root",factory:()=>null})}return t})();var Vl={},hm=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,Vl,r);return i!==Vl||n===Vl?i:this.parentInjector.get(e,n,r)}};function Kl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=pl(i,a);else if(o==2){let u=a,l=e[++s];r=pl(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function me(t,e=0){let n=ce();if(n===null)return Y(t,e);let r=Nt();return VD(r,n,jt(t),e)}function Ym(){let t="invalid";throw new Error(t)}function GO(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,u=null,l=null;for(let f of s)if(f.resolveHostDirectives!==null){[a,u,l]=f.resolveHostDirectives(s);break}QO(t,e,n,a,o,u,l)}o!==null&&r!==null&&WO(n,r,o)}function WO(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new j(-301,!1);r.push(e[i],o)}}function KO(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function QO(t,e,n,r,i,o,s){let a=r.length,u=null;for(let m=0;m<a;m++){let y=r[m];u===null&&Gi(y)&&(u=y,KO(t,n,m)),sP(OD(n,e),t,y.type)}tk(n,t.data.length,a),u?.viewProvidersResolver&&u.viewProvidersResolver(u);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,f=!1,p=lC(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(n.mergedAttrs=sd(n.mergedAttrs,y.hostAttrs),JO(t,n,e,p,y),ek(p,y,i),s!==null&&s.has(y)){let[A,R]=s.get(y);n.directiveToIndex.set(y.type,[p,A+n.directiveStart,R+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let S=y.type.prototype;!l&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!f&&(S.ngOnChanges||S.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),p++}YO(t,n,o)}function YO(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))dD(0,e,i,r),dD(1,e,i,r),hD(e,r,!1);else{let o=n.get(i);fD(0,e,o,r),fD(1,e,o,r),hD(e,r,!0)}}}function dD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),VC(e,o)}}function fD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),VC(e,s)}}function VC(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function hD(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Lm(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let f of l)if(f===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let f=0;f<l.length;f+=2)if(l[f]===e){s??=[],s.push(l[f+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function JO(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Br(i.type,!0)),s=new Ya(o,Gi(i),me,null);t.blueprint[r]=s,n[r]=s,ZO(t,e,r,lC(t,n,i.hostVars,un),i)}function ZO(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;XO(s)!=a&&s.push(a),s.push(n,r,o)}}function XO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function ek(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Gi(e)&&(n[""]=t)}}function tk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function jC(t,e,n,r,i,o,s,a){let u=e[z],l=u.consts,f=qn(l,s),p=md(u,t,n,r,f);return o&&GO(u,e,p,qn(l,a),i),p.mergedAttrs=sd(p.mergedAttrs,p.attrs),p.attrs!==null&&Kl(p,p.attrs,!1),p.mergedAttrs!==null&&Kl(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function UC(t,e){Yx(t,e),wg(e)&&t.queries.elementEnd(e)}function nk(t,e,n,r,i,o){let s=e.consts,a=qn(s,i),u=md(e,t,n,r,a);if(u.mergedAttrs=sd(u.mergedAttrs,u.attrs),o!=null){let l=qn(s,o);u.localNames=[];for(let f=0;f<l.length;f+=2)u.localNames.push(l[f],-1)}return u.attrs!==null&&Kl(u,u.attrs,!1),u.mergedAttrs!==null&&Kl(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function BC(t,e,n){return t[e]=n}function Sn(t,e,n){if(n===un)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function rk(t,e,n,r){let i=Sn(t,e,n);return Sn(t,e+1,r)||i}function jl(t,e,n){return function r(i){let o=Wr(t)?sn(t.index,e):e;Km(o,5);let s=e[He],a=pD(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=pD(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function pD(t,e,n,r){let i=G(null);try{return Re(Ee.OutputStart,e,n),n(r)!==!1}catch(o){return EO(t,o),!1}finally{Re(Ee.OutputEnd,e,n),G(i)}}function $C(t,e,n,r,i,o,s,a){let u=Tl(t),l=!1,f=null;if(!r&&u&&(f=ok(e,n,o,t.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,l=!0}else{let p=wn(t,n),m=r?r(p):p;IP(n,m,o,a);let y=i.listen(m,o,a);if(!ik(o)){let S=r?A=>r(on(A[t.index])):t.index;HC(S,e,n,o,a,y,!1)}}return l}function ik(t){return t.startsWith("animation")||t.startsWith("transition")}function ok(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[zo],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function HC(t,e,n,r,i,o,s){let a=e.firstCreatePass?Rg(e):null,u=Ag(n),l=u.length;u.push(i,o),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function gD(t,e,n,r,i,o){let s=e[n],a=e[z],l=a.data[n].outputs[r],p=s[l].subscribe(o);HC(t.index,a,e,i,o,p,!0)}var pm=Symbol("BINDING");var Ql=class extends ac{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=zr(e);return new Zo(n,this.ngModule)}};function sk(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&dd.SignalBased)!==0};return i&&(o.transform=i),o})}function ak(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function ck(t,e,n){let r=e instanceof ct?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new hm(n,r):n}function uk(t){let e=t.get(Ji,null);if(e===null)throw new j(407,!1);let n=t.get(FC,null),r=t.get(Bo,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function lk(t,e){let n=zC(t);return tC(e,n,n==="svg"?TT:n==="math"?DT:null)}function zC(t){return(t.selectors[0][0]||"div").toLowerCase()}var Zo=class extends yd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=sk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=ak(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=jP(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){Re(Ee.DynamicComponentStart);let a=G(null);try{let u=this.componentDef,l=dk(r,u,s,o),f=ck(u,i||this.ngModule,e),p=uk(f),m=p.rendererFactory.createRenderer(null,u),y=r?aO(m,r,u.encapsulation,f):lk(u,m),S=s?.some(mD)||o?.some(L=>typeof L!="function"&&L.bindings.some(mD)),A=Vm(null,l,null,512|uC(u),null,null,p,m,f,null,YD(y,f,!0));A[tt]=y,Al(A);let R=null;try{let L=jC(tt,A,2,"#host",()=>l.directiveRegistry,!0,0);iC(m,y,L),Yo(y,A),vC(l,A,L),ZD(l,L,A),UC(l,L),n!==void 0&&hk(L,this.ngContentSelectors,n),R=sn(L.index,A),A[He]=R[He],Wm(l,A,null)}catch(L){throw R!==null&&sm(R),sm(A),L}finally{Re(Ee.DynamicComponentEnd),Rl()}return new Yl(this.componentType,A,!!S)}finally{G(a)}}};function dk(t,e,n,r){let i=t?["ng-version","21.0.3"]:UP(e.selectors[0]),o=null,s=null,a=0;if(n)for(let f of n)a+=f[pm].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(r)for(let f=0;f<r.length;f++){let p=r[f];if(typeof p!="function")for(let m of p.bindings){a+=m[pm].requiredVars;let y=f+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let f of r){let p=typeof f=="function"?f:f.type,m=mg(p);u.push(m)}return Fm(0,null,fk(o,s),1,a,u,null,null,null,[i],null)}function fk(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function mD(t){let e=t[pm].kind;return e==="input"||e==="twoWay"}var Yl=class extends LC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Ha(n[z],tt),this.location=es(this._tNode,n),this.instance=sn(this._tNode.index,n)[He],this.hostView=this.changeDetectorRef=new Jr(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Gm(r,i[z],i,e,n);this.previousInputValues.set(e,n);let s=sn(r.index,i);Km(s,1)}get injector(){return new Qi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function hk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var no=(()=>{class t{static __NG_ELEMENT_ID__=pk}return t})();function pk(){let t=Nt();return GC(t,ce())}var gk=no,qC=class extends gk{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return es(this._hostTNode,this._hostLView)}get injector(){return new Qi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Rm(this._hostTNode,this._hostLView);if(MD(e)){let n=$l(e,this._hostLView),r=Bl(e),i=n[z].data[r+8];return new Qi(i,n)}else return new Qi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=yD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Be}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=dm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Ja(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let u=e&&!qx(e),l;if(u)l=n;else{let R=n||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,a=R.bindings}let f=u?e:new Zo(zr(e)),p=r||this.parentInjector;if(!o&&f.ngModule==null){let L=(u?p:this.parentInjector).get(ct,null);L&&(o=L)}let m=zr(f.componentType??{}),y=dm(this._lContainer,m?.id??null),S=y?.firstChild??null,A=f.create(p,i,S,o,s,a);return this.insertImpl(A.hostView,l,Ja(this._hostTNode,y)),A}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(ST(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[et],l=new qC(u,u[rn],u[et]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return gd(s,i,o,r),e.attachToViewContainerRef(),fg(Xg(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=yD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Xa(this._lContainer,n);r&&(Fa(Xg(this._lContainer),n),fd(r[z],r))}detach(e){let n=this._adjustIndex(e,-1),r=Xa(this._lContainer,n);return r&&Fa(Xg(this._lContainer),n)!=null?new Jr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function yD(t){return t[$a]}function Xg(t){return t[$a]||(t[$a]=[])}function GC(t,e){let n,r=e[t.index];return In(r)?n=r:(n=MC(r,e,null,t),e[t.index]=n,jm(e,n)),yk(n,e,t,r),new qC(n,t,e)}function mk(t,e){let n=t[Le],r=n.createComment(""),i=wn(e,t),o=n.parentNode(i);return Wl(n,o,r,n.nextSibling(i),!1),r}var yk=Ek,vk=()=>!1;function _k(t,e,n){return vk(t,e,n)}function Ek(t,e,n,r){if(t[Gr])return;let i;n.type&8?i=on(r):i=mk(e,n),t[Gr]=i}var gm=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},mm=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Jm(e,n).matches!==null&&this.queries[n].setDirty()}},Jl=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=Ak(e):this.predicate=e}},ym=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},vm=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,Ik(n,o)),this.matchTNodeWithReadOption(e,n,Fl(n,e,o,!1,!1))}else r===Jo?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Fl(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Bt||i===no||i===Jo&&n.type&4)this.addMatch(n.index,-2);else{let o=Fl(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function Ik(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function wk(t,e){return t.type&11?es(t,e):t.type&4?Qm(t,e):null}function Tk(t,e,n,r){return n===-1?wk(e,t):n===-2?Dk(t,e,r):zl(t,t[z],n,e)}function Dk(t,e,n){if(n===Bt)return es(e,t);if(n===Jo)return Qm(e,t);if(n===no)return GC(e,t)}function WC(t,e,n,r){let i=e[Hn].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let f=o[l];a.push(Tk(e,f,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function _m(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=WC(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],f=e[-u];for(let p=Be;p<f.length;p++){let m=f[p];m[qr]===m[et]&&_m(m[z],m,l,r)}if(f[qi]!==null){let p=f[qi];for(let m=0;m<p.length;m++){let y=p[m];_m(y[z],y,l,r)}}}}}return r}function Ck(t,e){return t[Hn].queries[e].queryList}function KC(t,e,n){let r=new ql((n&4)===4);return NT(t,e,r,r.destroy),(e[Hn]??=new mm).queries.push(new gm(r))-1}function bk(t,e,n){let r=ut();return r.firstCreatePass&&(QC(r,new Jl(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),KC(r,ce(),e)}function Sk(t,e,n,r){let i=ut();if(i.firstCreatePass){let o=Nt();QC(i,new Jl(e,n,r),o.index),Rk(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return KC(i,ce(),n)}function Ak(t){return t.split(",").map(e=>e.trim())}function QC(t,e,n){t.queries===null&&(t.queries=new ym),t.queries.track(new vm(e,n))}function Rk(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Jm(t,e){return t.queries.getByIndex(e)}function Nk(t,e){let n=t[z],r=Jm(n,e);return r.crossesNgTemplate?_m(n,t,e,[]):WC(n,t,r,e)}var Zi=class{},vd=class{};var Zl=class extends Zi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ql(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=gg(e);this._bootstrapComponents=aC(o.bootstrap),this._r3Injector=$g(e,n,[{provide:Zi,useValue:this},{provide:ac,useValue:this.componentFactoryResolver},...r],hr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Xl=class extends vd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Zl(this.moduleType,e,[])}};var ec=class extends Zi{injector;componentFactoryResolver=new Ql(this);instance=null;constructor(e){super();let n=new Fi([...e.providers,{provide:Zi,useValue:this},{provide:ac,useValue:this.componentFactoryResolver}],e.parent||ja(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function cc(t,e,n=null){return new ec({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Mk=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=yg(!1,n.type),i=r.length>0?cc([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=U({token:t,providedIn:"environment",factory:()=>new t(Y(ct))})}return t})();function Se(t){return od(()=>{let e=YC(t),n=re(N({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Nm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Mk).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||bn.Emulated,styles:t.styles||Bn,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Zr("NgStandalone"),JC(n);let r=t.dependencies;return n.directiveDefs=vD(r,xk),n.pipeDefs=vD(r,gT),n.id=kk(n),n})}function xk(t){return zr(t)||mg(t)}function Pk(t,e){if(t==null)return ji;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=dd.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function Ok(t){if(t==null)return ji;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Xr(t){return od(()=>{let e=YC(t);return JC(e),e})}function Zm(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function YC(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||ji,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Bn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Pk(t.inputs,e),outputs:Ok(t.outputs),debugInfo:null}}function JC(t){t.features?.forEach(e=>e(t))}function vD(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function kk(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Lk(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=sd(t.mergedAttrs,t.attrs);let f=t.tView=Fm(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),f.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),Wo(t,!1);let u=Fk(n,e,t,r);Ml()&&Hm(n,e,u,t),Yo(u,e);let l=MC(u,e,u,t);e[r+tt]=l,jm(e,l),_k(l,t,e)}function ed(t,e,n,r,i,o,s,a,u,l,f){let p=n+tt,m;if(e.firstCreatePass){if(m=md(e,p,4,s||null,a||null),l!=null){let y=qn(e.consts,l);m.localNames=[];for(let S=0;S<y.length;S+=2)m.localNames.push(y[S],-1)}}else m=e.data[p];return Lk(m,t,e,n,r,i,o,u),l!=null&&qm(t,m,f),m}var Fk=Vk;function Vk(t,e,n,r){return xl(!0),e[Le].createComment("")}var Xm=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var ey=new $("");function ns(t){return!!t&&typeof t.then=="function"}function ty(t){return!!t&&typeof t.subscribe=="function"}var ZC=new $("");var ny=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=P(ZC,{optional:!0})??[];injector=P(_n);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=St(this.injector,i);if(ns(o))n.push(o);else if(ty(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_d=new $("");function XC(){bp(()=>{let t="";throw new j(600,t)})}function eb(t){return t.isBoundToModule}var jk=10;var rs=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(an);afterRenderManager=P(fC);zonelessEnabled=P(Ga);rootEffectScheduler=P(Qg);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new st;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=P(Yr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ke(n=>!n))}constructor(){P(sc,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=P(ct);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=_n.NULL){return this._injector.get(Ut).run(()=>{Re(Ee.BootstrapComponentStart);let s=n instanceof yd;if(!this._injector.get(ny).done){let S="";throw new j(405,S)}let u;s?u=n:u=this._injector.get(ac).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=eb(u)?void 0:this._injector.get(Zi),f=r||u.selector,p=u.create(i,[],f,l),m=p.location.nativeElement,y=p.injector.get(ey,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Qa(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),Re(Ee.BootstrapComponentEnd,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Re(Ee.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Bm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw Re(Ee.ChangeDetectionEnd),new j(101,!1);let n=G(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,G(n),this.afterTick.next(),Re(Ee.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ji,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<jk;){Re(Ee.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{Re(Ee.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!za(i))continue;let o=r&&!this.zonelessEnabled?0:1;SC(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>za(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Qa(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(_d,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Qa(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Qa(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ed(t,e,n,r){let i=ce(),o=Ki();if(Sn(i,o,e)){let s=ut(),a=Nl();yO(a,i,t,e,n,r)}return Ed}var g5=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Em=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function em(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function Uk(t,e,n,r){let i,o,s=0,a=t.length-1,u=void 0;if(Array.isArray(e)){G(r);let l=e.length-1;for(G(null);s<=a&&s<=l;){let f=t.at(s),p=e[s],m=em(s,f,s,p,n);if(m!==0){m<0&&t.updateValue(s,p),s++;continue}let y=t.at(a),S=e[l],A=em(a,y,l,S,n);if(A!==0){A<0&&t.updateValue(a,S),a--,l--;continue}let R=n(s,f),L=n(a,y),ne=n(s,p);if(Object.is(ne,L)){let he=n(l,S);Object.is(he,R)?(t.swap(s,a),t.updateValue(a,S),l--,a--):t.move(a,s),t.updateValue(s,p),s++;continue}if(i??=new td,o??=ED(t,s,a,n),Im(t,i,s,ne))t.updateValue(s,p),s++,a++;else if(o.has(ne))i.set(R,t.detach(s)),a--;else{let he=t.create(s,e[s]);t.attach(s,he),s++,a++}}for(;s<=l;)_D(t,i,n,s,e[s]),s++}else if(e!=null){G(r);let l=e[Symbol.iterator]();G(null);let f=l.next();for(;!f.done&&s<=a;){let p=t.at(s),m=f.value,y=em(s,p,s,m,n);if(y!==0)y<0&&t.updateValue(s,m),s++,f=l.next();else{i??=new td,o??=ED(t,s,a,n);let S=n(s,m);if(Im(t,i,s,S))t.updateValue(s,m),s++,a++,f=l.next();else if(!o.has(S))t.attach(s,t.create(s,m)),s++,a++,f=l.next();else{let A=n(s,p);i.set(A,t.detach(s)),a--}}}for(;!f.done;)_D(t,i,n,t.length,f.value),f=l.next()}for(;s<=a;)t.destroy(t.detach(a--));i?.forEach(l=>{t.destroy(l)})}function Im(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function _D(t,e,n,r,i){if(Im(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function ED(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var td=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function se(t,e,n,r,i,o,s,a){Zr("NgControlFlow");let u=ce(),l=ut(),f=qn(l.consts,o);return ed(u,l,t,e,n,r,i,f,256,s,a),ry}function ry(t,e,n,r,i,o,s,a){Zr("NgControlFlow");let u=ce(),l=ut(),f=qn(l.consts,o);return ed(u,l,t,e,n,r,i,f,512,s,a),ry}function ae(t,e){Zr("NgControlFlow");let n=ce(),r=Ki(),i=n[r]!==un?n[r]:-1,o=i!==-1?nd(n,tt+i):void 0,s=0;if(Sn(n,r,t)){let a=G(null);try{if(o!==void 0&&PC(o,s),t!==-1){let u=tt+t,l=nd(n,u),f=Cm(n[z],u),p=kC(l,f,n),m=pd(n,f,e,{dehydratedView:p});gd(l,m,s,Ja(f,p))}}finally{G(a)}}else if(o!==void 0){let a=xC(o,s);a!==void 0&&(a[He]=e)}}var wm=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Be}};function ln(t,e){return e}var Tm=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Mt(t,e,n,r,i,o,s,a,u,l,f,p,m){Zr("NgControlFlow");let y=ce(),S=ut(),A=u!==void 0,R=ce(),L=a?s.bind(R[Gt][He]):s,ne=new Tm(A,L);R[tt+t]=ne,ed(y,S,t+1,e,n,r,i,qn(S.consts,o),256),A&&ed(y,S,t+2,u,l,f,p,qn(S.consts,m),512)}var Dm=class extends Em{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Be}at(e){return this.getLView(e)[He].$implicit}attach(e,n){let r=n[Ho];this.needsIndexUpdate||=e!==this.length,gd(this.lContainer,n,e,Ja(this.templateTNode,r)),Bk(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,$k(this.lContainer,e),Hk(this.lContainer,e)}create(e,n){let r=dm(this.lContainer,this.templateTNode.tView.ssrId),i=pd(this.hostLView,this.templateTNode,new wm(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){fd(e[z],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[He].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[He].$index=e}getLView(e){return zk(this.lContainer,e)}};function xt(t){let e=G(null),n=yr();try{let r=ce(),i=r[z],o=r[n],s=n+1,a=nd(r,s);if(o.liveCollection===void 0){let l=Cm(i,s);o.liveCollection=new Dm(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(Uk(u,t,o.trackByFn,e),u.updateIndexes(),o.hasEmptyBlock){let l=Ki(),f=u.length===0;if(Sn(r,l,f)){let p=n+2,m=nd(r,p);if(f){let y=Cm(i,p),S=kC(m,y,r),A=pd(r,y,void 0,{dehydratedView:S});gd(m,A,0,Ja(y,S))}else i.firstUpdatePass&&BO(m),PC(m,0)}}}finally{G(e)}}function nd(t,e){return t[e]}function Bk(t,e){if(t.length<=Be)return;let n=Be+e,r=t[n],i=r?r[zi]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[mr];qP(o,i),Yi.delete(r),i.detachedLeaveAnimationFns=void 0}}function $k(t,e){if(t.length<=Be)return;let n=Be+e,r=t[n],i=r?r[zi]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function Hk(t,e){return Xa(t,e)}function zk(t,e){return xC(t,e)}function Cm(t,e){return Ha(t,e)}function de(t,e,n){let r=ce(),i=Ki();if(Sn(r,i,e)){let o=ut(),s=Nl();dO(s,r,t,e,r[Le],n)}return de}function bm(t,e,n,r,i){Gm(e,t,n,i?"class":"style",r)}function B(t,e,n,r){let i=ce(),o=i[z],s=t+tt,a=o.firstCreatePass?jC(s,i,2,e,mO,PT(),n,r):o.data[s];if(EC(a,i,t,e,tb),Tl(a)){let u=i[z];vC(u,i,a),ZD(u,a,i)}return r!=null&&qm(i,a),B}function W(){let t=ut(),e=Nt(),n=IC(e);return t.firstCreatePass&&UC(t,n),Mg(n)&&xg(),Ng(),n.classesWithoutHost!=null&&Zx(n)&&bm(t,n,ce(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&Xx(n)&&bm(t,n,ce(),n.stylesWithoutHost,!1),W}function ve(t,e,n,r){return B(t,e,n,r),W(),ve}function Ie(t,e,n,r){let i=ce(),o=i[z],s=t+tt,a=o.firstCreatePass?nk(s,o,2,e,n,r):o.data[s];return EC(a,i,t,e,tb),r!=null&&qm(i,a),Ie}function we(){let t=Nt(),e=IC(t);return Mg(e)&&xg(),Ng(),we}function An(t,e,n,r){return Ie(t,e,n,r),we(),An}var tb=(t,e,n,r,i)=>(xl(!0),tC(e[Le],r,GT()));function $t(){return ce()}function Kn(t,e,n){let r=ce(),i=Ki();if(Sn(r,i,e)){let o=ut(),s=Nl();_C(s,r,t,e,r[Le],n)}return Kn}var Wa=void 0;function qk(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var Gk=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",Wa,Wa,Wa],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",qk],tm={};function Kt(t){let e=Wk(t),n=ID(e);if(n)return n;let r=e.split("-")[0];if(n=ID(r),n)return n;if(r==="en")return Gk;throw new j(701,!1)}function ID(t){return t in tm||(tm[t]=gr.ng&&gr.ng.common&&gr.ng.common.locales&&gr.ng.common.locales[t]),tm[t]}var qe=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(qe||{});function Wk(t){return t.toLowerCase().replace(/_/g,"-")}var uc="en-US";var Kk=uc;function nb(t){typeof t=="string"&&(Kk=t.toLowerCase().replace(/_/g,"-"))}function dn(t,e,n){let r=ce(),i=ut(),o=Nt();return Qk(i,r,r[Le],o,t,e,n),dn}function Qn(t,e,n){let r=ce(),i=ut(),o=Nt();return(o.type&3||n)&&$C(o,i,r,n,r[Le],t,e,jl(o,r,e)),Qn}function Qk(t,e,n,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=jl(r,e,o),$C(r,t,e,s,n,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let p=0;p<f.length;p+=2){let m=f[p],y=f[p+1];u??=jl(r,e,o),gD(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=jl(r,e,o),gD(r,e,p,i,i,u)}}function K(t=1){return qT(t)}function iy(t,e,n,r){Sk(t,e,n,r)}function Id(t,e,n){bk(t,e,n)}function is(t){let e=ce(),n=ut(),r=jg();Sl(r+1);let i=Jm(n,r);if(t.dirty&&bT(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=Nk(e,r);t.reset(o,hP),t.notifyOnChanges()}return!0}return!1}function os(){return Ck(ce(),jg())}function Ol(t,e){return t<<17|e<<2}function Xi(t){return t>>17&32767}function Yk(t){return(t&2)==2}function Jk(t,e){return t&131071|e<<17}function Sm(t){return t|2}function Xo(t){return(t&131068)>>2}function nm(t,e){return t&-131069|e<<2}function Zk(t){return(t&1)===1}function Am(t){return t|1}function Xk(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Xi(s),u=Xo(s);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||$o(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let m=Xi(t[a+1]);t[r+1]=Ol(m,a),m!==0&&(t[m+1]=nm(t[m+1],r)),t[a+1]=Jk(t[a+1],r)}else t[r+1]=Ol(a,0),a!==0&&(t[a+1]=nm(t[a+1],r)),a=r;else t[r+1]=Ol(u,0),a===0?a=r:t[u+1]=nm(t[u+1],r),u=r;l&&(t[r+1]=Sm(t[r+1])),wD(t,f,r,!0),wD(t,f,r,!1),e1(e,f,t,r,o),s=Ol(a,u),o?e.classBindings=s:e.styleBindings=s}function e1(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&$o(o,e)>=0&&(n[r+1]=Am(n[r+1]))}function wD(t,e,n,r){let i=t[n+1],o=e===null,s=r?Xi(i):Xo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];t1(u,e)&&(a=!0,t[s+1]=r?Am(l):Sm(l)),s=r?Xi(l):Xo(l)}a&&(t[n+1]=r?Sm(i):Am(i))}function t1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?$o(t,e)>=0:!1}var Cn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function n1(t){return t.substring(Cn.key,Cn.keyEnd)}function r1(t){return i1(t),rb(t,ib(t,0,Cn.textEnd))}function rb(t,e){let n=Cn.textEnd;return n===e?-1:(e=Cn.keyEnd=o1(t,Cn.key=e,n),ib(t,e,n))}function i1(t){Cn.key=0,Cn.keyEnd=0,Cn.value=0,Cn.valueEnd=0,Cn.textEnd=t.length}function ib(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function o1(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function ei(t,e,n){return ob(t,e,n,!1),ei}function ss(t,e){return ob(t,e,null,!0),ss}function wd(t){a1(h1,s1,t,!0)}function s1(t,e){for(let n=r1(e);n>=0;n=rb(e,n))_l(t,n1(e),!0)}function ob(t,e,n,r){let i=ce(),o=ut(),s=Vg(2);if(o.firstUpdatePass&&ab(o,t,s,r),e!==un&&Sn(i,s,e)){let a=o.data[yr()];cb(o,a,i,i[Le],t,i[s+1]=g1(e,n),r,s)}}function a1(t,e,n,r){let i=ut(),o=Vg(2);i.firstUpdatePass&&ab(i,null,o,r);let s=ce();if(n!==un&&Sn(s,o,n)){let a=i.data[yr()];if(ub(a,r)&&!sb(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=pl(u,n||"")),bm(i,a,s,n,r)}else p1(i,a,s,s[Le],s[o+1],s[o+1]=f1(t,e,n),r,o)}}function sb(t,e){return e>=t.expandoStartIndex}function ab(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[yr()],s=sb(t,n);ub(o,r)&&e===null&&!s&&(e=!1),e=c1(i,o,e,r),Xk(i,o,e,n,s,r)}}function c1(t,e,n,r){let i=BT(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=rm(null,t,e,n,r),n=tc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=rm(i,t,e,n,r),o===null){let u=u1(t,e,r);u!==void 0&&Array.isArray(u)&&(u=rm(null,t,e,u[1],r),u=tc(u,e.attrs,r),l1(t,e,r,u))}else o=d1(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function u1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Xo(r)!==0)return t[Xi(r)]}function l1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Xi(i)]=r}function d1(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=tc(r,s,n)}return tc(r,e.attrs,n)}function rm(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=tc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function tc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),_l(t,s,n?!0:e[++o]))}return t===void 0?null:t}function f1(t,e,n){if(n==null||n==="")return Bn;let r=[],i=ts(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function h1(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&_l(t,r,n)}function p1(t,e,n,r,i,o,s,a){i===un&&(i=Bn);let u=0,l=0,f=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;f!==null||p!==null;){let m=u<i.length?i[u+1]:void 0,y=l<o.length?o[l+1]:void 0,S=null,A;f===p?(u+=2,l+=2,m!==y&&(S=p,A=y)):p===null||f!==null&&f<p?(u+=2,S=f):(l+=2,S=p,A=y),S!==null&&cb(t,e,n,r,S,A,s,a),f=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function cb(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],f=Zk(l)?TD(u,e,n,i,Xo(l),s):void 0;if(!rd(f)){rd(o)||Yk(l)&&(o=TD(u,null,n,i,a,s));let p=Tg(yr(),n);sO(r,s,p,i,o)}}function TD(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,m=n[i+1];m===un&&(m=p?Bn:void 0);let y=p?El(m,r):f===r?m:void 0;if(l&&!rd(y)&&(y=El(u,r)),rd(y)&&(a=y,s))return a;let S=t[i+1];i=s?Xi(S):Xo(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=El(u,r))}return a}function rd(t){return t!==void 0}function g1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=hr(ts(t)))),t}function ub(t,e){return(t.flags&(e?8:16))!==0}function ie(t,e=""){let n=ce(),r=ut(),i=t+tt,o=r.firstCreatePass?md(r,i,1,e,null):r.data[i],s=m1(r,n,o,e,t);n[i]=s,Ml()&&Hm(r,n,s,o),Wo(o,!1)}var m1=(t,e,n,r,i)=>(xl(!0),CP(e[Le],r));function y1(t,e,n,r=""){return Sn(t,Ki(),n)?e+La(n)+r:un}function Fe(t){return Rn("",t),Fe}function Rn(t,e,n){let r=ce(),i=y1(r,t,e,n);return i!==un&&v1(r,yr(),i),Rn}function v1(t,e,n){let r=Tg(e,t);bP(t[Le],r,n)}function lc(t,e,n,r){return _1(ce(),Fg(),t,e,n,r)}function lb(t,e){let n=t[e];return n===un?void 0:n}function _1(t,e,n,r,i,o){let s=e+n;return Sn(t,s,i)?BC(t,s+1,o?r.call(o,i):r(i)):lb(t,s+1)}function E1(t,e,n,r,i,o,s){let a=e+n;return rk(t,a,i,o)?BC(t,a+2,s?r.call(s,i,o):r(i,o)):lb(t,a+2)}function oy(t,e){let n=ut(),r,i=t+tt;n.firstCreatePass?(r=I1(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Br(r.type,!0)),s,a=bt(me);try{let u=Hl(!1),l=o();return Hl(u),Dg(n,ce(),i,l),l}finally{bt(a)}}function I1(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function sy(t,e,n,r){let i=t+tt,o=ce(),s=CT(o,i);return w1(o,i)?E1(o,Fg(),e,s.transform,n,r,s):s.transform(n,r)}function w1(t,e){return t[z].data[e].pure}var id=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ay=(()=>{class t{compileModuleSync(n){return new Xl(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=gg(n),o=aC(i.declarations).reduce((s,a)=>{let u=zr(a);return u&&s.push(new Zo(u)),s},[]);return new id(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var db=(()=>{class t{applicationErrorHandler=P(an);appRef=P(rs);taskService=P(Yr);ngZone=P(Ut);zonelessEnabled=P(Ga);tracing=P(sc,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ht;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Pa):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(Kg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?zg:Hg;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Pa+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,zg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fb(){return[{provide:Bo,useExisting:db},{provide:Ut,useClass:Oa},{provide:Ga,useValue:!0}]}function T1(){return typeof $localize<"u"&&$localize.locale||uc}var dc=new $("",{factory:()=>P(dc,{optional:!0,skipSelf:!0})||T1()});function cy(t,e){return Uu(t,e?.equal)}var gb=Symbol("InputSignalNode#UNSET"),V1=re(N({},Bu),{transformFn:void 0,applyValueToInputSignal(t,e){Da(t,e)}});function mb(t,e){let n=Object.create(V1);n.value=t,n.transformFn=e?.transform;function r(){if(Ia(n),n.value===gb){let i=null;throw new j(-950,i)}return n.value}return r[Lt]=n,r}var Dd=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>ic(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function hb(t,e){return mb(t,e)}function j1(t){return mb(gb,t)}var yb=(hb.required=j1,hb);var uy=new $(""),U1=new $("");function fc(t){return!t.moduleRef}function B1(t){let e=fc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ut);return n.run(()=>{fc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(an),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),fc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(uy);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(uy);s.add(o),t.moduleRef.onDestroy(()=>{Qa(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return H1(r,n,()=>{let o=e.get(Yr),s=o.add(),a=e.get(ny);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(dc,uc);if(nb(u||uc),!e.get(U1,!0))return fc(t)?e.get(rs):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(fc(t)){let f=e.get(rs);return t.rootComponent!==void 0&&f.bootstrap(t.rootComponent),f}else return $1?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var $1;function H1(t,e,n){try{let r=n();return ns(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Td=null;function z1(t=[],e){return _n.create({name:e,providers:[{provide:Va,useValue:"platform"},{provide:uy,useValue:new Set([()=>Td=null])},...t]})}function q1(t=[]){if(Td)return Td;let e=z1(t);return Td=e,XC(),G1(e),e}function G1(t){let e=t.get(cd,null);St(t,()=>{e?.forEach(n=>n())})}var as=(()=>{class t{static __NG_ELEMENT_ID__=W1}return t})();function W1(t){return K1(Nt(),ce(),(t&16)===16)}function K1(t,e,n){if(Wr(t)&&!n){let r=sn(t.index,e);return new Jr(r,r)}else if(t.type&175){let r=e[Gt];return new Jr(r,e)}return null}function vb(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;Re(Ee.BootstrapApplicationStart);try{let o=i?.injector??q1(r),s=[fb(),YT,...n||[]],a=new ec({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return B1({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Re(Ee.BootstrapApplicationEnd)}}function hc(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var _b=null;function vr(){return _b}function ly(t){_b??=t}var pc=class{},bd=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>P(Eb),providedIn:"platform"})}return t})();var Eb=(()=>{class t extends bd{_location;_history;_doc=P(ze);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vr().getBaseHref(this._doc)}onPopState(n){let r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Tb(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function Ib(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function ti(t){return t&&t[0]!=="?"?`?${t}`:t}var ro=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>P(Db),providedIn:"root"})}return t})(),Q1=new $(""),Db=(()=>{class t extends ro{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(ze).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Tb(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+ti(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+ti(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+ti(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Y(bd),Y(Q1,8))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),io=(()=>{class t{_subject=new st;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Z1(Ib(wb(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ti(r))}normalize(n){return t.stripTrailingSlash(J1(this._basePath,wb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ti(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ti(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ti;static joinWithSlash=Tb;static stripTrailingSlash=Ib;static \u0275fac=function(r){return new(r||t)(Y(ro))};static \u0275prov=U({token:t,factory:()=>Y1(),providedIn:"root"})}return t})();function Y1(){return new io(Y(ro))}function J1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function wb(t){return t.replace(/\/index.html$/,"")}function Z1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var _t=(function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t})(_t||{}),Ne=(function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t})(Ne||{}),Ht=(function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t})(Ht||{}),Er={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Sb(t){return Kt(t)[qe.LocaleId]}function Ab(t,e,n){let r=Kt(t),i=[r[qe.DayPeriodsFormat],r[qe.DayPeriodsStandalone]],o=fn(i,e);return fn(o,n)}function Rb(t,e,n){let r=Kt(t),i=[r[qe.DaysFormat],r[qe.DaysStandalone]],o=fn(i,e);return fn(o,n)}function Nb(t,e,n){let r=Kt(t),i=[r[qe.MonthsFormat],r[qe.MonthsStandalone]],o=fn(i,e);return fn(o,n)}function Mb(t,e){let r=Kt(t)[qe.Eras];return fn(r,e)}function gc(t,e){let n=Kt(t);return fn(n[qe.DateFormat],e)}function mc(t,e){let n=Kt(t);return fn(n[qe.TimeFormat],e)}function yc(t,e){let r=Kt(t)[qe.DateTimeFormat];return fn(r,e)}function vc(t,e){let n=Kt(t),r=n[qe.NumberSymbols][e];if(typeof r>"u"){if(e===Er.CurrencyDecimal)return n[qe.NumberSymbols][Er.Decimal];if(e===Er.CurrencyGroup)return n[qe.NumberSymbols][Er.Group]}return r}function xb(t){if(!t[qe.ExtraData])throw new j(2303,!1)}function Pb(t){let e=Kt(t);return xb(e),(e[qe.ExtraData][2]||[]).map(r=>typeof r=="string"?dy(r):[dy(r[0]),dy(r[1])])}function Ob(t,e,n){let r=Kt(t);xb(r);let i=[r[qe.ExtraData][0],r[qe.ExtraData][1]],o=fn(i,e)||[];return fn(o,n)||[]}function fn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new j(2304,!1)}function dy(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var X1=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Sd={},eL=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function kb(t,e,n,r){let i=uL(t);e=_r(n,e)||e;let s=[],a;for(;e;)if(a=eL.exec(e),a){s=s.concat(a.slice(1));let f=s.pop();if(!f)break;e=f}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=Fb(r,u),i=cL(i,r));let l="";return s.forEach(f=>{let p=sL(f);l+=p?p(i,n,u):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function xd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function _r(t,e){let n=Sb(t);if(Sd[n]??={},Sd[n][e])return Sd[n][e];let r="";switch(e){case"shortDate":r=gc(t,Ht.Short);break;case"mediumDate":r=gc(t,Ht.Medium);break;case"longDate":r=gc(t,Ht.Long);break;case"fullDate":r=gc(t,Ht.Full);break;case"shortTime":r=mc(t,Ht.Short);break;case"mediumTime":r=mc(t,Ht.Medium);break;case"longTime":r=mc(t,Ht.Long);break;case"fullTime":r=mc(t,Ht.Full);break;case"short":let i=_r(t,"shortTime"),o=_r(t,"shortDate");r=Ad(yc(t,Ht.Short),[i,o]);break;case"medium":let s=_r(t,"mediumTime"),a=_r(t,"mediumDate");r=Ad(yc(t,Ht.Medium),[s,a]);break;case"long":let u=_r(t,"longTime"),l=_r(t,"longDate");r=Ad(yc(t,Ht.Long),[u,l]);break;case"full":let f=_r(t,"fullTime"),p=_r(t,"fullDate");r=Ad(yc(t,Ht.Full),[f,p]);break}return r&&(Sd[n][e]=r),r}function Ad(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Nn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function tL(t,e){return Nn(t,3).substring(0,e)}function We(t,e,n=0,r=!1,i=!1){return function(o,s){let a=nL(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return tL(a,e);let u=vc(s,Er.MinusSign);return Nn(a,e,u,r,i)}}function nL(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new j(2301,!1)}}function Pe(t,e,n=_t.Format,r=!1){return function(i,o){return rL(i,o,t,e,n,r)}}function rL(t,e,n,r,i,o){switch(n){case 2:return Nb(e,i,r)[t.getMonth()];case 1:return Rb(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let l=Pb(e),f=Ob(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,S]=m,A=s>=y.hours&&a>=y.minutes,R=s<S.hours||s===S.hours&&a<S.minutes;if(y.hours<S.hours){if(A&&R)return!0}else if(A||R)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(p!==-1)return f[p]}return Ab(e,i,r)[s<12?0:1];case 3:return Mb(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new j(2302,!1)}}function Rd(t){return function(e,n,r){let i=-1*r,o=vc(n,Er.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+Nn(s,2,o)+Nn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Nn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Nn(s,2,o)+":"+Nn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Nn(s,2,o)+":"+Nn(Math.abs(i%60),2,o);default:throw new j(2310,!1)}}}var iL=0,Md=4;function oL(t){let e=xd(t,iL,1).getDay();return xd(t,0,1+(e<=Md?Md:Md+7)-e)}function Lb(t){let e=t.getDay(),n=e===0?-3:Md-e;return xd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function fy(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=Lb(n),s=oL(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Nn(i,t,vc(r,Er.MinusSign))}}function Nd(t,e=!1){return function(n,r){let o=Lb(n).getFullYear();return Nn(o,t,vc(r,Er.MinusSign),e)}}var hy={};function sL(t){if(hy[t])return hy[t];let e;switch(t){case"G":case"GG":case"GGG":e=Pe(3,Ne.Abbreviated);break;case"GGGG":e=Pe(3,Ne.Wide);break;case"GGGGG":e=Pe(3,Ne.Narrow);break;case"y":e=We(0,1,0,!1,!0);break;case"yy":e=We(0,2,0,!0,!0);break;case"yyy":e=We(0,3,0,!1,!0);break;case"yyyy":e=We(0,4,0,!1,!0);break;case"Y":e=Nd(1);break;case"YY":e=Nd(2,!0);break;case"YYY":e=Nd(3);break;case"YYYY":e=Nd(4);break;case"M":case"L":e=We(1,1,1);break;case"MM":case"LL":e=We(1,2,1);break;case"MMM":e=Pe(2,Ne.Abbreviated);break;case"MMMM":e=Pe(2,Ne.Wide);break;case"MMMMM":e=Pe(2,Ne.Narrow);break;case"LLL":e=Pe(2,Ne.Abbreviated,_t.Standalone);break;case"LLLL":e=Pe(2,Ne.Wide,_t.Standalone);break;case"LLLLL":e=Pe(2,Ne.Narrow,_t.Standalone);break;case"w":e=fy(1);break;case"ww":e=fy(2);break;case"W":e=fy(1,!0);break;case"d":e=We(2,1);break;case"dd":e=We(2,2);break;case"c":case"cc":e=We(7,1);break;case"ccc":e=Pe(1,Ne.Abbreviated,_t.Standalone);break;case"cccc":e=Pe(1,Ne.Wide,_t.Standalone);break;case"ccccc":e=Pe(1,Ne.Narrow,_t.Standalone);break;case"cccccc":e=Pe(1,Ne.Short,_t.Standalone);break;case"E":case"EE":case"EEE":e=Pe(1,Ne.Abbreviated);break;case"EEEE":e=Pe(1,Ne.Wide);break;case"EEEEE":e=Pe(1,Ne.Narrow);break;case"EEEEEE":e=Pe(1,Ne.Short);break;case"a":case"aa":case"aaa":e=Pe(0,Ne.Abbreviated);break;case"aaaa":e=Pe(0,Ne.Wide);break;case"aaaaa":e=Pe(0,Ne.Narrow);break;case"b":case"bb":case"bbb":e=Pe(0,Ne.Abbreviated,_t.Standalone,!0);break;case"bbbb":e=Pe(0,Ne.Wide,_t.Standalone,!0);break;case"bbbbb":e=Pe(0,Ne.Narrow,_t.Standalone,!0);break;case"B":case"BB":case"BBB":e=Pe(0,Ne.Abbreviated,_t.Format,!0);break;case"BBBB":e=Pe(0,Ne.Wide,_t.Format,!0);break;case"BBBBB":e=Pe(0,Ne.Narrow,_t.Format,!0);break;case"h":e=We(3,1,-12);break;case"hh":e=We(3,2,-12);break;case"H":e=We(3,1);break;case"HH":e=We(3,2);break;case"m":e=We(4,1);break;case"mm":e=We(4,2);break;case"s":e=We(5,1);break;case"ss":e=We(5,2);break;case"S":e=We(6,1);break;case"SS":e=We(6,2);break;case"SSS":e=We(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Rd(0);break;case"ZZZZZ":e=Rd(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Rd(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Rd(2);break;default:return null}return hy[t]=e,e}function Fb(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function aL(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function cL(t,e,n){let i=t.getTimezoneOffset(),o=Fb(e,i);return aL(t,-1*(o-i))}function uL(t){if(Cb(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return xd(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(X1))return lL(r)}let e=new Date(t);if(!Cb(e))throw new j(2311,!1);return e}function lL(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function Cb(t){return t instanceof Date&&!isNaN(t.valueOf())}var py=/\s+/,bb=[],gy=(()=>{class t{_ngEl;_renderer;initialClasses=bb;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(py):bb}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(py):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(py).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(me(Bt),me(to))};static \u0275dir=Xr({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();function dL(t,e){return new j(2100,!1)}var fL="mediumDate",Vb=new $(""),jb=new $(""),my=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??fL,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return kb(n,s,o||this.locale,a)}catch(s){throw dL(t,s.message)}}static \u0275fac=function(r){return new(r||t)(me(dc,16),me(Vb,24),me(jb,24))};static \u0275pipe=Zm({name:"date",type:t,pure:!0})}return t})();function yy(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var _c=class{};var Ub="browser";var Bb=(()=>{class t{static \u0275prov=U({token:t,providedIn:"root",factory:()=>new vy(P(ze),window)})}return t})(),vy=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,n){this.window.scrollTo(re(N({},n),{left:e[0],top:e[1]}))}scrollToAnchor(e,n){let r=yL(this.document,e);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Hr(2400,!1))}}scrollToElement(e,n){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(re(N({},n),{left:i-s[0],top:o-s[1]}))}};function yL(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Ec=class{_doc;constructor(e){this._doc=e}manager},Pd=(()=>{class t extends Ec{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(Y(ze))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),Ld=new $(""),wy=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof Pd));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof Pd);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(Y(Ld),Y(Ut))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),_y="ng-app-id";function $b(t){for(let e of t)e.remove()}function Hb(t,e){let n=e.createElement("style");return n.textContent=t,n}function _L(t,e,n,r){let i=t.head?.querySelectorAll(`style[${_y}="${e}"],link[${_y}="${e}"]`);if(i)for(let o of i)o.removeAttribute(_y),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Iy(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Ty=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,_L(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,Hb);r?.forEach(i=>this.addUsage(i,this.external,Iy))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&($b(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])$b(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,Hb(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Iy(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(Y(ze),Y(ad),Y(ud,8),Y(oc))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),Ey={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Dy=/%COMP%/g;var qb="%COMP%",EL=`_nghost-${qb}`,IL=`_ngcontent-${qb}`,wL=!0,TL=new $("",{factory:()=>wL});function DL(t){return IL.replace(Dy,t)}function CL(t){return EL.replace(Dy,t)}function Gb(t,e){return e.map(n=>n.replace(Dy,t))}var Cy=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new Ic(n,s,a,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof kd?i.applyToHost(n):i instanceof wc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case bn.Emulated:o=new kd(u,l,r,this.appId,f,s,a,p,m);break;case bn.ShadowDom:return new Od(u,n,r,s,a,this.nonce,p,m,l);case bn.ExperimentalIsolatedShadowDom:return new Od(u,n,r,s,a,this.nonce,p,m);default:o=new wc(u,l,r,f,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(Y(wy),Y(Ty),Y(ad),Y(TL),Y(ze),Y(Ut),Y(ud),Y(sc,8))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),Ic=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Ey[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(zb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(zb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Ey[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Ey[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Wn.DashCase|Wn.Important)?e.style.setProperty(n,r,i&Wn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Wn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=vr().getGlobalEventTarget(this.doc,e),!e))throw new j(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function zb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Od=class extends Ic{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,o,s,a,u,l){super(e,i,o,a,u),this.hostEl=n,this.sharedStylesHost=l,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let f=r.styles;f=Gb(r.id,f);for(let m of f){let y=document.createElement("style");s&&y.setAttribute("nonce",s),y.textContent=m,this.shadowRoot.appendChild(y)}let p=r.getExternalStyles?.();if(p)for(let m of p){let y=Iy(m,i);s&&y.setAttribute("nonce",s),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},wc=class extends Ic{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=l?Gb(l,f):f,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Yi.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},kd=class extends wc{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l){let f=i+"-"+r.id;super(e,n,r,o,s,a,u,l,f),this.contentAttr=DL(f),this.hostAttr=CL(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Fd=class t extends pc{supportsDOMEvents=!0;static makeCurrent(){ly(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=bL();return n==null?null:SL(n)}resetBaseElement(){Tc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return yy(document.cookie,e)}},Tc=null;function bL(){return Tc=Tc||document.head.querySelector("base"),Tc?Tc.getAttribute("href"):null}function SL(t){return new URL(t,document.baseURI).pathname}var AL=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),Wb=["alt","control","meta","shift"],RL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},NL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Kb=(()=>{class t extends Ec{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vr().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Wb.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=RL[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Wb.forEach(s=>{if(s!==i){let a=NL[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(Y(ze))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})();function by(t,e,n){let r=N({rootComponent:t,platformRef:n?.platformRef},ML(e));return vb(r)}function ML(t){return{appProviders:[...LL,...t?.providers??[]],platformProviders:kL}}function xL(){Fd.makeCurrent()}function PL(){return new pr}function OL(){return Mm(document),document}var kL=[{provide:oc,useValue:Ub},{provide:cd,useValue:xL,multi:!0},{provide:ze,useFactory:OL}];var LL=[{provide:Va,useValue:"root"},{provide:pr,useFactory:PL},{provide:Ld,useClass:Pd,multi:!0},{provide:Ld,useClass:Kb,multi:!0},Cy,Ty,wy,{provide:Ji,useExisting:Cy},{provide:_c,useClass:AL},[]];var Qb=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(Y(ze))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Z="primary",Oc=Symbol("RouteTitle"),My=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function co(t){return new My(t)}function iS(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Hd(t){return new Promise((e,n)=>{t.pipe(dr()).subscribe({next:r=>e(r),error:r=>n(r)})})}function VL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Yn(t[n],e[n]))return!1;return!0}function Yn(t,e){let n=t?xy(t):void 0,r=e?xy(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!oS(t[i],e[i]))return!1;return!0}function xy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function oS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function sS(t){return t.length>0?t[t.length-1]:null}function uo(t){return ol(t)?t:ns(t)?Xe(Promise.resolve(t)):le(t)}function aS(t){return ol(t)?Hd(t):Promise.resolve(t)}var jL={exact:uS,subset:lS},cS={exact:UL,subset:BL,ignored:()=>!0};function Yb(t,e,n){return jL[n.paths](t.root,e.root,n.matrixParams)&&cS[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function UL(t,e){return Yn(t,e)}function uS(t,e,n){if(!so(t.segments,e.segments)||!Ud(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!uS(t.children[r],e.children[r],n))return!1;return!0}function BL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>oS(t[n],e[n]))}function lS(t,e,n){return dS(t,e,e.segments,n)}function dS(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!so(i,n)||e.hasChildren()||!Ud(i,n,r))}else if(t.segments.length===n.length){if(!so(t.segments,n)||!Ud(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!lS(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!so(t.segments,i)||!Ud(t.segments,i,r)||!t.children[Z]?!1:dS(t.children[Z],e,o,r)}}function Ud(t,e,n){return e.every((r,i)=>cS[n](t[i].parameters,r.parameters))}var xn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Te([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=co(this.queryParams),this._queryParamMap}toString(){return zL.serialize(this)}},Te=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bd(this)}},ni=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=co(this.parameters),this._parameterMap}toString(){return hS(this)}};function $L(t,e){return so(t,e)&&t.every((n,r)=>Yn(n.parameters,e[r].parameters))}function so(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function HL(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Z&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Z&&(n=n.concat(e(i,r)))}),n}var vs=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>new ri,providedIn:"root"})}return t})(),ri=class{parse(e){let n=new Oy(e);return new xn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Dc(e.root,!0)}`,r=WL(e.queryParams),i=typeof e.fragment=="string"?`#${qL(e.fragment)}`:"";return`${n}${r}${i}`}},zL=new ri;function Bd(t){return t.segments.map(e=>hS(e)).join("/")}function Dc(t,e){if(!t.hasChildren())return Bd(t);if(e){let n=t.children[Z]?Dc(t.children[Z],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Z&&r.push(`${i}:${Dc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=HL(t,(r,i)=>i===Z?[Dc(t.children[Z],!1)]:[`${i}:${Dc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Z]!=null?`${Bd(t)}/${n[0]}`:`${Bd(t)}/(${n.join("//")})`}}function fS(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vd(t){return fS(t).replace(/%3B/gi,";")}function qL(t){return encodeURI(t)}function Py(t){return fS(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $d(t){return decodeURIComponent(t)}function Jb(t){return $d(t.replace(/\+/g,"%20"))}function hS(t){return`${Py(t.path)}${GL(t.parameters)}`}function GL(t){return Object.entries(t).map(([e,n])=>`;${Py(e)}=${Py(n)}`).join("")}function WL(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Vd(n)}=${Vd(i)}`).join("&"):`${Vd(n)}=${Vd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var KL=/^[^\/()?;#]+/;function Sy(t){let e=t.match(KL);return e?e[0]:""}var QL=/^[^\/()?;=#]+/;function YL(t){let e=t.match(QL);return e?e[0]:""}var JL=/^[^=?&#]+/;function ZL(t){let e=t.match(JL);return e?e[0]:""}var XL=/^[^&#]+/;function eF(t){let e=t.match(XL);return e?e[0]:""}var Oy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Z]=new Te(e,n)),r}parseSegment(){let e=Sy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new ni($d(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=YL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Sy(this.remaining);i&&(r=i,this.capture(r))}e[$d(n)]=$d(r)}parseQueryParam(e){let n=ZL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=eF(this.remaining);s&&(r=s,this.capture(r))}let i=Jb(n),o=Jb(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Sy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Z);let s=this.parseChildren();n[o??Z]=Object.keys(s).length===1&&s[Z]?s[Z]:new Te([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function pS(t){return t.segments.length>0?new Te([],{[Z]:t}):t}function gS(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=gS(i);if(r===Z&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Te(t.segments,e);return tF(n)}function tF(t){if(t.numberOfChildren===1&&t.children[Z]){let e=t.children[Z];return new Te(t.segments.concat(e.segments),e.children)}return t}function ii(t){return t instanceof xn}function mS(t,e,n=null,r=null,i=new ri){let o=yS(t);return vS(o,e,n,r,i)}function yS(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Te(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=pS(r);return e??i}function vS(t,e,n,r,i){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return Ay(o,o,o,n,r,i);let s=nF(e);if(s.toRoot())return Ay(o,o,new Te([],{}),n,r,i);let a=rF(s,o,t),u=a.processChildren?bc(a.segmentGroup,a.index,s.commands):ES(a.segmentGroup,a.index,s.commands);return Ay(o,a.segmentGroup,u,n,r,i)}function zd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ac(t){return typeof t=="object"&&t!=null&&t.outlets}function Zb(t,e,n){t||="\u0275";let r=new xn;return r.queryParams={[t]:e},n.parse(n.serialize(r)).queryParams[t]}function Ay(t,e,n,r,i,o){let s={};for(let[l,f]of Object.entries(r??{}))s[l]=Array.isArray(f)?f.map(p=>Zb(l,p,o)):Zb(l,f,o);let a;t===e?a=n:a=_S(t,e,n);let u=pS(gS(a));return new xn(u,s,i)}function _S(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=_S(o,e,n)}),new Te(t.segments,r)}var qd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&zd(r[0]))throw new j(4003,!1);let i=r.find(Ac);if(i&&i!==sS(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function nF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new qd(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new qd(n,e,r)}var us=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function rF(t,e,n){if(t.isAbsolute)return new us(e,!0,0);if(!n)return new us(e,!1,NaN);if(n.parent===null)return new us(n,!0,0);let r=zd(t.commands[0])?0:1,i=n.segments.length-1+r;return iF(n,i,t.numberOfDoubleDots)}function iF(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new us(r,!1,i-o)}function oF(t){return Ac(t[0])?t[0].outlets:{[Z]:t}}function ES(t,e,n){if(t??=new Te([],{}),t.segments.length===0&&t.hasChildren())return bc(t,e,n);let r=sF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Te(t.segments.slice(0,r.pathIndex),{});return o.children[Z]=new Te(t.segments.slice(r.pathIndex),t.children),bc(o,0,i)}else return r.match&&i.length===0?new Te(t.segments,{}):r.match&&!t.hasChildren()?ky(t,e,n):r.match?bc(t,0,i):ky(t,e,n)}function bc(t,e,n){if(n.length===0)return new Te(t.segments,{});{let r=oF(n),i={};if(Object.keys(r).some(o=>o!==Z)&&t.children[Z]&&t.numberOfChildren===1&&t.children[Z].segments.length===0){let o=bc(t.children[Z],e,n);return new Te(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=ES(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Te(t.segments,i)}}function sF(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Ac(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!eS(u,l,s))return o;r+=2}else{if(!eS(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ky(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Ac(o)){let u=aF(o.outlets);return new Te(r,u)}if(i===0&&zd(n[0])){let u=t.segments[e];r.push(new ni(u.path,Xb(n[0]))),i++;continue}let s=Ac(o)?o.outlets[Z]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&zd(a)?(r.push(new ni(s,Xb(a))),i+=2):(r.push(new ni(s,{})),i++)}return new Te(r,{})}function aF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=ky(new Te([],{}),0,r))}),e}function Xb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function eS(t,e,n){return t==n.path&&Yn(e,n.parameters)}var ls="imperative",nt=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(nt||{}),Jt=class{id;url;constructor(e,n){this.id=e,this.url=n}},oi=class extends Jt{type=nt.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},hn=class extends Jt{urlAfterRedirects;type=nt.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Pt=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Pt||{}),fs=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(fs||{}),Jn=class extends Jt{reason;code;type=nt.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Zn=class extends Jt{reason;code;type=nt.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},hs=class extends Jt{error;target;type=nt.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Rc=class extends Jt{urlAfterRedirects;state;type=nt.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gd=class extends Jt{urlAfterRedirects;state;type=nt.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wd=class extends Jt{urlAfterRedirects;state;shouldActivate;type=nt.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Kd=class extends Jt{urlAfterRedirects;state;type=nt.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qd=class extends Jt{urlAfterRedirects;state;type=nt.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yd=class{route;type=nt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Jd=class{route;type=nt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Zd=class{snapshot;type=nt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xd=class{snapshot;type=nt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ef=class{snapshot;type=nt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tf=class{snapshot;type=nt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ps=class{routerEvent;position;anchor;type=nt.Scroll;constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Nc=class{},gs=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function cF(t){return!(t instanceof Nc)&&!(t instanceof gs)}function uF(t,e){return t.providers&&!t._injector&&(t._injector=cc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Mn(t){return t.outlet||Z}function lF(t,e){let n=t.filter(r=>Mn(r)===e);return n.push(...t.filter(r=>Mn(r)!==e)),n}function _s(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var nf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return _s(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Es(this.rootInjector)}},Es=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new nf(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(Y(ct))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Ly(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Ly(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Fy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Fy(e,this._root).map(n=>n.value)}};function Ly(t,e){if(t===e.value)return e;for(let n of e.children){let r=Ly(t,n);if(r)return r}return null}function Fy(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Fy(t,n);if(r.length)return r.unshift(e),r}return[]}var Yt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function cs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Mc=class extends rf{snapshot;constructor(e,n){super(e),this.snapshot=n,Hy(this,e)}toString(){return this.snapshot.toString()}};function IS(t){let e=dF(t),n=new pt([new ni("",{})]),r=new pt({}),i=new pt({}),o=new pt({}),s=new pt(""),a=new Pn(n,r,o,s,i,Z,t,e.root);return a.snapshot=e.root,new Mc(new Yt(a,[]),e)}function dF(t){let e={},n={},r={},o=new ao([],e,r,"",n,Z,t,null,{});return new xc("",new Yt(o,[]))}var Pn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ke(l=>l[Oc]))??le(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ke(e=>co(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ke(e=>co(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function of(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:N(N({},e.params),t.params),data:N(N({},e.data),t.data),resolve:N(N(N(N({},t.data),e.data),i?.data),t._resolvedData)}:r={params:N({},t.params),data:N({},t.data),resolve:N(N({},t.data),t._resolvedData??{})},i&&TS(i)&&(r.resolve[Oc]=i.title),r}var ao=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Oc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=co(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=co(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},xc=class extends rf{url;constructor(e,n){super(n),this.url=e,Hy(this,n)}toString(){return wS(this._root)}};function Hy(t,e){e.value._routerState=t,e.children.forEach(n=>Hy(t,n))}function wS(t){let e=t.children.length>0?` { ${t.children.map(wS).join(", ")} } `:"";return`${t.value}${e}`}function Ry(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Yn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Yn(e.params,n.params)||t.paramsSubject.next(n.params),VL(e.url,n.url)||t.urlSubject.next(n.url),Yn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Vy(t,e){let n=Yn(t.params,e.params)&&$L(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Vy(t.parent,e.parent))}function TS(t){return typeof t.title=="string"||t.title===null}var DS=new $(""),kc=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Z;activateEvents=new vt;deactivateEvents=new vt;attachEvents=new vt;detachEvents=new vt;routerOutletData=yb();parentContexts=P(Es);location=P(no);changeDetector=P(as);inputBinder=P(uf,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new jy(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Xr({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[eo]})}return t})(),jy=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Pn?this.route:e===Es?this.childContexts:e===DS?this.outletData:this.parent.get(e,n)}},uf=new $("");var zy=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Se({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ve(0,"router-outlet")},dependencies:[kc],encapsulation:2})}return t})();function qy(t){let e=t.children&&t.children.map(qy),n=e?re(N({},t),{children:e}):N({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Z&&(n.component=zy),n}function fF(t,e,n){let r=Pc(t,e._root,n?n._root:void 0);return new Mc(r,e)}function Pc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=hF(t,e,n);return new Yt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Pc(t,a)),s}}let r=pF(e.value),i=e.children.map(o=>Pc(t,o));return new Yt(r,i)}}function hF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Pc(t,r,i);return Pc(t,r)})}function pF(t){return new Pn(new pt(t.url),new pt(t.params),new pt(t.queryParams),new pt(t.fragment),new pt(t.data),t.outlet,t.component,t)}var ms=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},CS="ngNavigationCancelingError";function sf(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ii(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=bS(!1,Pt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function bS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[CS]=!0,n.cancellationCode=e,n}function gF(t){return SS(t)&&ii(t.url)}function SS(t){return!!t&&t[CS]}var mF=(t,e,n,r)=>ke(i=>(new Uy(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Uy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Ry(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=cs(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=cs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=cs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=cs(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new tf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Xd(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Ry(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Ry(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},af=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ds=class{component;route;constructor(e,n){this.component=e,this.route=n}};function yF(t,e,n){let r=t._root,i=e?e._root:null;return Cc(r,i,n,[r.value])}function vF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Is(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!ig(t)?t:e.get(t):r}function Cc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=cs(e);return t.children.forEach(s=>{_F(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Sc(a,n.getContext(s),i)),i}function _F(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=EF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new af(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Cc(t,e,a?a.children:null,r,i):Cc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ds(a.outlet.component,s))}else s&&Sc(e,a,i),i.canActivateChecks.push(new af(r)),o.component?Cc(t,null,a?a.children:null,r,i):Cc(t,null,n,r,i);return i}function EF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!so(t.url,e.url);case"pathParamsOrQueryParamsChange":return!so(t.url,e.url)||!Yn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vy(t,e)||!Yn(t.queryParams,e.queryParams);case"paramsChange":default:return!Vy(t,e)}}function Sc(t,e,n){let r=cs(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Sc(s,e.children.getContext(o),n):Sc(s,null,n):Sc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ds(e.outlet.component,i)):n.canDeactivateChecks.push(new ds(null,i)):n.canDeactivateChecks.push(new ds(null,i))}function Lc(t){return typeof t=="function"}function IF(t){return typeof t=="boolean"}function wF(t){return t&&Lc(t.canLoad)}function TF(t){return t&&Lc(t.canActivate)}function DF(t){return t&&Lc(t.canActivateChild)}function CF(t){return t&&Lc(t.canDeactivate)}function bF(t){return t&&Lc(t.canMatch)}function AS(t){return t instanceof Oi||t?.name==="EmptyError"}var jd=Symbol("INITIAL_VALUE");function ys(){return jn(t=>Vp(t.map(e=>e.pipe(lr(1),Bp(jd)))).pipe(ke(e=>{for(let n of e)if(n!==!0){if(n===jd)return jd;if(n===!1||SF(n))return n}return!0}),vn(e=>e!==jd),lr(1)))}function SF(t){return ii(t)||t instanceof ms}function RS(t){return t.aborted?le(void 0).pipe(lr(1)):new _e(e=>{let n=()=>{e.next(),e.complete()};return t.addEventListener("abort",n),()=>t.removeEventListener("abort",n)})}function NS(t){return Ra(RS(t))}function AF(t,e){return yt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?le(re(N({},n),{guardsResult:!0})):RF(s,r,i,t).pipe(yt(a=>a&&IF(a)?NF(r,o,t,e):le(a)),ke(a=>re(N({},n),{guardsResult:a})))})}function RF(t,e,n,r){return Xe(t).pipe(yt(i=>kF(i.component,i.route,n,e,r)),dr(i=>i!==!0,!0))}function NF(t,e,n,r){return Xe(e).pipe(Aa(i=>Fo(xF(i.route.parent,r),MF(i.route,r),OF(t,i.path,n),PF(t,i.route,n))),dr(i=>i!==!0,!0))}function MF(t,e){return t!==null&&e&&e(new ef(t)),le(!0)}function xF(t,e){return t!==null&&e&&e(new Zd(t)),le(!0)}function PF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return le(!0);let i=r.map(o=>Sa(()=>{let s=_s(e)??n,a=Is(o,s),u=TF(a)?a.canActivate(e,t):St(s,()=>a(e,t));return uo(u).pipe(dr())}));return le(i).pipe(ys())}function OF(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>vF(s)).filter(s=>s!==null).map(s=>Sa(()=>{let a=s.guards.map(u=>{let l=_s(s.node)??n,f=Is(u,l),p=DF(f)?f.canActivateChild(r,t):St(l,()=>f(r,t));return uo(p).pipe(dr())});return le(a).pipe(ys())}));return le(o).pipe(ys())}function kF(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return le(!0);let s=o.map(a=>{let u=_s(e)??i,l=Is(a,u),f=CF(l)?l.canDeactivate(t,e,n,r):St(u,()=>l(t,e,n,r));return uo(f).pipe(dr())});return le(s).pipe(ys())}function LF(t,e,n,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return le(!0);let s=o.map(a=>{let u=Is(a,t),l=wF(u)?u.canLoad(e,n):St(t,()=>u(e,n)),f=uo(l);return i?f.pipe(NS(i)):f});return le(s).pipe(ys(),MS(r))}function MS(t){return Op(Ct(e=>{if(typeof e!="boolean")throw sf(t,e)}),ke(e=>e===!0))}function FF(t,e,n,r,i){let o=e.canMatch;if(!o||o.length===0)return le(!0);let s=o.map(a=>{let u=Is(a,t),l=bF(u)?u.canMatch(e,n):St(t,()=>u(e,n)),f=uo(l);return i?f.pipe(NS(i)):f});return le(s).pipe(ys(),MS(r))}var oo=class xS extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,xS.prototype)}},By=class PS extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,PS.prototype)}};function VF(t){throw new j(4e3,!1)}function jF(t){throw bS(!1,Pt.GuardRejected)}var UF=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}async lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[Z])throw VF(`${e.redirectTo}`);i=i.children[Z]}}async applyRedirectCommands(e,n,r,i,o){let s=await BF(n,i,o);if(s instanceof xn)throw new By(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new By(a);return a}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new xn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Te(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function BF(t,e,n){if(typeof t=="string")return Promise.resolve(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:f,title:p}=e;return Hd(uo(St(n,()=>r({params:l,data:f,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p}))))}var $y={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $F(t,e,n,r,i,o){let s=OS(t,e,n);return s.matched?(r=uF(e,r),FF(r,e,n,i,o).pipe(ke(a=>a===!0?s:N({},$y)))):le(s)}function OS(t,e,n){if(e.path==="**")return HF(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?N({},$y):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||iS)(n,t,e);if(!i)return N({},$y);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?N(N({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function HF(t){return{matched:!0,parameters:t.length>0?sS(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function tS(t,e,n,r){return n.length>0&&GF(t,n,r)?{segmentGroup:new Te(e,qF(r,new Te(n,t.children))),slicedSegments:[]}:n.length===0&&WF(t,n,r)?{segmentGroup:new Te(t.segments,zF(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Te(t.segments,t.children),slicedSegments:n}}function zF(t,e,n,r){let i={};for(let o of n)if(lf(t,e,o)&&!r[Mn(o)]){let s=new Te([],{});i[Mn(o)]=s}return N(N({},r),i)}function qF(t,e){let n={};n[Z]=e;for(let r of t)if(r.path===""&&Mn(r)!==Z){let i=new Te([],{});n[Mn(r)]=i}return n}function GF(t,e,n){return n.some(r=>lf(t,e,r)&&Mn(r)!==Z)}function WF(t,e,n){return n.some(r=>lf(t,e,r))}function lf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function KF(t,e,n){return e.length===0&&!t.children[n]}var QF=class{};async function YF(t,e,n,r,i,o,s="emptyOnly",a){return new ZF(t,e,n,r,i,s,o,a).recognize()}var JF=31,ZF=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a,u){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=u,this.applyRedirects=new UF(this.urlSerializer,this.urlTree)}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}async recognize(){let e=tS(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(e),i=new Yt(r,n),o=new xc("",i),s=mS(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(e){let n=new ao([],Object.freeze({}),Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Z,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,Z,n),rootSnapshot:n}}catch(r){if(r instanceof By)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof oo?this.noMatchError(r):r}}async processSegmentGroup(e,n,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,n,r,o);let s=await this.processSegment(e,n,r,r.segments,i,!0,o);return s instanceof Yt?[s]:[]}async processChildren(e,n,r,i){let o=[];for(let u of Object.keys(r.children))u==="primary"?o.unshift(u):o.push(u);let s=[];for(let u of o){let l=r.children[u],f=lF(n,u),p=await this.processSegmentGroup(e,f,l,u,i);s.push(...p)}let a=kS(s);return XF(a),a}async processSegment(e,n,r,i,o,s,a){for(let u of n)try{return await this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a)}catch(l){if(l instanceof oo||AS(l))continue;throw l}if(KF(r,i,o))return new QF;throw new oo(r)}async processSegmentAgainstRoute(e,n,r,i,o,s,a,u){if(Mn(r)!==s&&(s===Z||!lf(i,o,r)))throw new oo(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,s,u);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u);throw new oo(i)}async expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:m}=OS(n,i,o);if(!u)throw new oo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>JF&&(this.allowRedirects=!1));let y=new ao(o,l,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,nS(i),Mn(i),i.component??i._loadedComponent??null,i,rS(i)),S=of(y,a,this.paramsInheritanceStrategy);if(y.params=Object.freeze(S.params),y.data=Object.freeze(S.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let A=await this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,y,e),R=await this.applyRedirects.lineralizeSegments(i,A);return this.processSegment(e,r,n,R.concat(m),s,!1,a)}async matchSegmentAgainstRoute(e,n,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await Hd($F(n,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!a?.matched)throw new oo(n);e=r._injector??e;let{routes:u}=await this.getChildConfig(e,r,i),l=r._loadedInjector??e,{parameters:f,consumedSegments:p,remainingSegments:m}=a,y=new ao(p,f,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,nS(r),Mn(r),r.component??r._loadedComponent??null,r,rS(r)),S=of(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(S.params),y.data=Object.freeze(S.data);let{segmentGroup:A,slicedSegments:R}=tS(n,p,m,u);if(R.length===0&&A.hasChildren()){let he=await this.processChildren(l,u,A,y);return new Yt(y,he)}if(u.length===0&&R.length===0)return new Yt(y,[]);let L=Mn(r)===o,ne=await this.processSegment(l,u,A,R,L?Z:o,!0,y);return new Yt(y,ne instanceof Yt?[ne]:[])}async getChildConfig(e,n,r){if(n.children)return{routes:n.children,injector:e};if(n.loadChildren){if(n._loadedRoutes!==void 0)return{routes:n._loadedRoutes,injector:n._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Hd(LF(e,n,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,n);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,o}throw jF(n)}return{routes:[],injector:e}}};function XF(t){t.sort((e,n)=>e.value.outlet===Z?-1:n.value.outlet===Z?1:e.value.outlet.localeCompare(n.value.outlet))}function eV(t){let e=t.value.routeConfig;return e&&e.path===""}function kS(t){let e=[],n=new Set;for(let r of t){if(!eV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=kS(r.children);e.push(new Yt(r.value,i))}return e.filter(r=>!n.has(r))}function nS(t){return t.data||{}}function rS(t){return t.resolve||{}}var tV=new $("",{factory:()=>YF});function nV(t,e,n,r,i,o,s){let a=t.get(tV);return yt(u=>le(u).pipe(jn(l=>a(t,e,n,r,l.extractedUrl,i,o,s)),ke(({state:l,tree:f})=>re(N({},u),{targetSnapshot:l,urlAfterRedirects:f}))))}function rV(t,e){return yt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return le(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of LS(u))s.add(l);let a=0;return Xe(s).pipe(Aa(u=>o.has(u)?iV(u,r,t,e):(u.data=of(u,u.parent,t).resolve,le(void 0))),Ct(()=>a++),sl(1),yt(u=>a===s.size?le(n):Ft))})}function LS(t){let e=t.children.map(n=>LS(n)).flat();return[t,...e]}function iV(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!TS(i)&&(o[Oc]=i.title),Sa(()=>(t.data=of(t,t.parent,n).resolve,oV(o,t,e,r).pipe(ke(s=>(t._resolvedData=s,t.data=N(N({},t.data),s),null)))))}function oV(t,e,n,r){let i=xy(t);if(i.length===0)return le({});let o={};return Xe(i).pipe(yt(s=>sV(t[s],e,n,r).pipe(dr(),Ct(a=>{if(a instanceof ms)throw sf(new ri,a);o[s]=a}))),sl(1),ke(()=>o),Vo(s=>AS(s)?Ft:Fp(s)))}function sV(t,e,n,r){let i=_s(e)??r,o=Is(t,i),s=o.resolve?o.resolve(e,n):St(i,()=>o(e,n));return uo(s)}function Ny(t){return jn(e=>{let n=t(e);return n?Xe(n).pipe(ke(()=>e)):le(e)})}var Gy=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Z);return r}getResolvedTitleForRoute(n){return n.data[Oc]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>P(FS),providedIn:"root"})}return t})(),FS=(()=>{class t extends Gy{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(Y(Qb))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ws=new $("",{factory:()=>({})}),Fc=new $(""),VS=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(ay);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await aS(St(n,()=>r.loadComponent())),s=await BS(US(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await jS(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();async function jS(t,e,n,r){let i=await aS(St(n,()=>t.loadChildren())),o=await BS(US(i)),s;o instanceof vd||Array.isArray(o)?s=o:s=await e.compileModuleAsync(o),r&&r(t);let a,u,l=!1;return Array.isArray(s)?(u=s,l=!0):(a=s.create(n).injector,u=a.get(Fc,[],{optional:!0,self:!0}).flat()),{routes:u.map(qy),injector:a}}function aV(t){return t&&typeof t=="object"&&"default"in t}function US(t){return aV(t)?t.default:t}async function BS(t){return t}var df=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>P(cV),providedIn:"root"})}return t})(),cV=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$S=new $("");var uV=()=>{},HS=new $(""),Wy=(()=>{class t{currentNavigation=Ge(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Ge(null);events=new st;transitionAbortWithErrorSubject=new st;configLoader=P(VS);environmentInjector=P(ct);destroyRef=P(Qr);urlSerializer=P(vs);rootContexts=P(Es);location=P(io);inputBindingEnabled=P(uf,{optional:!0})!==null;titleStrategy=P(Gy);options=P(ws,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(df);createViewTransition=P($S,{optional:!0});navigationErrorHandler=P(HS,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>le(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Yd(i)),r=i=>this.events.next(new Jd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Tn(()=>{this.transitions?.next(re(N({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new pt(null),this.transitions.pipe(vn(r=>r!==null),jn(r=>{let i=!1,o=new AbortController;return le(r).pipe(jn(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Pt.SupersededByNewNavigation),Ft;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?re(N({},a),{previousNavigation:null}):null,abort:()=>o.abort()});let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&l!=="reload")return this.events.next(new Zn(s.id,this.urlSerializer.serialize(s.rawUrl),"",fs.IgnoredSameUrlNavigation)),s.resolve(!1),Ft;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return le(s).pipe(jn(f=>(this.events.next(new oi(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),f.id!==this.navigationId?Ft:Promise.resolve(f))),nV(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),Ct(f=>{r.targetSnapshot=f.targetSnapshot,r.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation.update(m=>(m.finalUrl=f.urlAfterRedirects,m));let p=new Rc(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:f,extractedUrl:p,source:m,restoredState:y,extras:S}=s,A=new oi(f,this.urlSerializer.serialize(p),m,y);this.events.next(A);let R=IS(this.rootComponentType).snapshot;return this.currentTransition=r=re(N({},s),{targetSnapshot:R,urlAfterRedirects:p,extras:re(N({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(L=>(L.finalUrl=p,L)),le(r)}else return this.events.next(new Zn(s.id,this.urlSerializer.serialize(s.extractedUrl),"",fs.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Ft}),Ct(s=>{let a=new Gd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ke(s=>(this.currentTransition=r=re(N({},s),{guards:yF(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),AF(this.environmentInjector,s=>this.events.next(s)),Ct(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw sf(this.urlSerializer,s.guardsResult);let a=new Wd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),vn(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Pt.GuardRejected),!1)),Ny(s=>{if(s.guards.canActivateChecks.length!==0)return le(s).pipe(Ct(a=>{let u=new Kd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),jn(a=>{let u=!1;return le(a).pipe(rV(this.paramsInheritanceStrategy,this.environmentInjector),Ct({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",Pt.NoDataFromResolver)}}))}),Ct(a=>{let u=new Qd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Ny(s=>{let a=l=>{let f=[];if(l.routeConfig?._loadedComponent)l.component=l.routeConfig?._loadedComponent;else if(l.routeConfig?.loadComponent){let p=_s(l)??this.environmentInjector;f.push(this.configLoader.loadComponent(p,l.routeConfig).then(m=>{l.component=m}))}for(let p of l.children)f.push(...a(p));return f},u=a(s.targetSnapshot.root);return u.length===0?le(s):Xe(Promise.all(u).then(()=>s))}),Ny(()=>this.afterPreactivation()),jn(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?Xe(u).pipe(ke(()=>r)):le(r)}),ke(s=>{let a=fF(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=re(N({},s),{targetRouterState:a}),this.currentNavigation.update(u=>(u.targetRouterState=a,u)),r}),Ct(()=>{this.events.next(new Nc)}),mF(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),lr(1),Ra(RS(o.signal).pipe(vn(()=>!i&&!r.targetRouterState),Ct(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",Pt.Aborted)}))),Ct({next:s=>{i=!0,this.currentNavigation.update(a=>(a.abort=uV,a)),this.lastSuccessfulNavigation.set(Tn(this.currentNavigation)),this.events.next(new hn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Ra(this.transitionAbortWithErrorSubject.pipe(Ct(s=>{throw s}))),Up(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",Pt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Vo(s=>{if(this.destroyed)return r.resolve(!1),Ft;if(i=!0,SS(s))this.events.next(new Jn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),gF(s)?this.events.next(new gs(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new hs(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=St(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof ms){let{message:l,cancellationCode:f}=sf(this.urlSerializer,u);this.events.next(new Jn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,f)),this.events.next(new gs(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Ft}))}))}cancelNavigationTransition(n,r,i){let o=new Jn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Tn(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function lV(t){return t!==ls}var zS=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>P(dV),providedIn:"root"})}return t})(),cf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},dV=(()=>{class t extends cf{static \u0275fac=(()=>{let n;return function(i){return(n||(n=rc(t)))(i||t)}})();static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ky=(()=>{class t{urlSerializer=P(vs);options=P(ws,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P(io);urlHandlingStrategy=P(df);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new xn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof xn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=IS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>P(qS),providedIn:"root"})}return t})(),qS=(()=>{class t extends Ky{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof oi?this.updateStateMemento():n instanceof Zn?this.commitTransition(r):n instanceof Rc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Nc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Jn&&n.code!==Pt.SupersededByNewNavigation&&n.code!==Pt.Redirect?this.restoreHistory(r):n instanceof hs?this.restoreHistory(r,!0):n instanceof hn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=N(N({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=N(N({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=rc(t)))(i||t)}})();static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Qy(t,e){t.events.pipe(vn(n=>n instanceof hn||n instanceof Jn||n instanceof hs||n instanceof Zn),ke(n=>n instanceof hn||n instanceof Zn?0:(n instanceof Jn?n.code===Pt.Redirect||n.code===Pt.SupersededByNewNavigation:!1)?2:1),vn(n=>n!==2),lr(1)).subscribe(()=>{e()})}var fV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ts=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(Xm);stateManager=P(Ky);options=P(ws,{optional:!0})||{};pendingTasks=P(Yr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(Wy);urlSerializer=P(vs);location=P(io);urlHandlingStrategy=P(df);injector=P(ct);_events=new st;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(zS);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(Fc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(uf,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ht;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Tn(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Jn&&r.code!==Pt.Redirect&&r.code!==Pt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof hn)this.navigated=!0;else if(r instanceof gs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=N({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||lV(i.source)},s);this.scheduleNavigation(a,ls,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}cF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ls,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=N({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(an)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Tn(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(qy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=N(N({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=yS(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return vS(p,n,f,l??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ii(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ls,null,r)}navigate(n,r={skipLocationChange:!1}){return pV(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(Hr(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=N({},fV):r===!1?i=N({},hV):i=r,ii(n))return Yb(this.currentUrlTree,n,i);let o=this.parseUrl(n);return Yb(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let f=this.pendingTasks.add();return Qy(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}var Ds=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Ge(null);get href(){return Tn(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new st;applicationErrorHandler=P(an);options=P(ws,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(P(new Dd("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof hn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ii(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:ii(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(me(Ts),me(Pn),ic("tabindex"),me(to),me(Bt),me(ro))};static \u0275dir=Xr({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&dn("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ed("href",i.reactiveHref(),Om)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",hc],skipLocationChange:[2,"skipLocationChange","skipLocationChange",hc],replaceUrl:[2,"replaceUrl","replaceUrl",hc],routerLink:"routerLink"},features:[eo]})}return t})(),Yy=(()=>{class t{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new vt;link=P(Ds,{optional:!0});constructor(n,r,i,o){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.routerEventsSubscription=n.events.subscribe(s=>{s instanceof hn&&this.update()})}ngAfterContentInit(){le(this.links.changes,le(null)).pipe(Lo()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Xe(n).pipe(Lo()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=gV(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||t)(me(Ts),me(Bt),me(to),me(as))};static \u0275dir=Xr({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&iy(o,Ds,5),r&2){let s;is(s=os())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[eo]})}return t})();function gV(t){return!!t.paths}var GS=new $(""),mV=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ls;restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof oi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof hn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Zn&&n.code===fs.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{if(!(n instanceof ps))return;let r={behavior:"instant"};n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position,r):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(async()=>{await new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new ps(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Ym()};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})();function Jy(t,...e){return Bi([{provide:Fc,multi:!0,useValue:t},[],{provide:Pn,useFactory:yV},{provide:_d,multi:!0,useFactory:_V},e.map(n=>n.\u0275providers)])}function yV(){return P(Ts).routerState.root}function vV(t,e){return{\u0275kind:t,\u0275providers:e}}function Zy(t={}){return vV(4,[{provide:GS,useFactory:()=>{let n=P(Bb),r=P(Ut),i=P(Wy),o=P(vs);return new mV(o,i,n,r,t)}}])}function _V(){let t=P(_n);return e=>{let n=t.get(rs);if(e!==n.components[0])return;let r=t.get(Ts),i=t.get(EV);t.get(IV)===1&&r.initialNavigation(),t.get(wV,null,{optional:!0})?.setUpPreloading(),t.get(GS,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var EV=new $("",{factory:()=>new st}),IV=new $("",{factory:()=>1});var wV=new $("");function DV(t,e){if(t&1&&ve(0,"img",2),t&2){let n=K(2);de("src",n.data.image,cn)}}function CV(t,e){if(t&1&&(B(0,"h1"),ie(1),W()),t&2){let n=K(2);O(),Fe(n.data.title)}}function bV(t,e){if(t&1&&(B(0,"button",4),ie(1),W()),t&2){let n=K(2);ss("disabled",!n.data.interactive),de("disabled",!n.data.interactive),O(),Fe(n.data.button)}}function SV(t,e){if(t&1&&(B(0,"div",1),se(1,DV,1,1,"img",2),B(2,"div",3),se(3,CV,2,1,"h1"),se(4,bV,2,4,"button",4),W()()),t&2){let n=K();de("ngClass",n.data.bannerType),O(),ae(n.data.image!=""?1:-1),O(2),ae(n.data.title!=""?3:-1),O(),ae(n.data.button!=""?4:-1)}}var Xn=class t{data;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Se({type:t,selectors:[["app-banner"]],inputs:{data:"data"},decls:2,vars:1,consts:[[1,"banner-shell"],[1,"banner",3,"ngClass"],[3,"src","alt"],[1,"book-container"],["id","book",3,"disabled"]],template:function(n,r){n&1&&(B(0,"div",0),se(1,SV,5,4,"div",1),W()),n&2&&(O(),ae(r.data?1:-1))},dependencies:[gy],styles:[".banner[_ngcontent-%COMP%]{margin:0 0 1.5rem;width:100%;height:300px;position:relative;display:flex;justify-content:center}.subpage[_ngcontent-%COMP%]{height:200px}h1[_ngcontent-%COMP%]{font-family:Malvie,sans-serif;font-size:6rem;color:#fffaf0}img[_ngcontent-%COMP%]{width:100%;object-fit:cover}.book-container[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;bottom:0;display:flex;flex-direction:column;justify-content:center;align-items:center;background:radial-gradient(black 0%,transparent 30%)}button[_ngcontent-%COMP%]{margin:0;padding:0}#book[_ngcontent-%COMP%]{margin:0;padding:.2rem 3rem 0;width:90%;max-width:450px;display:flex;justify-content:center;align-items:center;background:transparent;color:#fffaf0;font-family:Bebas Neue,sans-serif;font-size:clamp(1rem,3vw,2rem);border:5px solid floralwhite;box-sizing:border-box;transition:all .2s ease-in-out}#book.disabled[_ngcontent-%COMP%]{cursor:default;background:#fffaf0;color:var(--primary);font-size:clamp(3rem,4vw,4rem)}#book[_ngcontent-%COMP%]:not(.disabled):hover{transform:scale(1.1);background:#fffaf0;color:var(--primary);cursor:pointer}"]})};function AV(t,e){if(t&1&&(Ie(0,"h2",4),ie(1),we()),t&2){let n=K(2);O(),Fe(n.data==null?null:n.data.title)}}function RV(t,e){if(t&1&&(Ie(0,"p"),ie(1),we()),t&2){let n=K(2);O(),Fe(n.data==null?null:n.data.content)}}function NV(t,e){if(t&1&&An(0,"img",5),t&2){let n=K(2);Kn("src",n.data==null?null:n.data.image,cn)}}function MV(t,e){if(t&1&&(Ie(0,"div",1),se(1,AV,2,1,"h2",4),se(2,RV,2,1,"p"),se(3,NV,1,1,"img",5),we()),t&2){let n=K();O(),ae((n.data==null?null:n.data.title)!=""?1:-1),O(),ae((n.data==null?null:n.data.content)!=""?2:-1),O(),ae((n.data==null?null:n.data.image)!=""?3:-1)}}function xV(t,e){if(t&1&&(Ie(0,"p"),ie(1),we()),t&2){let n=K(2);O(),Fe(n.data==null?null:n.data.content)}}function PV(t,e){if(t&1&&(Ie(0,"div",2),se(1,xV,2,1,"p"),we()),t&2){let n=K();O(),ae((n.data==null?null:n.data.content)!=""?1:-1)}}function OV(t,e){if(t&1&&(Ie(0,"p",4),ie(1),we()),t&2){let n=K(2);O(),Fe(n.data==null?null:n.data.title)}}function kV(t,e){if(t&1&&(Ie(0,"p"),ie(1),we()),t&2){let n=K(2);O(),Fe(n.data==null?null:n.data.content)}}function LV(t,e){if(t&1&&(Ie(0,"div",3),se(1,OV,2,1,"p",4),se(2,kV,2,1,"p"),we()),t&2){let n=K();O(),ae((n.data==null?null:n.data.title)!=""?1:-1),O(),ae((n.data==null?null:n.data.content)!=""?2:-1)}}var Vc=(r=>(r[r.Primary=0]="Primary",r[r.Secondary=1]="Secondary",r[r.FAQ=2]="FAQ",r))(Vc||{}),Cs=class t{data;width;InfoType=Vc;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Se({type:t,selectors:[["app-info"]],inputs:{data:"data",width:"width"},decls:4,vars:3,consts:[[1,"info-shell"],[1,"info-container","primary"],[1,"info-container","secondary"],[1,"info-container","faq"],[1,"title"],["alt","image",3,"src"]],template:function(n,r){n&1&&(Ie(0,"div",0),se(1,MV,4,3,"div",1),se(2,PV,2,1,"div",2),se(3,LV,3,2,"div",3),we()),n&2&&(O(),ae((r.data==null?null:r.data.type)===r.InfoType.Primary?1:-1),O(),ae((r.data==null?null:r.data.type)===r.InfoType.Secondary?2:-1),O(),ae((r.data==null?null:r.data.type)===r.InfoType.FAQ?3:-1))},styles:[".info-shell[_ngcontent-%COMP%]{display:flex;justify-content:center}.info-container[_ngcontent-%COMP%]{padding:0 1rem 1.25rem;max-width:var(--maxWidth);display:flex;flex-direction:column;align-items:center;gap:1rem}.faq[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start}.faq[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{flex:1;max-width:50%}.faq[_ngcontent-%COMP%]   p.title[_ngcontent-%COMP%]{text-align:right}.faq[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(.title){text-align:left}h2[_ngcontent-%COMP%]{margin:0;font-family:Malvie,sans-serif;font-size:2rem;text-align:center}p[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.25em;text-align:center}.title[_ngcontent-%COMP%]{color:var(--highlight)}img[_ngcontent-%COMP%]{width:100%;max-width:700px;max-height:450px;display:block;object-fit:cover;object-position:top}@media(max-width:850px){.info-container.primary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0 1rem;text-align:left}info-container.secondary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background-color:green}.info-container.faq[_ngcontent-%COMP%]{width:100%}.faq[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.faq[_ngcontent-%COMP%]   p.title[_ngcontent-%COMP%], .faq[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;max-width:calc(100% - 2rem);text-align:left}}"]})};var FV=t=>({title:"FAQ",type:t,content:"",image:""});function VV(t,e){if(t&1&&ve(0,"app-info",1),t&2){let n=e.$implicit;de("data",n)}}var ff=class t{bannerData={bannerType:"primary",title:"Taniti",image:"banners/taniti.jpeg",button:"",interactive:!1};aboutData={title:"About the Island",type:0,content:"Taniti is a small, tropical island in the Pacific. While the island has an area of less than 500 square miles, the terrain is varied and includes both sandy and rocky beaches, a small but safe harbor, lush tropical rainforests, and a mountainous interior that includes a small, active volcano. Taniti has an indigenous population of about 20,000. Until a recent increase in tourism, most of the Tanitian economy was dominated by fishing or agriculture",image:""};questionsData=[{title:"What language is spoken on Taniti?",type:2,content:"Many younger Tanitians speak fluent English. Very little English is spoken in rural areas, especially by the older residents.",image:""},{title:"What currency is accepted on Taniti?",type:2,content:"Taniti uses the U.S. dollar as its currency, but many businesses will also accept euros and yen. Several banks facilitate currency exchange, and many businesses accept major credit cards.",image:""},{title:"What power outlets are on the Island?",type:2,content:"Taniti's power outlets are 120 volts (the same as in the United States).",image:""},{title:"Does the island have medical facilities?",type:2,content:"There is one hospital and several clinics. The hospital has many multilingual employees.",image:""},{title:"How bad is the crime on Taniti?",type:2,content:"Violent crime is very rare on Taniti, but as tourism increases, there are more reports of pickpocketing and other petty crimes.",image:""},{title:"What holidays does Taniti observe?",type:2,content:"Taniti enjoys a large number of national holidays, and many tourist attractions and restaurants will be closed on holidays, so visitors should plan accordingly.",image:""}];InfoType=Vc;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Se({type:t,selectors:[["app-home"]],decls:6,vars:5,consts:[[3,"data"],[1,"faq",3,"data"]],template:function(n,r){n&1&&(B(0,"div"),ve(1,"app-banner",0)(2,"app-info",0)(3,"app-info",0),Mt(4,VV,1,1,"app-info",1,ln),W()),n&2&&(O(),de("data",r.bannerData),O(),de("data",r.aboutData),O(),de("data",lc(3,FV,r.InfoType.Primary)),O(),xt(r.questionsData))},dependencies:[Xn,Cs],encapsulation:2})};var WS=()=>{};var YS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},jV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},JS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[f],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new tv;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},tv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},UV=function(t){let e=YS(t);return JS.encodeByteArray(e,!0)},Uc=function(t){return UV(t).replace(/\./g,"")},pf=function(t){try{return JS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ZS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var BV=()=>ZS().__FIREBASE_DEFAULTS__,$V=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&pf(t[1]);return e&&JSON.parse(e)},gf=()=>{try{return WS()||BV()||$V()||HV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rv=t=>gf()?.emulatorHosts?.[t],XS=t=>{let e=rv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},iv=()=>gf()?.config,ov=t=>gf()?.[`_${t}`];var hf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function si(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mf(t){return(await fetch(t,{credentials:"include"})).ok}function e0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=N({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Uc(JSON.stringify(n)),Uc(JSON.stringify(s)),""].join(".")}var jc={};function zV(){let t={prod:[],emulator:[]};for(let e of Object.keys(jc))jc[e]?t.emulator.push(e):t.prod.push(e);return t}function qV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var KS=!1;function yf(t,e){if(typeof window>"u"||typeof document>"u"||!si(window.location.host)||jc[t]===e||jc[t]||KS)return;jc[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=zV().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{KS=!0,s()},m}function f(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=qV(r),y=n("text"),S=document.getElementById(y)||document.createElement("span"),A=n("learnmore"),R=document.getElementById(A)||document.createElement("a"),L=n("preprendIcon"),ne=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let he=m.element;a(he),f(R,A);let wt=l();u(ne,L),he.append(ne,S,R,wt),document.body.appendChild(he)}o?(S.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function t0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function GV(){let t=gf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function i0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function o0(){let t=lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function s0(){return!GV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sv(){try{return typeof indexedDB=="object"}catch{return!1}}function a0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}var WV="FirebaseError",Zt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ir.prototype.create)}},Ir=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?KV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Zt(i,a,r)}};function KV(t,e){return t.replace(QV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var QV=/\{\$([^}]+)}/g;function c0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function er(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(QS(o)&&QS(s)){if(!er(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function QS(t){return t!==null&&typeof t=="object"}function Bc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function u0(t,e){let n=new nv(t,e);return n.subscribe.bind(n)}var nv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");YV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ev),i.error===void 0&&(i.error=ev),i.complete===void 0&&(i.complete=ev);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function YV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ev(){}var ZZ=14400*1e3;function Xt(t){return t&&t._delegate?t._delegate:t}var pn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var lo="[DEFAULT]";var av=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new hf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){let n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZV(e))try{this.getOrInitializeService({instanceIdentifier:lo})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lo){return this.instances.has(e)}getOptions(e=lo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){let r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=lo){return this.component?this.component.multipleInstances?e:lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function JV(t){return t===lo?void 0:t}function ZV(t){return t.instantiationMode==="EAGER"}var vf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new av(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var XV=[],fe=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(fe||{}),e2={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},t2=fe.INFO,n2={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},r2=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=n2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ai=class{constructor(e){this.name=e,this._logLevel=t2,this._logHandler=r2,this._userLogHandler=null,XV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?e2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var i2=(t,e)=>e.some(n=>t instanceof n),l0,d0;function o2(){return l0||(l0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s2(){return d0||(d0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var f0=new WeakMap,uv=new WeakMap,h0=new WeakMap,cv=new WeakMap,dv=new WeakMap;function a2(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(tr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&f0.set(n,t)}).catch(()=>{}),dv.set(e,t),e}function c2(t){if(uv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});uv.set(t,e)}var lv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return uv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||h0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function p0(t){lv=t(lv)}function u2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(_f(this),e,...n);return h0.set(r,e.sort?e.sort():[e]),tr(r)}:s2().includes(t)?function(...e){return t.apply(_f(this),e),tr(f0.get(this))}:function(...e){return tr(t.apply(_f(this),e))}}function l2(t){return typeof t=="function"?u2(t):(t instanceof IDBTransaction&&c2(t),i2(t,o2())?new Proxy(t,lv):t)}function tr(t){if(t instanceof IDBRequest)return a2(t);if(cv.has(t))return cv.get(t);let e=l2(t);return e!==t&&(cv.set(t,e),dv.set(e,t)),e}var _f=t=>dv.get(t);function m0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=tr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(tr(s.result),u.oldVersion,u.newVersion,tr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var d2=["get","getKey","getAll","getAllKeys","count"],f2=["put","add","delete","clear"],fv=new Map;function g0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fv.get(e))return fv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=f2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||d2.includes(n)))return;let o=async function(s,...a){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return fv.set(e,o),o}p0(t=>re(N({},t),{get:(e,n,r)=>g0(e,n)||t.get(e,n,r),has:(e,n)=>!!g0(e,n)||t.has(e,n)}));var pv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(h2(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function h2(t){return t.getComponent()?.type==="VERSION"}var gv="@firebase/app",y0="0.14.6";var wr=new ai("@firebase/app"),p2="@firebase/app-compat",g2="@firebase/analytics-compat",m2="@firebase/analytics",y2="@firebase/app-check-compat",v2="@firebase/app-check",_2="@firebase/auth",E2="@firebase/auth-compat",I2="@firebase/database",w2="@firebase/data-connect",T2="@firebase/database-compat",D2="@firebase/functions",C2="@firebase/functions-compat",b2="@firebase/installations",S2="@firebase/installations-compat",A2="@firebase/messaging",R2="@firebase/messaging-compat",N2="@firebase/performance",M2="@firebase/performance-compat",x2="@firebase/remote-config",P2="@firebase/remote-config-compat",O2="@firebase/storage",k2="@firebase/storage-compat",L2="@firebase/firestore",F2="@firebase/ai",V2="@firebase/firestore-compat",j2="firebase",U2="12.6.0";var mv="[DEFAULT]",B2={[gv]:"fire-core",[p2]:"fire-core-compat",[m2]:"fire-analytics",[g2]:"fire-analytics-compat",[v2]:"fire-app-check",[y2]:"fire-app-check-compat",[_2]:"fire-auth",[E2]:"fire-auth-compat",[I2]:"fire-rtdb",[w2]:"fire-data-connect",[T2]:"fire-rtdb-compat",[D2]:"fire-fn",[C2]:"fire-fn-compat",[b2]:"fire-iid",[S2]:"fire-iid-compat",[A2]:"fire-fcm",[R2]:"fire-fcm-compat",[N2]:"fire-perf",[M2]:"fire-perf-compat",[x2]:"fire-rc",[P2]:"fire-rc-compat",[O2]:"fire-gcs",[k2]:"fire-gcs-compat",[L2]:"fire-fst",[V2]:"fire-fst-compat",[F2]:"fire-vertex","fire-js":"fire-js",[j2]:"fire-js-all"};var Ef=new Map,$2=new Map,yv=new Map;function v0(t,e){try{t.container.addComponent(e)}catch(n){wr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ui(t){let e=t.name;if(yv.has(e))return wr.debug(`There were multiple attempts to register component ${e}.`),!1;yv.set(e,t);for(let n of Ef.values())v0(n,t);for(let n of $2.values())v0(n,t);return!0}function Hc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function en(t){return t==null?!1:t.settings!==void 0}var H2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ci=new Ir("app","Firebase",H2);var vv=class{constructor(e,n,r){this._isDeleted=!1,this._options=N({},e),this._config=N({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}};var li=U2;function Iv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=N({name:mv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ci.create("bad-app-name",{appName:String(i)});if(n||(n=iv()),!n)throw ci.create("no-options");let o=Ef.get(i);if(o){if(er(n,o.options)&&er(r,o.config))return o;throw ci.create("duplicate-app",{appName:i})}let s=new vf(i);for(let u of yv.values())s.addComponent(u);let a=new vv(n,r,s);return Ef.set(i,a),a}function If(t=mv){let e=Ef.get(t);if(!e&&t===mv&&iv())return Iv();if(!e)throw ci.create("no-app",{appName:t});return e}function On(t,e,n){let r=B2[t]??t;n&&(r+=`-${n}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wr.warn(s.join(" "));return}ui(new pn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var z2="firebase-heartbeat-database",q2=1,$c="firebase-heartbeat-store",hv=null;function w0(){return hv||(hv=m0(z2,q2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($c)}catch(n){console.warn(n)}}}}).catch(t=>{throw ci.create("idb-open",{originalErrorMessage:t.message})})),hv}async function G2(t){try{let n=(await w0()).transaction($c),r=await n.objectStore($c).get(T0(t));return await n.done,r}catch(e){if(e instanceof Zt)wr.warn(e.message);else{let n=ci.create("idb-get",{originalErrorMessage:e?.message});wr.warn(n.message)}}}async function _0(t,e){try{let r=(await w0()).transaction($c,"readwrite");await r.objectStore($c).put(e,T0(t)),await r.done}catch(n){if(n instanceof Zt)wr.warn(n.message);else{let r=ci.create("idb-set",{originalErrorMessage:n?.message});wr.warn(r.message)}}}function T0(t){return`${t.name}!${t.options.appId}`}var W2=1024,K2=30,_v=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Ev(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=E0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>K2){let i=Y2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){wr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=E0(),{heartbeatsToSend:n,unsentEntries:r}=Q2(this._heartbeatsCache.heartbeats),i=Uc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return wr.warn(e),""}}};function E0(){return new Date().toISOString().substring(0,10)}function Q2(t,e=W2){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),I0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),I0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Ev=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sv()?a0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await G2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return _0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return _0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function I0(t){return Uc(JSON.stringify({version:2,heartbeats:t})).length}function Y2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function J2(t){ui(new pn("platform-logger",e=>new pv(e),"PRIVATE")),ui(new pn("heartbeat",e=>new _v(e),"PRIVATE")),On(gv,y0,t),On(gv,y0,"esm2020"),On("fire-js","")}J2("");var D0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},C0={};var Tr,wv;(function(){var t;function e(w,v){function E(){}E.prototype=v.prototype,w.F=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.D=function(T,I,C){for(var _=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)_[kt-2]=arguments[kt];return v.prototype[I].apply(T,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);let T=Array(16);if(typeof v=="string")for(var I=0;I<16;++I)T[I]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(I=0;I<16;++I)T[I]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],I=w.g[2];let C=w.g[3],_;_=v+(C^E&(I^C))+T[0]+3614090360&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(I^v&(E^I))+T[1]+3905402710&4294967295,C=v+(_<<12&4294967295|_>>>20),_=I+(E^C&(v^E))+T[2]+606105819&4294967295,I=C+(_<<17&4294967295|_>>>15),_=E+(v^I&(C^v))+T[3]+3250441966&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(C^E&(I^C))+T[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(I^v&(E^I))+T[5]+1200080426&4294967295,C=v+(_<<12&4294967295|_>>>20),_=I+(E^C&(v^E))+T[6]+2821735955&4294967295,I=C+(_<<17&4294967295|_>>>15),_=E+(v^I&(C^v))+T[7]+4249261313&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(C^E&(I^C))+T[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(I^v&(E^I))+T[9]+2336552879&4294967295,C=v+(_<<12&4294967295|_>>>20),_=I+(E^C&(v^E))+T[10]+4294925233&4294967295,I=C+(_<<17&4294967295|_>>>15),_=E+(v^I&(C^v))+T[11]+2304563134&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(C^E&(I^C))+T[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(I^v&(E^I))+T[13]+4254626195&4294967295,C=v+(_<<12&4294967295|_>>>20),_=I+(E^C&(v^E))+T[14]+2792965006&4294967295,I=C+(_<<17&4294967295|_>>>15),_=E+(v^I&(C^v))+T[15]+1236535329&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(I^C&(E^I))+T[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^I&(v^E))+T[6]+3225465664&4294967295,C=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(C^v))+T[11]+643717713&4294967295,I=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(I^C))+T[0]+3921069994&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(I^C&(E^I))+T[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^I&(v^E))+T[10]+38016083&4294967295,C=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(C^v))+T[15]+3634488961&4294967295,I=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(I^C))+T[4]+3889429448&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(I^C&(E^I))+T[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^I&(v^E))+T[14]+3275163606&4294967295,C=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(C^v))+T[3]+4107603335&4294967295,I=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(I^C))+T[8]+1163531501&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(I^C&(E^I))+T[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^I&(v^E))+T[2]+4243563512&4294967295,C=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(C^v))+T[7]+1735328473&4294967295,I=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(I^C))+T[12]+2368359562&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(E^I^C)+T[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^I)+T[8]+2272392833&4294967295,C=v+(_<<11&4294967295|_>>>21),_=I+(C^v^E)+T[11]+1839030562&4294967295,I=C+(_<<16&4294967295|_>>>16),_=E+(I^C^v)+T[14]+4259657740&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(E^I^C)+T[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^I)+T[4]+1272893353&4294967295,C=v+(_<<11&4294967295|_>>>21),_=I+(C^v^E)+T[7]+4139469664&4294967295,I=C+(_<<16&4294967295|_>>>16),_=E+(I^C^v)+T[10]+3200236656&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(E^I^C)+T[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^I)+T[0]+3936430074&4294967295,C=v+(_<<11&4294967295|_>>>21),_=I+(C^v^E)+T[3]+3572445317&4294967295,I=C+(_<<16&4294967295|_>>>16),_=E+(I^C^v)+T[6]+76029189&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(E^I^C)+T[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^I)+T[12]+3873151461&4294967295,C=v+(_<<11&4294967295|_>>>21),_=I+(C^v^E)+T[15]+530742520&4294967295,I=C+(_<<16&4294967295|_>>>16),_=E+(I^C^v)+T[2]+3299628645&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(I^(E|~C))+T[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~I))+T[7]+1126891415&4294967295,C=v+(_<<10&4294967295|_>>>22),_=I+(v^(C|~E))+T[14]+2878612391&4294967295,I=C+(_<<15&4294967295|_>>>17),_=E+(C^(I|~v))+T[5]+4237533241&4294967295,E=I+(_<<21&4294967295|_>>>11),_=v+(I^(E|~C))+T[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~I))+T[3]+2399980690&4294967295,C=v+(_<<10&4294967295|_>>>22),_=I+(v^(C|~E))+T[10]+4293915773&4294967295,I=C+(_<<15&4294967295|_>>>17),_=E+(C^(I|~v))+T[1]+2240044497&4294967295,E=I+(_<<21&4294967295|_>>>11),_=v+(I^(E|~C))+T[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~I))+T[15]+4264355552&4294967295,C=v+(_<<10&4294967295|_>>>22),_=I+(v^(C|~E))+T[6]+2734768916&4294967295,I=C+(_<<15&4294967295|_>>>17),_=E+(C^(I|~v))+T[13]+1309151649&4294967295,E=I+(_<<21&4294967295|_>>>11),_=v+(I^(E|~C))+T[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~I))+T[11]+3174756917&4294967295,C=v+(_<<10&4294967295|_>>>22),_=I+(v^(C|~E))+T[2]+718787259&4294967295,I=C+(_<<15&4294967295|_>>>17),_=E+(C^(I|~v))+T[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(I+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+I&4294967295,w.g[3]=w.g[3]+C&4294967295}r.prototype.v=function(w,v){v===void 0&&(v=w.length);let E=v-this.blockSize,T=this.C,I=this.h,C=0;for(;C<v;){if(I==0)for(;C<=E;)i(this,w,C),C+=this.blockSize;if(typeof w=="string"){for(;C<v;)if(T[I++]=w.charCodeAt(C++),I==this.blockSize){i(this,T),I=0;break}}else for(;C<v;)if(T[I++]=w[C++],I==this.blockSize){i(this,T),I=0;break}}this.h=I,this.o+=v},r.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;v=this.o*8;for(var E=w.length-8;E<w.length;++E)w[E]=v&255,v/=256;for(this.v(w),w=Array(16),v=0,E=0;E<4;++E)for(let T=0;T<32;T+=8)w[v++]=this.g[E]>>>T&255;return w};function o(w,v){var E=a;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function s(w,v){this.h=v;let E=[],T=!0;for(let I=w.length-1;I>=0;I--){let C=w[I]|0;T&&C==v||(E[I]=C,T=!1)}this.g=E}var a={};function u(w){return-128<=w&&w<128?o(w,function(v){return new s([v|0],v<0?-1:0)}):new s([w|0],w<0?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(w<0)return R(l(-w));let v=[],E=1;for(let T=0;w>=E;T++)v[T]=w/E|0,E*=4294967296;return new s(v,0)}function f(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return R(f(w.substring(1),v));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');let E=l(Math.pow(v,8)),T=p;for(let C=0;C<w.length;C+=8){var I=Math.min(8,w.length-C);let _=parseInt(w.substring(C,C+I),v);I<8?(I=l(Math.pow(v,I)),T=T.j(I).add(l(_))):(T=T.j(E),T=T.add(l(_)))}return T}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(A(this))return-R(this).m();let w=0,v=1;for(let E=0;E<this.g.length;E++){let T=this.i(E);w+=(T>=0?T:4294967296+T)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(S(this))return"0";if(A(this))return"-"+R(this).toString(w);let v=l(Math.pow(w,6));var E=this;let T="";for(;;){let I=wt(E,v).g;E=L(E,I.j(v));let C=((E.g.length>0?E.g[0]:E.h)>>>0).toString(w);if(E=I,S(E))return C+T;for(;C.length<6;)C="0"+C;T=C+T}},t.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function S(w){if(w.h!=0)return!1;for(let v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function A(w){return w.h==-1}t.l=function(w){return w=L(this,w),A(w)?-1:S(w)?0:1};function R(w){let v=w.g.length,E=[];for(let T=0;T<v;T++)E[T]=~w.g[T];return new s(E,~w.h).add(m)}t.abs=function(){return A(this)?R(this):this},t.add=function(w){let v=Math.max(this.g.length,w.g.length),E=[],T=0;for(let I=0;I<=v;I++){let C=T+(this.i(I)&65535)+(w.i(I)&65535),_=(C>>>16)+(this.i(I)>>>16)+(w.i(I)>>>16);T=_>>>16,C&=65535,_&=65535,E[I]=_<<16|C}return new s(E,E[E.length-1]&-2147483648?-1:0)};function L(w,v){return w.add(R(v))}t.j=function(w){if(S(this)||S(w))return p;if(A(this))return A(w)?R(this).j(R(w)):R(R(this).j(w));if(A(w))return R(this.j(R(w)));if(this.l(y)<0&&w.l(y)<0)return l(this.m()*w.m());let v=this.g.length+w.g.length,E=[];for(var T=0;T<2*v;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(let I=0;I<w.g.length;I++){let C=this.i(T)>>>16,_=this.i(T)&65535,kt=w.i(I)>>>16,Pr=w.i(I)&65535;E[2*T+2*I]+=_*Pr,ne(E,2*T+2*I),E[2*T+2*I+1]+=C*Pr,ne(E,2*T+2*I+1),E[2*T+2*I+1]+=_*kt,ne(E,2*T+2*I+1),E[2*T+2*I+2]+=C*kt,ne(E,2*T+2*I+2)}for(w=0;w<v;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=v;w<2*v;w++)E[w]=0;return new s(E,0)};function ne(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function he(w,v){this.g=w,this.h=v}function wt(w,v){if(S(v))throw Error("division by zero");if(S(w))return new he(p,p);if(A(w))return v=wt(R(w),v),new he(R(v.g),R(v.h));if(A(v))return v=wt(w,R(v)),new he(R(v.g),v.h);if(w.g.length>30){if(A(w)||A(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,T=v;T.l(w)<=0;)E=Ot(E),T=Ot(T);var I=it(E,1),C=it(T,1);for(T=it(T,2),E=it(E,2);!S(T);){var _=C.add(T);_.l(w)<=0&&(I=I.add(E),C=_),T=it(T,1),E=it(E,1)}return v=L(w,I.j(v)),new he(I,v)}for(I=p;w.l(v)>=0;){for(E=Math.max(1,Math.floor(w.m()/v.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=T<=48?1:Math.pow(2,T-48),C=l(E),_=C.j(v);A(_)||_.l(w)>0;)E-=T,C=l(E),_=C.j(v);S(C)&&(C=m),I=I.add(C),w=L(w,_)}return new he(I,w)}t.B=function(w){return wt(this,w).h},t.and=function(w){let v=Math.max(this.g.length,w.g.length),E=[];for(let T=0;T<v;T++)E[T]=this.i(T)&w.i(T);return new s(E,this.h&w.h)},t.or=function(w){let v=Math.max(this.g.length,w.g.length),E=[];for(let T=0;T<v;T++)E[T]=this.i(T)|w.i(T);return new s(E,this.h|w.h)},t.xor=function(w){let v=Math.max(this.g.length,w.g.length),E=[];for(let T=0;T<v;T++)E[T]=this.i(T)^w.i(T);return new s(E,this.h^w.h)};function Ot(w){let v=w.g.length+1,E=[];for(let T=0;T<v;T++)E[T]=w.i(T)<<1|w.i(T-1)>>>31;return new s(E,w.h)}function it(w,v){let E=v>>5;v%=32;let T=w.g.length-E,I=[];for(let C=0;C<T;C++)I[C]=v>0?w.i(C+E)>>>v|w.i(C+E+1)<<32-v:w.i(C+E);return new s(I,w.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,wv=C0.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,Tr=C0.Integer=s}).apply(typeof D0<"u"?D0:typeof self<"u"?self:typeof window<"u"?window:{});var wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dr={};var Tv,Z2,bs,Dv,zc,Tf,Cv,bv,Sv;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof wf=="object"&&wf];for(var d=0;d<c.length;++d){var h=c[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var h=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var D=c[g];if(!(D in h))break e;h=h[D]}c=c[c.length-1],g=h[c],d=d(g),d!=g&&d!=null&&e(h,c,{configurable:!0,writable:!0,value:d})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(d){var h=[],g;for(g in d)Object.prototype.hasOwnProperty.call(d,g)&&h.push([g,d[g]]);return h}});var o=o||{},s=this||self;function a(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function u(c,d,h){return c.call.apply(c.bind,arguments)}function l(c,d,h){return l=u,l.apply(null,arguments)}function f(c,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function p(c,d){function h(){}h.prototype=d.prototype,c.Z=d.prototype,c.prototype=new h,c.prototype.constructor=c,c.Ob=function(g,D,b){for(var k=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)k[oe-2]=arguments[oe];return d.prototype[D].apply(g,k)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function y(c){let d=c.length;if(d>0){let h=Array(d);for(let g=0;g<d;g++)h[g]=c[g];return h}return[]}function S(c,d){for(let g=1;g<arguments.length;g++){let D=arguments[g];var h=typeof D;if(h=h!="object"?h:D?Array.isArray(D)?"array":h:"null",h=="array"||h=="object"&&typeof D.length=="number"){h=c.length||0;let b=D.length||0;c.length=h+b;for(let k=0;k<b;k++)c[h+k]=D[k]}else c.push(D)}}class A{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function R(c){s.setTimeout(()=>{throw c},0)}function L(){var c=w;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class ne{constructor(){this.h=this.g=null}add(d,h){let g=he.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var he=new A(()=>new wt,c=>c.reset());class wt{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Ot,it=!1,w=new ne,v=()=>{let c=Promise.resolve(void 0);Ot=()=>{c.then(E)}};function E(){for(var c;c=L();){try{c.h.call(c.g)}catch(h){R(h)}var d=he;d.j(c),d.h<100&&(d.h++,c.next=d.g,d.g=c)}it=!1}function T(){this.u=this.u,this.C=this.C}T.prototype.u=!1,T.prototype.dispose=function(){this.u||(this.u=!0,this.N())},T.prototype[Symbol.dispose]=function(){this.dispose()},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var C=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let h=()=>{};s.addEventListener("test",h,d),s.removeEventListener("test",h,d)}catch{}return c})();function _(c){return/^[\s\xa0]*$/.test(c)}function kt(c,d){I.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,d)}p(kt,I),kt.prototype.init=function(c,d){let h=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget,d||(h=="mouseover"?d=c.fromElement:h=="mouseout"&&(d=c.toElement)),this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&kt.Z.h.call(this)},kt.prototype.h=function(){kt.Z.h.call(this);let c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Pr="closure_listenable_"+(Math.random()*1e6|0),QN=0;function YN(c,d,h,g,D){this.listener=c,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=D,this.key=++QN,this.da=this.fa=!1}function vu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function _u(c,d,h){for(let g in c)d.call(h,c[g],g,c)}function JN(c,d){for(let h in c)d.call(void 0,c[h],h,c)}function mI(c){let d={};for(let h in c)d[h]=c[h];return d}let yI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vI(c,d){let h,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(h in g)c[h]=g[h];for(let b=0;b<yI.length;b++)h=yI[b],Object.prototype.hasOwnProperty.call(g,h)&&(c[h]=g[h])}}function Eu(c){this.src=c,this.g={},this.h=0}Eu.prototype.add=function(c,d,h,g,D){let b=c.toString();c=this.g[b],c||(c=this.g[b]=[],this.h++);let k=Gh(c,d,g,D);return k>-1?(d=c[k],h||(d.fa=!1)):(d=new YN(d,this.src,b,!!g,D),d.fa=h,c.push(d)),d};function qh(c,d){let h=d.type;if(h in c.g){var g=c.g[h],D=Array.prototype.indexOf.call(g,d,void 0),b;(b=D>=0)&&Array.prototype.splice.call(g,D,1),b&&(vu(d),c.g[h].length==0&&(delete c.g[h],c.h--))}}function Gh(c,d,h,g){for(let D=0;D<c.length;++D){let b=c[D];if(!b.da&&b.listener==d&&b.capture==!!h&&b.ha==g)return D}return-1}var Wh="closure_lm_"+(Math.random()*1e6|0),Kh={};function _I(c,d,h,g,D){if(g&&g.once)return II(c,d,h,g,D);if(Array.isArray(d)){for(let b=0;b<d.length;b++)_I(c,d[b],h,g,D);return null}return h=Zh(h),c&&c[Pr]?c.J(d,h,a(g)?!!g.capture:!!g,D):EI(c,d,h,!1,g,D)}function EI(c,d,h,g,D,b){if(!d)throw Error("Invalid event type");let k=a(D)?!!D.capture:!!D,oe=Yh(c);if(oe||(c[Wh]=oe=new Eu(c)),h=oe.add(d,h,g,k,b),h.proxy)return h;if(g=ZN(),h.proxy=g,g.src=c,g.listener=h,c.addEventListener)C||(D=k),D===void 0&&(D=!1),c.addEventListener(d.toString(),g,D);else if(c.attachEvent)c.attachEvent(TI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function ZN(){function c(h){return d.call(c.src,c.listener,h)}let d=XN;return c}function II(c,d,h,g,D){if(Array.isArray(d)){for(let b=0;b<d.length;b++)II(c,d[b],h,g,D);return null}return h=Zh(h),c&&c[Pr]?c.K(d,h,a(g)?!!g.capture:!!g,D):EI(c,d,h,!0,g,D)}function wI(c,d,h,g,D){if(Array.isArray(d))for(var b=0;b<d.length;b++)wI(c,d[b],h,g,D);else g=a(g)?!!g.capture:!!g,h=Zh(h),c&&c[Pr]?(c=c.i,b=String(d).toString(),b in c.g&&(d=c.g[b],h=Gh(d,h,g,D),h>-1&&(vu(d[h]),Array.prototype.splice.call(d,h,1),d.length==0&&(delete c.g[b],c.h--)))):c&&(c=Yh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Gh(d,h,g,D)),(h=c>-1?d[c]:null)&&Qh(h))}function Qh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Pr])qh(d.i,c);else{var h=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(h,g,c.capture):d.detachEvent?d.detachEvent(TI(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=Yh(d))?(qh(h,c),h.h==0&&(h.src=null,d[Wh]=null)):vu(c)}}}function TI(c){return c in Kh?Kh[c]:Kh[c]="on"+c}function XN(c,d){if(c.da)c=!0;else{d=new kt(d,this);let h=c.listener,g=c.ha||c.src;c.fa&&Qh(c),c=h.call(g,d)}return c}function Yh(c){return c=c[Wh],c instanceof Eu?c:null}var Jh="__closure_events_fn_"+(Math.random()*1e9>>>0);function Zh(c){return typeof c=="function"?c:(c[Jh]||(c[Jh]=function(d){return c.handleEvent(d)}),c[Jh])}function gt(){T.call(this),this.i=new Eu(this),this.M=this,this.G=null}p(gt,T),gt.prototype[Pr]=!0,gt.prototype.removeEventListener=function(c,d,h,g){wI(this,c,d,h,g)};function Tt(c,d){var h,g=c.G;if(g)for(h=[];g;g=g.G)h.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new I(d,c);else if(d instanceof I)d.target=d.target||c;else{var D=d;d=new I(g,c),vI(d,D)}D=!0;let b,k;if(h)for(k=h.length-1;k>=0;k--)b=d.g=h[k],D=Iu(b,g,!0,d)&&D;if(b=d.g=c,D=Iu(b,g,!0,d)&&D,D=Iu(b,g,!1,d)&&D,h)for(k=0;k<h.length;k++)b=d.g=h[k],D=Iu(b,g,!1,d)&&D}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var c=this.i;for(let d in c.g){let h=c.g[d];for(let g=0;g<h.length;g++)vu(h[g]);delete c.g[d],c.h--}}this.G=null},gt.prototype.J=function(c,d,h,g){return this.i.add(String(c),d,!1,h,g)},gt.prototype.K=function(c,d,h,g){return this.i.add(String(c),d,!0,h,g)};function Iu(c,d,h,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();let D=!0;for(let b=0;b<d.length;++b){let k=d[b];if(k&&!k.da&&k.capture==h){let oe=k.listener,Ze=k.ha||k.src;k.fa&&qh(c.i,k),D=oe.call(Ze,g)!==!1&&D}}return D&&!g.defaultPrevented}function eM(c,d){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=l(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:s.setTimeout(c,d||0)}function DI(c){c.g=eM(()=>{c.g=null,c.i&&(c.i=!1,DI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class tM extends T{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:DI(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ia(c){T.call(this),this.h=c,this.g={}}p(ia,T);var CI=[];function bI(c){_u(c.g,function(d,h){this.g.hasOwnProperty(h)&&Qh(d)},c),c.g={}}ia.prototype.N=function(){ia.Z.N.call(this),bI(this)},ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xh=s.JSON.stringify,nM=s.JSON.parse,rM=class{stringify(c){return s.JSON.stringify(c,void 0)}parse(c){return s.JSON.parse(c,void 0)}};function SI(){}function AI(){}var oa={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ep(){I.call(this,"d")}p(ep,I);function tp(){I.call(this,"c")}p(tp,I);var bi={},RI=null;function wu(){return RI=RI||new gt}bi.Ia="serverreachability";function NI(c){I.call(this,bi.Ia,c)}p(NI,I);function sa(c){let d=wu();Tt(d,new NI(d))}bi.STAT_EVENT="statevent";function MI(c,d){I.call(this,bi.STAT_EVENT,c),this.stat=d}p(MI,I);function Dt(c){let d=wu();Tt(d,new MI(d,c))}bi.Ja="timingevent";function xI(c,d){I.call(this,bi.Ja,c),this.size=d}p(xI,I);function aa(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){c()},d)}function ca(){this.g=!0}ca.prototype.ua=function(){this.g=!1};function iM(c,d,h,g,D,b){c.info(function(){if(c.g)if(b){var k="",oe=b.split("&");for(let Me=0;Me<oe.length;Me++){var Ze=oe[Me].split("=");if(Ze.length>1){let ot=Ze[0];Ze=Ze[1];let Vn=ot.split("_");k=Vn.length>=2&&Vn[1]=="type"?k+(ot+"="+Ze+"&"):k+(ot+"=redacted&")}}}else k=null;else k=b;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+h+`
`+k})}function oM(c,d,h,g,D,b,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+h+`
`+b+" "+k})}function So(c,d,h,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+aM(c,h)+(g?" "+g:"")})}function sM(c,d){c.info(function(){return"TIMEOUT: "+d})}ca.prototype.info=function(){};function aM(c,d){if(!c.g)return d;if(!d)return null;try{let b=JSON.parse(d);if(b){for(c=0;c<b.length;c++)if(Array.isArray(b[c])){var h=b[c];if(!(h.length<2)){var g=h[1];if(Array.isArray(g)&&!(g.length<1)){var D=g[0];if(D!="noop"&&D!="stop"&&D!="close")for(let k=1;k<g.length;k++)g[k]=""}}}}return Xh(b)}catch{return d}}var Tu={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},PI={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},OI;function np(){}p(np,SI),np.prototype.g=function(){return new XMLHttpRequest},OI=new np;function ua(c){return encodeURIComponent(String(c))}function cM(c){var d=1;c=c.split(":");let h=[];for(;d>0&&c.length;)h.push(c.shift()),d--;return c.length&&h.push(c.join(":")),h}function Or(c,d,h,g){this.j=c,this.i=d,this.l=h,this.S=g||1,this.V=new ia(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new kI}function kI(){this.i=null,this.g="",this.h=!1}var LI={},rp={};function ip(c,d,h){c.M=1,c.A=Cu(Fn(d)),c.u=h,c.R=!0,FI(c,null)}function FI(c,d){c.F=Date.now(),Du(c),c.B=Fn(c.A);var h=c.B,g=c.S;Array.isArray(g)||(g=[String(g)]),YI(h.i,"t",g),c.C=0,h=c.j.L,c.h=new kI,c.g=pw(c.j,h?d:null,!c.u),c.P>0&&(c.O=new tM(l(c.Y,c,c.g),c.P)),d=c.V,h=c.g,g=c.ba;var D="readystatechange";Array.isArray(D)||(D&&(CI[0]=D.toString()),D=CI);for(let b=0;b<D.length;b++){let k=_I(h,D[b],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.J?mI(c.J):{},c.u?(c.v||(c.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,d)):(c.v="GET",c.g.ea(c.B,c.v,null,d)),sa(),iM(c.i,c.v,c.B,c.l,c.S,c.u)}Or.prototype.ba=function(c){c=c.target;let d=this.O;d&&Fr(c)==3?d.j():this.Y(c)},Or.prototype.Y=function(c){try{if(c==this.g)e:{let oe=Fr(this.g),Ze=this.g.ya(),Me=this.g.ca();if(!(oe<3)&&(oe!=3||this.g&&(this.h.h||this.g.la()||rw(this.g)))){this.K||oe!=4||Ze==7||(Ze==8||Me<=0?sa(3):sa(2)),op(this);var d=this.g.ca();this.X=d;var h=uM(this);if(this.o=d==200,oM(this.i,this.v,this.B,this.l,this.S,oe,d),this.o){if(this.U&&!this.L){t:{if(this.g){var g,D=this.g;if((g=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(g)){var b=g;break t}}b=null}if(c=b)So(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,sp(this,c);else{this.o=!1,this.m=3,Dt(12),Si(this),la(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<h.length;)if(ot=lM(this,h),ot==rp){oe==4&&(this.m=4,Dt(14),c=!1),So(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==LI){this.m=4,Dt(15),So(this.i,this.l,h,"[Invalid Chunk]"),c=!1;break}else So(this.i,this.l,ot,null),sp(this,ot);if(VI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),oe!=4||h.length!=0||this.h.h||(this.m=1,Dt(16),c=!1),this.o=this.o&&c,!c)So(this.i,this.l,h,"[Invalid Chunked Response]"),Si(this),la(this);else if(h.length>0&&!this.W){this.W=!0;var k=this.j;k.g==this&&k.aa&&!k.P&&(k.j.info("Great, no buffering proxy detected. Bytes received: "+h.length),hp(k),k.P=!0,Dt(11))}}else So(this.i,this.l,h,null),sp(this,h);oe==4&&Si(this),this.o&&!this.K&&(oe==4?lw(this.j,this):(this.o=!1,Du(this)))}else DM(this.g),d==400&&h.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),Si(this),la(this)}}}catch{}finally{}};function uM(c){if(!VI(c))return c.g.la();let d=rw(c.g);if(d==="")return"";let h="",g=d.length,D=Fr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Si(c),la(c),"";c.h.i=new s.TextDecoder}for(let b=0;b<g;b++)c.h.h=!0,h+=c.h.i.decode(d[b],{stream:!(D&&b==g-1)});return d.length=0,c.h.g+=h,c.C=0,c.h.g}function VI(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function lM(c,d){var h=c.C,g=d.indexOf(`
`,h);return g==-1?rp:(h=Number(d.substring(h,g)),isNaN(h)?LI:(g+=1,g+h>d.length?rp:(d=d.slice(g,g+h),c.C=g+h,d)))}Or.prototype.cancel=function(){this.K=!0,Si(this)};function Du(c){c.T=Date.now()+c.H,jI(c,c.H)}function jI(c,d){if(c.D!=null)throw Error("WatchDog timer not null");c.D=aa(l(c.aa,c),d)}function op(c){c.D&&(s.clearTimeout(c.D),c.D=null)}Or.prototype.aa=function(){this.D=null;let c=Date.now();c-this.T>=0?(sM(this.i,this.B),this.M!=2&&(sa(),Dt(17)),Si(this),this.m=2,la(this)):jI(this,this.T-c)};function la(c){c.j.I==0||c.K||lw(c.j,c)}function Si(c){op(c);var d=c.O;d&&typeof d.dispose=="function"&&d.dispose(),c.O=null,bI(c.V),c.g&&(d=c.g,c.g=null,d.abort(),d.dispose())}function sp(c,d){try{var h=c.j;if(h.I!=0&&(h.g==c||ap(h.h,c))){if(!c.L&&ap(h.h,c)&&h.I==3){try{var g=h.Ba.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!h.v){if(h.g)if(h.g.F+3e3<c.F)Mu(h),Ru(h);else break e;fp(h),Dt(18)}}else h.xa=D[1],0<h.xa-h.K&&D[2]<37500&&h.F&&h.A==0&&!h.C&&(h.C=aa(l(h.Va,h),6e3));$I(h.h)<=1&&h.ta&&(h.ta=void 0)}else Ri(h,11)}else if((c.L||h.g==c)&&Mu(h),!_(d))for(D=h.Ba.g.parse(d),d=0;d<D.length;d++){let Me=D[d],ot=Me[0];if(!(ot<=h.K))if(h.K=ot,Me=Me[1],h.I==2)if(Me[0]=="c"){h.M=Me[1],h.ba=Me[2];let Vn=Me[3];Vn!=null&&(h.ka=Vn,h.j.info("VER="+h.ka));let Ni=Me[4];Ni!=null&&(h.za=Ni,h.j.info("SVER="+h.za));let Vr=Me[5];Vr!=null&&typeof Vr=="number"&&Vr>0&&(g=1.5*Vr,h.O=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let jr=c.g;if(jr){let Pu=jr.g?jr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pu){var b=g.h;b.g||Pu.indexOf("spdy")==-1&&Pu.indexOf("quic")==-1&&Pu.indexOf("h2")==-1||(b.j=b.l,b.g=new Set,b.h&&(cp(b,b.h),b.h=null))}if(g.G){let pp=jr.g?jr.g.getResponseHeader("X-HTTP-Session-Id"):null;pp&&(g.wa=pp,Oe(g.J,g.G,pp))}}h.I=3,h.l&&h.l.ra(),h.aa&&(h.T=Date.now()-c.F,h.j.info("Handshake RTT: "+h.T+"ms")),g=h;var k=c;if(g.na=hw(g,g.L?g.ba:null,g.W),k.L){HI(g.h,k);var oe=k,Ze=g.O;Ze&&(oe.H=Ze),oe.D&&(op(oe),Du(oe)),g.g=k}else cw(g);h.i.length>0&&Nu(h)}else Me[0]!="stop"&&Me[0]!="close"||Ri(h,7);else h.I==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Ri(h,7):dp(h):Me[0]!="noop"&&h.l&&h.l.qa(Me),h.A=0)}}sa(4)}catch{}}var dM=class{constructor(c,d){this.g=c,this.map=d}};function UI(c){this.l=c||10,s.PerformanceNavigationTiming?(c=s.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function BI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function $I(c){return c.h?1:c.g?c.g.size:0}function ap(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function cp(c,d){c.g?c.g.add(d):c.h=d}function HI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}UI.prototype.cancel=function(){if(this.i=zI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function zI(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let h of c.g.values())d=d.concat(h.G);return d}return y(c.i)}var qI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fM(c,d){if(c){c=c.split("&");for(let h=0;h<c.length;h++){let g=c[h].indexOf("="),D,b=null;g>=0?(D=c[h].substring(0,g),b=c[h].substring(g+1)):D=c[h],d(D,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function kr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;c instanceof kr?(this.l=c.l,da(this,c.j),this.o=c.o,this.g=c.g,fa(this,c.u),this.h=c.h,up(this,JI(c.i)),this.m=c.m):c&&(d=String(c).match(qI))?(this.l=!1,da(this,d[1]||"",!0),this.o=ha(d[2]||""),this.g=ha(d[3]||"",!0),fa(this,d[4]),this.h=ha(d[5]||"",!0),up(this,d[6]||"",!0),this.m=ha(d[7]||"")):(this.l=!1,this.i=new ga(null,this.l))}kr.prototype.toString=function(){let c=[];var d=this.j;d&&c.push(pa(d,GI,!0),":");var h=this.g;return(h||d=="file")&&(c.push("//"),(d=this.o)&&c.push(pa(d,GI,!0),"@"),c.push(ua(h).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.u,h!=null&&c.push(":",String(h))),(h=this.h)&&(this.g&&h.charAt(0)!="/"&&c.push("/"),c.push(pa(h,h.charAt(0)=="/"?gM:pM,!0))),(h=this.i.toString())&&c.push("?",h),(h=this.m)&&c.push("#",pa(h,yM)),c.join("")},kr.prototype.resolve=function(c){let d=Fn(this),h=!!c.j;h?da(d,c.j):h=!!c.o,h?d.o=c.o:h=!!c.g,h?d.g=c.g:h=c.u!=null;var g=c.h;if(h)fa(d,c.u);else if(h=!!c.h){if(g.charAt(0)!="/")if(this.g&&!this.h)g="/"+g;else{var D=d.h.lastIndexOf("/");D!=-1&&(g=d.h.slice(0,D+1)+g)}if(D=g,D==".."||D==".")g="";else if(D.indexOf("./")!=-1||D.indexOf("/.")!=-1){g=D.lastIndexOf("/",0)==0,D=D.split("/");let b=[];for(let k=0;k<D.length;){let oe=D[k++];oe=="."?g&&k==D.length&&b.push(""):oe==".."?((b.length>1||b.length==1&&b[0]!="")&&b.pop(),g&&k==D.length&&b.push("")):(b.push(oe),g=!0)}g=b.join("/")}else g=D}return h?d.h=g:h=c.i.toString()!=="",h?up(d,JI(c.i)):h=!!c.m,h&&(d.m=c.m),d};function Fn(c){return new kr(c)}function da(c,d,h){c.j=h?ha(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function fa(c,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);c.u=d}else c.u=null}function up(c,d,h){d instanceof ga?(c.i=d,vM(c.i,c.l)):(h||(d=pa(d,mM)),c.i=new ga(d,c.l))}function Oe(c,d,h){c.i.set(d,h)}function Cu(c){return Oe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ha(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function pa(c,d,h){return typeof c=="string"?(c=encodeURI(c).replace(d,hM),h&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var GI=/[#\/\?@]/g,pM=/[#\?:]/g,gM=/[#\?]/g,mM=/[#\?@]/g,yM=/#/g;function ga(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Ai(c){c.g||(c.g=new Map,c.h=0,c.i&&fM(c.i,function(d,h){c.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=ga.prototype,t.add=function(c,d){Ai(this),this.i=null,c=Ao(this,c);let h=this.g.get(c);return h||this.g.set(c,h=[]),h.push(d),this.h+=1,this};function WI(c,d){Ai(c),d=Ao(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function KI(c,d){return Ai(c),d=Ao(c,d),c.g.has(d)}t.forEach=function(c,d){Ai(this),this.g.forEach(function(h,g){h.forEach(function(D){c.call(d,D,g,this)},this)},this)};function QI(c,d){Ai(c);let h=[];if(typeof d=="string")KI(c,d)&&(h=h.concat(c.g.get(Ao(c,d))));else for(c=Array.from(c.g.values()),d=0;d<c.length;d++)h=h.concat(c[d]);return h}t.set=function(c,d){return Ai(this),this.i=null,c=Ao(this,c),KI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=QI(this,c),c.length>0?String(c[0]):d):d};function YI(c,d,h){WI(c,d),h.length>0&&(c.i=null,c.g.set(Ao(c,d),y(h)),c.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(let g=0;g<d.length;g++){var h=d[g];let D=ua(h);h=QI(this,h);for(let b=0;b<h.length;b++){let k=D;h[b]!==""&&(k+="="+ua(h[b])),c.push(k)}}return this.i=c.join("&")};function JI(c){let d=new ga;return d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),d}function Ao(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function vM(c,d){d&&!c.j&&(Ai(c),c.i=null,c.g.forEach(function(h,g){let D=g.toLowerCase();g!=D&&(WI(this,g),YI(this,D,h))},c)),c.j=d}function _M(c,d){let h=new ca;if(s.Image){let g=new Image;g.onload=f(Lr,h,"TestLoadImage: loaded",!0,d,g),g.onerror=f(Lr,h,"TestLoadImage: error",!1,d,g),g.onabort=f(Lr,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=f(Lr,h,"TestLoadImage: timeout",!1,d,g),s.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function EM(c,d){let h=new ca,g=new AbortController,D=setTimeout(()=>{g.abort(),Lr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(b=>{clearTimeout(D),b.ok?Lr(h,"TestPingServer: ok",!0,d):Lr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Lr(h,"TestPingServer: error",!1,d)})}function Lr(c,d,h,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(h)}catch{}}function IM(){this.g=new rM}function bu(c){this.i=c.Sb||null,this.h=c.ab||!1}p(bu,SI),bu.prototype.g=function(){return new Su(this.i,this.h)};function Su(c,d){gt.call(this),this.H=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Su,gt),t=Su.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=d,this.readyState=1,ya(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(d.body=c),(this.H||s).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ma(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ya(this)),this.g&&(this.readyState=3,ya(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ZI(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ZI(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ma(this):ya(this),this.readyState==3&&ZI(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,ma(this))},t.Na=function(c){this.g&&(this.response=c,ma(this))},t.ga=function(){this.g&&ma(this)};function ma(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ya(c)}t.setRequestHeader=function(c,d){this.A.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,c.push(h[0]+": "+h[1]),h=d.next();return c.join(`\r
`)};function ya(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Su.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function XI(c){let d="";return _u(c,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function lp(c,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=XI(h),typeof c=="string"?h!=null&&ua(h):Oe(c,d,h))}function Ue(c){gt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ue,gt);var wM=/^https?$/i,TM=["POST","PUT"];t=Ue.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():OI.g(),this.g.onreadystatechange=m(l(this.Ca,this));try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(b){ew(this,b);return}if(c=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)h.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let b of g.keys())h.set(b,g.get(b));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(b=>b.toLowerCase()=="content-type"),D=s.FormData&&c instanceof s.FormData,!(Array.prototype.indexOf.call(TM,d,void 0)>=0)||g||D||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[b,k]of h)this.g.setRequestHeader(b,k);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(b){ew(this,b)}};function ew(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.o=5,tw(c),Au(c)}function tw(c){c.A||(c.A=!0,Tt(c,"complete"),Tt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Tt(this,"complete"),Tt(this,"abort"),Au(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Au(this,!0)),Ue.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?nw(this):this.Xa())},t.Xa=function(){nw(this)};function nw(c){if(c.h&&typeof o<"u"){if(c.v&&Fr(c)==4)setTimeout(c.Ca.bind(c),0);else if(Tt(c,"readystatechange"),Fr(c)==4){c.h=!1;try{let b=c.ca();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=b===0){let k=String(c.D).match(qI)[1]||null;!k&&s.self&&s.self.location&&(k=s.self.location.protocol.slice(0,-1)),g=!wM.test(k?k.toLowerCase():"")}h=g}if(h)Tt(c,"complete"),Tt(c,"success");else{c.o=6;try{var D=Fr(c)>2?c.g.statusText:""}catch{D=""}c.l=D+" ["+c.ca()+"]",tw(c)}}finally{Au(c)}}}}function Au(c,d){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);let h=c.g;c.g=null,d||Tt(c,"ready");try{h.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Fr(c){return c.g?c.g.readyState:0}t.ca=function(){try{return Fr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),nM(d)}};function rw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function DM(c){let d={};c=(c.g&&Fr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(_(c[g]))continue;var h=cM(c[g]);let D=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let b=d[D]||[];d[D]=b,b.push(h)}JN(d,function(g){return g.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function va(c,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[c]||d}function iw(c){this.za=0,this.i=[],this.j=new ca,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=va("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=va("baseRetryDelayMs",5e3,c),this.Za=va("retryDelaySeedMs",1e4,c),this.Ta=va("forwardChannelMaxRetries",2,c),this.va=va("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new UI(c&&c.concurrentRequestLimit),this.Ba=new IM,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=iw.prototype,t.ka=8,t.I=1,t.connect=function(c,d,h,g){Dt(0),this.W=c,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.J=hw(this,null,this.W),Nu(this)};function dp(c){if(ow(c),c.I==3){var d=c.V++,h=Fn(c.J);if(Oe(h,"SID",c.M),Oe(h,"RID",d),Oe(h,"TYPE","terminate"),_a(c,h),d=new Or(c,c.j,d),d.M=2,d.A=Cu(Fn(h)),h=!1,s.navigator&&s.navigator.sendBeacon)try{h=s.navigator.sendBeacon(d.A.toString(),"")}catch{}!h&&s.Image&&(new Image().src=d.A,h=!0),h||(d.g=pw(d.j,null),d.g.ea(d.A)),d.F=Date.now(),Du(d)}fw(c)}function Ru(c){c.g&&(hp(c),c.g.cancel(),c.g=null)}function ow(c){Ru(c),c.v&&(s.clearTimeout(c.v),c.v=null),Mu(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&s.clearTimeout(c.m),c.m=null)}function Nu(c){if(!BI(c.h)&&!c.m){c.m=!0;var d=c.Ea;Ot||v(),it||(Ot(),it=!0),w.add(d,c),c.D=0}}function CM(c,d){return $I(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=d.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=aa(l(c.Ea,c,d),dw(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;let D=new Or(this,this.j,c),b=this.o;if(this.U&&(b?(b=mI(b),vI(b,this.U)):b=this.U),this.u!==null||this.R||(D.J=b,b=null),this.S)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,d>4096){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=aw(this,D,d),h=Fn(this.J),Oe(h,"RID",c),Oe(h,"CVER",22),this.G&&Oe(h,"X-HTTP-Session-Id",this.G),_a(this,h),b&&(this.R?d="headers="+ua(XI(b))+"&"+d:this.u&&lp(h,this.u,b)),cp(this.h,D),this.Ra&&Oe(h,"TYPE","init"),this.S?(Oe(h,"$req",d),Oe(h,"SID","null"),D.U=!0,ip(D,h,null)):ip(D,h,d),this.I=2}}else this.I==3&&(c?sw(this,c):this.i.length==0||BI(this.h)||sw(this))};function sw(c,d){var h;d?h=d.l:h=c.V++;let g=Fn(c.J);Oe(g,"SID",c.M),Oe(g,"RID",h),Oe(g,"AID",c.K),_a(c,g),c.u&&c.o&&lp(g,c.u,c.o),h=new Or(c,c.j,h,c.D+1),c.u===null&&(h.J=c.o),d&&(c.i=d.G.concat(c.i)),d=aw(c,h,1e3),h.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),cp(c.h,h),ip(h,g,d)}function _a(c,d){c.H&&_u(c.H,function(h,g){Oe(d,g,h)}),c.l&&_u({},function(h,g){Oe(d,g,h)})}function aw(c,d,h){h=Math.min(c.i.length,h);let g=c.l?l(c.l.Ka,c.l,c):null;e:{var D=c.i;let oe=-1;for(;;){let Ze=["count="+h];oe==-1?h>0?(oe=D[0].g,Ze.push("ofs="+oe)):oe=0:Ze.push("ofs="+oe);let Me=!0;for(let ot=0;ot<h;ot++){var b=D[ot].g;let Vn=D[ot].map;if(b-=oe,b<0)oe=Math.max(0,D[ot].g-100),Me=!1;else try{b="req"+b+"_"||"";try{var k=Vn instanceof Map?Vn:Object.entries(Vn);for(let[Ni,Vr]of k){let jr=Vr;a(Vr)&&(jr=Xh(Vr)),Ze.push(b+Ni+"="+encodeURIComponent(jr))}}catch(Ni){throw Ze.push(b+"type="+encodeURIComponent("_badmap")),Ni}}catch{g&&g(Vn)}}if(Me){k=Ze.join("&");break e}}k=void 0}return c=c.i.splice(0,h),d.G=c,k}function cw(c){if(!c.g&&!c.v){c.Y=1;var d=c.Da;Ot||v(),it||(Ot(),it=!0),w.add(d,c),c.A=0}}function fp(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=aa(l(c.Da,c),dw(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,uw(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=aa(l(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),Ru(this),uw(this))};function hp(c){c.B!=null&&(s.clearTimeout(c.B),c.B=null)}function uw(c){c.g=new Or(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var d=Fn(c.na);Oe(d,"RID","rpc"),Oe(d,"SID",c.M),Oe(d,"AID",c.K),Oe(d,"CI",c.F?"0":"1"),!c.F&&c.ia&&Oe(d,"TO",c.ia),Oe(d,"TYPE","xmlhttp"),_a(c,d),c.u&&c.o&&lp(d,c.u,c.o),c.O&&(c.g.H=c.O);var h=c.g;c=c.ba,h.M=1,h.A=Cu(Fn(d)),h.u=null,h.R=!0,FI(h,c)}t.Va=function(){this.C!=null&&(this.C=null,Ru(this),fp(this),Dt(19))};function Mu(c){c.C!=null&&(s.clearTimeout(c.C),c.C=null)}function lw(c,d){var h=null;if(c.g==d){Mu(c),hp(c),c.g=null;var g=2}else if(ap(c.h,d))h=d.G,HI(c.h,d),g=1;else return;if(c.I!=0){if(d.o)if(g==1){h=d.u?d.u.length:0,d=Date.now()-d.F;var D=c.D;g=wu(),Tt(g,new xI(g,h)),Nu(c)}else cw(c);else if(D=d.m,D==3||D==0&&d.X>0||!(g==1&&CM(c,d)||g==2&&fp(c)))switch(h&&h.length>0&&(d=c.h,d.i=d.i.concat(h)),D){case 1:Ri(c,5);break;case 4:Ri(c,10);break;case 3:Ri(c,6);break;default:Ri(c,2)}}}function dw(c,d){let h=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(h*=2),h*d}function Ri(c,d){if(c.j.info("Error code "+d),d==2){var h=l(c.bb,c),g=c.Ua;let D=!g;g=new kr(g||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||da(g,"https"),Cu(g),D?_M(g.toString(),h):EM(g.toString(),h)}else Dt(2);c.I=0,c.l&&c.l.pa(d),fw(c),ow(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function fw(c){if(c.I=0,c.ja=[],c.l){let d=zI(c.h);(d.length!=0||c.i.length!=0)&&(S(c.ja,d),S(c.ja,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.oa()}}function hw(c,d,h){var g=h instanceof kr?Fn(h):new kr(h);if(g.g!="")d&&(g.g=d+"."+g.g),fa(g,g.u);else{var D=s.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;let b=new kr(null);g&&da(b,g),d&&(b.g=d),D&&fa(b,D),h&&(b.h=h),g=b}return h=c.G,d=c.wa,h&&d&&Oe(g,h,d),Oe(g,"VER",c.ka),_a(c,g),g}function pw(c,d,h){if(d&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Aa&&!c.ma?new Ue(new bu({ab:h})):new Ue(c.ma),d.Fa(c.L),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gw(){}t=gw.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function xu(){}xu.prototype.g=function(c,d){return new qt(c,d)};function qt(c,d){gt.call(this),this.g=new iw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(c?c["X-WebChannel-Client-Profile"]=d.sa:c={"X-WebChannel-Client-Profile":d.sa}),this.g.U=c,(c=d&&d.Qb)&&!_(c)&&(this.g.u=c),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!_(d)&&(this.g.G=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Ro(this)}p(qt,gt),qt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){dp(this.g)},qt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var h={};h.__data__=c,c=h}else this.v&&(h={},h.__data__=Xh(c),c=h);d.i.push(new dM(d.Ya++,c)),d.I==3&&Nu(d)},qt.prototype.N=function(){this.g.l=null,delete this.j,dp(this.g),delete this.g,qt.Z.N.call(this)};function mw(c){ep.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let h in d){c=h;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}p(mw,ep);function yw(){tp.call(this),this.status=1}p(yw,tp);function Ro(c){this.g=c}p(Ro,gw),Ro.prototype.ra=function(){Tt(this.g,"a")},Ro.prototype.qa=function(c){Tt(this.g,new mw(c))},Ro.prototype.pa=function(c){Tt(this.g,new yw)},Ro.prototype.oa=function(){Tt(this.g,"b")},xu.prototype.createWebChannel=xu.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,Sv=Dr.createWebChannelTransport=function(){return new xu},bv=Dr.getStatEventTarget=function(){return wu()},Cv=Dr.Event=bi,Tf=Dr.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tu.NO_ERROR=0,Tu.TIMEOUT=8,Tu.HTTP_ERROR=6,zc=Dr.ErrorCode=Tu,PI.COMPLETE="complete",Dv=Dr.EventType=PI,AI.EventType=oa,oa.OPEN="a",oa.CLOSE="b",oa.ERROR="c",oa.MESSAGE="d",gt.prototype.listen=gt.prototype.J,bs=Dr.WebChannel=AI,Z2=Dr.FetchXmlHttpFactory=bu,Ue.prototype.listenOnce=Ue.prototype.K,Ue.prototype.getLastError=Ue.prototype.Ha,Ue.prototype.getLastErrorCode=Ue.prototype.ya,Ue.prototype.getStatus=Ue.prototype.ca,Ue.prototype.getResponseJson=Ue.prototype.La,Ue.prototype.getResponseText=Ue.prototype.la,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Fa,Tv=Dr.XhrIo=Ue}).apply(typeof wf<"u"?wf:typeof self<"u"?self:typeof window<"u"?window:{});var b0="@firebase/firestore",S0="4.9.2";var dt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};dt.UNAUTHENTICATED=new dt(null),dt.GOOGLE_CREDENTIALS=new dt("google-credentials-uid"),dt.FIRST_PARTY=new dt("first-party-uid"),dt.MOCK_USER=new dt("mock-user");var Js="12.3.0";var po=new ai("@firebase/firestore");function Ss(){return po.logLevel}function F(t,...e){if(po.logLevel<=fe.DEBUG){let n=e.map(yE);po.debug(`Firestore (${Js}): ${t}`,...n)}}function Cr(t,...e){if(po.logLevel<=fe.ERROR){let n=e.map(yE);po.error(`Firestore (${Js}): ${t}`,...n)}}function Fs(t,...e){if(po.logLevel<=fe.WARN){let n=e.map(yE);po.warn(`Firestore (${Js}): ${t}`,...n)}}function yE(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,hA(t,r,n)}function hA(t,e,n){let r=`FIRESTORE (${Js}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Cr(r),new Error(r)}function be(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||hA(e,i,r)}function X(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends Zt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var rr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Nf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Pv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dt.UNAUTHENTICATED))}shutdown(){}},Ov=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},kv=class{constructor(e){this.t=e,this.currentUser=dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){be(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new rr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new rr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string",31837,{l:r}),new Nf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string",2055,{h:e}),new dt(e)}},Lv=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=dt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Fv=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Lv(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Mf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Vv=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,en(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){be(this.o===void 0,3512);let r=o=>{o.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,F("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Mf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Mf(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function X2(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Yc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=X2(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function pe(t,e){return t<e?-1:t>e?1:0}function jv(t,e){let n=Math.min(t.length,e.length);for(let r=0;r<n;r++){let i=t.charAt(r),o=e.charAt(r);if(i!==o)return Av(i)===Av(o)?pe(i,o):Av(i)?1:-1}return pe(t.length,e.length)}var ej=55296,tj=57343;function Av(t){let e=t.charCodeAt(0);return e>=ej&&e<=tj}function Vs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var A0="__name__",xf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return pe(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):jv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Tr.fromString(e.substring(4,e.length-2))}},je=class t extends xf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},nj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,tn=class t extends xf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return nj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===A0}static keyField(){return new t([A0])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new V(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new V(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new V(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var H=class t{constructor(e){this.path=e}static fromPath(e){return new t(je.fromString(e))}static fromName(e){return new t(je.fromString(e).popFirst(5))}static empty(){return new t(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new je(e.slice()))}};function pA(t,e,n){if(!n)throw new V(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rj(t,e,n,r){if(e===!0&&r===!0)throw new V(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function R0(t){if(!H.isDocumentKey(t))throw new V(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function N0(t){if(H.isDocumentKey(t))throw new V(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q(12329,{type:typeof t})}function Jc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=vE(t);throw new V(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ye(t,e){let n={typeString:t};return e&&(n.value=e),n}function uu(t,e){if(!gA(t))throw new V(M.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new V(M.INVALID_ARGUMENT,n);return!0}var M0=-62135596800,x0=1e6,Je=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*x0);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<M0)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/x0}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uu(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-M0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:Ye("string",Je._jsonSchemaVersion),seconds:Ye("number"),nanoseconds:Ye("number")};var te=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Je(0,0))}static max(){return new t(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Zc=-1,Uv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Uv.UNKNOWN_ID=-1;function ij(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new go(i,H.empty(),e)}function oj(t){return new go(t.readTime,t.key,Zc)}var go=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(te.min(),H.empty(),Zc)}static max(){return new t(te.max(),H.empty(),Zc)}};function sj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}var aj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Bv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function Zs(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==aj)throw t;F("LocalStore","Unexpectedly lost primary lease")}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(f=>{s[l]=f,++a,a===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function cj(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xs(t){return t.name==="IndexedDbTransactionError"}var _E=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ue&&this.ue(n),n}}t.ce=-1;return t})(),EE=-1;function sh(t){return t==null}function Xc(t){return t===0&&1/t==-1/0}function uj(t){return typeof t=="number"&&Number.isInteger(t)&&!Xc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var mA="";function lj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=P0(e)),e=dj(t.get(n),e);return P0(e)}function dj(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case mA:n+="";break;default:n+=o}}return n}function P0(t){return t+mA+""}var fj="remoteDocuments",yA="owner";var vA="mutationQueues";var _A="mutations";var EA="documentMutations",hj="remoteDocumentsV14";var IA="remoteDocumentGlobal";var wA="targets";var TA="targetDocuments";var DA="targetGlobal",CA="collectionParents";var bA="clientMetadata";var SA="bundles";var AA="namedQueries";var pj="indexConfiguration";var gj="indexState";var mj="indexEntries";var RA="documentOverlays";var yj="globals";var vj=[vA,_A,EA,fj,wA,yA,DA,TA,bA,IA,CA,SA,AA],xX=[...vj,RA],_j=[vA,_A,EA,hj,wA,yA,DA,TA,bA,IA,CA,SA,AA,RA],Ej=_j,Ij=[...Ej,pj,gj,mj];var PX=[...Ij,yj];function O0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Io(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var $e=class t{constructor(e,n){this.comparator=e,this.root=n||ir.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ir.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ir.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ms(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ms(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ms(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ms(this.root,e,this.comparator,!0)}},Ms=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ir=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw q(27949);return e+(this.isRed()?0:1)}};ir.EMPTY=null,ir.RED=!0,ir.BLACK=!1;ir.EMPTY=new class{constructor(){this.size=0}get key(){throw q(57766)}get value(){throw q(16141)}get color(){throw q(16727)}get left(){throw q(29726)}get right(){throw q(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new ir(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ft=class t{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pf(this.data.getIterator())}getIteratorFrom(e){return new Pf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Pf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var nr=class t{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new t([])}unionWith(e){let n=new ft(tn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Of=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var It=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Of("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};It.EMPTY_BYTE_STRING=new It("");var wj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(t){if(be(!!t,39018),typeof t=="string"){let e=0,n=wj.exec(t);if(be(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Sr(t){return typeof t=="string"?It.fromBase64String(t):It.fromUint8Array(t)}var MA="server_timestamp",xA="__type__",PA="__previous_value__",OA="__local_write_time__";function IE(t){return(t?.mapValue?.fields||{})[xA]?.stringValue===MA}function ah(t){let e=t.mapValue.fields[PA];return IE(e)?ah(e):e}function eu(t){let e=br(t.mapValue.fields[OA].timestampValue);return new Je(e.seconds,e.nanos)}var $v=class{constructor(e,n,r,i,o,s,a,u,l,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=f}},kf="(default)",Lf=class t{constructor(e,n){this.projectId=e,this.database=n||kf}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===kf}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var wE="__type__",kA="__max__",Df={mapValue:{fields:{__type__:{stringValue:kA}}}},TE="__vector__",js="value";function mi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?IE(t)?4:FA(t)?9007199254740991:LA(t)?10:11:q(28295,{value:t})}function ar(t,e){if(t===e)return!0;let n=mi(t);if(n!==mi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eu(t).isEqual(eu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=br(i.timestampValue),a=br(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Sr(i.bytesValue).isEqual(Sr(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ve(i.geoPointValue.latitude)===Ve(o.geoPointValue.latitude)&&Ve(i.geoPointValue.longitude)===Ve(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ve(i.integerValue)===Ve(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ve(i.doubleValue),a=Ve(o.doubleValue);return s===a?Xc(s)===Xc(a):isNaN(s)&&isNaN(a)}return!1})(t,e);case 9:return Vs(t.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(O0(s)!==O0(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!ar(s[u],a[u])))return!1;return!0})(t,e);default:return q(52216,{left:t})}}function tu(t,e){return(t.values||[]).find(n=>ar(n,e))!==void 0}function Us(t,e){if(t===e)return 0;let n=mi(t),r=mi(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Ve(o.integerValue||o.doubleValue),u=Ve(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(t,e);case 3:return k0(t.timestampValue,e.timestampValue);case 4:return k0(eu(t),eu(e));case 5:return jv(t.stringValue,e.stringValue);case 6:return(function(o,s){let a=Sr(o),u=Sr(s);return a.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let f=pe(a[l],u[l]);if(f!==0)return f}return pe(a.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=pe(Ve(o.latitude),Ve(s.latitude));return a!==0?a:pe(Ve(o.longitude),Ve(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return L0(t.arrayValue,e.arrayValue);case 10:return(function(o,s){let a=o.fields||{},u=s.fields||{},l=a[js]?.arrayValue,f=u[js]?.arrayValue,p=pe(l?.values?.length||0,f?.values?.length||0);return p!==0?p:L0(l,f)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Df.mapValue&&s===Df.mapValue)return 0;if(o===Df.mapValue)return 1;if(s===Df.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let m=jv(u[p],f[p]);if(m!==0)return m;let y=Us(a[u[p]],l[f[p]]);if(y!==0)return y}return pe(u.length,f.length)})(t.mapValue,e.mapValue);default:throw q(23264,{he:n})}}function k0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);let n=br(t),r=br(e),i=pe(n.seconds,r.seconds);return i!==0?i:pe(n.nanos,r.nanos)}function L0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Us(n[i],r[i]);if(o)return o}return pe(n.length,r.length)}function Bs(t){return Hv(t)}function Hv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=br(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Sr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return H.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Hv(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Hv(n.fields[s])}`;return i+"}"})(t.mapValue):q(61005,{value:t})}function Sf(t){switch(mi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=ah(t);return e?16+Sf(e):16;case 5:return 2*t.stringValue.length;case 6:return Sr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Sf(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Io(r.fields,(o,s)=>{i+=o.length+Sf(s)}),i})(t.mapValue);default:throw q(13486,{value:t})}}function zv(t){return!!t&&"integerValue"in t}function DE(t){return!!t&&"arrayValue"in t}function F0(t){return!!t&&"nullValue"in t}function V0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Af(t){return!!t&&"mapValue"in t}function LA(t){return(t?.mapValue?.fields||{})[wE]?.stringValue===TE}function Gc(t){if(t.geoPointValue)return{geoPointValue:N({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:N({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Io(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Gc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gc(t.arrayValue.values[n]);return e}return N({},t)}function FA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===kA}var kX={mapValue:{fields:{[wE]:{stringValue:TE},[js]:{arrayValue:{}}}}};var kn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Af(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gc(n)}setAll(e){let n=tn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Gc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Af(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Af(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Io(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Gc(this.value))}};function VA(t){let e=[];return Io(t.fields,(n,r)=>{let i=new tn([n]);if(Af(r)){let o=VA(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new nr(e)}var Ln=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,te.min(),te.min(),te.min(),kn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,te.min(),te.min(),kn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,te.min(),te.min(),kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var $s=class{constructor(e,n){this.position=e,this.inclusive=n}};function j0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=H.comparator(H.fromName(s.referenceValue),n.key):r=Us(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function U0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ar(t.position[n],e.position[n]))return!1;return!0}var Hs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Tj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ff=class{},rt=class t extends Ff{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Gv(e,n,r):n==="array-contains"?new Qv(e,r):n==="in"?new Yv(e,r):n==="not-in"?new Jv(e,r):n==="array-contains-any"?new Zv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Wv(e,r):new Kv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Us(n,this.value)):n!==null&&mi(this.value)===mi(n)&&this.matchesComparison(Us(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},cr=class t extends Ff{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new t(e,n)}matches(e){return jA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function jA(t){return t.op==="and"}function UA(t){return Dj(t)&&jA(t)}function Dj(t){for(let e of t.filters)if(e instanceof cr)return!1;return!0}function qv(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+Bs(t.value);if(UA(t))return t.filters.map(e=>qv(e)).join(",");{let e=t.filters.map(n=>qv(n)).join(",");return`${t.op}(${e})`}}function BA(t,e){return t instanceof rt?(function(r,i){return i instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&ar(r.value,i.value)})(t,e):t instanceof cr?(function(r,i){return i instanceof cr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&BA(s,i.filters[a]),!0):!1})(t,e):void q(19439)}function $A(t){return t instanceof rt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Bs(n.value)}`})(t):t instanceof cr?(function(n){return n.op.toString()+" {"+n.getFilters().map($A).join(" ,")+"}"})(t):"Filter"}var Gv=class extends rt{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){let n=H.comparator(e.key,this.key);return this.matchesComparison(n)}},Wv=class extends rt{constructor(e,n){super(e,"in",n),this.keys=HA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Kv=class extends rt{constructor(e,n){super(e,"not-in",n),this.keys=HA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function HA(t,e){return(e.arrayValue?.values||[]).map(n=>H.fromName(n.referenceValue))}var Qv=class extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return DE(n)&&tu(n.arrayValue,this.value)}},Yv=class extends rt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}},Jv=class extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tu(this.value.arrayValue,n)}},Zv=class extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!DE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>tu(this.value.arrayValue,r))}};var Xv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}};function B0(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Xv(t,e,n,r,i,o,s)}function CE(t){let e=X(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>qv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bs(r)).join(",")),e.Te=n}return e.Te}function bE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Tj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!U0(t.startAt,e.startAt)&&U0(t.endAt,e.endAt)}function e_(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var zs=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function Cj(t,e,n,r,i,o,s,a){return new zs(t,e,n,r,i,o,s,a)}function zA(t){return new zs(t)}function $0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bj(t){return t.collectionGroup!==null}function Wc(t){let e=X(t);if(e.Ie===null){e.Ie=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ft(tn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Hs(o,r))}),n.has(tn.keyField().canonicalString())||e.Ie.push(new Hs(tn.keyField(),r))}return e.Ie}function or(t){let e=X(t);return e.Ee||(e.Ee=Sj(e,Wc(t))),e.Ee}function Sj(t,e){if(t.limitType==="F")return B0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Hs(i.field,o)});let n=t.endAt?new $s(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $s(t.startAt.position,t.startAt.inclusive):null;return B0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function t_(t,e,n){return new zs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ch(t,e){return bE(or(t),or(e))&&t.limitType===e.limitType}function qA(t){return`${CE(or(t))}|lt:${t.limitType}`}function As(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>$A(i)).join(", ")}]`),sh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Bs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Bs(i)).join(",")),`Target(${r})`})(or(t))}; limitType=${t.limitType})`}function uh(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):H.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of Wc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=j0(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,Wc(r),i)||r.endAt&&!(function(s,a,u){let l=j0(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,Wc(r),i))})(t,e)}function Aj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function GA(t){return(e,n)=>{let r=!1;for(let i of Wc(t)){let o=Rj(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Rj(t,e,n){let r=t.field.isKeyField()?H.comparator(e.key,n.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Us(u,l):q(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q(19790,{direction:t.dir})}}var Ar=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Io(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return NA(this.inner)}size(){return this.innerSize}};var Nj=new $e(H.comparator);function Rr(){return Nj}var WA=new $e(H.comparator);function qc(...t){let e=WA;for(let n of t)e=e.insert(n.key,n);return e}function KA(t){let e=WA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fo(){return Kc()}function QA(){return Kc()}function Kc(){return new Ar(t=>t.toString(),(t,e)=>t.isEqual(e))}var Mj=new $e(H.comparator),xj=new ft(H.comparator);function ge(...t){let e=xj;for(let n of t)e=e.add(n);return e}var Pj=new ft(pe);function Oj(){return Pj}function SE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(e)?"-0":e}}function YA(t){return{integerValue:""+t}}function kj(t,e){return uj(e)?YA(e):SE(t,e)}var qs=class{constructor(){this._=void 0}};function Lj(t,e,n){return t instanceof mo?(function(i,o){let s={fields:{[xA]:{stringValue:MA},[OA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&IE(o)&&(o=ah(o)),o&&(s.fields[PA]=o),{mapValue:s}})(n,e):t instanceof yo?ZA(t,e):t instanceof vo?XA(t,e):(function(i,o){let s=JA(i,o),a=H0(s)+H0(i.Ae);return zv(s)&&zv(i.Ae)?YA(a):SE(i.serializer,a)})(t,e)}function Fj(t,e,n){return t instanceof yo?ZA(t,e):t instanceof vo?XA(t,e):n}function JA(t,e){return t instanceof Gs?(function(r){return zv(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var mo=class extends qs{},yo=class extends qs{constructor(e){super(),this.elements=e}};function ZA(t,e){let n=eR(e);for(let r of t.elements)n.some(i=>ar(i,r))||n.push(r);return{arrayValue:{values:n}}}var vo=class extends qs{constructor(e){super(),this.elements=e}};function XA(t,e){let n=eR(e);for(let r of t.elements)n=n.filter(i=>!ar(i,r));return{arrayValue:{values:n}}}var Gs=class extends qs{constructor(e,n){super(),this.serializer=e,this.Ae=n}};function H0(t){return Ve(t.integerValue||t.doubleValue)}function eR(t){return DE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var n_=class{constructor(e,n){this.field=e,this.transform=n}};function Vj(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof yo&&i instanceof yo||r instanceof vo&&i instanceof vo?Vs(r.elements,i.elements,ar):r instanceof Gs&&i instanceof Gs?ar(r.Ae,i.Ae):r instanceof mo&&i instanceof mo})(t.transform,e.transform)}var r_=class{constructor(e,n){this.version=e,this.transformResults=n}},di=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Rf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ws=class{};function tR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nu(t.key,di.none()):new _o(t.key,t.data,di.none());{let n=t.data,r=kn.empty(),i=new ft(tn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Nr(t.key,r,new nr(i.toArray()),di.none())}}function jj(t,e,n){t instanceof _o?(function(i,o,s){let a=i.value.clone(),u=q0(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(t,e,n):t instanceof Nr?(function(i,o,s){if(!Rf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=q0(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(nR(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function Qc(t,e,n,r){return t instanceof _o?(function(o,s,a,u){if(!Rf(o.precondition,s))return a;let l=o.value.clone(),f=G0(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof Nr?(function(o,s,a,u){if(!Rf(o.precondition,s))return a;let l=G0(o.fieldTransforms,u,s),f=s.data;return f.setAll(nR(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(t,e,n,r):(function(o,s,a){return Rf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(t,e,n)}function Uj(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=JA(r.transform,i||null);o!=null&&(n===null&&(n=kn.empty()),n.set(r.field,o))}return n||null}function z0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vs(r,i,(o,s)=>Vj(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var _o=class extends Ws{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Nr=class extends Ws{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function nR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function q0(t,e,n){let r=new Map;be(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Fj(s,a,n[i]))}return r}function G0(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,Lj(o,s,e))}return r}var nu=class extends Ws{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},i_=class extends Ws{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var o_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&jj(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Qc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=QA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=tR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&Vs(this.mutations,e.mutations,(n,r)=>z0(n,r))&&Vs(this.baseMutations,e.baseMutations,(n,r)=>z0(n,r))}},s_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){be(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Mj})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var a_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var c_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ke,ye;function Bj(t){switch(t){case M.OK:return q(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return q(15467,{code:t})}}function rR(t){if(t===void 0)return Cr("GRPC error has no .code"),M.UNKNOWN;switch(t){case Ke.OK:return M.OK;case Ke.CANCELLED:return M.CANCELLED;case Ke.UNKNOWN:return M.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return M.INTERNAL;case Ke.UNAVAILABLE:return M.UNAVAILABLE;case Ke.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Ke.NOT_FOUND:return M.NOT_FOUND;case Ke.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Ke.ABORTED:return M.ABORTED;case Ke.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Ke.DATA_LOSS:return M.DATA_LOSS;default:return q(39323,{code:t})}}(ye=Ke||(Ke={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";var $j=null;function Hj(){return new TextEncoder}var zj=new Tr([4294967295,4294967295],0);function W0(t){let e=Hj().encode(t),n=new wv;return n.update(e),new Uint8Array(n.digest())}function K0(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Tr([n,r],0),new Tr([i,o],0)]}var u_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ho(`Invalid padding: ${n}`);if(r<0)throw new ho(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ho(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ho(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Tr.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Tr.fromNumber(r)));return i.compare(zj)===1&&(i=new Tr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let n=W0(e),[r,i]=K0(n);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;let n=W0(e),[r,i]=K0(n);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);this.Se(s)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},ho=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Vf=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(te.min(),i,new $e(pe),Rr(),ge())}},ru=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ge(),ge(),ge())}};var Ps=class{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}},jf=class{constructor(e,n){this.targetId=e,this.Ce=n}},Uf=class{constructor(e,n,r=It.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Bf=class{constructor(){this.ve=0,this.Fe=Q0(),this.Me=It.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ge(),n=ge(),r=ge();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:q(38017,{changeType:o})}}),new ru(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Q0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,be(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},l_=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rr(),this.Je=Cf(),this.He=Cf(),this.Ye=new $e(pe)}Ze(e){for(let n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(let n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{let r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){let n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){let o=i.target;if(e_(o))if(r===0){let s=new H(o.path);this.et(n,s,Ln.newNoDocument(s,te.min()))}else be(r===1,20013,{expectedCount:r});else{let s=this._t(n);if(s!==r){let a=this.ut(e),u=a?this.ct(a,e,s):1;if(u!==0){this.it(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,l)}$j?.lt((function(f,p,m,y,S){let A={localCacheCount:f,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},R=p.unchangedNames;return R&&(A.bloomFilter={applied:S===0,hashCount:R?.hashCount??0,bitmapLength:R?.bits?.bitmap?.length??0,padding:R?.bits?.padding??0,mightContain:L=>y?.mightContain(L)??!1}),A})(s,e.Ce,this.Ge.ht(),a,u))}}}}ut(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Sr(r).toUint8Array()}catch(u){if(u instanceof Of)return Fs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new u_(s,i,o)}catch(u){return Fs(u instanceof ho?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){let r=this.Ge.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){let n=new Map;this.ze.forEach((o,s)=>{let a=this.ot(s);if(a){if(o.current&&e_(a.target)){let u=new H(a.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,Ln.newNoDocument(u,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=ge();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.ot(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));let i=new Vf(e,n,this.Ye,this.je,r);return this.je=Rr(),this.Je=Cf(),this.He=Cf(),this.Ye=new $e(pe),i}Xe(e,n){if(!this.rt(e))return;let r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){let n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Bf,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ft(pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ft(pe),this.Je=this.Je.insert(e,n)),n}rt(e){let n=this.ot(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}ot(e){let n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Bf),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}};function Cf(){return new $e(H.comparator)}function Q0(){return new $e(H.comparator)}var qj={asc:"ASCENDING",desc:"DESCENDING"},Gj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wj={and:"AND",or:"OR"},d_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function f_(t,e){return t.useProto3Json||sh(e)?e:{value:e}}function $f(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Kj(t,e){return $f(t,e.toTimestamp())}function sr(t){return be(!!t,49232),te.fromTimestamp((function(n){let r=br(n);return new Je(r.seconds,r.nanos)})(t))}function AE(t,e){return h_(t,e).canonicalString()}function h_(t,e){let n=(function(i){return new je(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function oR(t){let e=je.fromString(t);return be(lR(e),10190,{key:e.toString()}),e}function p_(t,e){return AE(t.databaseId,e.path)}function Rv(t,e){let n=oR(e);if(n.get(1)!==t.databaseId.projectId)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(aR(n))}function sR(t,e){return AE(t.databaseId,e)}function Qj(t){let e=oR(t);return e.length===4?je.emptyPath():aR(e)}function g_(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aR(t){return be(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Y0(t,e,n){return{name:p_(t,e),fields:n.value.mapValue.fields}}function Yj(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:q(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,f){return l.useProto3Json?(be(f===void 0||typeof f=="string",58123),It.fromBase64String(f||"")):(be(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),It.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let f=l.code===void 0?M.UNKNOWN:rR(l.code);return new V(f,l.message||"")})(s);n=new Uf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Rv(t,r.document.name),o=sr(r.document.updateTime),s=r.document.createTime?sr(r.document.createTime):te.min(),a=new kn({mapValue:{fields:r.document.fields}}),u=Ln.newFoundDocument(i,o,s,a),l=r.targetIds||[],f=r.removedTargetIds||[];n=new Ps(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Rv(t,r.document),o=r.readTime?sr(r.readTime):te.min(),s=Ln.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ps([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Rv(t,r.document),o=r.removedTargetIds||[];n=new Ps([],o,i,null)}else{if(!("filter"in e))return q(11601,{Rt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new c_(i,o),a=r.targetId;n=new jf(a,s)}}return n}function Jj(t,e){let n;if(e instanceof _o)n={update:Y0(t,e.key,e.value)};else if(e instanceof nu)n={delete:p_(t,e.key)};else if(e instanceof Nr)n={update:Y0(t,e.key,e.data),updateMask:sU(e.fieldMask)};else{if(!(e instanceof i_))return q(16599,{Vt:e.type});n={verify:p_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof mo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof vo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gs)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw q(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:Kj(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:q(27497)})(t,e.precondition)),n}function Zj(t,e){return t&&t.length>0?(be(e!==void 0,14353),t.map(n=>(function(i,o){let s=i.updateTime?sr(i.updateTime):sr(o);return s.isEqual(te.min())&&(s=sr(o)),new r_(s,i.transformResults||[])})(n,e))):[]}function Xj(t,e){return{documents:[sR(t,e.path)]}}function eU(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sR(t,i);let o=(function(l){if(l.length!==0)return uR(cr.create(l,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(f=>(function(m){return{field:Rs(m.field),direction:rU(m.dir)}})(f))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=f_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{ft:n,parent:i}}function tU(t){let e=Qj(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){be(r===1,65062);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=(function(p){let m=cR(p);return m instanceof cr&&UA(m)?m.getFilters():[m]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map(m=>(function(S){return new Hs(Ns(S.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(m))})(n.orderBy));let a=null;n.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,sh(m)?null:m})(n.limit));let u=null;n.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new $s(y,m)})(n.startAt));let l=null;return n.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new $s(y,m)})(n.endAt)),Cj(e,i,s,o,a,"F",u,l)}function nU(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ns(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ns(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ns(n.unaryFilter.field);return rt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ns(n.unaryFilter.field);return rt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return q(61313);default:return q(60726)}})(t):t.fieldFilter!==void 0?(function(n){return rt.create(Ns(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return q(58110);default:return q(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return cr.create(n.compositeFilter.filters.map(r=>cR(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q(1026)}})(n.compositeFilter.op))})(t):q(30097,{filter:t})}function rU(t){return qj[t]}function iU(t){return Gj[t]}function oU(t){return Wj[t]}function Rs(t){return{fieldPath:t.canonicalString()}}function Ns(t){return tn.fromServerFormat(t.fieldPath)}function uR(t){return t instanceof rt?(function(n){if(n.op==="=="){if(V0(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NAN"}};if(F0(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(V0(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NOT_NAN"}};if(F0(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rs(n.field),op:iU(n.op),value:n.value}}})(t):t instanceof cr?(function(n){let r=n.getFilters().map(i=>uR(i));return r.length===1?r[0]:{compositeFilter:{op:oU(n.op),filters:r}}})(t):q(54877,{filter:t})}function sU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var iu=class t{constructor(e,n,r,i,o=te.min(),s=te.min(),a=It.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var m_=class{constructor(e){this.yt=e}};function aU(t){let e=tU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?t_(e,e.limit,"L"):e}var Hf=class{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Ve(e.integerValue));else if("doubleValue"in e){let r=Ve(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Xc(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=br(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Sr(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?FA(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):LA(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):q(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){let r=e.fields||{};this.Ft(n,55);for(let i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){let r=e.fields||{};this.Ft(n,53);let i=js,o=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(Ve(o)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){let r=e.values||[];this.Ft(n,50);for(let i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),H.fromName(e).path.forEach(r=>{this.Ft(n,60),this.Ut(r,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}};Hf.Kt=new Hf;var y_=class{constructor(){this.Cn=new v_}addToCollectionParentIndex(e,n){return this.Cn.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(go.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(go.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},v_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ft(je.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ft(je.comparator)).toArray()}};var LX=new Uint8Array(0);var J0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dR=41943040,gn=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(dR,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);var ou=class t{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new t(0)}static cr(){return new t(-1)}};var Z0="LruGarbageCollector",cU=1048576;function X0([t,e],[n,r]){let i=pe(t,n);return i===0?pe(e,r):i}var __=class{constructor(e){this.Ir=e,this.buffer=new ft(X0),this.Er=0}dr(){return++this.Er}Ar(e){let n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();X0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},E_=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){F(Z0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xs(n)?F(Z0,"Ignoring IndexedDB error during garbage collection: ",n):await Zs(n)}await this.Vr(3e5)})}},I_=class{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return x.resolve(_E.ce);let r=new __(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(J0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),J0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Ss()<=fe.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function uU(t,e){return new I_(t,e)}var w_=class{constructor(){this.changes=new Ar(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var T_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var D_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Qc(r.mutation,i,nr.empty(),Je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){let i=fo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=qc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=fo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Rr(),s=Kc(),a=(function(){return Kc()})();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Nr)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),Qc(f.mutation,l,f.mutation.getFieldMask(),Je.now())):s.set(l.key,nr.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>a.set(l,new T_(f,s.get(l)??null))),a))}recalculateAndSaveOverlays(e,n){let r=Kc(),i=new $e((s,a)=>s-a),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||nr.empty();f=a.applyToLocalView(l,f),r.set(u,f);let p=(i.get(a.batchId)||ge()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,f=u.value,p=QA();f.forEach(m=>{if(!o.has(m)){let y=tR(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return H.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):x.resolve(fo()),a=Zc,u=o;return s.next(l=>x.forEach(l,(f,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(f)?x.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ge())).next(f=>({batchId:a,changes:KA(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=qc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=qc();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,u=>{let l=(function(p,m){return new zs(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,Ln.newInvalidDocument(f)))});let a=qc();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&Qc(f.mutation,l,nr.empty(),Je.now()),uh(n,l)&&(a=a.insert(u,l))}),a})}};var C_=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return x.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:sr(i.createTime)}})(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:aU(i.bundledQuery),readTime:sr(i.readTime)}})(n)),x.resolve()}};var b_=class{constructor(){this.overlays=new $e(H.comparator),this.qr=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=fo();return x.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=fo(),o=n.length+1,s=new H(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new $e((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=fo(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let a=fo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>a.set(l,f)),!(a.size()>=i)););return x.resolve(a)}St(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new a_(n,r));let o=this.qr.get(n);o===void 0&&(o=ge(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}};var S_=class{constructor(){this.sessionToken=It.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var su=class{constructor(){this.Qr=new ft(Qe.$r),this.Ur=new ft(Qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){let r=new Qe(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Qe(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){let n=new H(new je([])),r=new Qe(n,e),i=new Qe(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let n=new H(new je([])),r=new Qe(n,e),i=new Qe(n,e+1),o=ge();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Qe(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Qe=class{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return H.comparator(e.key,n.key)||pe(e.Yr,n.Yr)}static Kr(e,n){return pe(e.Yr,n.Yr)||H.comparator(e.key,n.key)}};var A_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ft(Qe.$r)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new o_(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Zr=this.Zr.add(new Qe(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,n){return x.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.ei(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?EE:this.tr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Qe(n,0),i=new Qe(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{let a=this.Xr(s.Yr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ft(pe);return n.forEach(i=>{let o=new Qe(i,0),s=new Qe(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),x.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;H.isDocumentKey(o)||(o=o.child(""));let s=new Qe(new H(o),0),a=new ft(pe);return this.Zr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Yr)),!0)},s),x.resolve(this.ti(a))}ti(e){let n=[];return e.forEach(r=>{let i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){be(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return x.forEach(n.mutations,i=>{let o=new Qe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){let r=new Qe(n,0),i=this.Zr.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var R_=class{constructor(e){this.ri=e,this.docs=(function(){return new $e(H.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Ln.newInvalidDocument(n))}getEntries(e,n){let r=Rr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ln.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Rr(),s=n.path,a=new H(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||sj(oj(f),r)<=0||(i.has(f.key)||uh(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,n,r,i){q(9500)}ii(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new N_(this)}getSize(e){return x.resolve(this.size)}},N_=class extends w_{constructor(e){super(),this.Nr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}};var M_=class{constructor(e){this.persistence=e,this.si=new Ar(n=>CE(n),bE),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.oi=0,this._i=new su,this.targetCount=0,this.ai=ou.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),x.resolve()}Pr(e){this.si.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ai=new ou(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Pr(n),x.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.si.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this._i.Hr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this._i.containsKey(n))}};var zf=class{constructor(e,n){this.ui={},this.overlays={},this.ci=new _E(0),this.li=!1,this.li=!0,this.hi=new S_,this.referenceDelegate=e(this),this.Pi=new M_(this),this.indexManager=new y_,this.remoteDocumentCache=(function(i){return new R_(i)})(r=>this.referenceDelegate.Ti(r)),this.serializer=new m_(n),this.Ii=new C_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new b_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new A_(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){F("MemoryPersistence","Starting transaction:",e);let i=new x_(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return x.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}},x_=class extends Bv{constructor(e){super(),this.currentSequenceNumber=e}},P_=class t{constructor(e){this.persistence=e,this.Ri=new su,this.Vi=null}static mi(e){return new t(e)}get fi(){if(this.Vi)return this.Vi;throw q(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),x.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.fi,r=>{let i=H.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,te.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return x.or([()=>x.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}},qf=class t{constructor(e,n){this.persistence=e,this.pi=new Ar(r=>lj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=uU(this,n)}static mi(e,n){return new t(e,n)}Ei(){}di(e){return x.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){let n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return x.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?x.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,te.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),x.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),x.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sf(e.data.value)),n}br(e,n,r){return x.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.pi.get(n);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var O_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ge(),i=ge();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var k_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var L_=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return s0()?8:cj(lt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new k_;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ss()<=fe.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",As(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),x.resolve()):(Ss()<=fe.DEBUG&&F("QueryEngine","Query:",As(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ss()<=fe.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",As(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(n))):x.resolve())}ys(e,n){if($0(n))return x.resolve(null);let r=or(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=t_(n,null,"F"),r=or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ge(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.Ds(n,a);return this.Cs(n,l,s,u.readTime)?this.ys(e,t_(n,null,"F")):this.vs(e,l,n,u)}))})))}ws(e,n,r,i){return $0(n)||i.isEqual(te.min())?x.resolve(null):this.ps.getDocuments(e,r).next(o=>{let s=this.Ds(n,o);return this.Cs(n,s,r,i)?x.resolve(null):(Ss()<=fe.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),As(n)),this.vs(e,s,n,ij(i,Zc)).next(a=>a))})}Ds(e,n){let r=new ft(GA(e));return n.forEach((i,o)=>{uh(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Ss()<=fe.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",As(n)),this.ps.getDocumentsMatchingQuery(e,n,go.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var RE="LocalStore",lU=3e8,F_=class{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new $e(pe),this.xs=new Ar(o=>CE(o),bE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D_(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}};function dU(t,e,n,r){return new F_(t,e,n,r)}async function fR(t,e){let n=X(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ge();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){a.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Ls:l,removedBatchIds:s,addedBatchIds:a}))})})}function fU(t,e){let n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,f){let p=l.batch,m=p.keys(),y=x.resolve();return m.forEach(S=>{y=y.next(()=>f.getEntry(u,S)).next(A=>{let R=l.docVersions.get(S);be(R!==null,48541),A.version.compareTo(R)<0&&(p.applyToRemoteDocument(A,l),A.isValidDocument()&&(A.setReadTime(l.commitVersion),f.addEntry(A)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=ge();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function hR(t){let e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function hU(t,e){let n=X(t),r=e.snapshotVersion,i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;let a=[];e.targetChanges.forEach((f,p)=>{let m=i.get(p);if(!m)return;a.push(n.Pi.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(o,f.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(It.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(p,y),(function(A,R,L){return A.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=lU?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(m,y,f)&&a.push(n.Pi.updateTargetData(o,y))});let u=Rr(),l=ge();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push(pU(o,s,e.documentUpdates).next(f=>{u=f.ks,l=f.qs})),!r.isEqual(te.min())){let f=n.Pi.getLastRemoteSnapshotVersion(o).next(p=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(f)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Ms=i,o))}function pU(t,e,n){let r=ge(),i=ge();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Rr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):F(RE,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{ks:s,qs:i}})}function gU(t,e){let n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=EE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mU(t,e){let n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new iu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function V_(t,e,n){let r=X(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Xs(s))throw s;F(RE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function eA(t,e,n){let r=X(t),i=te.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,f){let p=X(u),m=p.xs.get(f);return m!==void 0?x.resolve(p.Ms.get(m)):p.Pi.getTargetData(l,f)})(r,s,or(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:te.min(),n?o:ge())).next(a=>(yU(r,Aj(e),a),{documents:a,Qs:o})))}function yU(t,e,n){let r=t.Os.get(e)||te.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}var Gf=class{constructor(){this.activeTargetIds=Oj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var j_=class{constructor(){this.Mo=new Gf,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Gf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var U_=class{Oo(e){}shutdown(){}};var tA="ConnectivityMonitor",Wf=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){F(tA,"Network connectivity changed: AVAILABLE");for(let e of this.qo)e(0)}ko(){F(tA,"Network connectivity changed: UNAVAILABLE");for(let e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var bf=null;function B_(){return bf===null?bf=(function(){return 268435456+Math.round(2147483648*Math.random())})():bf++,"0x"+bf.toString(16)}var Nv="RestConnection",vU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},$_=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===kf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){let s=B_(),a=this.zo(e,n.toUriEncodedString());F(Nv,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,o);let{host:l}=new URL(a),f=si(l);return this.Jo(e,a,u,r,f).then(p=>(F(Nv,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Fs(Nv,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Js})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){let r=vU[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}};var H_=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}};var Et="WebChannelConnection",z_=class extends $_{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){let s=B_();return new Promise((a,u)=>{let l=new Tv;l.setWithCredentials(!0),l.listenOnce(Dv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case zc.NO_ERROR:let p=l.getResponseJson();F(Et,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case zc.TIMEOUT:F(Et,`RPC '${e}' ${s} timed out`),u(new V(M.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:let m=l.getStatus();if(F(Et,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let S=y?.error;if(S&&S.status&&S.message){let A=(function(L){let ne=L.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(ne)>=0?ne:M.UNKNOWN})(S.status);u(new V(A,S.message))}else u(new V(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new V(M.UNAVAILABLE,"Connection failed."));break;default:q(9055,{l_:e,streamId:s,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{F(Et,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);F(Et,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",f,r,15)})}T_(e,n,r){let i=B_(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Sv(),a=bv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");F(Et,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u);this.I_(p);let m=!1,y=!1,S=new H_({Yo:R=>{y?F(Et,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(F(Et,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),F(Et,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Zo:()=>p.close()}),A=(R,L,ne)=>{R.listen(L,he=>{try{ne(he)}catch(wt){setTimeout(()=>{throw wt},0)}})};return A(p,bs.EventType.OPEN,()=>{y||(F(Et,`RPC '${e}' stream ${i} transport opened.`),S.o_())}),A(p,bs.EventType.CLOSE,()=>{y||(y=!0,F(Et,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(p))}),A(p,bs.EventType.ERROR,R=>{y||(y=!0,Fs(Et,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),S.a_(new V(M.UNAVAILABLE,"The operation could not be completed")))}),A(p,bs.EventType.MESSAGE,R=>{if(!y){let L=R.data[0];be(!!L,16349);let ne=L,he=ne?.error||ne[0]?.error;if(he){F(Et,`RPC '${e}' stream ${i} received error:`,he);let wt=he.status,Ot=(function(v){let E=Ke[v];if(E!==void 0)return rR(E)})(wt),it=he.message;Ot===void 0&&(Ot=M.INTERNAL,it="Unknown error status: "+wt+" with message "+he.message),y=!0,S.a_(new V(Ot,it)),p.close()}else F(Et,`RPC '${e}' stream ${i} received:`,L),S.u_(L)}}),A(a,Cv.STAT_EVENT,R=>{R.stat===Tf.PROXY?F(Et,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Tf.NOPROXY&&F(Et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}};function Mv(){return typeof document<"u"?document:null}function lh(t){return new d_(t,!0)}var Kf=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};var nA="PersistentStream",Qf=class{constructor(e,n,r,i,o,s,a,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Kf(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Cr(n.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{let i=new V(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){let r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return F(nA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(F(nA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},q_=class extends Qf{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let n=Yj(this.serializer,e),r=(function(o){if(!("targetChange"in o))return te.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?sr(s.readTime):te.min()})(e);return this.listener.H_(n,r)}Y_(e){let n={};n.database=g_(this.serializer),n.addTarget=(function(o,s){let a,u=s.target;if(a=e_(u)?{documents:Xj(o,u)}:{query:eU(o,u).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=iR(o,s.resumeToken);let l=f_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(te.min())>0){a.readTime=$f(o,s.snapshotVersion.toTimestamp());let l=f_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=nU(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){let n={};n.database=g_(this.serializer),n.removeTarget=e,this.q_(n)}},G_=class extends Qf{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let n=Zj(e.writeResults,e.commitTime),r=sr(e.commitTime);return this.listener.na(r,n)}ra(){let e={};e.database=g_(this.serializer),this.q_(e)}ea(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Jj(this.serializer,r))};this.q_(n)}};var W_=class{},K_=class extends W_{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,h_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(M.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,h_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(M.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}},Q_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cr(n),this.aa=!1):F("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var Eo="RemoteStore",Y_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{wo(this)&&(F(Eo,"Restarting streams for network reachability change."),await(async function(u){let l=X(u);l.Ea.add(4),await lu(l),l.Ra.set("Unknown"),l.Ea.delete(4),await dh(l)})(this))})}),this.Ra=new Q_(r,i)}};async function dh(t){if(wo(t))for(let e of t.da)await e(!0)}async function lu(t){for(let e of t.da)await e(!1)}function pR(t,e){let n=X(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),PE(n)?xE(n):ea(n).O_()&&ME(n,e))}function NE(t,e){let n=X(t),r=ea(n);n.Ia.delete(e),r.O_()&&gR(n,e),n.Ia.size===0&&(r.O_()?r.L_():wo(n)&&n.Ra.set("Unknown"))}function ME(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ea(t).Y_(e)}function gR(t,e){t.Va.Ue(e),ea(t).Z_(e)}function xE(t){t.Va=new l_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ea(t).start(),t.Ra.ua()}function PE(t){return wo(t)&&!ea(t).x_()&&t.Ia.size>0}function wo(t){return X(t).Ea.size===0}function mR(t){t.Va=void 0}async function _U(t){t.Ra.set("Online")}async function EU(t){t.Ia.forEach((e,n)=>{ME(t,e)})}async function IU(t,e){mR(t),PE(t)?(t.Ra.ha(e),xE(t)):t.Ra.set("Unknown")}async function wU(t,e,n){if(t.Ra.set("Online"),e instanceof Uf&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))})(t,e)}catch(r){F(Eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yf(t,r)}else if(e instanceof Ps?t.Va.Ze(e):e instanceof jf?t.Va.st(e):t.Va.tt(e),!n.isEqual(te.min()))try{let r=await hR(t.localStore);n.compareTo(r)>=0&&await(function(o,s){let a=o.Va.Tt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.Ia.get(l);f&&o.Ia.set(l,f.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let f=o.Ia.get(u);if(!f)return;o.Ia.set(u,f.withResumeToken(It.EMPTY_BYTE_STRING,f.snapshotVersion)),gR(o,u);let p=new iu(f.target,u,l,f.sequenceNumber);ME(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){F(Eo,"Failed to raise snapshot:",r),await Yf(t,r)}}async function Yf(t,e,n){if(!Xs(e))throw e;t.Ea.add(1),await lu(t),t.Ra.set("Offline"),n||(n=()=>hR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{F(Eo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await dh(t)})}function yR(t,e){return e().catch(n=>Yf(t,n,e))}async function fh(t){let e=X(t),n=yi(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:EE;for(;TU(e);)try{let i=await gU(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,DU(e,i)}catch(i){await Yf(e,i)}vR(e)&&_R(e)}function TU(t){return wo(t)&&t.Ta.length<10}function DU(t,e){t.Ta.push(e);let n=yi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function vR(t){return wo(t)&&!yi(t).x_()&&t.Ta.length>0}function _R(t){yi(t).start()}async function CU(t){yi(t).ra()}async function bU(t){let e=yi(t);for(let n of t.Ta)e.ea(n.mutations)}async function SU(t,e,n){let r=t.Ta.shift(),i=s_.from(r,e,n);await yR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await fh(t)}async function AU(t,e){e&&yi(t).X_&&await(async function(r,i){if((function(s){return Bj(s)&&s!==M.ABORTED})(i.code)){let o=r.Ta.shift();yi(r).B_(),await yR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await fh(r)}})(t,e),vR(t)&&_R(t)}async function rA(t,e){let n=X(t);n.asyncQueue.verifyOperationInProgress(),F(Eo,"RemoteStore received new credentials");let r=wo(n);n.Ea.add(3),await lu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await dh(n)}async function RU(t,e){let n=X(t);e?(n.Ea.delete(2),await dh(n)):e||(n.Ea.add(2),await lu(n),n.Ra.set("Unknown"))}function ea(t){return t.ma||(t.ma=(function(n,r,i){let o=X(n);return o.sa(),new q_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:_U.bind(null,t),t_:EU.bind(null,t),r_:IU.bind(null,t),H_:wU.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),PE(t)?xE(t):t.Ra.set("Unknown")):(await t.ma.stop(),mR(t))})),t.ma}function yi(t){return t.fa||(t.fa=(function(n,r,i){let o=X(n);return o.sa(),new G_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:CU.bind(null,t),r_:AU.bind(null,t),ta:bU.bind(null,t),na:SU.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await fh(t)):(await t.fa.stop(),t.Ta.length>0&&(F(Eo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}var J_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function OE(t,e){if(Cr("AsyncQueue",`${e}: ${t}`),Xs(t))return new V(M.UNAVAILABLE,`${e}: ${t}`);throw t}var Jf=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=qc(),this.sortedSet=new $e(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Zf=class{constructor(){this.ga=new $e(H.comparator)}track(e){let n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):q(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){let e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}},Ks=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Jf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Z_=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}},X_=class{constructor(){this.queries=iA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){let i=X(n),o=i.queries;i.queries=iA(),o.forEach((s,a)=>{for(let u of a.Sa)u.onError(r)})})(this,new V(M.ABORTED,"Firestore shutting down"))}};function iA(){return new Ar(t=>qA(t),ch)}async function NU(t,e){let n=X(t),r=3,i=e.query,o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new Z_,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){let a=OE(s,`Initialization of query '${As(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&kE(n)}async function MU(t,e){let n=X(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xU(t,e){let n=X(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&kE(n)}function PU(t,e,n){let r=X(t),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(n);r.queries.delete(e)}function kE(t){t.Ca.forEach(e=>{e.next()})}var eE,oA;(oA=eE||(eE={})).Ma="default",oA.Cache="cache";var tE=class{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ks(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;let r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ks.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==eE.Cache}};var Xf=class{constructor(e){this.key=e}},eh=class{constructor(e){this.key=e}},nE=class{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ge(),this.mutatedKeys=ge(),this.eu=GA(e),this.tu=new Jf(this.eu)}get nu(){return this.Ya}ru(e,n){let r=n?n.iu:new Zf,i=n?n.tu:this.tu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let m=i.get(f),y=uh(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?S!==A&&(r.track({type:3,doc:y}),R=!0):this.su(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.eu(y,u)>0||l&&this.eu(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=A?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let s=e.iu.ya();s.sort((f,p)=>(function(y,S){let A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q(20277,{Rt:R})}};return A(y)-A(S)})(f.type,p.type)||this.eu(f.doc,p.doc)),this.ou(r),i=i??!1;let a=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,l=u!==this.Za;return this.Za=u,s.length!==0||l?{snapshot:new Ks(this.query,e.tu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Zf,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=ge(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});let n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new eh(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new Xf(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ge();let n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ks.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},LE="SyncEngine",rE=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},iE=class{constructor(e){this.key=e,this.hu=!1}},oE=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Ar(a=>qA(a),ch),this.Iu=new Map,this.Eu=new Set,this.du=new $e(H.comparator),this.Au=new Map,this.Ru=new su,this.Vu={},this.mu=new Map,this.fu=ou.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function OU(t,e,n=!0){let r=CR(t),i,o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await ER(r,e,n,!0),i}async function kU(t,e){let n=CR(t);await ER(n,e,!0,!1)}async function ER(t,e,n,r){let i=await mU(t.localStore,or(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=await LU(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&pR(t.remoteStore,i),a}async function LU(t,e,n,r,i){t.pu=(p,m,y)=>(async function(A,R,L,ne){let he=R.view.ru(L);he.Cs&&(he=await eA(A.localStore,R.query,!1).then(({documents:w})=>R.view.ru(w,he)));let wt=ne&&ne.targetChanges.get(R.targetId),Ot=ne&&ne.targetMismatches.get(R.targetId)!=null,it=R.view.applyChanges(he,A.isPrimaryClient,wt,Ot);return aA(A,R.targetId,it.au),it.snapshot})(t,p,m,y);let o=await eA(t.localStore,e,!0),s=new nE(e,o.Qs),a=s.ru(o.documents),u=ru.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);aA(t,n,l.au);let f=new rE(e,n,s);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),l.snapshot}async function FU(t,e,n){let r=X(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!ch(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await V_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&NE(r.remoteStore,i.targetId),sE(r,i.targetId)}).catch(Zs)):(sE(r,i.targetId),await V_(r.localStore,i.targetId,!0))}async function VU(t,e){let n=X(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),NE(n.remoteStore,r.targetId))}async function jU(t,e,n){let r=GU(t);try{let i=await(function(s,a){let u=X(s),l=Je.now(),f=a.reduce((y,S)=>y.add(S.key),ge()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=Rr(),A=ge();return u.Ns.getEntries(y,f).next(R=>{S=R,S.forEach((L,ne)=>{ne.isValidDocument()||(A=A.add(L))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,S)).next(R=>{p=R;let L=[];for(let ne of a){let he=Uj(ne,p.get(ne.key).overlayedDocument);he!=null&&L.push(new Nr(ne.key,he,VA(he.value.mapValue),di.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,L,a)}).next(R=>{m=R;let L=R.applyToLocalDocumentSet(p,A);return u.documentOverlayCache.saveOverlays(y,R.batchId,L)})}).then(()=>({batchId:m.batchId,changes:KA(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Vu[s.currentUser.toKey()];l||(l=new $e(pe)),l=l.insert(a,u),s.Vu[s.currentUser.toKey()]=l})(r,i.batchId,n),await du(r,i.changes),await fh(r.remoteStore)}catch(i){let o=OE(i,"Failed to persist write");n.reject(o)}}async function IR(t,e){let n=X(t);try{let r=await hU(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Au.get(o);s&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?be(s.hu,14607):i.removedDocuments.size>0&&(be(s.hu,42227),s.hu=!1))}),await du(n,r,e)}catch(r){await Zs(r)}}function sA(t,e,n){let r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Tu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=X(s);u.onlineState=a;let l=!1;u.queries.forEach((f,p)=>{for(let m of p.Sa)m.va(a)&&(l=!0)}),l&&kE(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UU(t,e,n){let r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Au.get(e),o=i&&i.key;if(o){let s=new $e(H.comparator);s=s.insert(o,Ln.newNoDocument(o,te.min()));let a=ge().add(o),u=new Vf(te.min(),new Map,new $e(pe),s,a);await IR(r,u),r.du=r.du.remove(o),r.Au.delete(e),FE(r)}else await V_(r.localStore,e,!1).then(()=>sE(r,e,n)).catch(Zs)}async function BU(t,e){let n=X(t),r=e.batch.batchId;try{let i=await fU(n.localStore,e);TR(n,r,null),wR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await du(n,i)}catch(i){await Zs(i)}}async function $U(t,e,n){let r=X(t);try{let i=await(function(s,a){let u=X(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(be(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})})(r.localStore,e);TR(r,e,n),wR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await du(r,i)}catch(i){await Zs(i)}}function wR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function TR(t,e,n){let r=X(t),i=r.Vu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function sE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||DR(t,r)})}function DR(t,e){t.Eu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(NE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),FE(t))}function aA(t,e,n){for(let r of n)r instanceof Xf?(t.Ru.addReference(r.key,e),HU(t,r)):r instanceof eh?(F(LE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||DR(t,r.key)):q(19791,{wu:r})}function HU(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(F(LE,"New document in limbo: "+n),t.Eu.add(r),FE(t))}function FE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Eu.values().next().value;t.Eu.delete(e);let n=new H(je.fromString(e)),r=t.fu.next();t.Au.set(r,new iE(n)),t.du=t.du.insert(n,r),pR(t.remoteStore,new iu(or(zA(n.path)),r,"TargetPurposeLimboResolution",_E.ce))}}async function du(t,e,n){let r=X(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{s.push(r.pu(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient){let f=l?!l.fromCache:n?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(l){i.push(l);let f=O_.As(u.targetId,l);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await(async function(u,l){let f=X(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.Es,y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>x.forEach(m.ds,y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Xs(p))throw p;F(RE,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=f.Ms.get(m),S=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(S);f.Ms=f.Ms.insert(m,A)}}})(r.localStore,o))}async function zU(t,e){let n=X(t);if(!n.currentUser.isEqual(e)){F(LE,"User change. New user:",e.toKey());let r=await fR(n.localStore,e);n.currentUser=e,(function(o,s){o.mu.forEach(a=>{a.forEach(u=>{u.reject(new V(M.CANCELLED,s))})}),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await du(n,r.Ls)}}function qU(t,e){let n=X(t),r=n.Au.get(e);if(r&&r.hu)return ge().add(r.key);{let i=ge(),o=n.Iu.get(e);if(!o)return i;for(let s of o){let a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function CR(t){let e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=IR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UU.bind(null,e),e.Pu.H_=xU.bind(null,e.eventManager),e.Pu.yu=PU.bind(null,e.eventManager),e}function GU(t){let e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$U.bind(null,e),e}var bR=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=lh(n.databaseInfo.databaseId),this.sharedClientState=this.Du(n),this.persistence=this.Cu(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Fu(n,this.localStore),this.indexBackfillerScheduler=this.Mu(n,this.localStore)}Fu(n,r){return null}Mu(n,r){return null}vu(n){return dU(this.persistence,new L_,n.initialUser,this.serializer)}Cu(n){return new zf(P_.mi,this.serializer)}Du(n){return new j_}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return t.provider={build:()=>new t},t})(),aE=class extends bR{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){be(this.persistence.referenceDelegate instanceof qf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new E_(r,e.asyncQueue,n)}Cu(e){let n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new zf(r=>qf.mi(r,n),this.serializer)}};var WU=(()=>{class t{async initialize(n,r){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>sA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=zU.bind(null,this.syncEngine),await RU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new X_})()}createDatastore(n){let r=lh(n.databaseInfo.databaseId),i=(function(s){return new z_(s)})(n.databaseInfo);return(function(s,a,u,l){return new K_(s,a,u,l)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,a,u){return new Y_(i,o,s,a,u)})(this.localStore,this.datastore,n.asyncQueue,r=>sA(this.syncEngine,r,0),(function(){return Wf.v()?new Wf:new U_})())}createSyncEngine(n,r){return(function(o,s,a,u,l,f,p){let m=new oE(o,s,a,u,l,f);return p&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){let i=X(r);F(Eo,"RemoteStore shutting down."),i.Ea.add(5),await lu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}return t.provider={build:()=>new t},t})();var cE=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var vi="FirestoreClient",uE=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=dt.UNAUTHENTICATED,this.clientId=Yc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{F(vi,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(F(vi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=OE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function xv(t,e){t.asyncQueue.verifyOperationInProgress(),F(vi,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await fR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cA(t,e){t.asyncQueue.verifyOperationInProgress();let n=await KU(t);F(vi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>rA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>rA(e.remoteStore,i)),t._onlineComponents=e}async function KU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F(vi,"Using user provided OfflineComponentProvider");try{await xv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Fs("Error using user provided cache. Falling back to memory cache: "+n),await xv(t,new bR)}}else F(vi,"Using default OfflineComponentProvider"),await xv(t,new aE(void 0));return t._offlineComponents}async function SR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(F(vi,"Using user provided OnlineComponentProvider"),await cA(t,t._uninitializedComponentsProvider._online)):(F(vi,"Using default OnlineComponentProvider"),await cA(t,new WU))),t._onlineComponents}function QU(t){return SR(t).then(e=>e.syncEngine)}async function YU(t){let e=await SR(t),n=e.eventManager;return n.onListen=OU.bind(null,e.syncEngine),n.onUnlisten=FU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=kU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VU.bind(null,e.syncEngine),n}function JU(t,e,n={}){let r=new rr;return t.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,u,l){let f=new cE({next:m=>{f.Nu(),s.enqueueAndForget(()=>MU(o,p)),m.fromCache&&u.source==="server"?l.reject(new V(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new tE(a,f,{includeMetadataChanges:!0,qa:!0});return NU(o,p)})(await YU(t),t.asyncQueue,e,n,r)),r.promise}function AR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var uA=new Map;var RR="firestore.googleapis.com",lA=!0,th=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new V(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RR,this.ssl=lA}else this.host=e.host,this.ssl=e.ssl??lA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cU)throw new V(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Qs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new th({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new V(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new V(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new th(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Pv;switch(r.type){case"firstParty":return new Fv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=uA.get(n);r&&(F("ComponentProvider","Removing Datastore"),uA.delete(n),r.terminate())})(this),Promise.resolve()}};function ZU(t,e,n,r={}){t=Jc(t,Qs);let i=si(e),o=t._getSettings(),s=re(N({},o),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i&&(mf(`https://${a}`),yf("Firestore",!0)),o.host!==RR&&o.host!==a&&Fs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=re(N({},o),{host:a,ssl:i,emulatorOptions:r});if(!er(u,s)&&(t._setSettings(u),r.mockUserToken)){let l,f;if(typeof r.mockUserToken=="string")l=r.mockUserToken,f=dt.MOCK_USER;else{l=e0(r.mockUserToken,t._app?.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new V(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new dt(p)}t._authCredentials=new Ov(new Nf(l,f))}}var nh=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},zt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(uu(n,t._jsonSchema))return new t(e,r||null,new H(je.fromString(n.referencePath)))}};zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:Ye("string",zt._jsonSchemaVersion),referencePath:Ye("string")};var fi=class t extends nh{constructor(e,n,r){super(e,n,zA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new H(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function fu(t,e,...n){if(t=Xt(t),pA("collection","path",e),t instanceof Qs){let r=je.fromString(e,...n);return N0(r),new fi(t,null,r)}{if(!(t instanceof zt||t instanceof fi))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(je.fromString(e,...n));return N0(r),new fi(t.firestore,null,r)}}function hh(t,e,...n){if(t=Xt(t),arguments.length===1&&(e=Yc.newId()),pA("doc","path",e),t instanceof Qs){let r=je.fromString(e,...n);return R0(r),new zt(t,null,new H(r))}{if(!(t instanceof zt||t instanceof fi))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(je.fromString(e,...n));return R0(r),new zt(t.firestore,t instanceof fi?t.converter:null,new H(r))}}var dA="AsyncQueue",rh=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Kf(this,"async_queue_retry"),this._c=()=>{let r=Mv();r&&F(dA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let n=Mv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let n=Mv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let n=new rr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xs(e))throw e;F(dA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Cr("INTERNAL UNHANDLED ERROR: ",fA(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);let i=J_.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&q(47125,{Pc:fA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){let n=this.tc.indexOf(e);this.tc.splice(n,1)}};function fA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var Ys=class extends Qs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new rh,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new rh(e),this._firestoreClient=void 0,await e}}};function NR(t,e){let n=typeof t=="object"?t:If(),r=typeof t=="string"?t:e||kf,i=Hc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=XS("firestore");o&&ZU(i,...o)}return i}function MR(t){if(t._terminated)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||XU(t),t._firestoreClient}function XU(t){let e=t._freezeSettings(),n=(function(i,o,s,a){return new $v(i,o,s,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,AR(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new uE(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){let o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(t._componentsProvider))}var hi=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(It.fromBase64String(e))}catch(n){throw new V(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uu(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};hi._jsonSchemaVersion="firestore/bytes/1.0",hi._jsonSchema={type:Ye("string",hi._jsonSchemaVersion),bytes:Ye("string")};var au=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var cu=class{constructor(e){this._methodName=e}};var pi=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(uu(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};pi._jsonSchemaVersion="firestore/geoPoint/1.0",pi._jsonSchema={type:Ye("string",pi._jsonSchemaVersion),latitude:Ye("number"),longitude:Ye("number")};var gi=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uu(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new V(M.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};gi._jsonSchemaVersion="firestore/vectorValue/1.0",gi._jsonSchema={type:Ye("string",gi._jsonSchemaVersion),vectorValues:Ye("object")};var eB=/^__.*__$/,lE=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Nr(e,this.data,this.fieldMask,n,this.fieldTransforms):new _o(e,this.data,n,this.fieldTransforms)}};function xR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q(40011,{Ac:t})}}var dE=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new t(N(N({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){let n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xR(this.Ac)&&eB.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}},fE=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lh(e)}Cc(e,n,r,i=!1){return new dE({Ac:e,methodName:n,Dc:r,path:tn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function tB(t){let e=t._freezeSettings(),n=lh(t._databaseId);return new fE(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nB(t,e,n,r,i,o={}){let s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);LR("Data must be an object, but it was:",s,r);let a=OR(r,s),u,l;if(o.merge)u=new nr(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let m=rB(e,p,n);if(!s.contains(m))throw new V(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);oB(f,m)||f.push(m)}u=new nr(f),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new lE(new kn(a),u,l)}var hE=class t extends cu{_toFieldTransform(e){return new n_(e.path,new mo)}isEqual(e){return e instanceof t}};function PR(t,e){if(kR(t=Xt(t)))return LR("Unsupported field value:",e,t),OR(t,e);if(t instanceof cu)return(function(r,i){if(!xR(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=PR(a,i.wc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Je.fromDate(r);return{timestampValue:$f(i.serializer,o)}}if(r instanceof Je){let o=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$f(i.serializer,o)}}if(r instanceof pi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hi)return{bytesValue:iR(i.serializer,r._byteString)};if(r instanceof zt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:AE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof gi)return(function(s,a){return{mapValue:{fields:{[wE]:{stringValue:TE},[js]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Sc("VectorValues must only contain numeric values.");return SE(a.serializer,l)})}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${vE(r)}`)})(t,e)}function OR(t,e){let n={};return NA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Io(t,(r,i)=>{let o=PR(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function kR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof pi||t instanceof hi||t instanceof zt||t instanceof cu||t instanceof gi)}function LR(t,e,n){if(!kR(n)||!gA(n)){let r=vE(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function rB(t,e,n){if((e=Xt(e))instanceof au)return e._internalPath;if(typeof e=="string")return FR(t,e);throw ih("Field path arguments must be of type string or ",t,!1,void 0,n)}var iB=new RegExp("[~\\*/\\[\\]]");function FR(t,e,n){if(e.search(iB)>=0)throw ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new au(...e.split("."))._internalPath}catch{throw ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ih(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new V(M.INVALID_ARGUMENT,a+t+u)}function oB(t,e){return t.some(n=>n.isEqual(e))}var oh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new pE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(VR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},pE=class extends oh{data(){return super.data()}};function VR(t,e){return typeof e=="string"?FR(t,e):e instanceof au?e._internalPath:e._delegate._internalPath}function sB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var gE=class{convertValue(e,n="none"){switch(mi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Io(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){let n=e.fields?.[js].arrayValue?.values?.map(r=>Ve(r.doubleValue));return new gi(n)}convertGeoPoint(e){return new pi(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=ah(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){let n=br(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=je.fromString(e);be(lR(r),9688,{name:e});let i=new Lf(r.get(1),r.get(3)),o=new H(r.popFirst(5));return i.isEqual(n)||Cr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function aB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var xs=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Os=class t extends oh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ks(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(VR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new V(M.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Os._jsonSchemaVersion="firestore/documentSnapshot/1.0",Os._jsonSchema={type:Ye("string",Os._jsonSchemaVersion),bundleSource:Ye("string","DocumentSnapshot"),bundleName:Ye("string"),bundle:Ye("string")};var ks=class extends Os{data(e={}){return super.data(e)}},Ls=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ks(this._firestore,this._userDataWriter,r.key,r,new xs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ks(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ks(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),f=s.indexOf(a.doc.key)),{type:cB(a.type),doc:u,oldIndex:l,newIndex:f}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new V(M.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Yc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function cB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q(61501,{type:t})}}Ls._jsonSchemaVersion="firestore/querySnapshot/1.0",Ls._jsonSchema={type:Ye("string",Ls._jsonSchemaVersion),bundleSource:Ye("string","QuerySnapshot"),bundleName:Ye("string"),bundle:Ye("string")};var mE=class extends gE{constructor(e){super(),this.firestore=e}convertBytes(e){return new hi(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}};function VE(t){t=Jc(t,nh);let e=Jc(t.firestore,Ys),n=MR(e),r=new mE(e);return sB(t._query),JU(n,t._query).then(i=>new Ls(e,r,t,i))}function jE(t){return jR(Jc(t.firestore,Ys),[new nu(t._key,di.none())])}function UE(t,e){let n=Jc(t.firestore,Ys),r=hh(t),i=aB(t.converter,e);return jR(n,[nB(tB(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,di.exists(!1))]).then(()=>r)}function jR(t,e){return(function(r,i){let o=new rr;return r.asyncQueue.enqueueAndForget(async()=>jU(await QU(r),i,o)),o.promise})(MR(t),e)}function BE(){return new hE("serverTimestamp")}(function(e,n=!0){(function(i){Js=i})(li),ui(new pn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ys(new kv(r.getProvider("auth-internal")),new Vv(s,r.getProvider("app-check-internal")),(function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lf(l.options.projectId,f)})(s,i),s);return o=N({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),On(b0,S0,e),On(b0,S0,"esm2020")})();function eN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var tN=eN,nN=new Ir("auth","Firebase",eN());var _h=new ai("@firebase/auth");function uB(t,...e){_h.logLevel<=fe.WARN&&_h.warn(`Auth (${li}): ${t}`,...e)}function gh(t,...e){_h.logLevel<=fe.ERROR&&_h.error(`Auth (${li}): ${t}`,...e)}function wi(t,...e){throw aI(t,...e)}function To(t,...e){return aI(t,...e)}function rN(t,e,n){let r=re(N({},tN()),{[e]:n});return new Ir("auth","Firebase",r).create(e,{appName:t.name})}function Ii(t){return rN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function aI(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nN.create(t,...e)}function Q(t,e,...n){if(!t)throw aI(e,...n)}function Mr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw gh(e),new Error(e)}function Ti(t,e){t||Mr(e)}function qE(){return typeof self<"u"&&self.location?.href||""}function lB(){return UR()==="http:"||UR()==="https:"}function UR(){return typeof self<"u"&&self.location?.protocol||null}function dB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lB()||r0()||"connection"in navigator)?navigator.onLine:!0}function fB(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Do=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ti(n>e,"Short delay should be less than long delay!"),this.isMobile=t0()||i0()}get(){return dB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function cI(t,e){Ti(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Eh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var hB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var pB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gB=new Do(3e4,6e4);function Mh(t,e){return t.tenantId&&!e.tenantId?re(N({},e),{tenantId:t.tenantId}):e}async function ta(t,e,n,r,i={}){return iN(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=Bc(N({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);let l=N({method:e,headers:u},o);return n0()||(l.referrerPolicy="no-referrer"),t.emulatorConfig&&si(t.emulatorConfig.host)&&(l.credentials="include"),Eh.fetch()(await sN(t,t.config.apiHost,n,a),l)})}async function iN(t,e,n){t._canInitEmulator=!1;let r=N(N({},hB),e);try{let i=new GE(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw ph(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ph(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw ph(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw ph(t,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw rN(t,f,l);wi(t,f)}}catch(i){if(i instanceof Zt)throw i;wi(t,"network-request-failed",{message:String(i)})}}async function oN(t,e,n,r,i={}){let o=await ta(t,e,n,r,i);return"mfaPendingCredential"in o&&wi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function sN(t,e,n,r){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?cI(t.config,i):`${t.config.apiScheme}://${i}`;return pB.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var GE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(To(this.auth,"network-request-failed")),gB.get())})}};function ph(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=To(t,e,r);return i.customData._tokenResponse=n,i}async function mB(t,e){return ta(t,"POST","/v1/accounts:delete",e)}async function Ih(t,e){return ta(t,"POST","/v1/accounts:lookup",e)}function hu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aN(t,e=!1){let n=Xt(t),r=await n.getIdToken(e),i=uI(r);Q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:hu($E(i.auth_time)),issuedAtTime:hu($E(i.iat)),expirationTime:hu($E(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function $E(t){return Number(t)*1e3}function uI(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gh("JWT malformed, contained fewer than 3 sections"),null;try{let i=pf(n);return i?JSON.parse(i):(gh("Failed to decode base64 JWT payload"),null)}catch(i){return gh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function BR(t){let e=uI(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function gu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Zt&&yB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function yB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var WE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var mu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function wh(t){let e=t.auth,n=await t.getIdToken(),r=await gu(t,Ih(e,{idToken:n}));Q(r?.users.length,e,"internal-error");let i=r.users[0];t._notifyReloadListener(i);let o=i.providerUserInfo?.length?uN(i.providerUserInfo):[],s=vB(t.providerData,o),a=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!s?.length,l=a?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new mu(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(t,f)}async function cN(t){let e=Xt(t);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function uN(t){return t.map(r=>{var i=r,{providerId:e}=i,n=gp(i,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}async function _B(t,e){let n=await iN(t,{},async()=>{let r=Bc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await sN(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return t.emulatorConfig&&si(t.emulatorConfig.host)&&(u.credentials="include"),Eh.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EB(t,e){return ta(t,"POST","/v2/accounts:revokeToken",Mh(t,e))}var pu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");let n=BR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await _B(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Q(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Q(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Mr("not implemented")}};function _i(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ei=class t{constructor(o){var s=o,{uid:e,auth:n,stsTokenManager:r}=s,i=gp(s,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new mu(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let n=await gu(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return aN(this,e)}reload(){return cN(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>N({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(re(N({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(en(this.auth.app))return Promise.reject(Ii(this.auth));let e=await this.getIdToken();return await gu(this,mB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return re(N({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>N({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){let r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,u=n._redirectEventId??void 0,l=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:y,providerData:S,stsTokenManager:A}=n;Q(p&&A,e,"internal-error");let R=pu.fromJSON(this.name,A);Q(typeof p=="string",e,"internal-error"),_i(r,e.name),_i(i,e.name),Q(typeof m=="boolean",e,"internal-error"),Q(typeof y=="boolean",e,"internal-error"),_i(o,e.name),_i(s,e.name),_i(a,e.name),_i(u,e.name),_i(l,e.name),_i(f,e.name);let L=new t({uid:p,auth:e,email:i,emailVerified:m,displayName:r,isAnonymous:y,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:R,createdAt:l,lastLoginAt:f});return S&&Array.isArray(S)&&(L.providerData=S.map(ne=>N({},ne))),u&&(L._redirectEventId=u),L}static async _fromIdTokenResponse(e,n,r=!1){let i=new pu;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wh(o),o}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];Q(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?uN(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new pu;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new mu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var $R=new Map;function xr(t){Ti(t instanceof Function,"Expected a class definition");let e=$R.get(t);return e?(Ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$R.set(t,e),e)}var IB=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),KE=IB;function mh(t,e,n){return`firebase:${t}:${e}:${n}`}var Th=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=mh(this.userKey,i.apiKey,o),this.fullPersistenceKey=mh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await Ih(this.auth,{idToken:e}).catch(()=>{});return n?Ei._fromGetAccountInfoResponse(this.auth,n,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(xr(KE),e,r);let i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||xr(KE),s=mh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let f=await l._get(s);if(f){let p;if(typeof f=="string"){let m=await Ih(e,{idToken:f}).catch(()=>{});if(!m)break;p=await Ei._fromGetAccountInfoResponse(e,m,f)}else p=Ei._fromJSON(e,f);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new t(o,e,r))}};function HR(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gN(e))return"Blackberry";if(mN(e))return"Webos";if(dN(e))return"Safari";if((e.includes("chrome/")||fN(e))&&!e.includes("edge/"))return"Chrome";if(pN(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function lN(t=lt()){return/firefox\//i.test(t)}function dN(t=lt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fN(t=lt()){return/crios\//i.test(t)}function hN(t=lt()){return/iemobile/i.test(t)}function pN(t=lt()){return/android/i.test(t)}function gN(t=lt()){return/blackberry/i.test(t)}function mN(t=lt()){return/webos/i.test(t)}function lI(t=lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wB(t=lt()){return lI(t)&&!!window.navigator?.standalone}function TB(){return o0()&&document.documentMode===10}function yN(t=lt()){return lI(t)||pN(t)||mN(t)||gN(t)||/windows phone/i.test(t)||hN(t)}function vN(t,e=[]){let n;switch(t){case"Browser":n=HR(lt());break;case"Worker":n=`${HR(lt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${li}/${r}`}var QE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function DB(t,e={}){return ta(t,"GET","/v2/passwordPolicy",Mh(t,e))}var CB=6,YE=class{constructor(e){let n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??CB,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var JE=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dh(this),this.idTokenSubscription=new Dh(this),this.beforeStateQueue=new QE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Th.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await Ih(this,{idToken:e}),r=await Ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(en(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}let n=await this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=this.redirectUser?._redirectEventId,s=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===s)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(en(this.app))return Promise.reject(Ii(this));let n=e?Xt(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return en(this.app)?Promise.reject(Ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return en(this.app)?Promise.reject(Ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await DB(this),n=new YE(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ir("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await EB(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&xr(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await Th.create(this,[xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(en(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&uB(`Error while retrieving App Check token: ${e.error}`),e?.token}};function xh(t){return Xt(t)}var Dh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=u0(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var dI={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bB(t){dI=t}function SB(t){return dI.loadJS(t)}function AB(){return dI.gapiScript}function _N(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function EN(t,e){let n=Hc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(er(o,e??{}))return i;wi(i,"already-initialized")}return n.initialize({options:e})}function RB(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(xr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function IN(t,e,n){let r=xh(t);Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=wN(e),{host:s,port:a}=NB(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},f=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Q(er(l,r.config.emulator)&&er(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,si(s)?(mf(`${o}//${s}${u}`),yf("Auth",!0)):i||MB()}function wN(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function NB(t){let e=wN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:zR(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:zR(s)}}}function zR(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function MB(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ch=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mr("not implemented")}_getIdTokenResponse(e){return Mr("not implemented")}_linkToIdToken(e,n){return Mr("not implemented")}_getReauthenticationResolver(e){return Mr("not implemented")}};async function HE(t,e){return oN(t,"POST","/v1/accounts:signInWithIdp",Mh(t,e))}var bh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var ZE=class extends bh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};async function xB(t,e){return oN(t,"POST","/v1/accounts:signUp",Mh(t,e))}var Co=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){let o=await Ei._fromIdTokenResponse(e,r,i),s=qR(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);let i=qR(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function qR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}async function fI(t){if(en(t.app))return Promise.reject(Ii(t));let e=xh(t);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Co({user:e.currentUser,providerId:null,operationType:"signIn"});let n=await xB(e,{returnSecureToken:!0}),r=await Co._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}var XE=class t extends Zt{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function TN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?XE._fromErrorAndOperation(t,o,e,r):o})}async function PB(t,e,n=!1){let r=await gu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Co._forOperation(t,"link",r)}async function OB(t,e,n=!1){let{auth:r}=t;if(en(r.app))return Promise.reject(Ii(r));let i="reauthenticate";try{let o=await gu(t,TN(r,i,e,t),n);Q(o.idToken,r,"internal-error");let s=uI(o.idToken);Q(s,r,"internal-error");let{sub:a}=s;return Q(t.uid===a,r,"user-mismatch"),Co._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&wi(r,"user-mismatch"),o}}async function kB(t,e,n=!1){if(en(t.app))return Promise.reject(Ii(t));let r="signIn",i=await TN(t,r,e),o=await Co._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function DN(t,e,n,r){return Xt(t).onIdTokenChanged(e,n,r)}function CN(t,e,n){return Xt(t).beforeAuthStateChanged(e,n)}var Sh="__sak";var Ah=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sh,"1"),this.storage.removeItem(Sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var LB=1e3,FB=10,VB=(()=>{class t extends Ah{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yN(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);TB()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,FB):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},LB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(n,r){await super._set(n,r),this.localCache[n]=JSON.stringify(r)}async _get(n){let r=await super._get(n);return this.localCache[n]=JSON.stringify(r),r}async _remove(n){await super._remove(n),delete this.localCache[n]}}return t.type="LOCAL",t})(),bN=VB;var jB=(()=>{class t extends Ah{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),hI=jB;function UB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}var BB=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}async handleEvent(n){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(async f=>f(r.origin,s)),l=await UB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function SN(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var eI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=SN("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function ur(){return window}function $B(t){ur().location.href=t}function AN(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function HB(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zB(){return navigator?.serviceWorker?.controller||null}function qB(){return AN()?self:null}var RN="firebaseLocalStorageDb",GB=1,Rh="firebaseLocalStorage",NN="fbase_key",bo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Ph(t,e){return t.transaction([Rh],e?"readwrite":"readonly").objectStore(Rh)}function WB(){let t=indexedDB.deleteDatabase(RN);return new bo(t).toPromise()}function tI(){let t=indexedDB.open(RN,GB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Rh,{keyPath:NN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{let r=t.result;r.objectStoreNames.contains(Rh)?e(r):(r.close(),await WB(),e(await tI()))})})}async function GR(t,e,n){let r=Ph(t,!0).put({[NN]:e,value:n});return new bo(r).toPromise()}async function KB(t,e){let n=Ph(t,!1).get(e),r=await new bo(n).toPromise();return r===void 0?null:r.value}function WR(t,e){let n=Ph(t,!0).delete(e);return new bo(n).toPromise()}var QB=800,YB=3,JB=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tI(),this.db)}async _withRetries(n){let r=0;for(;;)try{let i=await this._openDb();return await n(i)}catch(i){if(r++>YB)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=BB._getInstance(qB()),this.receiver._subscribe("keyChanged",async(n,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(n,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HB(),!this.activeServiceWorker)return;this.sender=new eI(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&n[0]?.fulfilled&&n[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(n){if(!(!this.sender||!this.activeServiceWorker||zB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let n=await tI();return await GR(n,Sh,"1"),await WR(n,Sh),!0}catch{}return!1}async _withPendingWrite(n){this.pendingWrites++;try{await n()}finally{this.pendingWrites--}}async _set(n,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>GR(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)))}async _get(n){let r=await this._withRetries(i=>KB(i,n));return this.localCache[n]=r,r}async _remove(n){return this._withPendingWrite(async()=>(await this._withRetries(r=>WR(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)))}async _poll(){let n=await this._withRetries(o=>{let s=Ph(o,!1).getAll();return new bo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),MN=JB;var WX=_N("rcb"),KX=new Do(3e4,6e4);function ZB(t,e){return e?xr(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var yu=class extends Ch{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return HE(e,this._buildIdpRequest())}_linkToIdToken(e,n){return HE(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return HE(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function XB(t){return kB(t.auth,new yu(t),t.bypassAuthState)}function e$(t){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),OB(n,new yu(t),t.bypassAuthState)}async function t$(t){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),PB(n,new yu(t),t.bypassAuthState)}var nI=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XB;case"linkViaPopup":case"linkViaRedirect":return t$;case"reauthViaPopup":case"reauthViaRedirect":return e$;default:wi(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var QX=new Do(2e3,1e4);var n$="pendingRedirect",yh=new Map,rI=class extends nI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yh.get(this.auth._key());if(!e){try{let r=await r$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yh.set(this.auth._key(),e)}return this.bypassAuthState||yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function r$(t,e){let n=s$(e),r=o$(t);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function i$(t,e){yh.set(t._key(),e)}function o$(t){return xr(t._redirectPersistence)}function s$(t){return mh(n$,t.config.apiKey,t.name)}async function a$(t,e,n=!1){if(en(t.app))return Promise.reject(Ii(t));let r=xh(t),i=ZB(r,e),s=await new rI(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var c$=600*1e3,iI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!u$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!xN(e)){let r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(To(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=c$&&this.cachedEventUids.clear(),this.cachedEventUids.has(KR(e))}saveEventToCache(e){this.cachedEventUids.add(KR(e)),this.lastProcessedEventTime=Date.now()}};function KR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function u$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xN(t);default:return!1}}async function l$(t,e={}){return ta(t,"GET","/v1/projects",e)}var d$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f$=/^https?/;async function h$(t){if(t.config.emulator)return;let{authorizedDomains:e}=await l$(t);for(let n of e)try{if(p$(n))return}catch{}wi(t,"unauthorized-domain")}function p$(t){let e=qE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!f$.test(n))return!1;if(d$.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var g$=new Do(3e4,6e4);function QR(){let t=ur().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function m$(t){return new Promise((e,n)=>{function r(){QR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QR(),n(To(t,"network-request-failed"))},timeout:g$.get()})}if(ur().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ur().gapi?.load)r();else{let i=_N("iframefcb");return ur()[i]=()=>{gapi.load?r():n(To(t,"network-request-failed"))},SB(`${AB()}?onload=${i}`).catch(o=>n(o))}}).catch(e=>{throw vh=null,e})}var vh=null;function y$(t){return vh=vh||m$(t),vh}var v$=new Do(5e3,15e3),_$="__/auth/iframe",E$="emulator/auth/iframe",I$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T$(t){let e=t.config;Q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?cI(e,E$):`https://${t.config.authDomain}/${_$}`,r={apiKey:e.apiKey,appName:t.name,v:li},i=w$.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Bc(r).slice(1)}`}async function D$(t){let e=await y$(t),n=ur().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:T$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I$,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=To(t,"network-request-failed"),a=ur().setTimeout(()=>{o(s)},v$.get());function u(){ur().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var C$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b$=500,S$=600,A$="_blank",R$="http://localhost",Nh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function N$(t,e,n,r=b$,i=S$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=re(N({},C$),{width:r.toString(),height:i.toString(),top:o,left:s}),l=lt().toLowerCase();n&&(a=fN(l)?A$:n),lN(l)&&(e=e||R$,u.scrollbars="yes");let f=Object.entries(u).reduce((m,[y,S])=>`${m}${y}=${S},`,"");if(wB(l)&&a!=="_self")return M$(e||"",a),new Nh(null);let p=window.open(e||"",a,f);Q(p,t,"popup-blocked");try{p.focus()}catch{}return new Nh(p)}function M$(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var x$="__/auth/handler",P$="emulator/auth/handler",O$=encodeURIComponent("fac");async function YR(t,e,n,r,i,o){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:li,eventId:i};if(e instanceof bh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",c0(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(o||{}))s[f]=p}if(e instanceof ZE){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let u=await t._getAppCheckToken(),l=u?`#${O$}=${encodeURIComponent(u)}`:"";return`${k$(t)}?${Bc(a).slice(1)}${l}`}function k$({config:t}){return t.emulator?cI(t,P$):`https://${t.authDomain}/${x$}`}var zE="webStorageSupport",oI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hI,this._completeRedirectFn=a$,this._overrideRedirectResult=i$}async _openPopup(e,n,r,i){Ti(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let o=await YR(e,n,r,qE(),i);return N$(e,o,SN())}async _openRedirect(e,n,r,i){await this._originValidation(e);let o=await YR(e,n,r,qE(),i);return $B(o),new Promise(()=>{})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ti(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){let n=await D$(e),r=new iI(e);return n.register("authEvent",i=>(Q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zE,{type:zE},i=>{let o=i?.[0]?.[zE];o!==void 0&&n(!!o),wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=h$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yN()||dN()||lI()}},PN=oI;var JR="@firebase/auth",ZR="1.11.1";var sI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function L$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F$(t){ui(new pn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Q(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vN(t)},l=new JE(r,i,o,u);return RB(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ui(new pn("auth-internal",e=>{let n=xh(e.getProvider("auth").getImmediate());return(r=>new sI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),On(JR,ZR,L$(t)),On(JR,ZR,"esm2020")}var V$=300,j$=ov("authIdTokenMaxAge")||V$,XR=null,U$=t=>async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>j$)return;let i=n?.token;XR!==i&&(XR=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pI(t=If()){let e=Hc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=EN(t,{popupRedirectResolver:PN,persistence:[MN,bN,hI]}),r=ov("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=U$(o.toString());CN(n,s,()=>s(n.currentUser)),DN(n,a=>s(a))}}let i=rv("auth");return i&&IN(n,`http://${i}`),n}function B$(){return document.getElementsByTagName("head")?.[0]??document}bB({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=To("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",B$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F$("Browser");var na=class t{db=NR();auth=pI();authReadyPromise;constructor(){this.authReadyPromise=this.signInAnon()}async signInAnon(){if(!this.auth.currentUser)try{let e=await fI(this.auth);console.log("Firebase: Anonymous Sign-In Successful. UID: "+e.user.uid)}catch(e){throw console.error("Firebase: Anonymous Sign-In Failed: "+e),new Error("Could not authenticate Demo user.")}}async withAuth(e){return await this.authReadyPromise,e()}async saveOrder(e){return UE(fu(this.db,"orders"),re(N({},e),{createdAt:BE()}))}async saveOrder2(e){return this.withAuth(()=>UE(fu(this.db,"orders"),re(N({},e),{createdAt:BE()})))}async getOrders(){try{let e=await VE(fu(this.db,"orders"));return console.log("Firestore Snapshot: ",e.docs.length,e.docs.map(n=>n.data())),e.docs.map(n=>N({id:n.id},n.data()))}catch(e){throw console.error("Firestore: getOrders error",e),e}}async getOrders2(){return this.withAuth(async()=>(await VE(fu(this.db,"orders"))).docs.map(n=>N({id:n.id},n.data())))}async deleteOrder(e){return jE(hh(this.db,"orders",e))}async deleteOrder2(e){return this.withAuth(()=>jE(hh(this.db,"orders",e)))}async testConnection(){try{let e=await this.saveOrder({test:!0});console.log("Firestore: test write OK: ",e.id)}catch(e){console.log("Firestore: test write FAILED: ",e)}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})};var Di=class t{constructor(e){this.firebase=e;let n=localStorage.getItem("taniti-cart");n&&this.cartItemsSignal.set(JSON.parse(n))}cartItemsSignal=Ge([]);cartItems=this.cartItemsSignal.asReadonly();cartTotal=cy(()=>this.cartItems().reduce((e,n)=>e+n.price,0));saveCart(){localStorage.setItem("taniti-cart",JSON.stringify(this.cartItemsSignal()))}addItem(e){this.cartItemsSignal.update(n=>[...n,e]),this.saveCart()}removeItem(e){console.log("CART SERVICE: Deleting "+e.name),this.cartItemsSignal.update(n=>n.filter(r=>r.id!==e.id)),this.saveCart()}clearItems(){this.cartItemsSignal.set([]),this.saveCart()}async submitOrder(){console.log("CART SERVICE: Submitting Order...");let e=this.cartItems(),n=this.cartTotal();if(this.cartItems().length===0){console.error("CART SERVICE: Cannot submit an empty order.");return}let r=this.cartItems().map(s=>N({id:s.id,name:s.name,price:Number(s.price)},typeof s.image=="string"&&s.image.length>0?{image:s.image}:{}));if(!r.every(s=>this.isValidActivityClient(s)))throw console.error("CART SERVICE: Submission Cancelled due to invalid Activity Data."),new Error("CART SERVICE: Invalid Activity Data in Cart.");let o={activities:r,total:n};console.log("CART SERVICE: Payload for Firestore: "+JSON.stringify(o,null,2));try{let s=await this.firebase.saveOrder2(o);return console.log("CART SERVICE: Order saved with ID: "+s.id),this.clearItems(),s.id}catch(s){throw console.error("CART SERVICE: Failed to submit Order: "+s),s}}isValidActivityClient(e){return typeof e.id!="string"||e.id.length===0?(console.error("CART SERVICE: Validation Error: Invalid ID: ",e),!1):typeof e.name!="string"||e.name.length===0?(console.error("CART SERVICE: Validation Error: Invalid Name: ",e),!1):Number.isFinite(e.price)?e.image!==void 0&&typeof e.image!="string"?(console.error("CART SERVICE: Validation Error: Invalid Image: ",e),!1):!0:(console.error("CART SERVICE: Validation Error: Invalid Price: ",e),!1)}static \u0275fac=function(n){return new(n||t)(Y(na))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})};var Oh=class t{constructor(e){this.cart=e}activity;addToCart(){this.cart.addItem(this.activity),console.log(`${this.activity.name} added to cart`)}static \u0275fac=function(n){return new(n||t)(me(Di))};static \u0275cmp=Se({type:t,selectors:[["app-product"]],inputs:{activity:"activity"},decls:9,vars:3,consts:[[1,"product-shell"],[1,"product-container"],["alt","Product",3,"src"],["id","ATC",3,"click"]],template:function(n,r){n&1&&(Ie(0,"div",0)(1,"div",1)(2,"h2"),ie(3),we(),Ie(4,"p"),ie(5),we(),An(6,"img",2),Ie(7,"button",3),Qn("click",function(){return r.addToCart()}),ie(8,"Add to Cart"),we()()()),n&2&&(O(3),Fe(r.activity.name),O(2),Rn("$",r.activity.price),O(),Kn("src",r.activity.image,cn))},styles:[".product-container[_ngcontent-%COMP%]{margin:0;padding:.5rem;display:flex;flex-direction:column;gap:1rem;background-color:transparent;color:var(--highlight);transition:all .1s ease-in-out}.product-container[_ngcontent-%COMP%]:hover{background-color:var(--primary);color:#fffaf0}.product-container[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%], .product-container[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:#fffaf0}h2[_ngcontent-%COMP%]{margin:0;font-family:Malvie,sans-serif}p[_ngcontent-%COMP%]{margin:0;color:var(--text)}img[_ngcontent-%COMP%]{margin:0;max-width:200px;height:150px;object-fit:cover}button[_ngcontent-%COMP%]{margin:.5rem;padding:0;font-family:Bebas Neue,sans-serif;font-size:1.5rem;font-weight:700;background-color:transparent;color:transparent;border:5px solid transparent;transition:all .1s ease-in-out}#ATC[_ngcontent-%COMP%]:hover{background-color:#fffaf0;color:var(--primary);border:5px solid floralwhite;cursor:pointer;transform:scale(1.07)}"]})};function $$(t,e){if(t&1&&ve(0,"app-info",1),t&2){let n=K();de("data",n.pageData.desc)}}function H$(t,e){if(t&1&&ve(0,"app-product",4),t&2){let n=e.$implicit;de("activity",n)}}function z$(t,e){if(t&1&&(B(0,"div",3),Mt(1,H$,1,1,"app-product",4,ln),W()),t&2){let n=K();O(),xt(n.pageData.activityData)}}function q$(t,e){if(t&1&&ve(0,"app-info",1),t&2){let n=e.$implicit;de("data",n)}}var Ci=class t{constructor(e){this.route=e}pageData;ngOnInit(){this.pageData=this.route.snapshot.data.data}static \u0275fac=function(n){return new(n||t)(me(Pn))};static \u0275cmp=Se({type:t,selectors:[["app-page"]],inputs:{pageData:"pageData"},decls:7,vars:3,consts:[[1,"page-shell"],[3,"data"],[1,"pageInfo-container"],[1,"activity-container"],[3,"activity"]],template:function(n,r){n&1&&(B(0,"div",0),ve(1,"app-banner",1),B(2,"div",2),se(3,$$,1,1,"app-info",1),se(4,z$,3,0,"div",3),Mt(5,q$,1,1,"app-info",1,ln),W()()),n&2&&(O(),de("data",r.pageData.bannerData),O(2),ae(r.pageData.desc.content!=""?3:-1),O(),ae(r.pageData.activityData.length>0?4:-1),O(),xt(r.pageData.infoData))},dependencies:[Xn,Cs,Oh],styles:[".pageInfo-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;gap:3rem}.activity-container[_ngcontent-%COMP%]{max-width:var(--maxWidth);display:grid;grid-template-columns:repeat(3,1fr);row-gap:1rem;column-gap:1rem}@media(max-width:750px){.activity-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media(max-width:550px){.activity-container[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}"]})};var kN=[],LN=[],FN=[],VN=[{id:"e1",name:"Museum",price:50,image:"pageMedia/entertainment-museum.jpeg"},{id:"e2",name:"Bowling",price:20,image:"pageMedia/entertainment-bowling.jpeg"},{id:"e3",name:"Fishing",price:20,image:"pageMedia/entertainment-bowling.jpeg"},{id:"e4",name:"Snorkeling",price:20,image:"pageMedia/entertainment-bowling.jpeg"},{id:"e5",name:"Ziplining",price:20,image:"pageMedia/entertainment-bowling.jpeg"},{id:"e6",name:"Night Club",price:20,image:"pageMedia/entertainment-bowling.jpeg"},{id:"e7",name:"Art Gallery",price:20,image:"pageMedia/entertainment-bowling.jpeg"},{id:"e8",name:"Golf",price:20,image:"pageMedia/entertainment-bowling.jpeg"}],jN=[{id:"s1",name:"Volcano Tour",price:20,image:"pageMedia/sightseeing-volcano.jpeg"},{id:"s2",name:"Helicopter Tour",price:20,image:"banners/entertainment.jpeg"},{id:"s3",name:"Boat Tour",price:20,image:"pageMedia/entertainment-bowling.jpeg"},{id:"s4",name:"Bus Tour",price:20,image:"pageMedia/entertainment-bowling.jpeg"},{id:"s5",name:"Bike Tour",price:20,image:"pageMedia/transportation-bike.jpeg"},{id:"s6",name:"Rainforest Hike",price:20,image:"pageMedia/sightseeing-rainforest.jpeg"}];var UN={bannerData:{bannerType:"subpage",title:"",image:"banners/transportation.jpeg",button:"Transportation",interactive:!1},desc:{},activityData:kN,infoData:[{title:"How to Get Here",type:0,content:"Almost all visitors arrive to Taniti by air, though some arrive on a small cruise ship that docks in Yellow Leaf Bay for one night per week. Taniti is served by a small airport that can accommodate small jets and propeller planes. Taniti is in the process of expanding the airport so larger jets will be able to land on the island within the next few years.",image:"pageMedia/transportation-plane.jpeg"},{title:"How to Get Around",type:0,content:"Public buses serve Taniti City and run from 5 a.m. to 11 p.m. every day. Private buses serve the rest of the island. Taxis are available in Taniti City, and rental cars can be rented from a local rental agency near the airport. Bikes and helmets are available to rent from several vendors (helmets are required by law). Taniti City is fairly flat and very walkable. Many tourists stay in the area surrounding Merriton Landing: this area is easy to explore on foot.",image:"pageMedia/transportation-bike.jpeg"}]},BN={bannerData:{bannerType:"subpage",title:"",image:"banners/lodging.jpeg",button:"Lodging",interactive:!1},desc:{},activityData:LN,infoData:[{title:"Luxury Hotels",type:0,content:"Taniti has a wide variety of lodging that ranges from an inexpensive hostel to one large, four-star resort.",image:"pageMedia/lodging-hotel.jpeg"},{title:"Bed & Breakfasts",type:0,content:"There are many small, family-owned hotels and a growing number of bed and breakfasts. All types of lodging are strictly regulated and regularly inspected by the Tanitian government.",image:"pageMedia/lodging-bnb.jpeg"}]},$N={bannerData:{bannerType:"subpage",title:"",image:"banners/food.jpeg",button:"Food",interactive:!1},desc:{},activityData:FN,infoData:[{title:"Restaurants",type:0,content:"Taniti currently has 10 restaurants: five serve mostly local fish and rice, three serve American-style meals, and two serve Pan-Asian cuisine.",image:"pageMedia/food-restaurant.jpeg"},{title:"Grocery",type:0,content:"Taniti has two supermarkets, two smaller grocery stores, and one convenience store that is open 24 hours a day.",image:"pageMedia/food-grocery.jpeg"}]},HN={bannerData:{bannerType:"subpage",title:"",image:"banners/entertainment.jpeg",button:"Entertainment",interactive:!1},desc:{title:"",type:1,content:"Most people visit Taniti to enjoy the beaches, explore the rainforest, and to visit the volcano. However, there are other things to do, including visiting a local history museum, going on chartered fishing tours, snorkeling, zip-lining in the rainforest, visiting several pubs, including a microbrewery, dancing at a new dance club, seeing a movie, taking helicopter rides, playing at an arcade, visiting art galleries, and bowling. Also, a nine-hole golf course should be operational by next year. Many of these activities are located in Merriton Landing, which is a rapidly developing area on the north side of Yellow Leaf Bay.",image:""},activityData:VN,infoData:[]},zN={bannerData:{bannerType:"subpage",title:"",image:"banners/sightseeing.jpeg",button:"Sightseeing",interactive:!1},desc:{title:"",type:1,content:"Most tourists spend most of their time in Taniti City, which boasts native architecture and nearby white, sandy beaches that encircle Yellow Leaf Bay. Other popular activities include boat or bus tours of the island, hikes in the rainforest, or visits to Taniti\u2019s active volcano.",image:""},activityData:jN,infoData:[]};function G$(t,e){if(t&1&&An(0,"img",2),t&2){let n=K();Kn("src",n.item.image,cn)}}function W$(t,e){if(t&1){let n=$t();Ie(0,"button",4),Qn("click",function(){At(n);let i=K();return Rt(i.removeFromCart())}),ie(1,"DELETE"),we()}}function K$(t,e){if(t&1){let n=$t();Ie(0,"button",4),Qn("click",function(){At(n);let i=K();return Rt(i.clearCart())}),ie(1,"CLEAR"),we()}}var kh=class t{constructor(e){this.cart=e}item;real=!0;removeFromCart(){console.log("ITEM: Deleting "+this.item.name),this.cart.removeItem(this.item)}clearCart(){console.log("ITEM: Clearing Cart"),this.cart.clearItems()}static \u0275fac=function(n){return new(n||t)(me(Di))};static \u0275cmp=Se({type:t,selectors:[["app-item"]],inputs:{item:"item",real:"real"},decls:9,vars:4,consts:[[1,"item-shell"],[1,"item-container"],[3,"src"],[1,"price"],[3,"click"]],template:function(n,r){n&1&&(Ie(0,"div",0)(1,"div",1),se(2,G$,1,1,"img",2),Ie(3,"p"),ie(4),we(),Ie(5,"p",3),ie(6),we(),se(7,W$,2,0,"button")(8,K$,2,0,"button"),we()()),n&2&&(O(2),ae(r.item.image!=""?2:-1),O(2),Fe(r.item.name),O(2),Rn("$",r.item.price),O(),ae(r.real?7:8))},styles:[".item-shell[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;width:100%}.item-container[_ngcontent-%COMP%]{margin:0;padding:1rem;display:flex;flex-direction:row;align-items:center;gap:1rem;flex:1;background-color:var(--primary)}img[_ngcontent-%COMP%]{width:96px;height:48px;object-fit:cover}p[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.5rem;color:#fffaf0}.price[_ngcontent-%COMP%]{margin-left:auto}button[_ngcontent-%COMP%]{padding:.25rem .5rem;background-color:transparent;color:#ff4646;border:none}button[_ngcontent-%COMP%]:hover{background-color:#ff4646;color:#fff;cursor:pointer}@media(max-width:550px){.item-container[_ngcontent-%COMP%]{padding:.5rem}img[_ngcontent-%COMP%]{width:64px;height:32px}p[_ngcontent-%COMP%]{font-size:1.25rem}}"]})};var Q$=t=>({id:"0",name:"Total",price:t,image:""});function Y$(t,e){t&1&&(B(0,"p",4),ie(1,"Cart is Empty"),W())}function J$(t,e){if(t&1&&ve(0,"app-item",5),t&2){let n=e.$implicit;de("item",n)}}function Z$(t,e){if(t&1){let n=$t();Mt(0,J$,1,1,"app-item",5,ln),B(2,"div",6),ve(3,"app-item",7),B(4,"button",8),dn("click",function(){At(n);let i=K();return Rt(i.submitOrder())}),ie(5,"Submit Order"),W()()}if(t&2){let n=K();xt(n.cartItems()),O(3),de("item",lc(2,Q$,n.cartTotal()))("real",!1)}}var Lh=class t{constructor(e){this.cartService=e;this.cartItems=e.cartItems,this.cartTotal=e.cartTotal}bannerData={bannerType:"subpage",title:"",image:"banners/taniti.jpeg",button:"Cart",interactive:!1};cartItems;cartTotal;async submitOrder(){try{await this.cartService.submitOrder()}catch(e){console.log("CART: Error submitting Order: "+e)}}static \u0275fac=function(n){return new(n||t)(me(Di))};static \u0275cmp=Se({type:t,selectors:[["app-cart"]],decls:6,vars:2,consts:[[1,"cart-shell"],[3,"data"],[1,"cart-wrapper"],[1,"cart-container"],[1,"empty"],[3,"item"],[1,"total-container"],[3,"item","real"],[3,"click"]],template:function(n,r){n&1&&(B(0,"div",0),ve(1,"app-banner",1),B(2,"div",2)(3,"div",3),se(4,Y$,2,0,"p",4)(5,Z$,6,4),W()()()),n&2&&(O(),de("data",r.bannerData),O(3),ae(r.cartItems().length<=0?4:5))},dependencies:[kh,Xn],styles:[".cart-shell[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}app-banner[_ngcontent-%COMP%]{width:100%}.cart-wrapper[_ngcontent-%COMP%]{margin:0;padding:0;width:100%;max-width:var(--maxWidth)}.cart-container[_ngcontent-%COMP%]{margin:0;padding:0 .5rem;display:flex;flex-direction:column;gap:1rem;text-align:center}h1[_ngcontent-%COMP%]{font-family:Malvie,sans-serif;color:var(--highlight)}.empty[_ngcontent-%COMP%]{font-size:1.5rem}.total-container[_ngcontent-%COMP%]{margin:0;padding:0 0 1rem;background:var(--primary)}button[_ngcontent-%COMP%]{margin:1rem auto 0;padding:0 1rem;font-family:Bebas Neue,sans-serif;font-size:1.5rem;background-color:transparent;color:#fffaf0;border:5px solid transparent;transition:all .1s ease-in-out}button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#fffaf0;color:var(--primary);cursor:pointer}@media(max-width:550px){.cart-container[_ngcontent-%COMP%]{gap:.5rem}button[_ngcontent-%COMP%]{font-size:2rem}}"]})};var ra=class t{themes=["theme-light","theme-dark"];themeSignal=Ge("");theme=this.themeSignal.asReadonly();initializeTheme(){let e=localStorage.getItem("theme")??"",n;e&&this.themes.includes(e)?n=e:n=this.themes[0],this.setTheme(n)}setTheme(e){if(!this.themes.includes(e)){console.error(`THEME SERVICE: Invalid Theme: ${e}`);return}this.clearTheme(),this.themeSignal.set(e),this.applyTheme(this.theme()),console.log("THEME SERVICE: Theme Set: "+this.theme())}applyTheme(e){this.themes.includes(e)&&e&&(document.documentElement.classList.add(this.theme()),localStorage.setItem("theme",this.theme()))}clearTheme(){let e=0;this.themes.forEach(n=>{document.documentElement.classList.contains(n)&&(document.documentElement.classList.remove(n),e++)}),this.themeSignal.set(""),localStorage.setItem("theme",""),e>0&&console.log("THEME SERVICE: Theme Cleared")}logTheme(){console.log("THEME SERVICE: Current Theme: "+this.theme())}static \u0275fac=function(n){return new(n||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})};function X$(t,e){if(t&1){let n=$t();Ie(0,"button",0),Qn("click",function(){At(n);let i=K();return Rt(i.setTheme("theme-dark"))}),An(1,"span",1),we()}t&2&&(O(),ei("mask-image","url(icons/dark-mode.svg)")("-webkit-mask-image","url(icons/dark-mode.svg)"))}function eH(t,e){if(t&1){let n=$t();Ie(0,"button",0),Qn("click",function(){At(n);let i=K();return Rt(i.setTheme("theme-light"))}),An(1,"span",1),we()}t&2&&(O(),ei("mask-image","url(icons/light-mode.svg)")("-webkit-mask-image","url(icons/light-mode.svg)"))}var Fh=class t{constructor(e){this.themeService=e;this.currentTheme=e.theme}currentTheme;setTheme(e){this.themeService.setTheme(e)}static \u0275fac=function(n){return new(n||t)(me(ra))};static \u0275cmp=Se({type:t,selectors:[["app-theme"]],decls:3,vars:2,consts:[[3,"click"],[1,"icon"]],template:function(n,r){n&1&&(Ie(0,"div"),se(1,X$,2,4,"button"),se(2,eH,2,4,"button"),we()),n&2&&(O(),ae(r.currentTheme()==="theme-light"?1:-1),O(),ae(r.currentTheme()==="theme-dark"?2:-1))},styles:["div[_ngcontent-%COMP%]{width:2rem;height:2rem;display:inline-block}button[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;font-size:1rem;background:transparent;border:2px solid transparent;box-sizing:border-box}button[_ngcontent-%COMP%]:hover{border:2px solid floralwhite;cursor:pointer}.icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;display:inline-block;background-color:#fffaf0;-webkit-mask-size:contain;mask-size:contain;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:center;mask-position:center}@media(max-width:1080px){button[_ngcontent-%COMP%]:hover{border:2px solid transparent}}"]})};var Vh=class t{constructor(e){this.firebase=e}ordersSignal=Ge([]);orders=this.ordersSignal.asReadonly();loadingSignal=Ge(!0);loading=this.loadingSignal.asReadonly();async refreshOrders(){this.ordersSignal.set([]),this.loadingSignal.set(!0);try{let e=await this.firebase.getOrders2();this.ordersSignal.set(e.map(n=>re(N({},n),{createdAt:n.createdAt?new Date(n.createdAt.seconds*1e3):n.createdAt})))}catch(e){console.error("ORDERS SERVICE: Failed to load orders: "+e)}finally{this.loadingSignal.set(!1)}}async deleteOrder(e){try{await this.firebase.deleteOrder2(e),await this.refreshOrders()}catch(n){console.error("ORDERS SERVICE: Failed to delete order: "+n)}}static \u0275fac=function(n){return new(n||t)(Y(na))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})};var nH=(t,e)=>e.id;function rH(t,e){t&1&&(B(0,"p"),ie(1,"Loading Orders..."),W())}function iH(t,e){t&1&&(B(0,"p",7),ie(1,"No Orders Yet"),W())}function oH(t,e){if(t&1&&(B(0,"div",13)(1,"p",16),ie(2),W(),B(3,"p",17),ie(4),W()()),t&2){let n=e.$implicit;O(2),Fe(n.name),O(2),Rn("$",n.price)}}function sH(t,e){if(t&1){let n=$t();B(0,"div",8)(1,"div",9)(2,"p",10),ie(3),W(),B(4,"p",11),ie(5),oy(6,"date"),W()(),B(7,"div",12)(8,"h4"),ie(9,"Activities"),W(),Mt(10,oH,5,2,"div",13,ln),W(),B(12,"p",14),ie(13),W(),B(14,"button",15),dn("click",function(){let i=At(n).$implicit,o=K(2);return Rt(o.deleteOrder(i.id))}),ie(15,"Delete Order"),W()()}if(t&2){let n=e.$implicit;O(3),Rn("ID: ",n.id),O(2),Fe(sy(6,3,n.createdAt,"short")),O(5),xt(n.activities),O(3),Rn("$",n.total)}}function aH(t,e){if(t&1&&Mt(0,sH,16,6,"div",8,nH),t&2){let n=K();xt(n.orders())}}var jh=class t{constructor(e){this.ordersService=e;this.orders=e.orders,this.loading=e.loading}bannerData={bannerType:"subpage",title:"",image:"banners/taniti.jpeg",button:"PROFILE",interactive:!1};orders;loading;ngOnInit(){this.ordersService.refreshOrders()}async deleteOrder(e){try{await this.ordersService.deleteOrder(e)}catch(n){console.error("ORDERS: Failed to delete Order: "+n)}}static \u0275fac=function(n){return new(n||t)(me(Vh))};static \u0275cmp=Se({type:t,selectors:[["app-orders"]],decls:17,vars:4,consts:[[1,"orders-shell"],[3,"data"],[1,"orders-content"],[1,"settings-wrapper"],[1,"setting"],[1,"orders-wrapper"],[1,"orders-container"],[1,"empty"],[1,"order-display"],[1,"order-stats"],[1,"order-id"],[1,"order-time"],[1,"activities-wrapper"],[1,"activity-entry"],[1,"order-price"],[1,"order-delete",3,"click"],[1,"activity-name"],[1,"activity-price"]],template:function(n,r){n&1&&(B(0,"div",0),ve(1,"app-banner",1),B(2,"div",2)(3,"div",3)(4,"h1"),ie(5,"Settings"),W(),B(6,"div",4)(7,"h3"),ie(8,"Dark Mode"),W(),ve(9,"app-theme"),W()(),B(10,"div",5)(11,"h1"),ie(12,"Orders"),W(),B(13,"div",6),se(14,rH,2,0,"p"),se(15,iH,2,0,"p",7),se(16,aH,2,0),W()()()()),n&2&&(O(),de("data",r.bannerData),O(13),ae(r.loading()?14:-1),O(),ae(!r.loading()&&r.orders().length===0?15:-1),O(),ae(!r.loading()&&r.orders().length>0?16:-1))},dependencies:[Xn,Fh,my],styles:[".orders-shell[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.orders-content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.orders-wrapper[_ngcontent-%COMP%]{margin-top:3rem;padding:.5rem;width:calc(100% - 2rem);max-width:var(--maxWidth)}.orders-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.order-display[_ngcontent-%COMP%]{margin-bottom:1rem;padding-bottom:1rem;width:100%;background-color:var(--primary);color:#fffaf0}.order-stats[_ngcontent-%COMP%]{margin:1rem 0;display:flex;justify-content:space-around}.activities-wrapper[_ngcontent-%COMP%]{margin:0 0 1rem}.activity-entry[_ngcontent-%COMP%]{margin:.5rem 1rem;padding:.5rem 1.5rem;display:flex;justify-content:space-between;background-color:var(--secondary)}.order-delete[_ngcontent-%COMP%]{margin:1rem 0 0}.settings-wrapper[_ngcontent-%COMP%]{padding:.5rem;width:calc(100% - 2rem);max-width:var(--maxWidth)}.setting[_ngcontent-%COMP%]{padding:.5rem;display:flex;flex-direction:row;justify-content:space-between;align-items:center;background-color:var(--setting-background)}h1[_ngcontent-%COMP%]{margin:0 0 1rem;padding:0;font-family:Malvie,sans-serif;color:var(--highlight)}h3[_ngcontent-%COMP%]{margin:0;padding:0;color:var(--setting-text)}h4[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Malvie,sans-serif;font-size:1.25rem}.empty[_ngcontent-%COMP%]{font-size:1.5rem}p[_ngcontent-%COMP%]{margin:0;padding:0}"]})};var GN=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:ff},{path:"transportation",component:Ci,data:{data:UN}},{path:"lodging",component:Ci,data:{data:BN}},{path:"food",component:Ci,data:{data:$N}},{path:"entertainment",component:Ci,data:{data:HN}},{path:"sightseeing",component:Ci,data:{data:zN}},{path:"cart",component:Lh},{path:"profile",component:jh}];var WN={providers:[Wg(),Jy(GN,Zy({scrollPositionRestoration:"enabled"}))]};function cH(t,e){if(t&1&&(B(0,"span"),ve(1,"span",5),W()),t&2){let n=K(2);O(),ei("mask-image","url("+n.linkData.icon+")")("-webkit-mask-image","url("+n.linkData.icon+")")}}function uH(t,e){if(t&1&&(B(0,"a",3),se(1,cH,2,4,"span"),B(2,"span",4),ie(3),W()()),t&2){let n=K();wd("mode-"+n.linkData.displayMode),de("routerLink",n.linkData.route),O(),ae(n.linkData.icon?1:-1),O(2),Fe(n.linkData.text)}}function lH(t,e){if(t&1&&(B(0,"span"),ve(1,"span",5),W()),t&2){let n=K(2);O(),ei("mask-image","url("+n.linkData.icon+")")("-webkit-mask-image","url("+n.linkData.icon+")")}}function dH(t,e){if(t&1&&(B(0,"button"),se(1,lH,2,4,"span"),B(2,"span",4),ie(3),W()()),t&2){let n=K();wd("mode-"+n.linkData.displayMode),O(),ae(n.linkData.icon?1:-1),O(2),Fe(n.linkData.text)}}var Uh=class t{linkData;isButton=!1;iconExempt=["text-only","responsive-hide"];ngOnInit(){!this.iconExempt.includes(this.linkData.displayMode)&&!this.linkData.icon&&console.warn(`NAV LINK: ${this.linkData.text}: displayMode '${this.linkData.displayMode}' requires an [icon] input`)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Se({type:t,selectors:[["app-nav-link"]],inputs:{linkData:"linkData",isButton:"isButton"},decls:3,vars:1,consts:[[1,"link-shell"],["routerLinkActive","active",3,"routerLink","class"],[3,"class"],["routerLinkActive","active",3,"routerLink"],[1,"nav-text"],[1,"nav-icon"]],template:function(n,r){n&1&&(B(0,"div",0),se(1,uH,4,5,"a",1)(2,dH,4,4,"button",2),W()),n&2&&(O(),ae(r.isButton?2:1))},dependencies:[Ds,Yy],styles:["button[_ngcontent-%COMP%]{background-color:transparent}a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin:0;padding:0;height:2rem;color:var(--nav-text);text-decoration:none;text-align:center;display:flex;align-items:center;justify-content:center;gap:0;border:2px solid transparent;box-sizing:border-box;cursor:pointer}a[_ngcontent-%COMP%]:not(.mode-icon-only,.mode-responsive-show):hover, button[_ngcontent-%COMP%]:not(.mode-icon-only,.mode-responsive-show):hover{color:var(--nav-highlight);border:2px solid var(--nav-highlight)}a.mode-text-only[_ngcontent-%COMP%], a.mode-responsive[_ngcontent-%COMP%], button.mode-text-only[_ngcontent-%COMP%], button.mode-responsive[_ngcontent-%COMP%]{padding:0 1rem}a.mode-icon-only[_ngcontent-%COMP%]{padding:.25rem}a.mode-both[_ngcontent-%COMP%]{padding:.25rem 1rem 0;gap:.25rem}.mode-text-only[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%], .mode-responsive[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{display:none}.mode-icon-only[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{margin:0;padding:0;display:none}.mode-responsive-show[_ngcontent-%COMP%], .mode-responsive-show[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{display:none}.mode-responsive-hide[_ngcontent-%COMP%]{padding:0 1rem}.nav-icon[_ngcontent-%COMP%]{display:inline-block;width:1.75rem;height:1.75rem;background-color:var(--nav-icon);mask-size:contain;-webkit-mask-size:contain;mask-repeat:no-repeat;-webkit-mask-repeat:no-repeat;mask-position:center;-webkit-mask-position:center}.nav-icon[_ngcontent-%COMP%]:hover{background-color:var(--nav-icon-highlight)}.nav-text[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Bebas Neue,sans-serif;font-size:2rem;font-weight:400;font-variant:all-small-caps;color:var(--nav-text)}@media(max-width:1080px){a.mode-responsive[_ngcontent-%COMP%]:hover, a.mode-responsive-hide[_ngcontent-%COMP%]:hover{color:var(--nav-text);border:2px solid transparent}a[_ngcontent-%COMP%]:not(.mode-icon-only,.mode-responsive-show):hover, button[_ngcontent-%COMP%]:not(.mode-icon-only,.mode-responsive-show):hover{border:2px solid transparent}a[_ngcontent-%COMP%]:not(.mode-icon-only,.mode-responsive-show):hover   .nav-text[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:not(.mode-icon-only,.mode-responsive-show):hover   .nav-text[_ngcontent-%COMP%]{border:2px solid transparent;color:var(--nav-text-mobile-highlight)}a.mode-responsive[_ngcontent-%COMP%]{padding:.25rem}.mode-responsive[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{display:block}.mode-responsive[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{display:none}.mode-responsive-show[_ngcontent-%COMP%]{display:inline}.mode-responsive-hide[_ngcontent-%COMP%]{padding:0;display:none}}@media(max-width:500px){.nav-icon[_ngcontent-%COMP%]{width:2rem;height:2rem}}"]})};var Bh=class t{breakpoint=1080;isDesktop=Ge(window.innerWidth>this.breakpoint);constructor(){window.addEventListener("resize",this.onResize.bind(this))}onResize(){this.isDesktop.set(window.innerWidth>this.breakpoint)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})};var hH=["exploreButtonRef"],pH=["exploreMenuRef"],gH=(t,e)=>e.route;function mH(t,e){if(t&1&&ve(0,"app-nav-link",3)(1,"app-nav-link",3)(2,"app-nav-link",3)(3,"app-nav-link",3)(4,"app-nav-link",3),t&2){let n=K();de("linkData",n.transportation),O(),de("linkData",n.lodging),O(),de("linkData",n.food),O(),de("linkData",n.entertainment),O(),de("linkData",n.sightseeing)}}function yH(t,e){if(t&1){let n=$t();B(0,"app-nav-link",6),dn("click",function(){At(n);let i=K(2);return Rt(i.closeExplore())}),W()}if(t&2){let n=e.$implicit;de("linkData",n)}}function vH(t,e){if(t&1){let n=$t();B(0,"app-nav-link",4,0),dn("click",function(){At(n);let i=K();return Rt(i.toggleExplore())}),W(),B(2,"div",5,1),Mt(4,yH,1,1,"app-nav-link",3,gH),W()}if(t&2){let n=K();de("linkData",n.explore)("isButton",!0),O(2),ss("is-open",n.isExploreOpen()),O(2),xt(n.exploreLinks)}}var $h=class t{constructor(e){this.screenService=e;this.isDesktop=e.isDesktop}isDesktop;isExploreOpen=Ge(!1);exploreButtonRef;exploreMenuRef;toggleExplore(){this.isExploreOpen.update(e=>!e)}closeExplore(){this.isExploreOpen.set(!1)}clickout(e){if(!this.isExploreOpen())return;let n=e.target,r=this.exploreButtonRef?.nativeElement.contains(n),i=this.exploreMenuRef?.nativeElement.contains(n);!r&&!i&&this.closeExplore()}home={text:"Home",route:"/home",icon:"icons/home.svg",displayMode:"responsive"};transportation={text:"Transportation",route:"/transportation",icon:"",displayMode:"responsive-hide"};lodging={text:"Lodging",route:"/lodging",icon:"",displayMode:"responsive-hide"};food={text:"Food",route:"/food",icon:"",displayMode:"responsive-hide"};entertainment={text:"Entertainment",route:"/entertainment",icon:"",displayMode:"responsive-hide"};sightseeing={text:"Sightseeing",route:"/sightseeing",icon:"",displayMode:"responsive-hide"};cart={text:"Cart",route:"/cart",icon:"icons/cart.svg",displayMode:"icon-only"};profile={text:"Profile",route:"/profile",icon:"icons/profile.svg",displayMode:"icon-only"};explore={text:"Explore",route:"#",icon:"icons/explore.svg",displayMode:"icon-only"};exploreLinks=[{text:"Transportation",route:"/transportation",displayMode:"text-only"},{text:"Lodging",route:"/lodging",displayMode:"text-only"},{text:"Food",route:"/food",displayMode:"text-only"},{text:"Entertainment",route:"/entertainment",displayMode:"text-only"},{text:"Sightseeing",route:"/sightseeing",displayMode:"text-only"}];static \u0275fac=function(n){return new(n||t)(me(Bh))};static \u0275cmp=Se({type:t,selectors:[["app-navbar"]],viewQuery:function(n,r){if(n&1&&(Id(hH,5,Bt),Id(pH,5,Bt)),n&2){let i;is(i=os())&&(r.exploreButtonRef=i.first),is(i=os())&&(r.exploreMenuRef=i.first)}},hostBindings:function(n,r){n&1&&dn("click",function(o){return r.clickout(o)},km)},decls:7,vars:4,consts:[["exploreButtonRef",""],["exploreMenuRef",""],[1,"nav-shell"],[3,"linkData"],[3,"click","linkData","isButton"],[1,"explore-menu"],[3,"click","linkData"]],template:function(n,r){n&1&&(B(0,"div",2)(1,"nav"),ve(2,"app-nav-link",3),se(3,mH,5,5)(4,vH,6,4),ve(5,"app-nav-link",3)(6,"app-nav-link",3),W()()),n&2&&(O(2),de("linkData",r.home),O(),ae(r.isDesktop()?3:4),O(2),de("linkData",r.cart),O(),de("linkData",r.profile))},dependencies:[Uh],styles:[".nav-shell[_ngcontent-%COMP%]{position:fixed;top:0;z-index:1000;width:100%}nav[_ngcontent-%COMP%]{margin:0;padding:0;width:100%;height:3rem;display:flex;flex-direction:row;justify-content:center;gap:.5rem;align-items:center;background-color:var(--background);box-shadow:0 .5rem 1rem #0000004d}a[_ngcontent-%COMP%]{padding:0 1rem;height:2rem;display:flex;align-items:center;color:var(--nav-text);text-decoration:none;text-align:center;font-size:1.1rem;font-weight:700;font-variant:all-small-caps;border:2px solid transparent;box-sizing:border-box;cursor:pointer}a[_ngcontent-%COMP%]:hover{color:var(--nav-highlight);border:2px solid var(--nav-highlight)}@media(max-width:1080px){.nav-shell[_ngcontent-%COMP%]{top:auto;bottom:0}nav[_ngcontent-%COMP%]{justify-content:center;gap:2rem;box-shadow:0 -.5rem 1rem #0000004d}}.explore-menu[_ngcontent-%COMP%]{padding:1rem;width:100%;position:fixed;bottom:3rem;z-index:-1;display:flex;flex-direction:column;gap:1rem;background-color:var(--background);box-shadow:0 -.5rem 1rem #0000004d;opacity:0;transform:translateY(100%);transition:opacity .2s ease-in-out,transform .2s ease-in-out;pointer-events:none}.explore-menu.is-open[_ngcontent-%COMP%]{opacity:1;transform:translateY(0);pointer-events:auto}@media(max-width:500px){nav[_ngcontent-%COMP%]{height:3rem;justify-content:space-around}.explore-menu[_ngcontent-%COMP%]{bottom:3rem}}"]})};function _H(t,e){if(t&1&&(Ie(0,"a",1),ie(1),we()),t&2){let n=K().$implicit;Kn("href",n.link,cn),O(),Fe(n.text)}}function EH(t,e){if(t&1&&(Ie(0,"p"),ie(1),we()),t&2){let n=K().$implicit;O(),Fe(n.text)}}function IH(t,e){if(t&1&&se(0,_H,2,2,"a",1)(1,EH,2,1,"p"),t&2){let n=e.$implicit;ae(n.link!=""?0:1)}}function wH(t,e){if(t&1&&Mt(0,IH,2,1,null,null,ln),t&2){let n=K();xt(n.footerData.lines)}}var Hh=class t{footerData;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Se({type:t,selectors:[["app-footer"]],inputs:{footerData:"footerData"},decls:3,vars:1,consts:[[1,"footer-shell"],[3,"href"]],template:function(n,r){n&1&&(Ie(0,"div",0)(1,"footer"),se(2,wH,2,0),we()()),n&2&&(O(2),ae(r.footerData?2:-1))},styles:[".footer-shell[_ngcontent-%COMP%]{margin:3rem 0 0}footer[_ngcontent-%COMP%]{margin:0;padding:1rem;height:100px;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1rem;font-family:Belanosima,sans-serif;text-align:center;background-color:var(--primary);color:#fffaf0}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fffaf0;cursor:pointer}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:inherit;text-decoration:none}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.25rem}"]})};var zh=class t{constructor(e){this.themeService=e}title=Ge("ng-taniti");footerData={lines:[{text:"Photos licensed from Adobe Stock",link:"fake link"},{text:"Made with Angular 21",link:""},{text:"2025",link:""}]};ngOnInit(){this.themeService.initializeTheme()}static \u0275fac=function(n){return new(n||t)(me(ra))};static \u0275cmp=Se({type:t,selectors:[["app-root"]],decls:5,vars:1,consts:[[1,"app-shell"],[1,"main"],[3,"footerData"]],template:function(n,r){n&1&&(B(0,"div",0),ve(1,"app-navbar"),B(2,"div",1),ve(3,"router-outlet"),W(),ve(4,"app-footer",2),W()),n&2&&(O(4),de("footerData",r.footerData))},dependencies:[kc,$h,Hh],styles:[".app-shell[_ngcontent-%COMP%]{padding-top:3rem;min-height:calc(100vh + 150px);display:flex;flex-direction:column;justify-content:space-between}.main[_ngcontent-%COMP%]{margin:0;padding:0;flex:1}app-footer[_ngcontent-%COMP%]{padding-bottom:0}@media(max-width:1080px){.app-shell[_ngcontent-%COMP%]{padding-top:0}app-footer[_ngcontent-%COMP%]{padding-bottom:3rem}}@media(max-width:500px){app-footer[_ngcontent-%COMP%]{padding-bottom:3rem}}"]})};var TH="firebase",DH="12.6.0";On(TH,DH,"app");var KN={production:!1,firebaseConfig:{apiKey:"AIzaSyDweRdkdGsOkzaOxWWuoJ0JVQ7-KFtltFM",authDomain:"ng-taniti.firebaseapp.com",projectId:"ng-taniti",storageBucket:"ng-taniti.firebasestorage.app",messagingSenderId:"521171139506",appId:"1:521171139506:web:50d1e74c05b2b4de4182ab"}};var Gne=Iv(KN.firebaseConfig);by(zh,WN).catch(t=>console.error(t));
