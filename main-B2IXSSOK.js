var RM=Object.defineProperty,NM=Object.defineProperties;var MM=Object.getOwnPropertyDescriptors;var ku=Object.getOwnPropertySymbols;var ww=Object.prototype.hasOwnProperty,Tw=Object.prototype.propertyIsEnumerable;var Iw=(t,e,n)=>e in t?RM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,N=(t,e)=>{for(var n in e||={})ww.call(e,n)&&Iw(t,n,e[n]);if(ku)for(var n of ku(e))Tw.call(e,n)&&Iw(t,n,e[n]);return t},ie=(t,e)=>NM(t,MM(e));var yp=(t,e)=>{var n={};for(var r in t)ww.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ku)for(var r of ku(t))e.indexOf(r)<0&&Tw.call(t,r)&&(n[r]=t[r]);return n};var vt=null,Lu=!1,Ip=1,xM=null,Lt=Symbol("SIGNAL");function G(t){let e=vt;return vt=t,e}function Vu(){return vt}var Ia={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function wa(t){if(Lu)throw new Error("");if(vt===null)return;vt.consumerOnSignalRead(t);let e=vt.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=vt.recomputing;if(r&&(n=e!==void 0?e.nextProducer:vt.producers,n!==void 0&&n.producer===t)){vt.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===vt&&(!r||OM(i,vt)))return;let o=Mo(vt),s={producer:t,consumer:vt,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};vt.producersTail=s,e!==void 0?e.nextProducer=s:vt.producers=s,o&&Sw(t,s)}function Dw(){Ip++}function wp(t){if(!(Mo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ip)){if(!t.producerMustRecompute(t)&&!Uu(t)){Ep(t);return}t.producerRecomputeValue(t),Ep(t)}}function Tp(t){if(t.consumers===void 0)return;let e=Lu;Lu=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||PM(r)}}finally{Lu=e}}function Dp(){return vt?.consumerAllowSignalWrites!==!1}function PM(t){t.dirty=!0,Tp(t),t.consumerMarkedDirty?.(t)}function Ep(t){t.dirty=!1,t.lastCleanEpoch=Ip}function Ta(t){return t&&Cw(t),G(t)}function Cw(t){t.producersTail=void 0,t.recomputing=!0}function ju(t,e){G(e),t&&bw(t)}function bw(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(Mo(t))do n=Cp(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Uu(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(wp(n),r!==n.version))return!0}return!1}function Da(t){if(Mo(t)){let e=t.producers;for(;e!==void 0;)e=Cp(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function Sw(t,e){let n=t.consumersTail,r=Mo(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)Sw(i.producer,i)}function Cp(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Mo(e)){let o=e.producers;for(;o!==void 0;)o=Cp(o)}return n}function Mo(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function bp(t){xM?.(t)}function OM(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Sp(t,e){return Object.is(t,e)}function Bu(t,e){let n=Object.create(kM);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(wp(n),wa(n),n.value===Fu)throw n.error;return n.value};return r[Lt]=n,bp(n),r}var vp=Symbol("UNSET"),_p=Symbol("COMPUTING"),Fu=Symbol("ERRORED"),kM=ie(N({},Ia),{value:vp,dirty:!0,error:null,equal:Sp,kind:"computed",producerMustRecompute(t){return t.value===vp||t.value===_p},producerRecomputeValue(t){if(t.value===_p)throw new Error("");let e=t.value;t.value=_p;let n=Ta(t),r,i=!1;try{r=t.computation(),G(null),i=e!==vp&&e!==Fu&&r!==Fu&&t.equal(e,r)}catch(o){r=Fu,t.error=o}finally{ju(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function LM(){throw new Error}var Aw=LM;function Rw(t){Aw(t)}function Ap(t){Aw=t}var FM=null;function Rp(t,e){let n=Object.create($u);n.value=t,e!==void 0&&(n.equal=e);let r=()=>Nw(n);return r[Lt]=n,bp(n),[r,s=>Ca(n,s),s=>Mw(n,s)]}function Nw(t){return wa(t),t.value}function Ca(t,e){Dp()||Rw(t),t.equal(t.value,e)||(t.value=e,VM(t))}function Mw(t,e){Dp()||Rw(t),Ca(t,e(t.value))}var $u=ie(N({},Ia),{equal:Sp,value:void 0,kind:"signal"});function VM(t){t.version++,Dw(),Tp(t),FM?.(t)}function Np(t){let e=G(null);try{return t()}finally{G(e)}}function ee(t){return typeof t=="function"}function xo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Hu=xo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ba(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ht=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(o){e=o instanceof Hu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{xw(o)}catch(s){e=e??[],s instanceof Hu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Hu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)xw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ba(n,e)}remove(e){let{_finalizers:n}=this;n&&ba(n,e),e instanceof t&&e._removeParent(this)}};ht.EMPTY=(()=>{let t=new ht;return t.closed=!0,t})();var Mp=ht.EMPTY;function zu(t){return t instanceof ht||t&&"closed"in t&&ee(t.remove)&&ee(t.add)&&ee(t.unsubscribe)}function xw(t){ee(t)?t():t.unsubscribe()}var mn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Po={setTimeout(t,e,...n){let{delegate:r}=Po;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Po;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function qu(t){Po.setTimeout(()=>{let{onUnhandledError:e}=mn;if(e)e(t);else throw t})}function Sa(){}var Pw=xp("C",void 0,void 0);function Ow(t){return xp("E",void 0,t)}function kw(t){return xp("N",t,void 0)}function xp(t,e,n){return{kind:t,value:e,error:n}}var xi=null;function Oo(t){if(mn.useDeprecatedSynchronousErrorHandling){let e=!xi;if(e&&(xi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=xi;if(xi=null,n)throw r}}else t()}function Lw(t){mn.useDeprecatedSynchronousErrorHandling&&xi&&(xi.errorThrown=!0,xi.error=t)}var Pi=class extends ht{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,zu(e)&&e.add(this)):this.destination=BM}static create(e,n,r){return new ko(e,n,r)}next(e){this.isStopped?Op(kw(e),this):this._next(e)}error(e){this.isStopped?Op(Ow(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Op(Pw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},jM=Function.prototype.bind;function Pp(t,e){return jM.call(t,e)}var kp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Gu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Gu(r)}else Gu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Gu(n)}}},ko=class extends Pi{constructor(e,n,r){super();let i;if(ee(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&mn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Pp(e.next,o),error:e.error&&Pp(e.error,o),complete:e.complete&&Pp(e.complete,o)}):i=e}this.destination=new kp(i)}};function Gu(t){mn.useDeprecatedSynchronousErrorHandling?Lw(t):qu(t)}function UM(t){throw t}function Op(t,e){let{onStoppedNotification:n}=mn;n&&Po.setTimeout(()=>n(t,e))}var BM={closed:!0,next:Sa,error:UM,complete:Sa};var Lo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function yn(t){return t}function Lp(...t){return Fp(t)}function Fp(t){return t.length===0?yn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Ie=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=HM(n)?n:new ko(n,r,i);return Oo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Fw(r),new r((i,o)=>{let s=new ko({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Lo](){return this}pipe(...n){return Fp(n)(this)}toPromise(n){return n=Fw(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Fw(t){var e;return(e=t??mn.Promise)!==null&&e!==void 0?e:Promise}function $M(t){return t&&ee(t.next)&&ee(t.error)&&ee(t.complete)}function HM(t){return t&&t instanceof Pi||$M(t)&&zu(t)}function zM(t){return ee(t?.lift)}function Ce(t){return e=>{if(zM(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ae(t,e,n,r,i){return new Vp(t,e,n,r,i)}var Vp=class extends Pi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var Vw=xo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var st=(()=>{class t extends Ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Wu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Vw}next(n){Oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Mp:(this.currentObservers=null,o.push(n),new ht(()=>{this.currentObservers=null,ba(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Ie;return n.source=this,n}}return t.create=(e,n)=>new Wu(e,n),t})(),Wu=class extends st{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Mp}};var pt=class extends st{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ft=new Ie(t=>t.complete());function jw(t){return t&&ee(t.schedule)}function Uw(t){return t[t.length-1]}function Bw(t){return ee(Uw(t))?t.pop():void 0}function Ur(t){return jw(Uw(t))?t.pop():void 0}function Hw(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function $w(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oi(t){return this instanceof Oi?(this.v=t,this):new Oi(t)}function zw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(S){return Promise.resolve(S).then(y,p)}}function a(y,S){r[y]&&(i[y]=function(A){return new Promise(function(R,L){o.push([y,A,R,L])>1||u(y,A)})},S&&(i[y]=S(i[y])))}function u(y,S){try{l(r[y](S))}catch(A){m(o[0][3],A)}}function l(y){y.value instanceof Oi?Promise.resolve(y.value.v).then(f,p):m(o[0][2],y)}function f(y){u("next",y)}function p(y){u("throw",y)}function m(y,S){y(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function qw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof $w=="function"?$w(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Ku=t=>t&&typeof t.length=="number"&&typeof t!="function";function Qu(t){return ee(t?.then)}function Yu(t){return ee(t[Lo])}function Ju(t){return Symbol.asyncIterator&&ee(t?.[Symbol.asyncIterator])}function Zu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function qM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Xu=qM();function el(t){return ee(t?.[Xu])}function tl(t){return zw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Oi(n.read());if(i)return yield Oi(void 0);yield yield Oi(r)}}finally{n.releaseLock()}})}function nl(t){return ee(t?.getReader)}function at(t){if(t instanceof Ie)return t;if(t!=null){if(Yu(t))return GM(t);if(Ku(t))return WM(t);if(Qu(t))return KM(t);if(Ju(t))return Gw(t);if(el(t))return QM(t);if(nl(t))return YM(t)}throw Zu(t)}function GM(t){return new Ie(e=>{let n=t[Lo]();if(ee(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function WM(t){return new Ie(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function KM(t){return new Ie(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,qu)})}function QM(t){return new Ie(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Gw(t){return new Ie(e=>{JM(t,e).catch(n=>e.error(n))})}function YM(t){return Gw(tl(t))}function JM(t,e){var n,r,i,o;return Hw(this,void 0,void 0,function*(){try{for(n=qw(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Vt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function rl(t,e=0){return Ce((n,r)=>{n.subscribe(Ae(r,i=>Vt(r,t,()=>r.next(i),e),()=>Vt(r,t,()=>r.complete(),e),i=>Vt(r,t,()=>r.error(i),e)))})}function il(t,e=0){return Ce((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Ww(t,e){return at(t).pipe(il(e),rl(e))}function Kw(t,e){return at(t).pipe(il(e),rl(e))}function Qw(t,e){return new Ie(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Yw(t,e){return new Ie(n=>{let r;return Vt(n,e,()=>{r=t[Xu](),Vt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function ol(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ie(n=>{Vt(n,e,()=>{let r=t[Symbol.asyncIterator]();Vt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Jw(t,e){return ol(tl(t),e)}function Zw(t,e){if(t!=null){if(Yu(t))return Ww(t,e);if(Ku(t))return Qw(t,e);if(Qu(t))return Kw(t,e);if(Ju(t))return ol(t,e);if(el(t))return Yw(t,e);if(nl(t))return Jw(t,e)}throw Zu(t)}function Xe(t,e){return e?Zw(t,e):at(t)}function le(...t){let e=Ur(t);return Xe(t,e)}function jp(t,e){let n=ee(t)?t:()=>t,r=i=>i.error(n());return new Ie(e?i=>e.schedule(r,0,i):r)}function sl(t){return!!t&&(t instanceof Ie||ee(t.lift)&&ee(t.subscribe))}var ki=xo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Le(t,e){return Ce((n,r)=>{let i=0;n.subscribe(Ae(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:ZM}=Array;function XM(t,e){return ZM(e)?t(...e):t(e)}function Xw(t){return Le(e=>XM(t,e))}var{isArray:ex}=Array,{getPrototypeOf:tx,prototype:nx,keys:rx}=Object;function eT(t){if(t.length===1){let e=t[0];if(ex(e))return{args:e,keys:null};if(ix(e)){let n=rx(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function ix(t){return t&&typeof t=="object"&&tx(t)===nx}function tT(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Up(...t){let e=Ur(t),n=Bw(t),{args:r,keys:i}=eT(t);if(r.length===0)return Xe([],e);let o=new Ie(ox(r,e,i?s=>tT(i,s):yn));return n?o.pipe(Xw(n)):o}function ox(t,e,n=yn){return r=>{nT(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)nT(e,()=>{let l=Xe(t[u],e),f=!1;l.subscribe(Ae(r,p=>{o[u]=p,f||(f=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function nT(t,e,n){t?Vt(n,t,e):e()}function rT(t,e,n,r,i,o,s,a){let u=[],l=0,f=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=A=>l<r?S(A):u.push(A),S=A=>{o&&e.next(A),l++;let R=!1;at(n(A,f++)).subscribe(Ae(e,L=>{i?.(L),o?y(L):e.next(L)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let L=u.shift();s?Vt(e,s,()=>S(L)):S(L)}m()}catch(L){e.error(L)}}))};return t.subscribe(Ae(e,y,()=>{p=!0,m()})),()=>{a?.()}}function _t(t,e,n=1/0){return ee(e)?_t((r,i)=>Le((o,s)=>e(r,o,i,s))(at(t(r,i))),n):(typeof e=="number"&&(n=e),Ce((r,i)=>rT(r,i,t,n)))}function Fo(t=1/0){return _t(yn,t)}function iT(){return Fo(1)}function Vo(...t){return iT()(Xe(t,Ur(t)))}function Aa(t){return new Ie(e=>{at(t()).subscribe(e)})}function vn(t,e){return Ce((n,r)=>{let i=0;n.subscribe(Ae(r,o=>t.call(e,o,i++)&&r.next(o)))})}function jo(t){return Ce((e,n)=>{let r=null,i=!1,o;r=e.subscribe(Ae(n,void 0,void 0,s=>{o=at(t(s,jo(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Ra(t,e){return ee(e)?_t(t,e,1):_t(t,1)}function Bp(t){return Ce((e,n)=>{let r=!1;e.subscribe(Ae(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function lr(t){return t<=0?()=>Ft:Ce((e,n)=>{let r=0;e.subscribe(Ae(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function oT(t=sx){return Ce((e,n)=>{let r=!1;e.subscribe(Ae(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function sx(){return new ki}function $p(t){return Ce((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function dr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?vn((i,o)=>t(i,o,r)):yn,lr(1),n?Bp(e):oT(()=>new ki))}function al(t){return t<=0?()=>Ft:Ce((e,n)=>{let r=[];e.subscribe(Ae(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Hp(...t){let e=Ur(t);return Ce((n,r)=>{(e?Vo(t,n,e):Vo(t,n)).subscribe(r)})}function jn(t,e){return Ce((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(Ae(r,u=>{i?.unsubscribe();let l=0,f=o++;at(t(u,f)).subscribe(i=Ae(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Na(t){return Ce((e,n)=>{at(t).subscribe(Ae(n,()=>n.complete(),Sa)),!n.closed&&e.subscribe(n)})}function St(t,e,n){let r=ee(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ce((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ae(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):yn}var zp;function cl(){return zp}function Un(t){let e=zp;return zp=t,e}var sT=Symbol("NotFound");function Uo(t){return t===sT||t?.name==="\u0275NotFound"}var pl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",U=class extends Error{code;constructor(e,n){super(Hr(e,n)),this.code=e}};function ux(t){return`NG0${Math.abs(t)}`}function Hr(t,e){return`${ux(t)}${e?": "+e:""}`}var gr=globalThis;function be(t){for(let e in t)if(t[e]===be)return e;throw Error("")}function hr(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(hr).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function gl(t,e){return t?e?`${t} ${e}`:t:e||""}var lx=be({__forward_ref__:be});function ml(t){return t.__forward_ref__=ml,t.toString=function(){return hr(this())},t}function jt(t){return og(t)?t():t}function og(t){return typeof t=="function"&&t.hasOwnProperty(lx)&&t.__forward_ref__===ml}function V(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function La(t){return dx(t,yl)}function sg(t){return La(t)!==null}function dx(t,e){return t.hasOwnProperty(e)&&t[e]||null}function fx(t){let e=t?.[yl]??null;return e||null}function Gp(t){return t&&t.hasOwnProperty(ll)?t[ll]:null}var yl=be({\u0275prov:be}),ll=be({\u0275inj:be}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=V({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ag(t){return t&&!!t.\u0275providers}var cg=be({\u0275cmp:be}),ug=be({\u0275dir:be}),lg=be({\u0275pipe:be}),dg=be({\u0275mod:be}),xa=be({\u0275fac:be}),ji=be({__NG_ELEMENT_ID__:be}),aT=be({__NG_ENV_ID__:be});function Fa(t){return typeof t=="string"?t:t==null?"":String(t)}function dT(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Fa(t)}var fT=be({ngErrorCode:be}),hx=be({ngErrorMessage:be}),px=be({ngTokenPath:be});function fg(t,e){return hT("",-200,e)}function vl(t,e){throw new U(-201,!1)}function hT(t,e,n){let r=new U(e,t);return r[fT]=e,r[hx]=t,n&&(r[px]=n),r}function gx(t){return t[fT]}var Wp;function pT(){return Wp}function At(t){let e=Wp;return Wp=t,e}function hg(t,e,n){let r=La(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;vl(t,"Injector")}var mx={},Li=mx,yx="__NG_DI_FLAG__",Kp=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Fi(n)||0;try{return this.injector.get(e,r&8?null:Li,r)}catch(i){if(Uo(i))return i;throw i}}};function vx(t,e=0){let n=cl();if(n===void 0)throw new U(-203,!1);if(n===null)return hg(t,void 0,e);{let r=_x(e),i=n.retrieve(t,r);if(Uo(i)){if(r.optional)return null;throw i}return i}}function W(t,e=0){return(pT()||vx)(jt(t),e)}function O(t,e){return W(t,Fi(e))}function Fi(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function _x(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Qp(t){let e=[];for(let n=0;n<t.length;n++){let r=jt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=Ex(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(W(i,o))}else e.push(W(r))}return e}function Ex(t){return t[yx]}function Br(t,e){let n=t.hasOwnProperty(xa);return n?t[xa]:null}function gT(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function mT(t){return t.flat(Number.POSITIVE_INFINITY)}function _l(t,e){t.forEach(n=>Array.isArray(n)?_l(n,e):e(n))}function pg(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Va(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function yT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function El(t,e,n){let r=Ho(t,e);return r>=0?t[r|1]=n:(r=~r,yT(t,r,e,n)),r}function Il(t,e){let n=Ho(t,e);if(n>=0)return t[n|1]}function Ho(t,e){return Ix(t,e,1)}function Ix(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Ui={},Bn=[],Bi=new $(""),gg=new $("",-1),mg=new $(""),Pa=class{get(e,n=Li){if(n===Li){let i=hT("",-201);throw i.name="\u0275NotFound",i}return n}};function yg(t){return t[dg]||null}function zr(t){return t[cg]||null}function vg(t){return t[ug]||null}function vT(t){return t[lg]||null}function $i(t){return{\u0275providers:t}}function _T(t){return $i([{provide:Bi,multi:!0,useValue:t}])}function ET(...t){return{\u0275providers:_g(!0,t),\u0275fromNgModule:!0}}function _g(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return _l(e,s=>{let a=s;dl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&IT(i,o),n}function IT(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Eg(i,o=>{e(o,r)})}}function dl(t,e,n,r){if(t=jt(t),!t)return!1;let i=null,o=Gp(t),s=!o&&zr(t);if(!o&&!s){let u=t.ngModule;if(o=Gp(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)dl(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{_l(o.imports,f=>{dl(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&IT(l,e)}if(!a){let l=Br(i)||(()=>new i);e({provide:i,useFactory:l,deps:Bn},i),e({provide:mg,useValue:i,multi:!0},i),e({provide:Bi,useValue:()=>W(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Eg(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Eg(t,e){for(let n of t)ag(n)&&(n=n.\u0275providers),Array.isArray(n)?Eg(n,e):e(n)}var wx=be({provide:String,useValue:be});function wT(t){return t!==null&&typeof t=="object"&&wx in t}function Tx(t){return!!(t&&t.useExisting)}function Dx(t){return!!(t&&t.useFactory)}function fl(t){return typeof t=="function"}var ja=new $(""),ul={},cT={},qp;function Ua(){return qp===void 0&&(qp=new Pa),qp}var ct=class{},Vi=class extends ct{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Jp(e,s=>this.processProvider(s)),this.records.set(gg,Bo(void 0,this)),i.has("environment")&&this.records.set(ct,Bo(void 0,this));let o=this.records.get(ja);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(mg,Bn,{self:!0}))}retrieve(e,n){let r=Fi(n)||0;try{return this.get(e,Li,r)}catch(i){if(Uo(i))return i;throw i}}destroy(){Ma(this),this._destroyed=!0;let e=G(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),G(e)}}onDestroy(e){return Ma(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ma(this);let n=Un(this),r=At(void 0),i;try{return e()}finally{Un(n),At(r)}}get(e,n=Li,r){if(Ma(this),e.hasOwnProperty(aT))return e[aT](this);let i=Fi(r),o,s=Un(this),a=At(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let f=Rx(e)&&La(e);f&&this.injectableDefInScope(f)?l=Bo(Yp(e),ul):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Ua():this.parent;return n=i&8&&n===Li?null:n,u.get(e,n)}catch(u){let l=gx(u);throw l===-200||l===-201?new U(l,null):u}finally{At(a),Un(s)}}resolveInjectorInitializers(){let e=G(null),n=Un(this),r=At(void 0),i;try{let o=this.get(Bi,Bn,{self:!0});for(let s of o)s()}finally{Un(n),At(r),G(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(hr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=jt(e);let n=fl(e)?e:jt(e&&e.provide),r=bx(e);if(!fl(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Bo(void 0,ul,!0),i.factory=()=>Qp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=G(null);try{if(n.value===cT)throw fg(hr(e));return n.value===ul&&(n.value=cT,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&Ax(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{G(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=jt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Yp(t){let e=La(t),n=e!==null?e.factory:Br(t);if(n!==null)return n;if(t instanceof $)throw new U(204,!1);if(t instanceof Function)return Cx(t);throw new U(204,!1)}function Cx(t){if(t.length>0)throw new U(204,!1);let n=fx(t);return n!==null?()=>n.factory(t):()=>new t}function bx(t){if(wT(t))return Bo(void 0,t.useValue);{let e=TT(t);return Bo(e,ul)}}function TT(t,e,n){let r;if(fl(t)){let i=jt(t);return Br(i)||Yp(i)}else if(wT(t))r=()=>jt(t.useValue);else if(Dx(t))r=()=>t.useFactory(...Qp(t.deps||[]));else if(Tx(t))r=(i,o)=>W(jt(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=jt(t&&(t.useClass||t.provide));if(Sx(t))r=()=>new i(...Qp(t.deps));else return Br(i)||Yp(i)}return r}function Ma(t){if(t.destroyed)throw new U(205,!1)}function Bo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Sx(t){return!!t.deps}function Ax(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Rx(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Jp(t,e){for(let n of t)Array.isArray(n)?Jp(n,e):n&&ag(n)?Jp(n.\u0275providers,e):e(n)}function Rt(t,e){let n;t instanceof Vi?(Ma(t),n=t):n=new Kp(t);let r,i=Un(n),o=At(void 0);try{return e()}finally{Un(i),At(o)}}function DT(){return pT()!==void 0||cl()!=null}var En=0,z=1,J=2,et=3,nn=4,rn=5,zo=6,qo=7,ze=8,mr=9,$n=10,Fe=11,Go=12,Ig=13,Hi=14,Wt=15,qr=16,zi=17,Hn=18,Ba=19,wg=20,fr=21,wl=22,$a=23,Kt=24,Tl=25,qi=26,tt=27,CT=1,Tg=6,Gr=7,Ha=8,Gi=9,Be=10;function zn(t){return Array.isArray(t)&&typeof t[CT]=="object"}function In(t){return Array.isArray(t)&&t[CT]===!0}function Dg(t){return(t.flags&4)!==0}function Wr(t){return t.componentOffset>-1}function Dl(t){return(t.flags&1)===1}function Wi(t){return!!t.template}function Wo(t){return(t[J]&512)!==0}function Ki(t){return(t[J]&256)===256}var bT="svg",ST="math";function on(t){for(;Array.isArray(t);)t=t[En];return t}function Cg(t,e){return on(e[t])}function wn(t,e){return on(e[t.index])}function za(t,e){return t.data[e]}function AT(t,e){return t[e]}function bg(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function sn(t,e){let n=e[t];return zn(n)?n:n[En]}function RT(t){return(t[J]&4)===4}function Cl(t){return(t[J]&128)===128}function NT(t){return In(t[et])}function qn(t,e){return e==null?null:t[e]}function Sg(t){t[zi]=0}function Ag(t){t[J]&1024||(t[J]|=1024,Cl(t)&&Ga(t))}function MT(t,e){for(;t>0;)e=e[Hi],t--;return e}function qa(t){return!!(t[J]&9216||t[Kt]?.dirty)}function bl(t){t[$n].changeDetectionScheduler?.notify(8),t[J]&64&&(t[J]|=1024),qa(t)&&Ga(t)}function Ga(t){t[$n].changeDetectionScheduler?.notify(0);let e=$r(t);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!Cl(e)));)e=$r(e)}function Rg(t,e){if(Ki(t))throw new U(911,!1);t[fr]===null&&(t[fr]=[]),t[fr].push(e)}function xT(t,e){if(t[fr]===null)return;let n=t[fr].indexOf(e);n!==-1&&t[fr].splice(n,1)}function $r(t){let e=t[et];return In(e)?e[et]:e}function Ng(t){return t[qo]??=[]}function Mg(t){return t.cleanup??=[]}function PT(t,e,n,r){let i=Ng(e);i.push(n),t.firstCreatePass&&Mg(t).push(r,i.length-1)}var ue={lFrame:GT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Zp=!1;function OT(){return ue.lFrame.elementDepthCount}function kT(){ue.lFrame.elementDepthCount++}function xg(){ue.lFrame.elementDepthCount--}function LT(){return ue.bindingsEnabled}function FT(){return ue.skipHydrationRootTNode!==null}function Pg(t){return ue.skipHydrationRootTNode===t}function Og(){ue.skipHydrationRootTNode=null}function ce(){return ue.lFrame.lView}function ut(){return ue.lFrame.tView}function Nt(t){return ue.lFrame.contextLView=t,t[ze]}function Mt(t){return ue.lFrame.contextLView=null,t}function xt(){let t=kg();for(;t!==null&&t.type===64;)t=t.parent;return t}function kg(){return ue.lFrame.currentTNode}function VT(){let t=ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ko(t,e){let n=ue.lFrame;n.currentTNode=t,n.isParent=e}function Lg(){return ue.lFrame.isParent}function jT(){ue.lFrame.isParent=!1}function Fg(){return Zp}function Vg(t){let e=Zp;return Zp=t,e}function jg(){let t=ue.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function UT(t){return ue.lFrame.bindingIndex=t}function Qi(){return ue.lFrame.bindingIndex++}function Ug(t){let e=ue.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function BT(){return ue.lFrame.inI18n}function $T(t,e){let n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,Sl(e)}function HT(){return ue.lFrame.currentDirectiveIndex}function Sl(t){ue.lFrame.currentDirectiveIndex=t}function zT(t){let e=ue.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Bg(){return ue.lFrame.currentQueryIndex}function Al(t){ue.lFrame.currentQueryIndex=t}function Nx(t){let e=t[z];return e.type===2?e.declTNode:e.type===1?t[rn]:null}function $g(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=Nx(o),i===null||(o=o[Hi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ue.lFrame=qT();return r.currentTNode=e,r.lView=t,!0}function Rl(t){let e=qT(),n=t[z];ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function qT(){let t=ue.lFrame,e=t===null?null:t.child;return e===null?GT(t):e}function GT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function WT(){let t=ue.lFrame;return ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Hg=WT;function Nl(){let t=WT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function KT(t){return(ue.lFrame.contextLView=MT(t,ue.lFrame.contextLView))[ze]}function yr(){return ue.lFrame.selectedIndex}function Kr(t){ue.lFrame.selectedIndex=t}function Ml(){let t=ue.lFrame;return za(t.tView,t.selectedIndex)}function QT(){return ue.lFrame.currentNamespace}var YT=!0;function xl(){return YT}function Pl(t){YT=t}function Xp(t,e=null,n=null,r){let i=zg(t,e,n,r);return i.resolveInjectorInitializers(),i}function zg(t,e=null,n=null,r,i=new Set){let o=[n||Bn,ET(t)];return r=r||(typeof t=="object"?void 0:hr(t)),new Vi(o,e||Ua(),r||null,i)}var _n=class t{static THROW_IF_NOT_FOUND=Li;static NULL=new Pa;static create(e,n){if(Array.isArray(e))return Xp({name:""},n,e,"");{let r=e.name??"";return Xp({name:r},e.parent,e.providers,r)}}static \u0275prov=V({token:t,providedIn:"any",factory:()=>W(gg)});static __NG_ELEMENT_ID__=-1},qe=new $(""),Qr=(()=>{class t{static __NG_ELEMENT_ID__=Mx;static __NG_ENV_ID__=n=>n}return t})(),eg=class extends Qr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Ki(this._lView)}onDestroy(e){let n=this._lView;return Rg(n,e),()=>xT(n,e)}};function Mx(){return new eg(ce())}var JT=!1,Yr=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new pt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Ie(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=V({token:t,providedIn:"root",factory:()=>new t})}return t})(),tg=class extends st{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,DT()&&(this.destroyRef=O(Qr,{optional:!0})??void 0,this.pendingTasks=O(Yr,{optional:!0})??void 0)}emit(e){let n=G(null);try{super.next(e)}finally{G(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ht&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Et=tg;function hl(...t){}function qg(t){let e,n;function r(){t=hl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Gg(t){return queueMicrotask(()=>t()),()=>{t=hl}}var Wg="isAngularZone",Oa=Wg+"_ID",xx=0,Ut=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Et(!1);onMicrotaskEmpty=new Et(!1);onStable=new Et(!1);onError=new Et(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=JT}=e;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,kx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Wg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new U(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Px,hl,hl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Px={};function Kg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ox(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){qg(()=>{t.callbackScheduled=!1,ng(t),t.isCheckStableRunning=!0,Kg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),ng(t)}function kx(t){let e=()=>{Ox(t)},n=xx++;t._inner=t._inner.fork({name:"angular",properties:{[Wg]:!0,[Oa]:n,[Oa+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(Lx(u))return r.invokeTask(o,s,a,u);try{return uT(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),lT(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return uT(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Fx(u)&&e(),lT(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,ng(t),Kg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function ng(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function uT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function lT(t){t._nesting--,Kg(t)}var ka=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Et;onMicrotaskEmpty=new Et;onStable=new Et;onError=new Et;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Lx(t){return ZT(t,"__ignore_ng_zone__")}function Fx(t){return ZT(t,"__scheduler_tick__")}function ZT(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var pr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},an=new $("",{factory:()=>{let t=O(Ut),e=O(ct),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(pr),n.handleError(r))})}}}),XT={provide:Bi,useValue:()=>{let t=O(pr,{optional:!0})},multi:!0},Vx=new $("",{factory:()=>{let t=O(qe).defaultView;if(!t)return;let e=O(an),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),O(Qr).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function Qg(){return $i([_T(()=>void O(Vx))])}function $e(t,e){let[n,r,i]=Rp(t,e?.equal),o=n,s=o[Lt];return o.set=r,o.update=i,o.asReadonly=eD.bind(o),o}function eD(){let t=this[Lt];if(t.readonlyFn===void 0){let e=()=>this();e[Lt]=t,t.readonlyFn=e}return t.readonlyFn}var $o=class{},Wa=new $("",{factory:()=>!0});var Yg=new $("");var Jg=(()=>{class t{static \u0275prov=V({token:t,providedIn:"root",factory:()=>new rg})}return t})(),rg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},ig=class{[Lt];constructor(e){this[Lt]=e}destroy(){this[Lt].destroy()}};function Tn(t){return Np(t)}function sd(t){return{toString:t}.toString()}function Kx(t){return typeof t=="function"}function AD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Bl=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},to=(()=>{let t=()=>RD;return t.ngInherit=!0,t})();function RD(t){return t.type.prototype.ngOnChanges&&(t.setInput=Yx),Qx}function Qx(){let t=MD(this),e=t?.current;if(e){let n=t.previous;if(n===Ui)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Yx(t,e,n,r,i){let o=this.declaredInputs[r],s=MD(t)||Jx(t,{previous:Ui,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Bl(l&&l.currentValue,n,u===Ui),AD(t,e,i,n)}var ND="__ngSimpleChanges__";function MD(t){return t[ND]||null}function Jx(t,e){return t[ND]=e}var tD=[];var Re=function(t,e=null,n){for(let r=0;r<tD.length;r++){let i=tD[r];i(t,e,n)}},we=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(we||{});function Zx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=RD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Xx(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Ll(t,e,n){xD(t,e,3,n)}function Fl(t,e,n,r){(t[J]&3)===n&&xD(t,e,n,r)}function Zg(t,e){let n=t[J];(n&3)===e&&(n&=16383,n+=1,t[J]=n)}function xD(t,e,n,r){let i=r!==void 0?t[zi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[zi]+=65536),(a<o||o==-1)&&(eP(t,n,e,u),t[zi]=(t[zi]&4294901760)+u+2),u++}function nD(t,e){Re(we.LifecycleHookStart,t,e);let n=G(null);try{e.call(t)}finally{G(n),Re(we.LifecycleHookEnd,t,e)}}function eP(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[J]>>14<t[zi]>>16&&(t[J]&3)===e&&(t[J]+=16384,nD(a,o)):nD(a,o)}var Yo=-1,Ja=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function tP(t){return(t.flags&8)!==0}function nP(t){return(t.flags&16)!==0}function rP(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];iP(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function PD(t){return t===3||t===4||t===6}function iP(t){return t.charCodeAt(0)===64}function ad(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?rD(t,n,i,null,e[++r]):rD(t,n,i,null,null))}}return t}function rD(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function OD(t){return t!==Yo}function $l(t){return t&32767}function oP(t){return t>>16}function Hl(t,e){let n=oP(t),r=e;for(;n>0;)r=r[Hi],n--;return r}var sm=!0;function zl(t){let e=sm;return sm=t,e}var sP=256,kD=sP-1,LD=5,aP=0,Gn={};function cP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ji)&&(r=n[ji]),r==null&&(r=n[ji]=aP++);let i=r&kD,o=1<<i;e.data[t+(i>>LD)]|=o}function FD(t,e){let n=VD(t,e);if(n!==-1)return n;let r=e[z];r.firstCreatePass&&(t.injectorIndex=e.length,Xg(r.data,t),Xg(e,null),Xg(r.blueprint,null));let i=Mm(t,e),o=t.injectorIndex;if(OD(i)){let s=$l(i),a=Hl(i,e),u=a[z].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Xg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function VD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Mm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=HD(i),r===null)return Yo;if(n++,i=i[Hi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Yo}function uP(t,e,n){cP(t,e,n)}function lP(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(PD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function jD(t,e,n){if(n&8||t!==void 0)return t;vl(e,"NodeInjector")}function UD(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[mr],o=At(void 0);try{return i?i.get(e,r,n&8):hg(e,r,n&8)}finally{At(o)}}return jD(r,e,n)}function BD(t,e,n,r=0,i){if(t!==null){if(e[J]&2048&&!(r&2)){let s=pP(t,e,n,r,Gn);if(s!==Gn)return s}let o=$D(t,e,n,r,Gn);if(o!==Gn)return o}return UD(e,n,r,i)}function $D(t,e,n,r,i){let o=fP(n);if(typeof o=="function"){if(!$g(e,t,r))return r&1?jD(i,n,r):UD(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))vl(n);else return s}finally{Hg()}}else if(typeof o=="number"){let s=null,a=VD(t,e),u=Yo,l=r&1?e[Wt][rn]:null;for((a===-1||r&4)&&(u=a===-1?Mm(t,e):e[a+8],u===Yo||!oD(r,!1)?a=-1:(s=e[z],a=$l(u),e=Hl(u,e)));a!==-1;){let f=e[z];if(iD(o,a,f.data)){let p=dP(a,e,n,s,r,l);if(p!==Gn)return p}u=e[a+8],u!==Yo&&oD(r,e[z].data[a+8]===l)&&iD(o,a,e)?(s=f,a=$l(u),e=Hl(u,e)):a=-1}}return i}function dP(t,e,n,r,i,o){let s=e[z],a=s.data[t+8],u=r==null?Wr(a)&&sm:r!=s&&(a.type&3)!==0,l=i&1&&o===a,f=Vl(a,s,n,u,l);return f!==null?ql(e,s,f,a,i):Gn}function Vl(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,f=o>>20,p=r?a:a+f,m=i?a+f:l;for(let y=p;y<m;y++){let S=s[y];if(y<u&&n===S||y>=u&&S.type===n)return y}if(i){let y=s[u];if(y&&Wi(y)&&y.type===n)return u}return null}function ql(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof Ja){let a=o;if(a.resolving){let y=dT(s[n]);throw fg(y)}let u=zl(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],f,p=a.injectImpl?At(a.injectImpl):null,m=$g(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Zx(n,s[n],e)}finally{p!==null&&At(p),zl(u),a.resolving=!1,Hg()}}return o}function fP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ji)?t[ji]:void 0;return typeof e=="number"?e>=0?e&kD:hP:e}function iD(t,e,n){let r=1<<t;return!!(n[e+(t>>LD)]&r)}function oD(t,e){return!(t&2)&&!(t&1&&e)}var Yi=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return BD(this._tNode,this._lView,e,Fi(r),n)}};function hP(){return new Yi(xt(),ce())}function ic(t){return sd(()=>{let e=t.prototype.constructor,n=e[xa]||am(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[xa]||am(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function am(t){return og(t)?()=>{let e=am(jt(t));return e&&e()}:Br(t)}function pP(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[J]&2048&&!Wo(s);){let a=$D(o,s,n,r|2,Gn);if(a!==Gn)return a;let u=o.parent;if(!u){let l=s[wg];if(l){let f=l.get(n,Gn,r);if(f!==Gn)return f}u=HD(s),s=s[Hi]}o=u}return i}function HD(t){let e=t[z],n=e.type;return n===2?e.declTNode:n===1?t[rn]:null}function oc(t){return lP(xt(),t)}function gP(){return ts(xt(),ce())}function ts(t,e){return new Bt(wn(t,e))}var Bt=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=gP}return t})();function mP(t){return t instanceof Bt?t.nativeElement:t}function yP(){return this._results[Symbol.iterator]()}var Gl=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new st}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=mT(e);(this._changesDetected=!gT(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=yP};function zD(t){return(t.flags&128)===128}var xm=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(xm||{}),qD=new Map,vP=0;function _P(){return vP++}function EP(t){qD.set(t[Ba],t)}function cm(t){qD.delete(t[Ba])}var sD="__ngContext__";function Jo(t,e){zn(e)?(t[sD]=e[Ba],EP(e)):t[sD]=e}function GD(t){return KD(t[Go])}function WD(t){return KD(t[nn])}function KD(t){for(;t!==null&&!In(t);)t=t[nn];return t}var IP;function Pm(t){IP=t}var cd=new $("",{factory:()=>wP}),wP="ng";var ud=new $(""),sc=new $("",{providedIn:"platform",factory:()=>"unknown"});var ld=new $("",{factory:()=>O(qe).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var QD="r";var YD="di";var JD=!1,ZD=new $("",{factory:()=>JD});var TP=(t,e,n,r)=>{};function DP(t,e,n,r){TP(t,e,n,r)}function Om(t){return(t.flags&32)===32}var CP=()=>null;function XD(t,e,n=!1){return CP(t,e,n)}function eC(t,e){let n=t.contentQueries;if(n!==null){let r=G(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Al(o),a.contentQueries(2,e[s],s)}}}finally{G(r)}}}function um(t,e,n){Al(0);let r=G(null);try{e(t,n)}finally{G(r)}}function tC(t,e,n){if(Dg(e)){let r=G(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{G(r)}}}var bn=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(bn||{});var Ol;function bP(){if(Ol===void 0&&(Ol=null,gr.trustedTypes))try{Ol=gr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ol}function aD(t){return bP()?.createScriptURL(t)||t}var Wl=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pl})`}};function ns(t){return t instanceof Wl?t.changingThisBreaksApplicationSecurity:t}function km(t,e){let n=nC(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${pl})`)}return n===e}function nC(t){return t instanceof Wl&&t.getTypeName()||null}var SP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function rC(t){return t=String(t),t.match(SP)?t:"unsafe:"+t}function AP(t,e){return t.createText(e)}function RP(t,e,n){t.setValue(e,n)}function iC(t,e,n){return t.createElement(e,n)}function Kl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function oC(t,e,n){t.appendChild(e,n)}function cD(t,e,n,r,i){r!==null?Kl(t,e,n,r,i):oC(t,e,n)}function sC(t,e,n,r){t.removeChild(null,e,n,r)}function NP(t,e,n){t.setAttribute(e,"style",n)}function MP(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function aC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&rP(t,e,r),i!==null&&MP(t,e,i),o!==null&&NP(t,e,o)}var dd=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(dd||{});function cn(t){let e=uC();return e?e.sanitize(dd.URL,t)||"":km(t,"URL")?ns(t):rC(Fa(t))}function cC(t){let e=uC();if(e)return aD(e.sanitize(dd.RESOURCE_URL,t)||"");if(km(t,"ResourceURL"))return aD(ns(t));throw new U(904,!1)}function xP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?cC:cn}function Lm(t,e,n){return xP(e,n)(t)}function uC(){let t=ce();return t&&t[$n].sanitizer}function Fm(t){return t.ownerDocument}function lC(t){return t instanceof Function?t():t}function PP(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var dC="ng-template";function OP(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&PP(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Vm(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Vm(t){return t.type===4&&t.value!==dC}function kP(t,e,n){let r=t.type===4&&!n?dC:t.value;return e===r}function LP(t,e,n){let r=4,i=t.attrs,o=i!==null?jP(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Dn(r)&&!Dn(u))return!1;if(s&&Dn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!kP(t,u,n)||u===""&&e.length===1){if(Dn(r))return!1;s=!0}}else if(r&8){if(i===null||!OP(t,i,u,n)){if(Dn(r))return!1;s=!0}}else{let l=e[++a],f=FP(u,i,Vm(t),n);if(f===-1){if(Dn(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Dn(r))return!1;s=!0}}}}return Dn(r)||s}function Dn(t){return(t&1)===0}function FP(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return UP(e,t)}function VP(t,e,n=!1){for(let r=0;r<e.length;r++)if(LP(t,e[r],n))return!0;return!1}function jP(t){for(let e=0;e<t.length;e++){let n=t[e];if(PD(n))return e}return t.length}function UP(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function uD(t,e){return t?":not("+e.trim()+")":e}function BP(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Dn(s)&&(e+=uD(o,i),i=""),r=s,o=o||!Dn(r);n++}return i!==""&&(e+=uD(o,i)),e}function $P(t){return t.map(BP).join(",")}function HP(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Dn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var un={};function jm(t,e,n,r,i,o,s,a,u,l,f){let p=tt+r,m=p+i,y=zP(p,m),S=typeof l=="function"?l():l;return y[z]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:f}}function zP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:un);return n}function qP(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=jm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Um(t,e,n,r,i,o,s,a,u,l,f){let p=e.blueprint.slice();return p[En]=i,p[J]=r|4|128|8|64|1024,(l!==null||t&&t[J]&2048)&&(p[J]|=2048),Sg(p),p[et]=p[Hi]=t,p[ze]=n,p[$n]=s||t&&t[$n],p[Fe]=a||t&&t[Fe],p[mr]=u||t&&t[mr]||null,p[rn]=o,p[Ba]=_P(),p[zo]=f,p[wg]=l,p[Wt]=e.type==2?t[Wt]:p,p}function GP(t,e,n){let r=wn(e,t),i=qP(n),o=t[$n].rendererFactory,s=Bm(t,Um(t,i,null,fC(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function fC(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function hC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Bm(t,e){return t[Go]?t[Ig][nn]=e:t[Go]=e,t[Ig]=e,e}function P(t=1){pC(ut(),ce(),yr()+t,!1)}function pC(t,e,n,r){if(!r)if((e[J]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Ll(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Fl(e,o,0,n)}Kr(n)}var fd=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(fd||{});function lm(t,e,n,r){let i=G(null);try{let[o,s,a]=t.inputs[n],u=null;(s&fd.SignalBased)!==0&&(u=e[o][Lt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):AD(e,u,o,r)}finally{G(i)}}var Wn=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Wn||{}),WP;function $m(t,e){return WP(t,e)}var Ji=new Set,Hm=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Hm||{}),ac=new $(""),lD=new Set;function Zr(t){lD.has(t)||(lD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var gC=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=V({token:t,providedIn:"root",factory:()=>new t})}return t})();var mC=new $("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:O(ct)})});function yC(t,e,n){let r=t.get(mC);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function KP(t,e){let n=t.get(mC);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)n.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function QP(t,e){for(let[n,r]of e)yC(t,r.animateFns)}function dD(t,e,n,r){let i=t?.[qi]?.enter;e!==null&&i&&i.has(n.index)&&QP(r,i)}function Qo(t,e,n,r,i,o,s,a){if(i!=null){let u,l=!1;In(i)?u=i:zn(i)&&(l=!0,i=i[En]);let f=on(i);t===0&&r!==null?(dD(a,r,o,n),s==null?oC(e,r,f):Kl(e,r,f,s||null,!0)):t===1&&r!==null?(dD(a,r,o,n),Kl(e,r,f,s||null,!0)):t===2?fD(a,o,n,p=>{sC(e,f,l,p)}):t===3&&fD(a,o,n,()=>{e.destroyNode(f)}),u!=null&&cO(e,t,n,u,o,r,s)}}function YP(t,e){vC(t,e),e[En]=null,e[rn]=null}function JP(t,e,n,r,i,o){r[En]=i,r[rn]=e,pd(t,r,n,1,i,o)}function vC(t,e){e[$n].changeDetectionScheduler?.notify(9),pd(t,e,e[Fe],2,null,null)}function ZP(t){let e=t[Go];if(!e)return em(t[z],t);for(;e;){let n=null;if(zn(e))n=e[Go];else{let r=e[Be];r&&(n=r)}if(!n){for(;e&&!e[nn]&&e!==t;)zn(e)&&em(e[z],e),e=e[et];e===null&&(e=t),zn(e)&&em(e[z],e),n=e&&e[nn]}e=n}}function zm(t,e){let n=t[Gi],r=n.indexOf(e);n.splice(r,1)}function hd(t,e){if(Ki(e))return;let n=e[Fe];n.destroyNode&&pd(t,e,n,3,null,null),ZP(e)}function em(t,e){if(Ki(e))return;let n=G(null);try{e[J]&=-129,e[J]|=256,e[Kt]&&Da(e[Kt]),tO(t,e),eO(t,e),e[z].type===1&&e[Fe].destroy();let r=e[qr];if(r!==null&&In(e[et])){r!==e[et]&&zm(r,e);let i=e[Hn];i!==null&&i.detachView(t)}cm(e)}finally{G(n)}}function fD(t,e,n,r){let i=t?.[qi];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&Ji.add(t),yC(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:f}=l();a.push(f)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),XP(t,r)}else t&&Ji.delete(t),r(!1)},i)}function XP(t,e){let n=t[qi]?.running;if(n){n.then(()=>{t[qi].running=void 0,Ji.delete(t),e(!0)});return}e(!1)}function eO(t,e){let n=t.cleanup,r=e[qo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[qo]=null);let i=e[fr];if(i!==null){e[fr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[$a];if(o!==null){e[$a]=null;for(let s of o)s.destroy()}}function tO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ja)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Re(we.LifecycleHookStart,a,u);try{u.call(a)}finally{Re(we.LifecycleHookEnd,a,u)}}else{Re(we.LifecycleHookStart,i,o);try{o.call(i)}finally{Re(we.LifecycleHookEnd,i,o)}}}}}function nO(t,e,n){return rO(t,e.parent,n)}function rO(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[En];if(Wr(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===bn.None||i===bn.Emulated)return null}return wn(r,n)}function iO(t,e,n){return sO(t,e,n)}function oO(t,e,n){return t.type&40?wn(t,n):null}var sO=oO,hD;function qm(t,e,n,r){let i=nO(t,r,e),o=e[Fe],s=r.parent||e[rn],a=iO(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)cD(o,i,n[u],a,!1);else cD(o,i,n,a,!1);hD!==void 0&&hD(o,r,e,n,i)}function Qa(t,e){if(e!==null){let n=e.type;if(n&3)return wn(e,t);if(n&4)return dm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Qa(t,r);{let i=t[e.index];return In(i)?dm(-1,i):on(i)}}else{if(n&128)return Qa(t,e.next);if(n&32)return $m(e,t)()||on(t[e.index]);{let r=_C(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=$r(t[Wt]);return Qa(i,r)}else return Qa(t,e.next)}}}return null}function _C(t,e){if(e!==null){let r=t[Wt][rn],i=e.projection;return r.projection[i]}return null}function dm(t,e){let n=Be+t+1;if(n<e.length){let r=e[n],i=r[z].firstChild;if(i!==null)return Qa(r,i)}return e[Gr]}function Gm(t,e,n,r,i,o,s){for(;n!=null;){let a=r[mr];if(n.type===128){n=n.next;continue}let u=r[n.index],l=n.type;if(s&&e===0&&(u&&Jo(on(u),r),n.flags|=2),!Om(n))if(l&8)Gm(t,e,n.child,r,i,o,!1),Qo(e,t,a,i,u,n,o,r);else if(l&32){let f=$m(n,r),p;for(;p=f();)Qo(e,t,a,i,p,n,o,r);Qo(e,t,a,i,u,n,o,r)}else l&16?aO(t,e,r,n,i,o):Qo(e,t,a,i,u,n,o,r);n=s?n.projectionNext:n.next}}function pd(t,e,n,r,i,o){Gm(n,r,t.firstChild,e,i,o,!1)}function aO(t,e,n,r,i,o){let s=n[Wt],u=s[rn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Qo(e,t,n[mr],i,f,r,o,n)}else{let l=u,f=s[et];zD(r)&&(l.flags|=128),Gm(t,e,l,f,i,o,!0)}}function cO(t,e,n,r,i,o,s){let a=r[Gr],u=on(r);a!==u&&Qo(e,t,n,o,a,i,s);for(let l=Be;l<r.length;l++){let f=r[l];pd(f[z],f,t,e,o,a)}}function uO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Wn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Wn.Important),t.setStyle(n,r,i,o))}}function EC(t,e,n,r,i){let o=yr(),s=r&2;try{Kr(-1),s&&e.length>tt&&pC(t,e,tt,!1);let a=s?we.TemplateUpdateStart:we.TemplateCreateStart;Re(a,i,n),n(r,i)}finally{Kr(o);let a=s?we.TemplateUpdateEnd:we.TemplateCreateEnd;Re(a,i,n)}}function IC(t,e,n){mO(t,e,n),(n.flags&64)===64&&yO(t,e,n)}function Wm(t,e,n=wn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function lO(t,e,n,r){let o=r.get(ZD,JD)||n===bn.ShadowDom||n===bn.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,o);return dO(s),s}function dO(t){fO(t)}var fO=()=>null;function hO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function pO(t,e,n,r,i,o){let s=e[z];if(Km(t,s,e,n,r)){Wr(t)&&gO(e,t.index);return}t.type&3&&(n=hO(n)),wC(t,e,n,r,i,o)}function wC(t,e,n,r,i,o){if(t.type&3){let s=wn(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function gO(t,e){let n=sn(e,t);n[J]&16||(n[J]|=64)}function mO(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Wr(n)&&GP(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||FD(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=ql(e,t,s,n);if(Jo(u,e),o!==null&&wO(e,s-r,u,a,n,o),Wi(a)){let l=sn(n.index,e);l[ze]=ql(e,t,s,n)}}}function yO(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=HT();try{Kr(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Sl(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&vO(u,l)}}finally{Kr(-1),Sl(s)}}function vO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function _O(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];VP(e,o.selectors,!1)&&(r??=[],Wi(o)?r.unshift(o):r.push(o))}return r}function EO(t,e,n,r,i,o){let s=wn(t,e);IO(e[Fe],s,o,t.value,n,r,i)}function IO(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Fa(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function wO(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];lm(r,n,u,l)}}function TC(t,e,n,r,i){let o=tt+n,s=e[z],a=i(s,e,t,r,n);e[o]=a,Ko(t,!0);let u=t.type===2;return u?(aC(e[Fe],a,t),(OT()===0||Dl(t))&&Jo(a,e),kT()):Jo(a,e),xl()&&(!u||!Om(t))&&qm(s,e,a,t),t}function DC(t){let e=t;return Lg()?jT():(e=e.parent,Ko(e,!1)),e}function TO(t,e){let n=t[mr];if(!n)return;let r;try{r=n.get(an,null)}catch{r=null}r?.(e)}function Km(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],f=s[u+1],p=e.data[l];lm(p,n[l],f,i),a=!0}if(o)for(let u of o){let l=n[u],f=e.data[u];lm(f,l,r,i),a=!0}return a}function DO(t,e){let n=sn(e,t),r=n[z];CO(r,n);let i=n[En];i!==null&&n[zo]===null&&(n[zo]=XD(i,n[mr])),Re(we.ComponentStart);try{Qm(r,n,n[ze])}finally{Re(we.ComponentEnd,n[ze])}}function CO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Qm(t,e,n){Rl(e);try{let r=t.viewQuery;r!==null&&um(1,r,n);let i=t.template;i!==null&&EC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Hn]?.finishViewCreation(t),t.staticContentQueries&&eC(t,e),t.staticViewQueries&&um(2,t.viewQuery,n);let o=t.components;o!==null&&bO(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[J]&=-5,Nl()}}function bO(t,e){for(let n=0;n<e.length;n++)DO(t,e[n])}function gd(t,e,n,r){let i=G(null);try{let o=e.tView,a=t[J]&4096?4096:16,u=Um(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[qr]=l;let f=t[Hn];return f!==null&&(u[Hn]=f.createEmbeddedView(o)),Qm(o,u,n),u}finally{G(i)}}function Za(t,e){return!e||e.firstChild===null||zD(t)}function Xa(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(on(o)),In(o)&&CC(o,r);let s=n.type;if(s&8)Xa(t,e,n.child,r);else if(s&32){let a=$m(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=_C(e,n);if(Array.isArray(a))r.push(...a);else{let u=$r(e[Wt]);Xa(u[z],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function CC(t,e){for(let n=Be;n<t.length;n++){let r=t[n],i=r[z].firstChild;i!==null&&Xa(r[z],r,i,e)}t[Gr]!==t[En]&&e.push(t[Gr])}function bC(t){if(t[Tl]!==null){for(let e of t[Tl])e.impl.addSequence(e);t[Tl].length=0}}var SC=[];function SO(t){return t[Kt]??AO(t)}function AO(t){let e=SC.pop()??Object.create(NO);return e.lView=t,e}function RO(t){t.lView[Kt]!==t&&(t.lView=null,SC.push(t))}var NO=ie(N({},Ia),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Ga(t.lView)},consumerOnSignalRead(){this.lView[Kt]=this}});function MO(t){let e=t[Kt]??Object.create(xO);return e.lView=t,e}var xO=ie(N({},Ia),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=$r(t.lView);for(;e&&!AC(e[z]);)e=$r(e);e&&Ag(e)},consumerOnSignalRead(){this.lView[Kt]=this}});function AC(t){return t.type!==2}function RC(t){if(t[$a]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[$a])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[J]&8192)}}var PO=100;function NC(t,e=0){let r=t[$n].rendererFactory,i=!1;i||r.begin?.();try{OO(t,e)}finally{i||r.end?.()}}function OO(t,e){let n=Fg();try{Vg(!0),fm(t,e);let r=0;for(;qa(t);){if(r===PO)throw new U(103,!1);r++,fm(t,1)}}finally{Vg(n)}}function kO(t,e,n,r){if(Ki(e))return;let i=e[J],o=!1,s=!1;Rl(e);let a=!0,u=null,l=null;o||(AC(t)?(l=SO(e),u=Ta(l)):Vu()===null?(a=!1,l=MO(e),u=Ta(l)):e[Kt]&&(Da(e[Kt]),e[Kt]=null));try{Sg(e),UT(t.bindingStartIndex),n!==null&&EC(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let y=t.preOrderCheckHooks;y!==null&&Ll(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Fl(e,y,0,null),Zg(e,0)}if(s||LO(e),RC(e),MC(e,0),t.contentQueries!==null&&eC(t,e),!o)if(f){let y=t.contentCheckHooks;y!==null&&Ll(e,y)}else{let y=t.contentHooks;y!==null&&Fl(e,y,1),Zg(e,1)}VO(t,e);let p=t.components;p!==null&&PC(e,p,0);let m=t.viewQuery;if(m!==null&&um(2,m,r),!o)if(f){let y=t.viewCheckHooks;y!==null&&Ll(e,y)}else{let y=t.viewHooks;y!==null&&Fl(e,y,2),Zg(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[wl]){for(let y of e[wl])y();e[wl]=null}o||(bC(e),e[J]&=-73)}catch(f){throw o||Ga(e),f}finally{l!==null&&(ju(l,u),a&&RO(l)),Nl()}}function MC(t,e){for(let n=GD(t);n!==null;n=WD(n))for(let r=Be;r<n.length;r++){let i=n[r];xC(i,e)}}function LO(t){for(let e=GD(t);e!==null;e=WD(e)){if(!(e[J]&2))continue;let n=e[Gi];for(let r=0;r<n.length;r++){let i=n[r];Ag(i)}}}function FO(t,e,n){Re(we.ComponentStart);let r=sn(e,t);try{xC(r,n)}finally{Re(we.ComponentEnd,r[ze])}}function xC(t,e){Cl(t)&&fm(t,e)}function fm(t,e){let r=t[z],i=t[J],o=t[Kt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Uu(o)),s||=!1,o&&(o.dirty=!1),t[J]&=-9217,s)kO(r,t,r.template,t[ze]);else if(i&8192){let a=G(null);try{RC(t),MC(t,1);let u=r.components;u!==null&&PC(t,u,1),bC(t)}finally{G(a)}}}function PC(t,e,n){for(let r=0;r<e.length;r++)FO(t,e[r],n)}function VO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Kr(~i);else{let o=i,s=n[++r],a=n[++r];$T(s,o);let u=e[o];Re(we.HostBindingsUpdateStart,u);try{a(2,u)}finally{Re(we.HostBindingsUpdateEnd,u)}}}}finally{Kr(-1)}}function Ym(t,e){let n=Fg()?64:1088;for(t[$n].changeDetectionScheduler?.notify(e);t;){t[J]|=n;let r=$r(t);if(Wo(t)&&!r)return t;t=r}return null}function OC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function kC(t,e){let n=Be+e;if(n<t.length)return t[n]}function md(t,e,n,r=!0){let i=e[z];if(jO(i,e,t,n),r){let s=dm(n,t),a=e[Fe],u=a.parentNode(t[Gr]);u!==null&&JP(i,t[rn],a,e,u,s)}let o=e[zo];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function LC(t,e){let n=ec(t,e);return n!==void 0&&hd(n[z],n),n}function ec(t,e){if(t.length<=Be)return;let n=Be+e,r=t[n];if(r){let i=r[qr];i!==null&&i!==t&&zm(i,r),e>0&&(t[n-1][nn]=r[nn]);let o=Va(t,Be+e);YP(r[z],r);let s=o[Hn];s!==null&&s.detachView(o[z]),r[et]=null,r[nn]=null,r[J]&=-129}return r}function jO(t,e,n,r){let i=Be+r,o=n.length;r>0&&(n[i-1][nn]=e),r<o-Be?(e[nn]=n[i],pg(n,Be+r,e)):(n.push(e),e[nn]=null),e[et]=n;let s=e[qr];s!==null&&n!==s&&FC(s,e);let a=e[Hn];a!==null&&a.insertView(t),bl(e),e[J]|=128}function FC(t,e){let n=t[Gi],r=e[et];if(zn(r))t[J]|=2;else{let i=r[et][Wt];e[Wt]!==i&&(t[J]|=2)}n===null?t[Gi]=[e]:n.push(e)}var Jr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[z];return Xa(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[ze]}set context(e){this._lView[ze]=e}get destroyed(){return Ki(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[et];if(In(e)){let n=e[Ha],r=n?n.indexOf(this):-1;r>-1&&(ec(e,r),Va(n,r))}this._attachedToViewContainer=!1}hd(this._lView[z],this._lView)}onDestroy(e){Rg(this._lView,e)}markForCheck(){Ym(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){bl(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,NC(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Wo(this._lView),n=this._lView[qr];n!==null&&!e&&zm(n,this._lView),vC(this._lView[z],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e;let n=Wo(this._lView),r=this._lView[qr];r!==null&&!n&&FC(r,this._lView),bl(this._lView)}};var Zo=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=UO;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=gd(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Jr(o)}}return t})();function UO(){return Jm(xt(),ce())}function Jm(t,e){return t.type&4?new Zo(e,t,ts(t,e)):null}function yd(t,e,n,r,i){let o=t.data[e];if(o===null)o=BO(t,e,n,r,i),BT()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=VT();o.injectorIndex=s===null?-1:s.injectorIndex}return Ko(o,!0),o}function BO(t,e,n,r,i){let o=kg(),s=Lg(),a=s?o:o&&o.parent,u=t.data[e]=HO(t,a,n,e,r,i);return $O(t,u,o,s),u}function $O(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function HO(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return FT()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function zO(t){let e=t[Tg]??[],r=t[et][Fe],i=[];for(let o of e)o.data[YD]!==void 0?i.push(o):qO(o,r);t[Tg]=i}function qO(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[QD];for(;n<i;){let o=r.nextSibling;sC(e,r,!1),r=o,n++}}}var GO=()=>null,WO=()=>null;function hm(t,e){return GO(t,e)}function VC(t,e,n){return WO(t,e,n)}var jC=class{},vd=class{},pm=class{resolveComponentFactory(e){throw new U(917,!1)}},cc=class{static NULL=new pm},Zi=class{},no=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>KO()}return t})();function KO(){let t=ce(),e=xt(),n=sn(e.index,t);return(zn(n)?n:t)[Fe]}var UC=(()=>{class t{static \u0275prov=V({token:t,providedIn:"root",factory:()=>null})}return t})();var jl={},gm=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,jl,r);return i!==jl||n===jl?i:this.parentInjector.get(e,n,r)}};function Ql(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=gl(i,a);else if(o==2){let u=a,l=e[++s];r=gl(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function de(t,e=0){let n=ce();if(n===null)return W(t,e);let r=xt();return BD(r,n,jt(t),e)}function Zm(){let t="invalid";throw new Error(t)}function QO(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,u=null,l=null;for(let f of s)if(f.resolveHostDirectives!==null){[a,u,l]=f.resolveHostDirectives(s);break}ZO(t,e,n,a,o,u,l)}o!==null&&r!==null&&YO(n,r,o)}function YO(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new U(-301,!1);r.push(e[i],o)}}function JO(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ZO(t,e,n,r,i,o,s){let a=r.length,u=null;for(let m=0;m<a;m++){let y=r[m];u===null&&Wi(y)&&(u=y,JO(t,n,m)),uP(FD(n,e),t,y.type)}ik(n,t.data.length,a),u?.viewProvidersResolver&&u.viewProvidersResolver(u);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,f=!1,p=hC(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(n.mergedAttrs=ad(n.mergedAttrs,y.hostAttrs),ek(t,n,e,p,y),rk(p,y,i),s!==null&&s.has(y)){let[A,R]=s.get(y);n.directiveToIndex.set(y.type,[p,A+n.directiveStart,R+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let S=y.type.prototype;!l&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!f&&(S.ngOnChanges||S.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),p++}XO(t,n,o)}function XO(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))pD(0,e,i,r),pD(1,e,i,r),mD(e,r,!1);else{let o=n.get(i);gD(0,e,o,r),gD(1,e,o,r),mD(e,r,!0)}}}function pD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),BC(e,o)}}function gD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),BC(e,s)}}function BC(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function mD(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Vm(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let f of l)if(f===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let f=0;f<l.length;f+=2)if(l[f]===e){s??=[],s.push(l[f+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function ek(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Br(i.type,!0)),s=new Ja(o,Wi(i),de,null);t.blueprint[r]=s,n[r]=s,tk(t,e,r,hC(t,n,i.hostVars,un),i)}function tk(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;nk(s)!=a&&s.push(a),s.push(n,r,o)}}function nk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function rk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Wi(e)&&(n[""]=t)}}function ik(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function $C(t,e,n,r,i,o,s,a){let u=e[z],l=u.consts,f=qn(l,s),p=yd(u,t,n,r,f);return o&&QO(u,e,p,qn(l,a),i),p.mergedAttrs=ad(p.mergedAttrs,p.attrs),p.attrs!==null&&Ql(p,p.attrs,!1),p.mergedAttrs!==null&&Ql(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function HC(t,e){Xx(t,e),Dg(e)&&t.queries.elementEnd(e)}function ok(t,e,n,r,i,o){let s=e.consts,a=qn(s,i),u=yd(e,t,n,r,a);if(u.mergedAttrs=ad(u.mergedAttrs,u.attrs),o!=null){let l=qn(s,o);u.localNames=[];for(let f=0;f<l.length;f+=2)u.localNames.push(l[f],-1)}return u.attrs!==null&&Ql(u,u.attrs,!1),u.mergedAttrs!==null&&Ql(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function zC(t,e,n){return t[e]=n}function Sn(t,e,n){if(n===un)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function sk(t,e,n,r){let i=Sn(t,e,n);return Sn(t,e+1,r)||i}function Ul(t,e,n){return function r(i){let o=Wr(t)?sn(t.index,e):e;Ym(o,5);let s=e[ze],a=yD(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=yD(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function yD(t,e,n,r){let i=G(null);try{return Re(we.OutputStart,e,n),n(r)!==!1}catch(o){return TO(t,o),!1}finally{Re(we.OutputEnd,e,n),G(i)}}function qC(t,e,n,r,i,o,s,a){let u=Dl(t),l=!1,f=null;if(!r&&u&&(f=ck(e,n,o,t.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,l=!0}else{let p=wn(t,n),m=r?r(p):p;DP(n,m,o,a);let y=i.listen(m,o,a);if(!ak(o)){let S=r?A=>r(on(A[t.index])):t.index;GC(S,e,n,o,a,y,!1)}}return l}function ak(t){return t.startsWith("animation")||t.startsWith("transition")}function ck(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[qo],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function GC(t,e,n,r,i,o,s){let a=e.firstCreatePass?Mg(e):null,u=Ng(n),l=u.length;u.push(i,o),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function vD(t,e,n,r,i,o){let s=e[n],a=e[z],l=a.data[n].outputs[r],p=s[l].subscribe(o);GC(t.index,a,e,i,o,p,!0)}var mm=Symbol("BINDING");var Yl=class extends cc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=zr(e);return new Xo(n,this.ngModule)}};function uk(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&fd.SignalBased)!==0};return i&&(o.transform=i),o})}function lk(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function dk(t,e,n){let r=e instanceof ct?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new gm(n,r):n}function fk(t){let e=t.get(Zi,null);if(e===null)throw new U(407,!1);let n=t.get(UC,null),r=t.get($o,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function hk(t,e){let n=WC(t);return iC(e,n,n==="svg"?bT:n==="math"?ST:null)}function WC(t){return(t.selectors[0][0]||"div").toLowerCase()}var Xo=class extends vd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=uk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=lk(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=$P(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){Re(we.DynamicComponentStart);let a=G(null);try{let u=this.componentDef,l=pk(r,u,s,o),f=dk(u,i||this.ngModule,e),p=fk(f),m=p.rendererFactory.createRenderer(null,u),y=r?lO(m,r,u.encapsulation,f):hk(u,m),S=s?.some(_D)||o?.some(L=>typeof L!="function"&&L.bindings.some(_D)),A=Um(null,l,null,512|fC(u),null,null,p,m,f,null,XD(y,f,!0));A[tt]=y,Rl(A);let R=null;try{let L=$C(tt,A,2,"#host",()=>l.directiveRegistry,!0,0);aC(m,y,L),Jo(y,A),IC(l,A,L),tC(l,L,A),HC(l,L),n!==void 0&&mk(L,this.ngContentSelectors,n),R=sn(L.index,A),A[ze]=R[ze],Qm(l,A,null)}catch(L){throw R!==null&&cm(R),cm(A),L}finally{Re(we.DynamicComponentEnd),Nl()}return new Jl(this.componentType,A,!!S)}finally{G(a)}}};function pk(t,e,n,r){let i=t?["ng-version","21.0.3"]:HP(e.selectors[0]),o=null,s=null,a=0;if(n)for(let f of n)a+=f[mm].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(r)for(let f=0;f<r.length;f++){let p=r[f];if(typeof p!="function")for(let m of p.bindings){a+=m[mm].requiredVars;let y=f+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let f of r){let p=typeof f=="function"?f:f.type,m=vg(p);u.push(m)}return jm(0,null,gk(o,s),1,a,u,null,null,null,[i],null)}function gk(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function _D(t){let e=t[mm].kind;return e==="input"||e==="twoWay"}var Jl=class extends jC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=za(n[z],tt),this.location=ts(this._tNode,n),this.instance=sn(this._tNode.index,n)[ze],this.hostView=this.changeDetectorRef=new Jr(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Km(r,i[z],i,e,n);this.previousInputValues.set(e,n);let s=sn(r.index,i);Ym(s,1)}get injector(){return new Yi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function mk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ro=(()=>{class t{static __NG_ELEMENT_ID__=yk}return t})();function yk(){let t=xt();return QC(t,ce())}var vk=ro,KC=class extends vk{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ts(this._hostTNode,this._hostLView)}get injector(){return new Yi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Mm(this._hostTNode,this._hostLView);if(OD(e)){let n=Hl(e,this._hostLView),r=$l(e),i=n[z].data[r+8];return new Yi(i,n)}else return new Yi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=ED(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Be}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=hm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Za(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let u=e&&!Kx(e),l;if(u)l=n;else{let R=n||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,a=R.bindings}let f=u?e:new Xo(zr(e)),p=r||this.parentInjector;if(!o&&f.ngModule==null){let L=(u?p:this.parentInjector).get(ct,null);L&&(o=L)}let m=zr(f.componentType??{}),y=hm(this._lContainer,m?.id??null),S=y?.firstChild??null,A=f.create(p,i,S,o,s,a);return this.insertImpl(A.hostView,l,Za(this._hostTNode,y)),A}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(NT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[et],l=new KC(u,u[rn],u[et]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return md(s,i,o,r),e.attachToViewContainerRef(),pg(tm(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=ED(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ec(this._lContainer,n);r&&(Va(tm(this._lContainer),n),hd(r[z],r))}detach(e){let n=this._adjustIndex(e,-1),r=ec(this._lContainer,n);return r&&Va(tm(this._lContainer),n)!=null?new Jr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function ED(t){return t[Ha]}function tm(t){return t[Ha]||(t[Ha]=[])}function QC(t,e){let n,r=e[t.index];return In(r)?n=r:(n=OC(r,e,null,t),e[t.index]=n,Bm(e,n)),Ek(n,e,t,r),new KC(n,t,e)}function _k(t,e){let n=t[Fe],r=n.createComment(""),i=wn(e,t),o=n.parentNode(i);return Kl(n,o,r,n.nextSibling(i),!1),r}var Ek=Tk,Ik=()=>!1;function wk(t,e,n){return Ik(t,e,n)}function Tk(t,e,n,r){if(t[Gr])return;let i;n.type&8?i=on(r):i=_k(e,n),t[Gr]=i}var ym=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},vm=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Xm(e,n).matches!==null&&this.queries[n].setDirty()}},Zl=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=Mk(e):this.predicate=e}},_m=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Em=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,Dk(n,o)),this.matchTNodeWithReadOption(e,n,Vl(n,e,o,!1,!1))}else r===Zo?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Vl(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Bt||i===ro||i===Zo&&n.type&4)this.addMatch(n.index,-2);else{let o=Vl(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function Dk(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function Ck(t,e){return t.type&11?ts(t,e):t.type&4?Jm(t,e):null}function bk(t,e,n,r){return n===-1?Ck(e,t):n===-2?Sk(t,e,r):ql(t,t[z],n,e)}function Sk(t,e,n){if(n===Bt)return ts(e,t);if(n===Zo)return Jm(e,t);if(n===ro)return QC(e,t)}function YC(t,e,n,r){let i=e[Hn].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let f=o[l];a.push(bk(e,f,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Im(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=YC(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],f=e[-u];for(let p=Be;p<f.length;p++){let m=f[p];m[qr]===m[et]&&Im(m[z],m,l,r)}if(f[Gi]!==null){let p=f[Gi];for(let m=0;m<p.length;m++){let y=p[m];Im(y[z],y,l,r)}}}}}return r}function Ak(t,e){return t[Hn].queries[e].queryList}function JC(t,e,n){let r=new Gl((n&4)===4);return PT(t,e,r,r.destroy),(e[Hn]??=new vm).queries.push(new ym(r))-1}function Rk(t,e,n){let r=ut();return r.firstCreatePass&&(ZC(r,new Zl(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),JC(r,ce(),e)}function Nk(t,e,n,r){let i=ut();if(i.firstCreatePass){let o=xt();ZC(i,new Zl(e,n,r),o.index),xk(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return JC(i,ce(),n)}function Mk(t){return t.split(",").map(e=>e.trim())}function ZC(t,e,n){t.queries===null&&(t.queries=new _m),t.queries.track(new Em(e,n))}function xk(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Xm(t,e){return t.queries.getByIndex(e)}function Pk(t,e){let n=t[z],r=Xm(n,e);return r.crossesNgTemplate?Im(n,t,e,[]):YC(n,t,r,e)}var Xi=class{},_d=class{};var Xl=class extends Xi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Yl(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=yg(e);this._bootstrapComponents=lC(o.bootstrap),this._r3Injector=zg(e,n,[{provide:Xi,useValue:this},{provide:cc,useValue:this.componentFactoryResolver},...r],hr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ed=class extends _d{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Xl(this.moduleType,e,[])}};var tc=class extends Xi{injector;componentFactoryResolver=new Yl(this);instance=null;constructor(e){super();let n=new Vi([...e.providers,{provide:Xi,useValue:this},{provide:cc,useValue:this.componentFactoryResolver}],e.parent||Ua(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function uc(t,e,n=null){return new tc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Ok=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=_g(!1,n.type),i=r.length>0?uc([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=V({token:t,providedIn:"environment",factory:()=>new t(W(ct))})}return t})();function Te(t){return sd(()=>{let e=XC(t),n=ie(N({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===xm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Ok).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||bn.Emulated,styles:t.styles||Bn,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Zr("NgStandalone"),eb(n);let r=t.dependencies;return n.directiveDefs=ID(r,kk),n.pipeDefs=ID(r,vT),n.id=Vk(n),n})}function kk(t){return zr(t)||vg(t)}function Lk(t,e){if(t==null)return Ui;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=fd.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function Fk(t){if(t==null)return Ui;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Xr(t){return sd(()=>{let e=XC(t);return eb(e),e})}function ey(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function XC(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Ui,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Bn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Lk(t.inputs,e),outputs:Fk(t.outputs),debugInfo:null}}function eb(t){t.features?.forEach(e=>e(t))}function ID(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function Vk(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function jk(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=ad(t.mergedAttrs,t.attrs);let f=t.tView=jm(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),f.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),Ko(t,!1);let u=Uk(n,e,t,r);xl()&&qm(n,e,u,t),Jo(u,e);let l=OC(u,e,u,t);e[r+tt]=l,Bm(e,l),wk(l,t,e)}function td(t,e,n,r,i,o,s,a,u,l,f){let p=n+tt,m;if(e.firstCreatePass){if(m=yd(e,p,4,s||null,a||null),l!=null){let y=qn(e.consts,l);m.localNames=[];for(let S=0;S<y.length;S+=2)m.localNames.push(y[S],-1)}}else m=e.data[p];return jk(m,t,e,n,r,i,o,u),l!=null&&Wm(t,m,f),m}var Uk=Bk;function Bk(t,e,n,r){return Pl(!0),e[Fe].createComment("")}var ty=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var ny=new $("");function rs(t){return!!t&&typeof t.then=="function"}function ry(t){return!!t&&typeof t.subscribe=="function"}var tb=new $("");var iy=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=O(tb,{optional:!0})??[];injector=O(_n);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Rt(this.injector,i);if(rs(o))n.push(o);else if(ry(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ed=new $("");function nb(){Ap(()=>{let t="";throw new U(600,t)})}function rb(t){return t.isBoundToModule}var $k=10;var is=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=O(an);afterRenderManager=O(gC);zonelessEnabled=O(Wa);rootEffectScheduler=O(Jg);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new st;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=O(Yr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Le(n=>!n))}constructor(){O(ac,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=O(ct);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=_n.NULL){return this._injector.get(Ut).run(()=>{Re(we.BootstrapComponentStart);let s=n instanceof vd;if(!this._injector.get(iy).done){let S="";throw new U(405,S)}let u;s?u=n:u=this._injector.get(cc).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=rb(u)?void 0:this._injector.get(Xi),f=r||u.selector,p=u.create(i,[],f,l),m=p.location.nativeElement,y=p.injector.get(ny,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Ya(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),Re(we.BootstrapComponentEnd,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Re(we.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Hm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw Re(we.ChangeDetectionEnd),new U(101,!1);let n=G(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,G(n),this.afterTick.next(),Re(we.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Zi,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<$k;){Re(we.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{Re(we.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!qa(i))continue;let o=r&&!this.zonelessEnabled?0:1;NC(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>qa(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ya(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Ed,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ya(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new U(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ya(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Id(t,e,n,r){let i=ce(),o=Qi();if(Sn(i,o,e)){let s=ut(),a=Ml();EO(a,i,t,e,n,r)}return Id}var EG=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var wm=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function nm(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function Hk(t,e,n,r){let i,o,s=0,a=t.length-1,u=void 0;if(Array.isArray(e)){G(r);let l=e.length-1;for(G(null);s<=a&&s<=l;){let f=t.at(s),p=e[s],m=nm(s,f,s,p,n);if(m!==0){m<0&&t.updateValue(s,p),s++;continue}let y=t.at(a),S=e[l],A=nm(a,y,l,S,n);if(A!==0){A<0&&t.updateValue(a,S),a--,l--;continue}let R=n(s,f),L=n(a,y),re=n(s,p);if(Object.is(re,L)){let pe=n(l,S);Object.is(pe,R)?(t.swap(s,a),t.updateValue(a,S),l--,a--):t.move(a,s),t.updateValue(s,p),s++;continue}if(i??=new nd,o??=TD(t,s,a,n),Tm(t,i,s,re))t.updateValue(s,p),s++,a++;else if(o.has(re))i.set(R,t.detach(s)),a--;else{let pe=t.create(s,e[s]);t.attach(s,pe),s++,a++}}for(;s<=l;)wD(t,i,n,s,e[s]),s++}else if(e!=null){G(r);let l=e[Symbol.iterator]();G(null);let f=l.next();for(;!f.done&&s<=a;){let p=t.at(s),m=f.value,y=nm(s,p,s,m,n);if(y!==0)y<0&&t.updateValue(s,m),s++,f=l.next();else{i??=new nd,o??=TD(t,s,a,n);let S=n(s,m);if(Tm(t,i,s,S))t.updateValue(s,m),s++,a++,f=l.next();else if(!o.has(S))t.attach(s,t.create(s,m)),s++,a++,f=l.next();else{let A=n(s,p);i.set(A,t.detach(s)),a--}}}for(;!f.done;)wD(t,i,n,t.length,f.value),f=l.next()}for(;s<=a;)t.destroy(t.detach(a--));i?.forEach(l=>{t.destroy(l)})}function Tm(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function wD(t,e,n,r,i){if(Tm(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function TD(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var nd=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function se(t,e,n,r,i,o,s,a){Zr("NgControlFlow");let u=ce(),l=ut(),f=qn(l.consts,o);return td(u,l,t,e,n,r,i,f,256,s,a),oy}function oy(t,e,n,r,i,o,s,a){Zr("NgControlFlow");let u=ce(),l=ut(),f=qn(l.consts,o);return td(u,l,t,e,n,r,i,f,512,s,a),oy}function ae(t,e){Zr("NgControlFlow");let n=ce(),r=Qi(),i=n[r]!==un?n[r]:-1,o=i!==-1?rd(n,tt+i):void 0,s=0;if(Sn(n,r,t)){let a=G(null);try{if(o!==void 0&&LC(o,s),t!==-1){let u=tt+t,l=rd(n,u),f=Sm(n[z],u),p=VC(l,f,n),m=gd(n,f,e,{dehydratedView:p});md(l,m,s,Za(f,p))}}finally{G(a)}}else if(o!==void 0){let a=kC(o,s);a!==void 0&&(a[ze]=e)}}var Dm=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Be}};function ln(t,e){return e}var Cm=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function gt(t,e,n,r,i,o,s,a,u,l,f,p,m){Zr("NgControlFlow");let y=ce(),S=ut(),A=u!==void 0,R=ce(),L=a?s.bind(R[Wt][ze]):s,re=new Cm(A,L);R[tt+t]=re,td(y,S,t+1,e,n,r,i,qn(S.consts,o),256),A&&td(y,S,t+2,u,l,f,p,qn(S.consts,m),512)}var bm=class extends wm{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Be}at(e){return this.getLView(e)[ze].$implicit}attach(e,n){let r=n[zo];this.needsIndexUpdate||=e!==this.length,md(this.lContainer,n,e,Za(this.templateTNode,r)),zk(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,qk(this.lContainer,e),Gk(this.lContainer,e)}create(e,n){let r=hm(this.lContainer,this.templateTNode.tView.ssrId),i=gd(this.hostLView,this.templateTNode,new Dm(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){hd(e[z],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[ze].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ze].$index=e}getLView(e){return Wk(this.lContainer,e)}};function mt(t){let e=G(null),n=yr();try{let r=ce(),i=r[z],o=r[n],s=n+1,a=rd(r,s);if(o.liveCollection===void 0){let l=Sm(i,s);o.liveCollection=new bm(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(Hk(u,t,o.trackByFn,e),u.updateIndexes(),o.hasEmptyBlock){let l=Qi(),f=u.length===0;if(Sn(r,l,f)){let p=n+2,m=rd(r,p);if(f){let y=Sm(i,p),S=VC(m,y,r),A=gd(r,y,void 0,{dehydratedView:S});md(m,A,0,Za(y,S))}else i.firstUpdatePass&&zO(m),LC(m,0)}}}finally{G(e)}}function rd(t,e){return t[e]}function zk(t,e){if(t.length<=Be)return;let n=Be+e,r=t[n],i=r?r[qi]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[mr];KP(o,i),Ji.delete(r),i.detachedLeaveAnimationFns=void 0}}function qk(t,e){if(t.length<=Be)return;let n=Be+e,r=t[n],i=r?r[qi]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function Gk(t,e){return ec(t,e)}function Wk(t,e){return kC(t,e)}function Sm(t,e){return za(t,e)}function fe(t,e,n){let r=ce(),i=Qi();if(Sn(r,i,e)){let o=ut(),s=Ml();pO(s,r,t,e,r[Fe],n)}return fe}function Am(t,e,n,r,i){Km(e,t,n,i?"class":"style",r)}function B(t,e,n,r){let i=ce(),o=i[z],s=t+tt,a=o.firstCreatePass?$C(s,i,2,e,_O,LT(),n,r):o.data[s];if(TC(a,i,t,e,ib),Dl(a)){let u=i[z];IC(u,i,a),tC(u,a,i)}return r!=null&&Wm(i,a),B}function K(){let t=ut(),e=xt(),n=DC(e);return t.firstCreatePass&&HC(t,n),Pg(n)&&Og(),xg(),n.classesWithoutHost!=null&&tP(n)&&Am(t,n,ce(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&nP(n)&&Am(t,n,ce(),n.stylesWithoutHost,!1),K}function Ee(t,e,n,r){return B(t,e,n,r),K(),Ee}function ye(t,e,n,r){let i=ce(),o=i[z],s=t+tt,a=o.firstCreatePass?ok(s,o,2,e,n,r):o.data[s];return TC(a,i,t,e,ib),r!=null&&Wm(i,a),ye}function ve(){let t=xt(),e=DC(t);return Pg(e)&&Og(),xg(),ve}function An(t,e,n,r){return ye(t,e,n,r),ve(),An}var ib=(t,e,n,r,i)=>(Pl(!0),iC(e[Fe],r,QT()));function $t(){return ce()}function Kn(t,e,n){let r=ce(),i=Qi();if(Sn(r,i,e)){let o=ut(),s=Ml();wC(s,r,t,e,r[Fe],n)}return Kn}var Ka=void 0;function Kk(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var Qk=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ka,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ka,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",Ka,Ka,Ka],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Kk],rm={};function Qt(t){let e=Yk(t),n=DD(e);if(n)return n;let r=e.split("-")[0];if(n=DD(r),n)return n;if(r==="en")return Qk;throw new U(701,!1)}function DD(t){return t in rm||(rm[t]=gr.ng&&gr.ng.common&&gr.ng.common.locales&&gr.ng.common.locales[t]),rm[t]}var Ge=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(Ge||{});function Yk(t){return t.toLowerCase().replace(/_/g,"-")}var lc="en-US";var Jk=lc;function ob(t){typeof t=="string"&&(Jk=t.toLowerCase().replace(/_/g,"-"))}function dn(t,e,n){let r=ce(),i=ut(),o=xt();return Zk(i,r,r[Fe],o,t,e,n),dn}function Qn(t,e,n){let r=ce(),i=ut(),o=xt();return(o.type&3||n)&&qC(o,i,r,n,r[Fe],t,e,Ul(o,r,e)),Qn}function Zk(t,e,n,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=Ul(r,e,o),qC(r,t,e,s,n,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let p=0;p<f.length;p+=2){let m=f[p],y=f[p+1];u??=Ul(r,e,o),vD(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=Ul(r,e,o),vD(r,e,p,i,i,u)}}function Q(t=1){return KT(t)}function sy(t,e,n,r){Nk(t,e,n,r)}function wd(t,e,n){Rk(t,e,n)}function os(t){let e=ce(),n=ut(),r=Bg();Al(r+1);let i=Xm(n,r);if(t.dirty&&RT(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=Pk(e,r);t.reset(o,mP),t.notifyOnChanges()}return!0}return!1}function ss(){return Ak(ce(),Bg())}function kl(t,e){return t<<17|e<<2}function eo(t){return t>>17&32767}function Xk(t){return(t&2)==2}function e1(t,e){return t&131071|e<<17}function Rm(t){return t|2}function es(t){return(t&131068)>>2}function im(t,e){return t&-131069|e<<2}function t1(t){return(t&1)===1}function Nm(t){return t|1}function n1(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=eo(s),u=es(s);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||Ho(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let m=eo(t[a+1]);t[r+1]=kl(m,a),m!==0&&(t[m+1]=im(t[m+1],r)),t[a+1]=e1(t[a+1],r)}else t[r+1]=kl(a,0),a!==0&&(t[a+1]=im(t[a+1],r)),a=r;else t[r+1]=kl(u,0),a===0?a=r:t[u+1]=im(t[u+1],r),u=r;l&&(t[r+1]=Rm(t[r+1])),CD(t,f,r,!0),CD(t,f,r,!1),r1(e,f,t,r,o),s=kl(a,u),o?e.classBindings=s:e.styleBindings=s}function r1(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ho(o,e)>=0&&(n[r+1]=Nm(n[r+1]))}function CD(t,e,n,r){let i=t[n+1],o=e===null,s=r?eo(i):es(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];i1(u,e)&&(a=!0,t[s+1]=r?Nm(l):Rm(l)),s=r?eo(l):es(l)}a&&(t[n+1]=r?Rm(i):Nm(i))}function i1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ho(t,e)>=0:!1}var Cn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function o1(t){return t.substring(Cn.key,Cn.keyEnd)}function s1(t){return a1(t),sb(t,ab(t,0,Cn.textEnd))}function sb(t,e){let n=Cn.textEnd;return n===e?-1:(e=Cn.keyEnd=c1(t,Cn.key=e,n),ab(t,e,n))}function a1(t){Cn.key=0,Cn.keyEnd=0,Cn.value=0,Cn.valueEnd=0,Cn.textEnd=t.length}function ab(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function c1(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function ei(t,e,n){return cb(t,e,n,!1),ei}function as(t,e){return cb(t,e,null,!0),as}function Td(t){l1(m1,u1,t,!0)}function u1(t,e){for(let n=s1(e);n>=0;n=sb(e,n))El(t,o1(e),!0)}function cb(t,e,n,r){let i=ce(),o=ut(),s=Ug(2);if(o.firstUpdatePass&&lb(o,t,s,r),e!==un&&Sn(i,s,e)){let a=o.data[yr()];db(o,a,i,i[Fe],t,i[s+1]=v1(e,n),r,s)}}function l1(t,e,n,r){let i=ut(),o=Ug(2);i.firstUpdatePass&&lb(i,null,o,r);let s=ce();if(n!==un&&Sn(s,o,n)){let a=i.data[yr()];if(fb(a,r)&&!ub(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=gl(u,n||"")),Am(i,a,s,n,r)}else y1(i,a,s,s[Fe],s[o+1],s[o+1]=g1(t,e,n),r,o)}}function ub(t,e){return e>=t.expandoStartIndex}function lb(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[yr()],s=ub(t,n);fb(o,r)&&e===null&&!s&&(e=!1),e=d1(i,o,e,r),n1(i,o,e,n,s,r)}}function d1(t,e,n,r){let i=zT(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=om(null,t,e,n,r),n=nc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=om(i,t,e,n,r),o===null){let u=f1(t,e,r);u!==void 0&&Array.isArray(u)&&(u=om(null,t,e,u[1],r),u=nc(u,e.attrs,r),h1(t,e,r,u))}else o=p1(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function f1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(es(r)!==0)return t[eo(r)]}function h1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[eo(i)]=r}function p1(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=nc(r,s,n)}return nc(r,e.attrs,n)}function om(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=nc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function nc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),El(t,s,n?!0:e[++o]))}return t===void 0?null:t}function g1(t,e,n){if(n==null||n==="")return Bn;let r=[],i=ns(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function m1(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&El(t,r,n)}function y1(t,e,n,r,i,o,s,a){i===un&&(i=Bn);let u=0,l=0,f=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;f!==null||p!==null;){let m=u<i.length?i[u+1]:void 0,y=l<o.length?o[l+1]:void 0,S=null,A;f===p?(u+=2,l+=2,m!==y&&(S=p,A=y)):p===null||f!==null&&f<p?(u+=2,S=f):(l+=2,S=p,A=y),S!==null&&db(t,e,n,r,S,A,s,a),f=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function db(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],f=t1(l)?bD(u,e,n,i,es(l),s):void 0;if(!id(f)){id(o)||Xk(l)&&(o=bD(u,null,n,i,a,s));let p=Cg(yr(),n);uO(r,s,p,i,o)}}function bD(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,m=n[i+1];m===un&&(m=p?Bn:void 0);let y=p?Il(m,r):f===r?m:void 0;if(l&&!id(y)&&(y=Il(u,r)),id(y)&&(a=y,s))return a;let S=t[i+1];i=s?eo(S):es(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Il(u,r))}return a}function id(t){return t!==void 0}function v1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=hr(ns(t)))),t}function fb(t,e){return(t.flags&(e?8:16))!==0}function te(t,e=""){let n=ce(),r=ut(),i=t+tt,o=r.firstCreatePass?yd(r,i,1,e,null):r.data[i],s=_1(r,n,o,e,t);n[i]=s,xl()&&qm(r,n,s,o),Ko(o,!1)}var _1=(t,e,n,r,i)=>(Pl(!0),AP(e[Fe],r));function E1(t,e,n,r=""){return Sn(t,Qi(),n)?e+Fa(n)+r:un}function Pe(t){return Rn("",t),Pe}function Rn(t,e,n){let r=ce(),i=E1(r,t,e,n);return i!==un&&I1(r,yr(),i),Rn}function I1(t,e,n){let r=Cg(e,t);RP(t[Fe],r,n)}function dc(t,e,n,r){return w1(ce(),jg(),t,e,n,r)}function hb(t,e){let n=t[e];return n===un?void 0:n}function w1(t,e,n,r,i,o){let s=e+n;return Sn(t,s,i)?zC(t,s+1,o?r.call(o,i):r(i)):hb(t,s+1)}function T1(t,e,n,r,i,o,s){let a=e+n;return sk(t,a,i,o)?zC(t,a+2,s?r.call(s,i,o):r(i,o)):hb(t,a+2)}function ay(t,e){let n=ut(),r,i=t+tt;n.firstCreatePass?(r=D1(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Br(r.type,!0)),s,a=At(de);try{let u=zl(!1),l=o();return zl(u),bg(n,ce(),i,l),l}finally{At(a)}}function D1(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function cy(t,e,n,r){let i=t+tt,o=ce(),s=AT(o,i);return C1(o,i)?T1(o,jg(),e,s.transform,n,r,s):s.transform(n,r)}function C1(t,e){return t[z].data[e].pure}var od=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},uy=(()=>{class t{compileModuleSync(n){return new ed(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=yg(n),o=lC(i.declarations).reduce((s,a)=>{let u=zr(a);return u&&s.push(new Xo(u)),s},[]);return new od(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var pb=(()=>{class t{applicationErrorHandler=O(an);appRef=O(is);taskService=O(Yr);ngZone=O(Ut);zonelessEnabled=O(Wa);tracing=O(ac,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ht;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Oa):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(Yg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Gg:qg;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Oa+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Gg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gb(){return[{provide:$o,useExisting:pb},{provide:Ut,useClass:ka},{provide:Wa,useValue:!0}]}function b1(){return typeof $localize<"u"&&$localize.locale||lc}var fc=new $("",{factory:()=>O(fc,{optional:!0,skipSelf:!0})||b1()});function ly(t,e){return Bu(t,e?.equal)}var vb=Symbol("InputSignalNode#UNSET"),B1=ie(N({},$u),{transformFn:void 0,applyValueToInputSignal(t,e){Ca(t,e)}});function _b(t,e){let n=Object.create(B1);n.value=t,n.transformFn=e?.transform;function r(){if(wa(n),n.value===vb){let i=null;throw new U(-950,i)}return n.value}return r[Lt]=n,r}var Cd=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>oc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function mb(t,e){return _b(t,e)}function $1(t){return _b(vb,t)}var Eb=(mb.required=$1,mb);var dy=new $(""),H1=new $("");function hc(t){return!t.moduleRef}function z1(t){let e=hc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ut);return n.run(()=>{hc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(an),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),hc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(dy);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(dy);s.add(o),t.moduleRef.onDestroy(()=>{Ya(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return G1(r,n,()=>{let o=e.get(Yr),s=o.add(),a=e.get(iy);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(fc,lc);if(ob(u||lc),!e.get(H1,!0))return hc(t)?e.get(is):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(hc(t)){let f=e.get(is);return t.rootComponent!==void 0&&f.bootstrap(t.rootComponent),f}else return q1?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var q1;function G1(t,e,n){try{let r=n();return rs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Dd=null;function W1(t=[],e){return _n.create({name:e,providers:[{provide:ja,useValue:"platform"},{provide:dy,useValue:new Set([()=>Dd=null])},...t]})}function K1(t=[]){if(Dd)return Dd;let e=W1(t);return Dd=e,nb(),Q1(e),e}function Q1(t){let e=t.get(ud,null);Rt(t,()=>{e?.forEach(n=>n())})}var cs=(()=>{class t{static __NG_ELEMENT_ID__=Y1}return t})();function Y1(t){return J1(xt(),ce(),(t&16)===16)}function J1(t,e,n){if(Wr(t)&&!n){let r=sn(t.index,e);return new Jr(r,r)}else if(t.type&175){let r=e[Wt];return new Jr(r,e)}return null}function Ib(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;Re(we.BootstrapApplicationStart);try{let o=i?.injector??K1(r),s=[gb(),XT,...n||[]],a=new tc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return z1({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Re(we.BootstrapApplicationEnd)}}function pc(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var wb=null;function vr(){return wb}function fy(t){wb??=t}var gc=class{},Sd=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:()=>O(Tb),providedIn:"platform"})}return t})();var Tb=(()=>{class t extends Sd{_location;_history;_doc=O(qe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vr().getBaseHref(this._doc)}onPopState(n){let r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function bb(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function Db(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function ti(t){return t&&t[0]!=="?"?`?${t}`:t}var io=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:()=>O(Sb),providedIn:"root"})}return t})(),Z1=new $(""),Sb=(()=>{class t extends io{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return bb(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+ti(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+ti(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+ti(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(W(Sd),W(Z1,8))};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),oo=(()=>{class t{_subject=new st;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=tL(Db(Cb(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ti(r))}normalize(n){return t.stripTrailingSlash(eL(this._basePath,Cb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ti(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ti(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ti;static joinWithSlash=bb;static stripTrailingSlash=Db;static \u0275fac=function(r){return new(r||t)(W(io))};static \u0275prov=V({token:t,factory:()=>X1(),providedIn:"root"})}return t})();function X1(){return new oo(W(io))}function eL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Cb(t){return t.replace(/\/index.html$/,"")}function tL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var It=(function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t})(It||{}),Me=(function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t})(Me||{}),zt=(function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t})(zt||{}),Er={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Nb(t){return Qt(t)[Ge.LocaleId]}function Mb(t,e,n){let r=Qt(t),i=[r[Ge.DayPeriodsFormat],r[Ge.DayPeriodsStandalone]],o=fn(i,e);return fn(o,n)}function xb(t,e,n){let r=Qt(t),i=[r[Ge.DaysFormat],r[Ge.DaysStandalone]],o=fn(i,e);return fn(o,n)}function Pb(t,e,n){let r=Qt(t),i=[r[Ge.MonthsFormat],r[Ge.MonthsStandalone]],o=fn(i,e);return fn(o,n)}function Ob(t,e){let r=Qt(t)[Ge.Eras];return fn(r,e)}function mc(t,e){let n=Qt(t);return fn(n[Ge.DateFormat],e)}function yc(t,e){let n=Qt(t);return fn(n[Ge.TimeFormat],e)}function vc(t,e){let r=Qt(t)[Ge.DateTimeFormat];return fn(r,e)}function _c(t,e){let n=Qt(t),r=n[Ge.NumberSymbols][e];if(typeof r>"u"){if(e===Er.CurrencyDecimal)return n[Ge.NumberSymbols][Er.Decimal];if(e===Er.CurrencyGroup)return n[Ge.NumberSymbols][Er.Group]}return r}function kb(t){if(!t[Ge.ExtraData])throw new U(2303,!1)}function Lb(t){let e=Qt(t);return kb(e),(e[Ge.ExtraData][2]||[]).map(r=>typeof r=="string"?hy(r):[hy(r[0]),hy(r[1])])}function Fb(t,e,n){let r=Qt(t);kb(r);let i=[r[Ge.ExtraData][0],r[Ge.ExtraData][1]],o=fn(i,e)||[];return fn(o,n)||[]}function fn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new U(2304,!1)}function hy(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var nL=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ad={},rL=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Vb(t,e,n,r){let i=fL(t);e=_r(n,e)||e;let s=[],a;for(;e;)if(a=rL.exec(e),a){s=s.concat(a.slice(1));let f=s.pop();if(!f)break;e=f}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=Ub(r,u),i=dL(i,r));let l="";return s.forEach(f=>{let p=uL(f);l+=p?p(i,n,u):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Pd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function _r(t,e){let n=Nb(t);if(Ad[n]??={},Ad[n][e])return Ad[n][e];let r="";switch(e){case"shortDate":r=mc(t,zt.Short);break;case"mediumDate":r=mc(t,zt.Medium);break;case"longDate":r=mc(t,zt.Long);break;case"fullDate":r=mc(t,zt.Full);break;case"shortTime":r=yc(t,zt.Short);break;case"mediumTime":r=yc(t,zt.Medium);break;case"longTime":r=yc(t,zt.Long);break;case"fullTime":r=yc(t,zt.Full);break;case"short":let i=_r(t,"shortTime"),o=_r(t,"shortDate");r=Rd(vc(t,zt.Short),[i,o]);break;case"medium":let s=_r(t,"mediumTime"),a=_r(t,"mediumDate");r=Rd(vc(t,zt.Medium),[s,a]);break;case"long":let u=_r(t,"longTime"),l=_r(t,"longDate");r=Rd(vc(t,zt.Long),[u,l]);break;case"full":let f=_r(t,"fullTime"),p=_r(t,"fullDate");r=Rd(vc(t,zt.Full),[f,p]);break}return r&&(Ad[n][e]=r),r}function Rd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Nn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function iL(t,e){return Nn(t,3).substring(0,e)}function We(t,e,n=0,r=!1,i=!1){return function(o,s){let a=oL(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return iL(a,e);let u=_c(s,Er.MinusSign);return Nn(a,e,u,r,i)}}function oL(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new U(2301,!1)}}function Oe(t,e,n=It.Format,r=!1){return function(i,o){return sL(i,o,t,e,n,r)}}function sL(t,e,n,r,i,o){switch(n){case 2:return Pb(e,i,r)[t.getMonth()];case 1:return xb(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let l=Lb(e),f=Fb(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,S]=m,A=s>=y.hours&&a>=y.minutes,R=s<S.hours||s===S.hours&&a<S.minutes;if(y.hours<S.hours){if(A&&R)return!0}else if(A||R)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(p!==-1)return f[p]}return Mb(e,i,r)[s<12?0:1];case 3:return Ob(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new U(2302,!1)}}function Nd(t){return function(e,n,r){let i=-1*r,o=_c(n,Er.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+Nn(s,2,o)+Nn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Nn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Nn(s,2,o)+":"+Nn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Nn(s,2,o)+":"+Nn(Math.abs(i%60),2,o);default:throw new U(2310,!1)}}}var aL=0,xd=4;function cL(t){let e=Pd(t,aL,1).getDay();return Pd(t,0,1+(e<=xd?xd:xd+7)-e)}function jb(t){let e=t.getDay(),n=e===0?-3:xd-e;return Pd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function py(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=jb(n),s=cL(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Nn(i,t,_c(r,Er.MinusSign))}}function Md(t,e=!1){return function(n,r){let o=jb(n).getFullYear();return Nn(o,t,_c(r,Er.MinusSign),e)}}var gy={};function uL(t){if(gy[t])return gy[t];let e;switch(t){case"G":case"GG":case"GGG":e=Oe(3,Me.Abbreviated);break;case"GGGG":e=Oe(3,Me.Wide);break;case"GGGGG":e=Oe(3,Me.Narrow);break;case"y":e=We(0,1,0,!1,!0);break;case"yy":e=We(0,2,0,!0,!0);break;case"yyy":e=We(0,3,0,!1,!0);break;case"yyyy":e=We(0,4,0,!1,!0);break;case"Y":e=Md(1);break;case"YY":e=Md(2,!0);break;case"YYY":e=Md(3);break;case"YYYY":e=Md(4);break;case"M":case"L":e=We(1,1,1);break;case"MM":case"LL":e=We(1,2,1);break;case"MMM":e=Oe(2,Me.Abbreviated);break;case"MMMM":e=Oe(2,Me.Wide);break;case"MMMMM":e=Oe(2,Me.Narrow);break;case"LLL":e=Oe(2,Me.Abbreviated,It.Standalone);break;case"LLLL":e=Oe(2,Me.Wide,It.Standalone);break;case"LLLLL":e=Oe(2,Me.Narrow,It.Standalone);break;case"w":e=py(1);break;case"ww":e=py(2);break;case"W":e=py(1,!0);break;case"d":e=We(2,1);break;case"dd":e=We(2,2);break;case"c":case"cc":e=We(7,1);break;case"ccc":e=Oe(1,Me.Abbreviated,It.Standalone);break;case"cccc":e=Oe(1,Me.Wide,It.Standalone);break;case"ccccc":e=Oe(1,Me.Narrow,It.Standalone);break;case"cccccc":e=Oe(1,Me.Short,It.Standalone);break;case"E":case"EE":case"EEE":e=Oe(1,Me.Abbreviated);break;case"EEEE":e=Oe(1,Me.Wide);break;case"EEEEE":e=Oe(1,Me.Narrow);break;case"EEEEEE":e=Oe(1,Me.Short);break;case"a":case"aa":case"aaa":e=Oe(0,Me.Abbreviated);break;case"aaaa":e=Oe(0,Me.Wide);break;case"aaaaa":e=Oe(0,Me.Narrow);break;case"b":case"bb":case"bbb":e=Oe(0,Me.Abbreviated,It.Standalone,!0);break;case"bbbb":e=Oe(0,Me.Wide,It.Standalone,!0);break;case"bbbbb":e=Oe(0,Me.Narrow,It.Standalone,!0);break;case"B":case"BB":case"BBB":e=Oe(0,Me.Abbreviated,It.Format,!0);break;case"BBBB":e=Oe(0,Me.Wide,It.Format,!0);break;case"BBBBB":e=Oe(0,Me.Narrow,It.Format,!0);break;case"h":e=We(3,1,-12);break;case"hh":e=We(3,2,-12);break;case"H":e=We(3,1);break;case"HH":e=We(3,2);break;case"m":e=We(4,1);break;case"mm":e=We(4,2);break;case"s":e=We(5,1);break;case"ss":e=We(5,2);break;case"S":e=We(6,1);break;case"SS":e=We(6,2);break;case"SSS":e=We(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Nd(0);break;case"ZZZZZ":e=Nd(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Nd(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Nd(2);break;default:return null}return gy[t]=e,e}function Ub(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function lL(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function dL(t,e,n){let i=t.getTimezoneOffset(),o=Ub(e,i);return lL(t,-1*(o-i))}function fL(t){if(Ab(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Pd(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(nL))return hL(r)}let e=new Date(t);if(!Ab(e))throw new U(2311,!1);return e}function hL(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function Ab(t){return t instanceof Date&&!isNaN(t.valueOf())}var my=/\s+/,Rb=[],yy=(()=>{class t{_ngEl;_renderer;initialClasses=Rb;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(my):Rb}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(my):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(my).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(de(Bt),de(no))};static \u0275dir=Xr({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();function pL(t,e){return new U(2100,!1)}var gL="mediumDate",Bb=new $(""),$b=new $(""),vy=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??gL,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Vb(n,s,o||this.locale,a)}catch(s){throw pL(t,s.message)}}static \u0275fac=function(r){return new(r||t)(de(fc,16),de(Bb,24),de($b,24))};static \u0275pipe=ey({name:"date",type:t,pure:!0})}return t})();function _y(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ec=class{};var Hb="browser";var zb=(()=>{class t{static \u0275prov=V({token:t,providedIn:"root",factory:()=>new Ey(O(qe),window)})}return t})(),Ey=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,n){this.window.scrollTo(ie(N({},n),{left:e[0],top:e[1]}))}scrollToAnchor(e,n){let r=EL(this.document,e);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Hr(2400,!1))}}scrollToElement(e,n){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(ie(N({},n),{left:i-s[0],top:o-s[1]}))}};function EL(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Ic=class{_doc;constructor(e){this._doc=e}manager},Od=(()=>{class t extends Ic{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(W(qe))};static \u0275prov=V({token:t,factory:t.\u0275fac})}return t})(),Fd=new $(""),Dy=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof Od));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof Od);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(W(Fd),W(Ut))};static \u0275prov=V({token:t,factory:t.\u0275fac})}return t})(),Iy="ng-app-id";function qb(t){for(let e of t)e.remove()}function Gb(t,e){let n=e.createElement("style");return n.textContent=t,n}function wL(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Iy}="${e}"],link[${Iy}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Iy),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Ty(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Cy=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,wL(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,Gb);r?.forEach(i=>this.addUsage(i,this.external,Ty))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(qb(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])qb(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,Gb(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Ty(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(W(qe),W(cd),W(ld,8),W(sc))};static \u0275prov=V({token:t,factory:t.\u0275fac})}return t})(),wy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},by=/%COMP%/g;var Kb="%COMP%",TL=`_nghost-${Kb}`,DL=`_ngcontent-${Kb}`,CL=!0,bL=new $("",{factory:()=>CL});function SL(t){return DL.replace(by,t)}function AL(t){return TL.replace(by,t)}function Qb(t,e){return e.map(n=>n.replace(by,t))}var Sy=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new wc(n,s,a,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Ld?i.applyToHost(n):i instanceof Tc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case bn.Emulated:o=new Ld(u,l,r,this.appId,f,s,a,p,m);break;case bn.ShadowDom:return new kd(u,n,r,s,a,this.nonce,p,m,l);case bn.ExperimentalIsolatedShadowDom:return new kd(u,n,r,s,a,this.nonce,p,m);default:o=new Tc(u,l,r,f,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(W(Dy),W(Cy),W(cd),W(bL),W(qe),W(Ut),W(ld),W(ac,8))};static \u0275prov=V({token:t,factory:t.\u0275fac})}return t})(),wc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(wy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Wb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Wb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=wy[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=wy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Wn.DashCase|Wn.Important)?e.style.setProperty(n,r,i&Wn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Wn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=vr().getGlobalEventTarget(this.doc,e),!e))throw new U(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function Wb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var kd=class extends wc{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,o,s,a,u,l){super(e,i,o,a,u),this.hostEl=n,this.sharedStylesHost=l,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let f=r.styles;f=Qb(r.id,f);for(let m of f){let y=document.createElement("style");s&&y.setAttribute("nonce",s),y.textContent=m,this.shadowRoot.appendChild(y)}let p=r.getExternalStyles?.();if(p)for(let m of p){let y=Ty(m,i);s&&y.setAttribute("nonce",s),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Tc=class extends wc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=l?Qb(l,f):f,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Ji.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ld=class extends Tc{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l){let f=i+"-"+r.id;super(e,n,r,o,s,a,u,l,f),this.contentAttr=SL(f),this.hostAttr=AL(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Vd=class t extends gc{supportsDOMEvents=!0;static makeCurrent(){fy(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=RL();return n==null?null:NL(n)}resetBaseElement(){Dc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return _y(document.cookie,e)}},Dc=null;function RL(){return Dc=Dc||document.head.querySelector("base"),Dc?Dc.getAttribute("href"):null}function NL(t){return new URL(t,document.baseURI).pathname}var ML=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac})}return t})(),Yb=["alt","control","meta","shift"],xL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Jb=(()=>{class t extends Ic{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vr().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Yb.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=xL[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Yb.forEach(s=>{if(s!==i){let a=PL[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(W(qe))};static \u0275prov=V({token:t,factory:t.\u0275fac})}return t})();function Ay(t,e,n){let r=N({rootComponent:t,platformRef:n?.platformRef},OL(e));return Ib(r)}function OL(t){return{appProviders:[...jL,...t?.providers??[]],platformProviders:VL}}function kL(){Vd.makeCurrent()}function LL(){return new pr}function FL(){return Pm(document),document}var VL=[{provide:sc,useValue:Hb},{provide:ud,useValue:kL,multi:!0},{provide:qe,useFactory:FL}];var jL=[{provide:ja,useValue:"root"},{provide:pr,useFactory:LL},{provide:Fd,useClass:Od,multi:!0},{provide:Fd,useClass:Jb,multi:!0},Sy,Cy,Dy,{provide:Zi,useExisting:Sy},{provide:Ec,useClass:ML},[]];var Zb=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(W(qe))};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Z="primary",kc=Symbol("RouteTitle"),Py=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function uo(t){return new Py(t)}function aS(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function zd(t){return new Promise((e,n)=>{t.pipe(dr()).subscribe({next:r=>e(r),error:r=>n(r)})})}function BL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Yn(t[n],e[n]))return!1;return!0}function Yn(t,e){let n=t?Oy(t):void 0,r=e?Oy(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!cS(t[i],e[i]))return!1;return!0}function Oy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function cS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function uS(t){return t.length>0?t[t.length-1]:null}function lo(t){return sl(t)?t:rs(t)?Xe(Promise.resolve(t)):le(t)}function lS(t){return sl(t)?zd(t):Promise.resolve(t)}var $L={exact:fS,subset:hS},dS={exact:HL,subset:zL,ignored:()=>!0};function Xb(t,e,n){return $L[n.paths](t.root,e.root,n.matrixParams)&&dS[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function HL(t,e){return Yn(t,e)}function fS(t,e,n){if(!ao(t.segments,e.segments)||!Bd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!fS(t.children[r],e.children[r],n))return!1;return!0}function zL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>cS(t[n],e[n]))}function hS(t,e,n){return pS(t,e,e.segments,n)}function pS(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ao(i,n)||e.hasChildren()||!Bd(i,n,r))}else if(t.segments.length===n.length){if(!ao(t.segments,n)||!Bd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!hS(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ao(t.segments,i)||!Bd(t.segments,i,r)||!t.children[Z]?!1:pS(t.children[Z],e,o,r)}}function Bd(t,e,n){return e.every((r,i)=>dS[n](t[i].parameters,r.parameters))}var xn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new De([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=uo(this.queryParams),this._queryParamMap}toString(){return WL.serialize(this)}},De=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $d(this)}},ni=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=uo(this.parameters),this._parameterMap}toString(){return mS(this)}};function qL(t,e){return ao(t,e)&&t.every((n,r)=>Yn(n.parameters,e[r].parameters))}function ao(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function GL(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Z&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Z&&(n=n.concat(e(i,r)))}),n}var _s=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:()=>new ri,providedIn:"root"})}return t})(),ri=class{parse(e){let n=new Ly(e);return new xn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Cc(e.root,!0)}`,r=YL(e.queryParams),i=typeof e.fragment=="string"?`#${KL(e.fragment)}`:"";return`${n}${r}${i}`}},WL=new ri;function $d(t){return t.segments.map(e=>mS(e)).join("/")}function Cc(t,e){if(!t.hasChildren())return $d(t);if(e){let n=t.children[Z]?Cc(t.children[Z],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Z&&r.push(`${i}:${Cc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=GL(t,(r,i)=>i===Z?[Cc(t.children[Z],!1)]:[`${i}:${Cc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Z]!=null?`${$d(t)}/${n[0]}`:`${$d(t)}/(${n.join("//")})`}}function gS(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jd(t){return gS(t).replace(/%3B/gi,";")}function KL(t){return encodeURI(t)}function ky(t){return gS(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hd(t){return decodeURIComponent(t)}function eS(t){return Hd(t.replace(/\+/g,"%20"))}function mS(t){return`${ky(t.path)}${QL(t.parameters)}`}function QL(t){return Object.entries(t).map(([e,n])=>`;${ky(e)}=${ky(n)}`).join("")}function YL(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${jd(n)}=${jd(i)}`).join("&"):`${jd(n)}=${jd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var JL=/^[^\/()?;#]+/;function Ry(t){let e=t.match(JL);return e?e[0]:""}var ZL=/^[^\/()?;=#]+/;function XL(t){let e=t.match(ZL);return e?e[0]:""}var eF=/^[^=?&#]+/;function tF(t){let e=t.match(eF);return e?e[0]:""}var nF=/^[^&#]+/;function rF(t){let e=t.match(nF);return e?e[0]:""}var Ly=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Z]=new De(e,n)),r}parseSegment(){let e=Ry(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new ni(Hd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=XL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Ry(this.remaining);i&&(r=i,this.capture(r))}e[Hd(n)]=Hd(r)}parseQueryParam(e){let n=tF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=rF(this.remaining);s&&(r=s,this.capture(r))}let i=eS(n),o=eS(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ry(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Z);let s=this.parseChildren();n[o??Z]=Object.keys(s).length===1&&s[Z]?s[Z]:new De([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function yS(t){return t.segments.length>0?new De([],{[Z]:t}):t}function vS(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=vS(i);if(r===Z&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new De(t.segments,e);return iF(n)}function iF(t){if(t.numberOfChildren===1&&t.children[Z]){let e=t.children[Z];return new De(t.segments.concat(e.segments),e.children)}return t}function ii(t){return t instanceof xn}function _S(t,e,n=null,r=null,i=new ri){let o=ES(t);return IS(o,e,n,r,i)}function ES(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new De(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=yS(r);return e??i}function IS(t,e,n,r,i){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return Ny(o,o,o,n,r,i);let s=oF(e);if(s.toRoot())return Ny(o,o,new De([],{}),n,r,i);let a=sF(s,o,t),u=a.processChildren?Sc(a.segmentGroup,a.index,s.commands):TS(a.segmentGroup,a.index,s.commands);return Ny(o,a.segmentGroup,u,n,r,i)}function qd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Rc(t){return typeof t=="object"&&t!=null&&t.outlets}function tS(t,e,n){t||="\u0275";let r=new xn;return r.queryParams={[t]:e},n.parse(n.serialize(r)).queryParams[t]}function Ny(t,e,n,r,i,o){let s={};for(let[l,f]of Object.entries(r??{}))s[l]=Array.isArray(f)?f.map(p=>tS(l,p,o)):tS(l,f,o);let a;t===e?a=n:a=wS(t,e,n);let u=yS(vS(a));return new xn(u,s,i)}function wS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=wS(o,e,n)}),new De(t.segments,r)}var Gd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&qd(r[0]))throw new U(4003,!1);let i=r.find(Rc);if(i&&i!==uS(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function oF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Gd(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Gd(n,e,r)}var ls=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function sF(t,e,n){if(t.isAbsolute)return new ls(e,!0,0);if(!n)return new ls(e,!1,NaN);if(n.parent===null)return new ls(n,!0,0);let r=qd(t.commands[0])?0:1,i=n.segments.length-1+r;return aF(n,i,t.numberOfDoubleDots)}function aF(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new ls(r,!1,i-o)}function cF(t){return Rc(t[0])?t[0].outlets:{[Z]:t}}function TS(t,e,n){if(t??=new De([],{}),t.segments.length===0&&t.hasChildren())return Sc(t,e,n);let r=uF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new De(t.segments.slice(0,r.pathIndex),{});return o.children[Z]=new De(t.segments.slice(r.pathIndex),t.children),Sc(o,0,i)}else return r.match&&i.length===0?new De(t.segments,{}):r.match&&!t.hasChildren()?Fy(t,e,n):r.match?Sc(t,0,i):Fy(t,e,n)}function Sc(t,e,n){if(n.length===0)return new De(t.segments,{});{let r=cF(n),i={};if(Object.keys(r).some(o=>o!==Z)&&t.children[Z]&&t.numberOfChildren===1&&t.children[Z].segments.length===0){let o=Sc(t.children[Z],e,n);return new De(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=TS(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new De(t.segments,i)}}function uF(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Rc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!rS(u,l,s))return o;r+=2}else{if(!rS(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Fy(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Rc(o)){let u=lF(o.outlets);return new De(r,u)}if(i===0&&qd(n[0])){let u=t.segments[e];r.push(new ni(u.path,nS(n[0]))),i++;continue}let s=Rc(o)?o.outlets[Z]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&qd(a)?(r.push(new ni(s,nS(a))),i+=2):(r.push(new ni(s,{})),i++)}return new De(r,{})}function lF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Fy(new De([],{}),0,r))}),e}function nS(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function rS(t,e,n){return t==n.path&&Yn(e,n.parameters)}var ds="imperative",nt=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(nt||{}),Jt=class{id;url;constructor(e,n){this.id=e,this.url=n}},oi=class extends Jt{type=nt.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},hn=class extends Jt{urlAfterRedirects;type=nt.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Pt=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Pt||{}),hs=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(hs||{}),Jn=class extends Jt{reason;code;type=nt.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Zn=class extends Jt{reason;code;type=nt.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},ps=class extends Jt{error;target;type=nt.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Nc=class extends Jt{urlAfterRedirects;state;type=nt.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wd=class extends Jt{urlAfterRedirects;state;type=nt.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kd=class extends Jt{urlAfterRedirects;state;shouldActivate;type=nt.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Qd=class extends Jt{urlAfterRedirects;state;type=nt.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yd=class extends Jt{urlAfterRedirects;state;type=nt.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jd=class{route;type=nt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Zd=class{route;type=nt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Xd=class{snapshot;type=nt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ef=class{snapshot;type=nt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tf=class{snapshot;type=nt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nf=class{snapshot;type=nt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gs=class{routerEvent;position;anchor;type=nt.Scroll;constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Mc=class{},ms=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function dF(t){return!(t instanceof Mc)&&!(t instanceof ms)}function fF(t,e){return t.providers&&!t._injector&&(t._injector=uc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Mn(t){return t.outlet||Z}function hF(t,e){let n=t.filter(r=>Mn(r)===e);return n.push(...t.filter(r=>Mn(r)!==e)),n}function Es(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var rf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Es(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Is(this.rootInjector)}},Is=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new rf(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(W(ct))};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),of=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Vy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Vy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=jy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return jy(e,this._root).map(n=>n.value)}};function Vy(t,e){if(t===e.value)return e;for(let n of e.children){let r=Vy(t,n);if(r)return r}return null}function jy(t,e){if(t===e.value)return[e];for(let n of e.children){let r=jy(t,n);if(r.length)return r.unshift(e),r}return[]}var Yt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function us(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var xc=class extends of{snapshot;constructor(e,n){super(e),this.snapshot=n,qy(this,e)}toString(){return this.snapshot.toString()}};function DS(t){let e=pF(t),n=new pt([new ni("",{})]),r=new pt({}),i=new pt({}),o=new pt({}),s=new pt(""),a=new Pn(n,r,o,s,i,Z,t,e.root);return a.snapshot=e.root,new xc(new Yt(a,[]),e)}function pF(t){let e={},n={},r={},o=new co([],e,r,"",n,Z,t,null,{});return new Pc("",new Yt(o,[]))}var Pn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Le(l=>l[kc]))??le(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Le(e=>uo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Le(e=>uo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function sf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:N(N({},e.params),t.params),data:N(N({},e.data),t.data),resolve:N(N(N(N({},t.data),e.data),i?.data),t._resolvedData)}:r={params:N({},t.params),data:N({},t.data),resolve:N(N({},t.data),t._resolvedData??{})},i&&bS(i)&&(r.resolve[kc]=i.title),r}var co=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[kc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=uo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=uo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Pc=class extends of{url;constructor(e,n){super(n),this.url=e,qy(this,n)}toString(){return CS(this._root)}};function qy(t,e){e.value._routerState=t,e.children.forEach(n=>qy(t,n))}function CS(t){let e=t.children.length>0?` { ${t.children.map(CS).join(", ")} } `:"";return`${t.value}${e}`}function My(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Yn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Yn(e.params,n.params)||t.paramsSubject.next(n.params),BL(e.url,n.url)||t.urlSubject.next(n.url),Yn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Uy(t,e){let n=Yn(t.params,e.params)&&qL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Uy(t.parent,e.parent))}function bS(t){return typeof t.title=="string"||t.title===null}var SS=new $(""),Lc=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Z;activateEvents=new Et;deactivateEvents=new Et;attachEvents=new Et;detachEvents=new Et;routerOutletData=Eb();parentContexts=O(Is);location=O(ro);changeDetector=O(cs);inputBinder=O(lf,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new By(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Xr({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[to]})}return t})(),By=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Pn?this.route:e===Is?this.childContexts:e===SS?this.outletData:this.parent.get(e,n)}},lf=new $("");var Gy=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Te({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ee(0,"router-outlet")},dependencies:[Lc],encapsulation:2})}return t})();function Wy(t){let e=t.children&&t.children.map(Wy),n=e?ie(N({},t),{children:e}):N({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Z&&(n.component=Gy),n}function gF(t,e,n){let r=Oc(t,e._root,n?n._root:void 0);return new xc(r,e)}function Oc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=mF(t,e,n);return new Yt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Oc(t,a)),s}}let r=yF(e.value),i=e.children.map(o=>Oc(t,o));return new Yt(r,i)}}function mF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Oc(t,r,i);return Oc(t,r)})}function yF(t){return new Pn(new pt(t.url),new pt(t.params),new pt(t.queryParams),new pt(t.fragment),new pt(t.data),t.outlet,t.component,t)}var ys=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},AS="ngNavigationCancelingError";function af(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ii(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=RS(!1,Pt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function RS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[AS]=!0,n.cancellationCode=e,n}function vF(t){return NS(t)&&ii(t.url)}function NS(t){return!!t&&t[AS]}var _F=(t,e,n,r)=>Le(i=>(new $y(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),$y=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),My(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=us(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=us(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=us(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=us(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new nf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new ef(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(My(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),My(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},cf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},fs=class{component;route;constructor(e,n){this.component=e,this.route=n}};function EF(t,e,n){let r=t._root,i=e?e._root:null;return bc(r,i,n,[r.value])}function IF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ws(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!sg(t)?t:e.get(t):r}function bc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=us(e);return t.children.forEach(s=>{wF(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ac(a,n.getContext(s),i)),i}function wF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=TF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new cf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?bc(t,e,a?a.children:null,r,i):bc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new fs(a.outlet.component,s))}else s&&Ac(e,a,i),i.canActivateChecks.push(new cf(r)),o.component?bc(t,null,a?a.children:null,r,i):bc(t,null,n,r,i);return i}function TF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ao(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ao(t.url,e.url)||!Yn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Uy(t,e)||!Yn(t.queryParams,e.queryParams);case"paramsChange":default:return!Uy(t,e)}}function Ac(t,e,n){let r=us(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ac(s,e.children.getContext(o),n):Ac(s,null,n):Ac(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new fs(e.outlet.component,i)):n.canDeactivateChecks.push(new fs(null,i)):n.canDeactivateChecks.push(new fs(null,i))}function Fc(t){return typeof t=="function"}function DF(t){return typeof t=="boolean"}function CF(t){return t&&Fc(t.canLoad)}function bF(t){return t&&Fc(t.canActivate)}function SF(t){return t&&Fc(t.canActivateChild)}function AF(t){return t&&Fc(t.canDeactivate)}function RF(t){return t&&Fc(t.canMatch)}function MS(t){return t instanceof ki||t?.name==="EmptyError"}var Ud=Symbol("INITIAL_VALUE");function vs(){return jn(t=>Up(t.map(e=>e.pipe(lr(1),Hp(Ud)))).pipe(Le(e=>{for(let n of e)if(n!==!0){if(n===Ud)return Ud;if(n===!1||NF(n))return n}return!0}),vn(e=>e!==Ud),lr(1)))}function NF(t){return ii(t)||t instanceof ys}function xS(t){return t.aborted?le(void 0).pipe(lr(1)):new Ie(e=>{let n=()=>{e.next(),e.complete()};return t.addEventListener("abort",n),()=>t.removeEventListener("abort",n)})}function PS(t){return Na(xS(t))}function MF(t,e){return _t(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?le(ie(N({},n),{guardsResult:!0})):xF(s,r,i,t).pipe(_t(a=>a&&DF(a)?PF(r,o,t,e):le(a)),Le(a=>ie(N({},n),{guardsResult:a})))})}function xF(t,e,n,r){return Xe(t).pipe(_t(i=>VF(i.component,i.route,n,e,r)),dr(i=>i!==!0,!0))}function PF(t,e,n,r){return Xe(e).pipe(Ra(i=>Vo(kF(i.route.parent,r),OF(i.route,r),FF(t,i.path,n),LF(t,i.route,n))),dr(i=>i!==!0,!0))}function OF(t,e){return t!==null&&e&&e(new tf(t)),le(!0)}function kF(t,e){return t!==null&&e&&e(new Xd(t)),le(!0)}function LF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return le(!0);let i=r.map(o=>Aa(()=>{let s=Es(e)??n,a=ws(o,s),u=bF(a)?a.canActivate(e,t):Rt(s,()=>a(e,t));return lo(u).pipe(dr())}));return le(i).pipe(vs())}function FF(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>IF(s)).filter(s=>s!==null).map(s=>Aa(()=>{let a=s.guards.map(u=>{let l=Es(s.node)??n,f=ws(u,l),p=SF(f)?f.canActivateChild(r,t):Rt(l,()=>f(r,t));return lo(p).pipe(dr())});return le(a).pipe(vs())}));return le(o).pipe(vs())}function VF(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return le(!0);let s=o.map(a=>{let u=Es(e)??i,l=ws(a,u),f=AF(l)?l.canDeactivate(t,e,n,r):Rt(u,()=>l(t,e,n,r));return lo(f).pipe(dr())});return le(s).pipe(vs())}function jF(t,e,n,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return le(!0);let s=o.map(a=>{let u=ws(a,t),l=CF(u)?u.canLoad(e,n):Rt(t,()=>u(e,n)),f=lo(l);return i?f.pipe(PS(i)):f});return le(s).pipe(vs(),OS(r))}function OS(t){return Lp(St(e=>{if(typeof e!="boolean")throw af(t,e)}),Le(e=>e===!0))}function UF(t,e,n,r,i){let o=e.canMatch;if(!o||o.length===0)return le(!0);let s=o.map(a=>{let u=ws(a,t),l=RF(u)?u.canMatch(e,n):Rt(t,()=>u(e,n)),f=lo(l);return i?f.pipe(PS(i)):f});return le(s).pipe(vs(),OS(r))}var so=class kS extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,kS.prototype)}},Hy=class LS extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,LS.prototype)}};function BF(t){throw new U(4e3,!1)}function $F(t){throw RS(!1,Pt.GuardRejected)}var HF=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}async lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[Z])throw BF(`${e.redirectTo}`);i=i.children[Z]}}async applyRedirectCommands(e,n,r,i,o){let s=await zF(n,i,o);if(s instanceof xn)throw new Hy(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Hy(a);return a}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new xn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new De(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function zF(t,e,n){if(typeof t=="string")return Promise.resolve(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:f,title:p}=e;return zd(lo(Rt(n,()=>r({params:l,data:f,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p}))))}var zy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qF(t,e,n,r,i,o){let s=FS(t,e,n);return s.matched?(r=fF(e,r),UF(r,e,n,i,o).pipe(Le(a=>a===!0?s:N({},zy)))):le(s)}function FS(t,e,n){if(e.path==="**")return GF(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?N({},zy):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||aS)(n,t,e);if(!i)return N({},zy);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?N(N({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function GF(t){return{matched:!0,parameters:t.length>0?uS(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function iS(t,e,n,r){return n.length>0&&QF(t,n,r)?{segmentGroup:new De(e,KF(r,new De(n,t.children))),slicedSegments:[]}:n.length===0&&YF(t,n,r)?{segmentGroup:new De(t.segments,WF(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new De(t.segments,t.children),slicedSegments:n}}function WF(t,e,n,r){let i={};for(let o of n)if(df(t,e,o)&&!r[Mn(o)]){let s=new De([],{});i[Mn(o)]=s}return N(N({},r),i)}function KF(t,e){let n={};n[Z]=e;for(let r of t)if(r.path===""&&Mn(r)!==Z){let i=new De([],{});n[Mn(r)]=i}return n}function QF(t,e,n){return n.some(r=>df(t,e,r)&&Mn(r)!==Z)}function YF(t,e,n){return n.some(r=>df(t,e,r))}function df(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function JF(t,e,n){return e.length===0&&!t.children[n]}var ZF=class{};async function XF(t,e,n,r,i,o,s="emptyOnly",a){return new tV(t,e,n,r,i,s,o,a).recognize()}var eV=31,tV=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a,u){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=u,this.applyRedirects=new HF(this.urlSerializer,this.urlTree)}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}async recognize(){let e=iS(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(e),i=new Yt(r,n),o=new Pc("",i),s=_S(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(e){let n=new co([],Object.freeze({}),Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Z,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,Z,n),rootSnapshot:n}}catch(r){if(r instanceof Hy)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof so?this.noMatchError(r):r}}async processSegmentGroup(e,n,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,n,r,o);let s=await this.processSegment(e,n,r,r.segments,i,!0,o);return s instanceof Yt?[s]:[]}async processChildren(e,n,r,i){let o=[];for(let u of Object.keys(r.children))u==="primary"?o.unshift(u):o.push(u);let s=[];for(let u of o){let l=r.children[u],f=hF(n,u),p=await this.processSegmentGroup(e,f,l,u,i);s.push(...p)}let a=VS(s);return nV(a),a}async processSegment(e,n,r,i,o,s,a){for(let u of n)try{return await this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a)}catch(l){if(l instanceof so||MS(l))continue;throw l}if(JF(r,i,o))return new ZF;throw new so(r)}async processSegmentAgainstRoute(e,n,r,i,o,s,a,u){if(Mn(r)!==s&&(s===Z||!df(i,o,r)))throw new so(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,s,u);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u);throw new so(i)}async expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:m}=FS(n,i,o);if(!u)throw new so(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>eV&&(this.allowRedirects=!1));let y=new co(o,l,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,oS(i),Mn(i),i.component??i._loadedComponent??null,i,sS(i)),S=sf(y,a,this.paramsInheritanceStrategy);if(y.params=Object.freeze(S.params),y.data=Object.freeze(S.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let A=await this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,y,e),R=await this.applyRedirects.lineralizeSegments(i,A);return this.processSegment(e,r,n,R.concat(m),s,!1,a)}async matchSegmentAgainstRoute(e,n,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await zd(qF(n,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!a?.matched)throw new so(n);e=r._injector??e;let{routes:u}=await this.getChildConfig(e,r,i),l=r._loadedInjector??e,{parameters:f,consumedSegments:p,remainingSegments:m}=a,y=new co(p,f,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,oS(r),Mn(r),r.component??r._loadedComponent??null,r,sS(r)),S=sf(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(S.params),y.data=Object.freeze(S.data);let{segmentGroup:A,slicedSegments:R}=iS(n,p,m,u);if(R.length===0&&A.hasChildren()){let pe=await this.processChildren(l,u,A,y);return new Yt(y,pe)}if(u.length===0&&R.length===0)return new Yt(y,[]);let L=Mn(r)===o,re=await this.processSegment(l,u,A,R,L?Z:o,!0,y);return new Yt(y,re instanceof Yt?[re]:[])}async getChildConfig(e,n,r){if(n.children)return{routes:n.children,injector:e};if(n.loadChildren){if(n._loadedRoutes!==void 0)return{routes:n._loadedRoutes,injector:n._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await zd(jF(e,n,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,n);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,o}throw $F(n)}return{routes:[],injector:e}}};function nV(t){t.sort((e,n)=>e.value.outlet===Z?-1:n.value.outlet===Z?1:e.value.outlet.localeCompare(n.value.outlet))}function rV(t){let e=t.value.routeConfig;return e&&e.path===""}function VS(t){let e=[],n=new Set;for(let r of t){if(!rV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=VS(r.children);e.push(new Yt(r.value,i))}return e.filter(r=>!n.has(r))}function oS(t){return t.data||{}}function sS(t){return t.resolve||{}}var iV=new $("",{factory:()=>XF});function oV(t,e,n,r,i,o,s){let a=t.get(iV);return _t(u=>le(u).pipe(jn(l=>a(t,e,n,r,l.extractedUrl,i,o,s)),Le(({state:l,tree:f})=>ie(N({},u),{targetSnapshot:l,urlAfterRedirects:f}))))}function sV(t,e){return _t(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return le(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of jS(u))s.add(l);let a=0;return Xe(s).pipe(Ra(u=>o.has(u)?aV(u,r,t,e):(u.data=sf(u,u.parent,t).resolve,le(void 0))),St(()=>a++),al(1),_t(u=>a===s.size?le(n):Ft))})}function jS(t){let e=t.children.map(n=>jS(n)).flat();return[t,...e]}function aV(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!bS(i)&&(o[kc]=i.title),Aa(()=>(t.data=sf(t,t.parent,n).resolve,cV(o,t,e,r).pipe(Le(s=>(t._resolvedData=s,t.data=N(N({},t.data),s),null)))))}function cV(t,e,n,r){let i=Oy(t);if(i.length===0)return le({});let o={};return Xe(i).pipe(_t(s=>uV(t[s],e,n,r).pipe(dr(),St(a=>{if(a instanceof ys)throw af(new ri,a);o[s]=a}))),al(1),Le(()=>o),jo(s=>MS(s)?Ft:jp(s)))}function uV(t,e,n,r){let i=Es(e)??r,o=ws(t,i),s=o.resolve?o.resolve(e,n):Rt(i,()=>o(e,n));return lo(s)}function xy(t){return jn(e=>{let n=t(e);return n?Xe(n).pipe(Le(()=>e)):le(e)})}var Ky=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Z);return r}getResolvedTitleForRoute(n){return n.data[kc]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:()=>O(US),providedIn:"root"})}return t})(),US=(()=>{class t extends Ky{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(W(Zb))};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ts=new $("",{factory:()=>({})}),Vc=new $(""),BS=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=O(uy);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await lS(Rt(n,()=>r.loadComponent())),s=await zS(HS(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await $S(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();async function $S(t,e,n,r){let i=await lS(Rt(n,()=>t.loadChildren())),o=await zS(HS(i)),s;o instanceof _d||Array.isArray(o)?s=o:s=await e.compileModuleAsync(o),r&&r(t);let a,u,l=!1;return Array.isArray(s)?(u=s,l=!0):(a=s.create(n).injector,u=a.get(Vc,[],{optional:!0,self:!0}).flat()),{routes:u.map(Wy),injector:a}}function lV(t){return t&&typeof t=="object"&&"default"in t}function HS(t){return lV(t)?t.default:t}async function zS(t){return t}var ff=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:()=>O(dV),providedIn:"root"})}return t})(),dV=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qS=new $("");var fV=()=>{},GS=new $(""),Qy=(()=>{class t{currentNavigation=$e(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=$e(null);events=new st;transitionAbortWithErrorSubject=new st;configLoader=O(BS);environmentInjector=O(ct);destroyRef=O(Qr);urlSerializer=O(_s);rootContexts=O(Is);location=O(oo);inputBindingEnabled=O(lf,{optional:!0})!==null;titleStrategy=O(Ky);options=O(Ts,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=O(ff);createViewTransition=O(qS,{optional:!0});navigationErrorHandler=O(GS,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>le(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Jd(i)),r=i=>this.events.next(new Zd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Tn(()=>{this.transitions?.next(ie(N({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new pt(null),this.transitions.pipe(vn(r=>r!==null),jn(r=>{let i=!1,o=new AbortController;return le(r).pipe(jn(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Pt.SupersededByNewNavigation),Ft;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?ie(N({},a),{previousNavigation:null}):null,abort:()=>o.abort()});let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&l!=="reload")return this.events.next(new Zn(s.id,this.urlSerializer.serialize(s.rawUrl),"",hs.IgnoredSameUrlNavigation)),s.resolve(!1),Ft;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return le(s).pipe(jn(f=>(this.events.next(new oi(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),f.id!==this.navigationId?Ft:Promise.resolve(f))),oV(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),St(f=>{r.targetSnapshot=f.targetSnapshot,r.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation.update(m=>(m.finalUrl=f.urlAfterRedirects,m));let p=new Nc(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:f,extractedUrl:p,source:m,restoredState:y,extras:S}=s,A=new oi(f,this.urlSerializer.serialize(p),m,y);this.events.next(A);let R=DS(this.rootComponentType).snapshot;return this.currentTransition=r=ie(N({},s),{targetSnapshot:R,urlAfterRedirects:p,extras:ie(N({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(L=>(L.finalUrl=p,L)),le(r)}else return this.events.next(new Zn(s.id,this.urlSerializer.serialize(s.extractedUrl),"",hs.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Ft}),St(s=>{let a=new Wd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Le(s=>(this.currentTransition=r=ie(N({},s),{guards:EF(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),MF(this.environmentInjector,s=>this.events.next(s)),St(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw af(this.urlSerializer,s.guardsResult);let a=new Kd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),vn(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Pt.GuardRejected),!1)),xy(s=>{if(s.guards.canActivateChecks.length!==0)return le(s).pipe(St(a=>{let u=new Qd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),jn(a=>{let u=!1;return le(a).pipe(sV(this.paramsInheritanceStrategy,this.environmentInjector),St({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",Pt.NoDataFromResolver)}}))}),St(a=>{let u=new Yd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),xy(s=>{let a=l=>{let f=[];if(l.routeConfig?._loadedComponent)l.component=l.routeConfig?._loadedComponent;else if(l.routeConfig?.loadComponent){let p=Es(l)??this.environmentInjector;f.push(this.configLoader.loadComponent(p,l.routeConfig).then(m=>{l.component=m}))}for(let p of l.children)f.push(...a(p));return f},u=a(s.targetSnapshot.root);return u.length===0?le(s):Xe(Promise.all(u).then(()=>s))}),xy(()=>this.afterPreactivation()),jn(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?Xe(u).pipe(Le(()=>r)):le(r)}),Le(s=>{let a=gF(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ie(N({},s),{targetRouterState:a}),this.currentNavigation.update(u=>(u.targetRouterState=a,u)),r}),St(()=>{this.events.next(new Mc)}),_F(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),lr(1),Na(xS(o.signal).pipe(vn(()=>!i&&!r.targetRouterState),St(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",Pt.Aborted)}))),St({next:s=>{i=!0,this.currentNavigation.update(a=>(a.abort=fV,a)),this.lastSuccessfulNavigation.set(Tn(this.currentNavigation)),this.events.next(new hn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Na(this.transitionAbortWithErrorSubject.pipe(St(s=>{throw s}))),$p(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",Pt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),jo(s=>{if(this.destroyed)return r.resolve(!1),Ft;if(i=!0,NS(s))this.events.next(new Jn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),vF(s)?this.events.next(new ms(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new ps(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=Rt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof ys){let{message:l,cancellationCode:f}=af(this.urlSerializer,u);this.events.next(new Jn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,f)),this.events.next(new ms(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Ft}))}))}cancelNavigationTransition(n,r,i){let o=new Jn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Tn(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hV(t){return t!==ds}var WS=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:()=>O(pV),providedIn:"root"})}return t})(),uf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},pV=(()=>{class t extends uf{static \u0275fac=(()=>{let n;return function(i){return(n||(n=ic(t)))(i||t)}})();static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Yy=(()=>{class t{urlSerializer=O(_s);options=O(Ts,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=O(oo);urlHandlingStrategy=O(ff);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new xn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof xn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=DS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:()=>O(KS),providedIn:"root"})}return t})(),KS=(()=>{class t extends Yy{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof oi?this.updateStateMemento():n instanceof Zn?this.commitTransition(r):n instanceof Nc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Mc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Jn&&n.code!==Pt.SupersededByNewNavigation&&n.code!==Pt.Redirect?this.restoreHistory(r):n instanceof ps?this.restoreHistory(r,!0):n instanceof hn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=N(N({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=N(N({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ic(t)))(i||t)}})();static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Jy(t,e){t.events.pipe(vn(n=>n instanceof hn||n instanceof Jn||n instanceof ps||n instanceof Zn),Le(n=>n instanceof hn||n instanceof Zn?0:(n instanceof Jn?n.code===Pt.Redirect||n.code===Pt.SupersededByNewNavigation:!1)?2:1),vn(n=>n!==2),lr(1)).subscribe(()=>{e()})}var gV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ds=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=O(ty);stateManager=O(Yy);options=O(Ts,{optional:!0})||{};pendingTasks=O(Yr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=O(Qy);urlSerializer=O(_s);location=O(oo);urlHandlingStrategy=O(ff);injector=O(ct);_events=new st;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=O(WS);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=O(Vc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!O(lf,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ht;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Tn(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Jn&&r.code!==Pt.Redirect&&r.code!==Pt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof hn)this.navigated=!0;else if(r instanceof ms){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=N({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||hV(i.source)},s);this.scheduleNavigation(a,ds,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}dF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ds,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=N({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(an)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Tn(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Wy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=N(N({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=ES(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return IS(p,n,f,l??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ii(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ds,null,r)}navigate(n,r={skipLocationChange:!1}){return yV(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(Hr(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=N({},gV):r===!1?i=N({},mV):i=r,ii(n))return Xb(this.currentUrlTree,n,i);let o=this.parseUrl(n);return Xb(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let f=this.pendingTasks.add();return Jy(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new U(4008,!1)}var Cs=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=$e(null);get href(){return Tn(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new st;applicationErrorHandler=O(an);options=O(Ts,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(O(new Cd("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof hn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ii(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:ii(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(de(Ds),de(Pn),oc("tabindex"),de(no),de(Bt),de(io))};static \u0275dir=Xr({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&dn("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Id("href",i.reactiveHref(),Lm)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",pc],skipLocationChange:[2,"skipLocationChange","skipLocationChange",pc],replaceUrl:[2,"replaceUrl","replaceUrl",pc],routerLink:"routerLink"},features:[to]})}return t})(),Zy=(()=>{class t{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Et;link=O(Cs,{optional:!0});constructor(n,r,i,o){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.routerEventsSubscription=n.events.subscribe(s=>{s instanceof hn&&this.update()})}ngAfterContentInit(){le(this.links.changes,le(null)).pipe(Fo()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Xe(n).pipe(Fo()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=vV(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||t)(de(Ds),de(Bt),de(no),de(cs))};static \u0275dir=Xr({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&sy(o,Cs,5),r&2){let s;os(s=ss())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[to]})}return t})();function vV(t){return!!t.paths}var QS=new $(""),_V=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ds;restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof oi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof hn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Zn&&n.code===hs.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{if(!(n instanceof gs))return;let r={behavior:"instant"};n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position,r):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(async()=>{await new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new gs(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Zm()};static \u0275prov=V({token:t,factory:t.\u0275fac})}return t})();function Xy(t,...e){return $i([{provide:Vc,multi:!0,useValue:t},[],{provide:Pn,useFactory:EV},{provide:Ed,multi:!0,useFactory:wV},e.map(n=>n.\u0275providers)])}function EV(){return O(Ds).routerState.root}function IV(t,e){return{\u0275kind:t,\u0275providers:e}}function ev(t={}){return IV(4,[{provide:QS,useFactory:()=>{let n=O(zb),r=O(Ut),i=O(Qy),o=O(_s);return new _V(o,i,n,r,t)}}])}function wV(){let t=O(_n);return e=>{let n=t.get(is);if(e!==n.components[0])return;let r=t.get(Ds),i=t.get(TV);t.get(DV)===1&&r.initialNavigation(),t.get(CV,null,{optional:!0})?.setUpPreloading(),t.get(QS,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var TV=new $("",{factory:()=>new st}),DV=new $("",{factory:()=>1});var CV=new $("");function SV(t,e){if(t&1&&Ee(0,"img",2),t&2){let n=Q(2);fe("src",n.data.image,cn)}}function AV(t,e){if(t&1&&(B(0,"h1"),te(1),K()),t&2){let n=Q(2);P(),Pe(n.data.title)}}function RV(t,e){if(t&1&&(B(0,"button",4),te(1),K()),t&2){let n=Q(2);as("disabled",!n.data.interactive),fe("disabled",!n.data.interactive),P(),Pe(n.data.button)}}function NV(t,e){if(t&1&&(B(0,"div",1),se(1,SV,1,1,"img",2),B(2,"div",3),se(3,AV,2,1,"h1"),se(4,RV,2,4,"button",4),K()()),t&2){let n=Q();fe("ngClass",n.data.bannerType),P(),ae(n.data.image!=""?1:-1),P(2),ae(n.data.title!=""?3:-1),P(),ae(n.data.button!=""?4:-1)}}var Xn=class t{data;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["app-banner"]],inputs:{data:"data"},decls:2,vars:1,consts:[[1,"banner-shell"],[1,"banner",3,"ngClass"],[3,"src","alt"],[1,"book-container"],["id","book",3,"disabled"]],template:function(n,r){n&1&&(B(0,"div",0),se(1,NV,5,4,"div",1),K()),n&2&&(P(),ae(r.data?1:-1))},dependencies:[yy],styles:[".banner[_ngcontent-%COMP%]{margin:0 0 1.5rem;width:100%;height:300px;position:relative;display:flex;justify-content:center}.subpage[_ngcontent-%COMP%]{height:200px}h1[_ngcontent-%COMP%]{font-family:Malvie,sans-serif;font-size:6rem;color:#fffaf0}img[_ngcontent-%COMP%]{width:100%;object-fit:cover}.book-container[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;bottom:0;display:flex;flex-direction:column;justify-content:center;align-items:center;background:radial-gradient(black 0%,transparent 30%)}button[_ngcontent-%COMP%]{margin:0;padding:0}#book[_ngcontent-%COMP%]{margin:0;padding:.2rem 3rem 0;width:90%;max-width:450px;display:flex;justify-content:center;align-items:center;background:transparent;color:#fffaf0;font-family:Bebas Neue,sans-serif;font-size:clamp(1rem,3vw,2rem);border:5px solid floralwhite;box-sizing:border-box;transition:all .2s ease-in-out}#book.disabled[_ngcontent-%COMP%]{cursor:default;background:#fffaf0;color:var(--primary);font-size:clamp(3rem,4vw,4rem)}#book[_ngcontent-%COMP%]:not(.disabled):hover{transform:scale(1.1);background:#fffaf0;color:var(--primary);cursor:pointer}"]})};function MV(t,e){if(t&1&&(ye(0,"h2",4),te(1),ve()),t&2){let n=Q(2);P(),Pe(n.data==null?null:n.data.title)}}function xV(t,e){if(t&1&&(ye(0,"p"),te(1),ve()),t&2){let n=Q(2);P(),Pe(n.data==null?null:n.data.content)}}function PV(t,e){if(t&1&&An(0,"img",5),t&2){let n=Q(2);Kn("src",n.data==null?null:n.data.image,cn)}}function OV(t,e){if(t&1&&(ye(0,"div",1),se(1,MV,2,1,"h2",4),se(2,xV,2,1,"p"),se(3,PV,1,1,"img",5),ve()),t&2){let n=Q();P(),ae((n.data==null?null:n.data.title)!=""?1:-1),P(),ae((n.data==null?null:n.data.content)!=""?2:-1),P(),ae((n.data==null?null:n.data.image)!=""?3:-1)}}function kV(t,e){if(t&1&&(ye(0,"p"),te(1),ve()),t&2){let n=Q(2);P(),Pe(n.data==null?null:n.data.content)}}function LV(t,e){if(t&1&&(ye(0,"div",2),se(1,kV,2,1,"p"),ve()),t&2){let n=Q();P(),ae((n.data==null?null:n.data.content)!=""?1:-1)}}function FV(t,e){if(t&1&&(ye(0,"p",4),te(1),ve()),t&2){let n=Q(2);P(),Pe(n.data==null?null:n.data.title)}}function VV(t,e){if(t&1&&(ye(0,"p"),te(1),ve()),t&2){let n=Q(2);P(),Pe(n.data==null?null:n.data.content)}}function jV(t,e){if(t&1&&(ye(0,"div",3),se(1,FV,2,1,"p",4),se(2,VV,2,1,"p"),ve()),t&2){let n=Q();P(),ae((n.data==null?null:n.data.title)!=""?1:-1),P(),ae((n.data==null?null:n.data.content)!=""?2:-1)}}var jc=(r=>(r[r.Primary=0]="Primary",r[r.Secondary=1]="Secondary",r[r.FAQ=2]="FAQ",r))(jc||{}),bs=class t{data;width;InfoType=jc;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["app-info"]],inputs:{data:"data",width:"width"},decls:4,vars:3,consts:[[1,"info-shell"],[1,"info-container","primary"],[1,"info-container","secondary"],[1,"info-container","faq"],[1,"title"],["alt","image",3,"src"]],template:function(n,r){n&1&&(ye(0,"div",0),se(1,OV,4,3,"div",1),se(2,LV,2,1,"div",2),se(3,jV,3,2,"div",3),ve()),n&2&&(P(),ae((r.data==null?null:r.data.type)===r.InfoType.Primary?1:-1),P(),ae((r.data==null?null:r.data.type)===r.InfoType.Secondary?2:-1),P(),ae((r.data==null?null:r.data.type)===r.InfoType.FAQ?3:-1))},styles:[".info-shell[_ngcontent-%COMP%]{display:flex;justify-content:center}.info-container[_ngcontent-%COMP%]{padding:0 1rem 1.25rem;max-width:var(--maxWidth);display:flex;flex-direction:column;align-items:center;gap:1rem}.faq[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start}.faq[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{flex:1;max-width:50%}.faq[_ngcontent-%COMP%]   p.title[_ngcontent-%COMP%]{text-align:right}.faq[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(.title){text-align:left}h2[_ngcontent-%COMP%]{margin:0;font-family:Malvie,sans-serif;font-size:2rem;text-align:center}p[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.25em;text-align:center}.title[_ngcontent-%COMP%]{color:var(--highlight)}img[_ngcontent-%COMP%]{width:100%;max-width:700px;max-height:450px;display:block;object-fit:cover;object-position:top}@media(max-width:850px){.info-container.primary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0 1rem;text-align:left}info-container.secondary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background-color:green}.info-container.faq[_ngcontent-%COMP%]{width:100%}.faq[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.faq[_ngcontent-%COMP%]   p.title[_ngcontent-%COMP%], .faq[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;max-width:calc(100% - 2rem);text-align:left}}"]})};var UV=t=>({title:"FAQ",type:t,content:"",image:""});function BV(t,e){if(t&1&&Ee(0,"app-info",1),t&2){let n=e.$implicit;fe("data",n)}}var hf=class t{bannerData={bannerType:"primary",title:"Taniti",image:"banners/taniti.jpeg",button:"",interactive:!1};aboutData={title:"About the Island",type:0,content:"Taniti is a small, tropical island in the Pacific. While the island has an area of less than 500 square miles, the terrain is varied and includes both sandy and rocky beaches, a small but safe harbor, lush tropical rainforests, and a mountainous interior that includes a small, active volcano. Taniti has an indigenous population of about 20,000. Until a recent increase in tourism, most of the Tanitian economy was dominated by fishing or agriculture",image:""};questionsData=[{title:"What language is spoken on Taniti?",type:2,content:"Many younger Tanitians speak fluent English. Very little English is spoken in rural areas, especially by the older residents.",image:""},{title:"What currency is accepted on Taniti?",type:2,content:"Taniti uses the U.S. dollar as its currency, but many businesses will also accept euros and yen. Several banks facilitate currency exchange, and many businesses accept major credit cards.",image:""},{title:"What power outlets are on the Island?",type:2,content:"Taniti's power outlets are 120 volts (the same as in the United States).",image:""},{title:"Does the island have medical facilities?",type:2,content:"There is one hospital and several clinics. The hospital has many multilingual employees.",image:""},{title:"How bad is the crime on Taniti?",type:2,content:"Violent crime is very rare on Taniti, but as tourism increases, there are more reports of pickpocketing and other petty crimes.",image:""},{title:"What holidays does Taniti observe?",type:2,content:"Taniti enjoys a large number of national holidays, and many tourist attractions and restaurants will be closed on holidays, so visitors should plan accordingly.",image:""}];InfoType=jc;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["app-home"]],decls:6,vars:5,consts:[[3,"data"],[1,"faq",3,"data"]],template:function(n,r){n&1&&(B(0,"div"),Ee(1,"app-banner",0)(2,"app-info",0)(3,"app-info",0),gt(4,BV,1,1,"app-info",1,ln),K()),n&2&&(P(),fe("data",r.bannerData),P(),fe("data",r.aboutData),P(),fe("data",dc(3,UV,r.InfoType.Primary)),P(),mt(r.questionsData))},dependencies:[Xn,bs],encapsulation:2})};var YS=()=>{};var XS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$V=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},e0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[f],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$V(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new rv;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},rv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},HV=function(t){let e=XS(t);return e0.encodeByteArray(e,!0)},Bc=function(t){return HV(t).replace(/\./g,"")},gf=function(t){try{return e0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function t0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var zV=()=>t0().__FIREBASE_DEFAULTS__,qV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&gf(t[1]);return e&&JSON.parse(e)},mf=()=>{try{return YS()||zV()||qV()||GV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ov=t=>mf()?.emulatorHosts?.[t],n0=t=>{let e=ov(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},sv=()=>mf()?.config,av=t=>mf()?.[`_${t}`];var pf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function si(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yf(t){return(await fetch(t,{credentials:"include"})).ok}function r0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=N({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Bc(JSON.stringify(n)),Bc(JSON.stringify(s)),""].join(".")}var Uc={};function WV(){let t={prod:[],emulator:[]};for(let e of Object.keys(Uc))Uc[e]?t.emulator.push(e):t.prod.push(e);return t}function KV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var JS=!1;function vf(t,e){if(typeof window>"u"||typeof document>"u"||!si(window.location.host)||Uc[t]===e||Uc[t]||JS)return;Uc[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=WV().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{JS=!0,s()},m}function f(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=KV(r),y=n("text"),S=document.getElementById(y)||document.createElement("span"),A=n("learnmore"),R=document.getElementById(A)||document.createElement("a"),L=n("preprendIcon"),re=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let pe=m.element;a(pe),f(R,A);let Dt=l();u(re,L),pe.append(re,S,R,Dt),document.body.appendChild(pe)}o?(S.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function i0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function QV(){let t=mf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function s0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function a0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function c0(){let t=lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function u0(){return!QV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cv(){try{return typeof indexedDB=="object"}catch{return!1}}function l0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}var YV="FirebaseError",Zt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ir.prototype.create)}},Ir=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?JV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Zt(i,a,r)}};function JV(t,e){return t.replace(ZV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var ZV=/\{\$([^}]+)}/g;function d0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function er(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(ZS(o)&&ZS(s)){if(!er(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function ZS(t){return t!==null&&typeof t=="object"}function $c(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function f0(t,e){let n=new iv(t,e);return n.subscribe.bind(n)}var iv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");XV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=nv),i.error===void 0&&(i.error=nv),i.complete===void 0&&(i.complete=nv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function XV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nv(){}var rX=14400*1e3;function Xt(t){return t&&t._delegate?t._delegate:t}var pn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var fo="[DEFAULT]";var uv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new pf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){let n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(t2(e))try{this.getOrInitializeService({instanceIdentifier:fo})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fo){return this.instances.has(e)}getOptions(e=fo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){let r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:e2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fo){return this.component?this.component.multipleInstances?e:fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function e2(t){return t===fo?void 0:t}function t2(t){return t.instantiationMode==="EAGER"}var _f=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new uv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var n2=[],he=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(he||{}),r2={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},i2=he.INFO,o2={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},s2=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=o2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ai=class{constructor(e){this.name=e,this._logLevel=i2,this._logHandler=s2,this._userLogHandler=null,n2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}};var a2=(t,e)=>e.some(n=>t instanceof n),h0,p0;function c2(){return h0||(h0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u2(){return p0||(p0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var g0=new WeakMap,dv=new WeakMap,m0=new WeakMap,lv=new WeakMap,hv=new WeakMap;function l2(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(tr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&g0.set(n,t)}).catch(()=>{}),hv.set(e,t),e}function d2(t){if(dv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});dv.set(t,e)}var fv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||m0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function y0(t){fv=t(fv)}function f2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ef(this),e,...n);return m0.set(r,e.sort?e.sort():[e]),tr(r)}:u2().includes(t)?function(...e){return t.apply(Ef(this),e),tr(g0.get(this))}:function(...e){return tr(t.apply(Ef(this),e))}}function h2(t){return typeof t=="function"?f2(t):(t instanceof IDBTransaction&&d2(t),a2(t,c2())?new Proxy(t,fv):t)}function tr(t){if(t instanceof IDBRequest)return l2(t);if(lv.has(t))return lv.get(t);let e=h2(t);return e!==t&&(lv.set(t,e),hv.set(e,t)),e}var Ef=t=>hv.get(t);function _0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=tr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(tr(s.result),u.oldVersion,u.newVersion,tr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var p2=["get","getKey","getAll","getAllKeys","count"],g2=["put","add","delete","clear"],pv=new Map;function v0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pv.get(e))return pv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=g2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||p2.includes(n)))return;let o=async function(s,...a){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return pv.set(e,o),o}y0(t=>ie(N({},t),{get:(e,n,r)=>v0(e,n)||t.get(e,n,r),has:(e,n)=>!!v0(e,n)||t.has(e,n)}));var mv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(m2(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function m2(t){return t.getComponent()?.type==="VERSION"}var yv="@firebase/app",E0="0.14.6";var wr=new ai("@firebase/app"),y2="@firebase/app-compat",v2="@firebase/analytics-compat",_2="@firebase/analytics",E2="@firebase/app-check-compat",I2="@firebase/app-check",w2="@firebase/auth",T2="@firebase/auth-compat",D2="@firebase/database",C2="@firebase/data-connect",b2="@firebase/database-compat",S2="@firebase/functions",A2="@firebase/functions-compat",R2="@firebase/installations",N2="@firebase/installations-compat",M2="@firebase/messaging",x2="@firebase/messaging-compat",P2="@firebase/performance",O2="@firebase/performance-compat",k2="@firebase/remote-config",L2="@firebase/remote-config-compat",F2="@firebase/storage",V2="@firebase/storage-compat",j2="@firebase/firestore",U2="@firebase/ai",B2="@firebase/firestore-compat",$2="firebase",H2="12.6.0";var vv="[DEFAULT]",z2={[yv]:"fire-core",[y2]:"fire-core-compat",[_2]:"fire-analytics",[v2]:"fire-analytics-compat",[I2]:"fire-app-check",[E2]:"fire-app-check-compat",[w2]:"fire-auth",[T2]:"fire-auth-compat",[D2]:"fire-rtdb",[C2]:"fire-data-connect",[b2]:"fire-rtdb-compat",[S2]:"fire-fn",[A2]:"fire-fn-compat",[R2]:"fire-iid",[N2]:"fire-iid-compat",[M2]:"fire-fcm",[x2]:"fire-fcm-compat",[P2]:"fire-perf",[O2]:"fire-perf-compat",[k2]:"fire-rc",[L2]:"fire-rc-compat",[F2]:"fire-gcs",[V2]:"fire-gcs-compat",[j2]:"fire-fst",[B2]:"fire-fst-compat",[U2]:"fire-vertex","fire-js":"fire-js",[$2]:"fire-js-all"};var If=new Map,q2=new Map,_v=new Map;function I0(t,e){try{t.container.addComponent(e)}catch(n){wr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ui(t){let e=t.name;if(_v.has(e))return wr.debug(`There were multiple attempts to register component ${e}.`),!1;_v.set(e,t);for(let n of If.values())I0(n,t);for(let n of q2.values())I0(n,t);return!0}function zc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function en(t){return t==null?!1:t.settings!==void 0}var G2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ci=new Ir("app","Firebase",G2);var Ev=class{constructor(e,n,r){this._isDeleted=!1,this._options=N({},e),this._config=N({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}};var li=H2;function Tv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=N({name:vv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ci.create("bad-app-name",{appName:String(i)});if(n||(n=sv()),!n)throw ci.create("no-options");let o=If.get(i);if(o){if(er(n,o.options)&&er(r,o.config))return o;throw ci.create("duplicate-app",{appName:i})}let s=new _f(i);for(let u of _v.values())s.addComponent(u);let a=new Ev(n,r,s);return If.set(i,a),a}function wf(t=vv){let e=If.get(t);if(!e&&t===vv&&sv())return Tv();if(!e)throw ci.create("no-app",{appName:t});return e}function On(t,e,n){let r=z2[t]??t;n&&(r+=`-${n}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wr.warn(s.join(" "));return}ui(new pn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var W2="firebase-heartbeat-database",K2=1,Hc="firebase-heartbeat-store",gv=null;function C0(){return gv||(gv=_0(W2,K2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ci.create("idb-open",{originalErrorMessage:t.message})})),gv}async function Q2(t){try{let n=(await C0()).transaction(Hc),r=await n.objectStore(Hc).get(b0(t));return await n.done,r}catch(e){if(e instanceof Zt)wr.warn(e.message);else{let n=ci.create("idb-get",{originalErrorMessage:e?.message});wr.warn(n.message)}}}async function w0(t,e){try{let r=(await C0()).transaction(Hc,"readwrite");await r.objectStore(Hc).put(e,b0(t)),await r.done}catch(n){if(n instanceof Zt)wr.warn(n.message);else{let r=ci.create("idb-set",{originalErrorMessage:n?.message});wr.warn(r.message)}}}function b0(t){return`${t.name}!${t.options.appId}`}var Y2=1024,J2=30,Iv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new wv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=T0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>J2){let i=X2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){wr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=T0(),{heartbeatsToSend:n,unsentEntries:r}=Z2(this._heartbeatsCache.heartbeats),i=Bc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return wr.warn(e),""}}};function T0(){return new Date().toISOString().substring(0,10)}function Z2(t,e=Y2){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),D0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),D0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var wv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cv()?l0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await Q2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return w0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return w0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function D0(t){return Bc(JSON.stringify({version:2,heartbeats:t})).length}function X2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function ej(t){ui(new pn("platform-logger",e=>new mv(e),"PRIVATE")),ui(new pn("heartbeat",e=>new Iv(e),"PRIVATE")),On(yv,E0,t),On(yv,E0,"esm2020"),On("fire-js","")}ej("");var S0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},A0={};var Tr,Dv;(function(){var t;function e(w,v){function E(){}E.prototype=v.prototype,w.F=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.D=function(T,I,C){for(var _=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)_[kt-2]=arguments[kt];return v.prototype[I].apply(T,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);let T=Array(16);if(typeof v=="string")for(var I=0;I<16;++I)T[I]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(I=0;I<16;++I)T[I]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],I=w.g[2];let C=w.g[3],_;_=v+(C^E&(I^C))+T[0]+3614090360&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(I^v&(E^I))+T[1]+3905402710&4294967295,C=v+(_<<12&4294967295|_>>>20),_=I+(E^C&(v^E))+T[2]+606105819&4294967295,I=C+(_<<17&4294967295|_>>>15),_=E+(v^I&(C^v))+T[3]+3250441966&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(C^E&(I^C))+T[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(I^v&(E^I))+T[5]+1200080426&4294967295,C=v+(_<<12&4294967295|_>>>20),_=I+(E^C&(v^E))+T[6]+2821735955&4294967295,I=C+(_<<17&4294967295|_>>>15),_=E+(v^I&(C^v))+T[7]+4249261313&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(C^E&(I^C))+T[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(I^v&(E^I))+T[9]+2336552879&4294967295,C=v+(_<<12&4294967295|_>>>20),_=I+(E^C&(v^E))+T[10]+4294925233&4294967295,I=C+(_<<17&4294967295|_>>>15),_=E+(v^I&(C^v))+T[11]+2304563134&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(C^E&(I^C))+T[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(I^v&(E^I))+T[13]+4254626195&4294967295,C=v+(_<<12&4294967295|_>>>20),_=I+(E^C&(v^E))+T[14]+2792965006&4294967295,I=C+(_<<17&4294967295|_>>>15),_=E+(v^I&(C^v))+T[15]+1236535329&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(I^C&(E^I))+T[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^I&(v^E))+T[6]+3225465664&4294967295,C=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(C^v))+T[11]+643717713&4294967295,I=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(I^C))+T[0]+3921069994&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(I^C&(E^I))+T[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^I&(v^E))+T[10]+38016083&4294967295,C=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(C^v))+T[15]+3634488961&4294967295,I=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(I^C))+T[4]+3889429448&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(I^C&(E^I))+T[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^I&(v^E))+T[14]+3275163606&4294967295,C=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(C^v))+T[3]+4107603335&4294967295,I=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(I^C))+T[8]+1163531501&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(I^C&(E^I))+T[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^I&(v^E))+T[2]+4243563512&4294967295,C=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(C^v))+T[7]+1735328473&4294967295,I=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(I^C))+T[12]+2368359562&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(E^I^C)+T[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^I)+T[8]+2272392833&4294967295,C=v+(_<<11&4294967295|_>>>21),_=I+(C^v^E)+T[11]+1839030562&4294967295,I=C+(_<<16&4294967295|_>>>16),_=E+(I^C^v)+T[14]+4259657740&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(E^I^C)+T[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^I)+T[4]+1272893353&4294967295,C=v+(_<<11&4294967295|_>>>21),_=I+(C^v^E)+T[7]+4139469664&4294967295,I=C+(_<<16&4294967295|_>>>16),_=E+(I^C^v)+T[10]+3200236656&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(E^I^C)+T[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^I)+T[0]+3936430074&4294967295,C=v+(_<<11&4294967295|_>>>21),_=I+(C^v^E)+T[3]+3572445317&4294967295,I=C+(_<<16&4294967295|_>>>16),_=E+(I^C^v)+T[6]+76029189&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(E^I^C)+T[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^I)+T[12]+3873151461&4294967295,C=v+(_<<11&4294967295|_>>>21),_=I+(C^v^E)+T[15]+530742520&4294967295,I=C+(_<<16&4294967295|_>>>16),_=E+(I^C^v)+T[2]+3299628645&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(I^(E|~C))+T[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~I))+T[7]+1126891415&4294967295,C=v+(_<<10&4294967295|_>>>22),_=I+(v^(C|~E))+T[14]+2878612391&4294967295,I=C+(_<<15&4294967295|_>>>17),_=E+(C^(I|~v))+T[5]+4237533241&4294967295,E=I+(_<<21&4294967295|_>>>11),_=v+(I^(E|~C))+T[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~I))+T[3]+2399980690&4294967295,C=v+(_<<10&4294967295|_>>>22),_=I+(v^(C|~E))+T[10]+4293915773&4294967295,I=C+(_<<15&4294967295|_>>>17),_=E+(C^(I|~v))+T[1]+2240044497&4294967295,E=I+(_<<21&4294967295|_>>>11),_=v+(I^(E|~C))+T[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~I))+T[15]+4264355552&4294967295,C=v+(_<<10&4294967295|_>>>22),_=I+(v^(C|~E))+T[6]+2734768916&4294967295,I=C+(_<<15&4294967295|_>>>17),_=E+(C^(I|~v))+T[13]+1309151649&4294967295,E=I+(_<<21&4294967295|_>>>11),_=v+(I^(E|~C))+T[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~I))+T[11]+3174756917&4294967295,C=v+(_<<10&4294967295|_>>>22),_=I+(v^(C|~E))+T[2]+718787259&4294967295,I=C+(_<<15&4294967295|_>>>17),_=E+(C^(I|~v))+T[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(I+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+I&4294967295,w.g[3]=w.g[3]+C&4294967295}r.prototype.v=function(w,v){v===void 0&&(v=w.length);let E=v-this.blockSize,T=this.C,I=this.h,C=0;for(;C<v;){if(I==0)for(;C<=E;)i(this,w,C),C+=this.blockSize;if(typeof w=="string"){for(;C<v;)if(T[I++]=w.charCodeAt(C++),I==this.blockSize){i(this,T),I=0;break}}else for(;C<v;)if(T[I++]=w[C++],I==this.blockSize){i(this,T),I=0;break}}this.h=I,this.o+=v},r.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;v=this.o*8;for(var E=w.length-8;E<w.length;++E)w[E]=v&255,v/=256;for(this.v(w),w=Array(16),v=0,E=0;E<4;++E)for(let T=0;T<32;T+=8)w[v++]=this.g[E]>>>T&255;return w};function o(w,v){var E=a;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function s(w,v){this.h=v;let E=[],T=!0;for(let I=w.length-1;I>=0;I--){let C=w[I]|0;T&&C==v||(E[I]=C,T=!1)}this.g=E}var a={};function u(w){return-128<=w&&w<128?o(w,function(v){return new s([v|0],v<0?-1:0)}):new s([w|0],w<0?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(w<0)return R(l(-w));let v=[],E=1;for(let T=0;w>=E;T++)v[T]=w/E|0,E*=4294967296;return new s(v,0)}function f(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return R(f(w.substring(1),v));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');let E=l(Math.pow(v,8)),T=p;for(let C=0;C<w.length;C+=8){var I=Math.min(8,w.length-C);let _=parseInt(w.substring(C,C+I),v);I<8?(I=l(Math.pow(v,I)),T=T.j(I).add(l(_))):(T=T.j(E),T=T.add(l(_)))}return T}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(A(this))return-R(this).m();let w=0,v=1;for(let E=0;E<this.g.length;E++){let T=this.i(E);w+=(T>=0?T:4294967296+T)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(S(this))return"0";if(A(this))return"-"+R(this).toString(w);let v=l(Math.pow(w,6));var E=this;let T="";for(;;){let I=Dt(E,v).g;E=L(E,I.j(v));let C=((E.g.length>0?E.g[0]:E.h)>>>0).toString(w);if(E=I,S(E))return C+T;for(;C.length<6;)C="0"+C;T=C+T}},t.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function S(w){if(w.h!=0)return!1;for(let v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function A(w){return w.h==-1}t.l=function(w){return w=L(this,w),A(w)?-1:S(w)?0:1};function R(w){let v=w.g.length,E=[];for(let T=0;T<v;T++)E[T]=~w.g[T];return new s(E,~w.h).add(m)}t.abs=function(){return A(this)?R(this):this},t.add=function(w){let v=Math.max(this.g.length,w.g.length),E=[],T=0;for(let I=0;I<=v;I++){let C=T+(this.i(I)&65535)+(w.i(I)&65535),_=(C>>>16)+(this.i(I)>>>16)+(w.i(I)>>>16);T=_>>>16,C&=65535,_&=65535,E[I]=_<<16|C}return new s(E,E[E.length-1]&-2147483648?-1:0)};function L(w,v){return w.add(R(v))}t.j=function(w){if(S(this)||S(w))return p;if(A(this))return A(w)?R(this).j(R(w)):R(R(this).j(w));if(A(w))return R(this.j(R(w)));if(this.l(y)<0&&w.l(y)<0)return l(this.m()*w.m());let v=this.g.length+w.g.length,E=[];for(var T=0;T<2*v;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(let I=0;I<w.g.length;I++){let C=this.i(T)>>>16,_=this.i(T)&65535,kt=w.i(I)>>>16,Pr=w.i(I)&65535;E[2*T+2*I]+=_*Pr,re(E,2*T+2*I),E[2*T+2*I+1]+=C*Pr,re(E,2*T+2*I+1),E[2*T+2*I+1]+=_*kt,re(E,2*T+2*I+1),E[2*T+2*I+2]+=C*kt,re(E,2*T+2*I+2)}for(w=0;w<v;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=v;w<2*v;w++)E[w]=0;return new s(E,0)};function re(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function pe(w,v){this.g=w,this.h=v}function Dt(w,v){if(S(v))throw Error("division by zero");if(S(w))return new pe(p,p);if(A(w))return v=Dt(R(w),v),new pe(R(v.g),R(v.h));if(A(v))return v=Dt(w,R(v)),new pe(R(v.g),v.h);if(w.g.length>30){if(A(w)||A(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,T=v;T.l(w)<=0;)E=Ot(E),T=Ot(T);var I=it(E,1),C=it(T,1);for(T=it(T,2),E=it(E,2);!S(T);){var _=C.add(T);_.l(w)<=0&&(I=I.add(E),C=_),T=it(T,1),E=it(E,1)}return v=L(w,I.j(v)),new pe(I,v)}for(I=p;w.l(v)>=0;){for(E=Math.max(1,Math.floor(w.m()/v.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=T<=48?1:Math.pow(2,T-48),C=l(E),_=C.j(v);A(_)||_.l(w)>0;)E-=T,C=l(E),_=C.j(v);S(C)&&(C=m),I=I.add(C),w=L(w,_)}return new pe(I,w)}t.B=function(w){return Dt(this,w).h},t.and=function(w){let v=Math.max(this.g.length,w.g.length),E=[];for(let T=0;T<v;T++)E[T]=this.i(T)&w.i(T);return new s(E,this.h&w.h)},t.or=function(w){let v=Math.max(this.g.length,w.g.length),E=[];for(let T=0;T<v;T++)E[T]=this.i(T)|w.i(T);return new s(E,this.h|w.h)},t.xor=function(w){let v=Math.max(this.g.length,w.g.length),E=[];for(let T=0;T<v;T++)E[T]=this.i(T)^w.i(T);return new s(E,this.h^w.h)};function Ot(w){let v=w.g.length+1,E=[];for(let T=0;T<v;T++)E[T]=w.i(T)<<1|w.i(T-1)>>>31;return new s(E,w.h)}function it(w,v){let E=v>>5;v%=32;let T=w.g.length-E,I=[];for(let C=0;C<T;C++)I[C]=v>0?w.i(C+E)>>>v|w.i(C+E+1)<<32-v:w.i(C+E);return new s(I,w.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Dv=A0.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,Tr=A0.Integer=s}).apply(typeof S0<"u"?S0:typeof self<"u"?self:typeof window<"u"?window:{});var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dr={};var Cv,tj,Ss,bv,qc,Df,Sv,Av,Rv;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tf=="object"&&Tf];for(var d=0;d<c.length;++d){var h=c[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var h=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var D=c[g];if(!(D in h))break e;h=h[D]}c=c[c.length-1],g=h[c],d=d(g),d!=g&&d!=null&&e(h,c,{configurable:!0,writable:!0,value:d})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(d){var h=[],g;for(g in d)Object.prototype.hasOwnProperty.call(d,g)&&h.push([g,d[g]]);return h}});var o=o||{},s=this||self;function a(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function u(c,d,h){return c.call.apply(c.bind,arguments)}function l(c,d,h){return l=u,l.apply(null,arguments)}function f(c,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function p(c,d){function h(){}h.prototype=d.prototype,c.Z=d.prototype,c.prototype=new h,c.prototype.constructor=c,c.Ob=function(g,D,b){for(var k=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)k[oe-2]=arguments[oe];return d.prototype[D].apply(g,k)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function y(c){let d=c.length;if(d>0){let h=Array(d);for(let g=0;g<d;g++)h[g]=c[g];return h}return[]}function S(c,d){for(let g=1;g<arguments.length;g++){let D=arguments[g];var h=typeof D;if(h=h!="object"?h:D?Array.isArray(D)?"array":h:"null",h=="array"||h=="object"&&typeof D.length=="number"){h=c.length||0;let b=D.length||0;c.length=h+b;for(let k=0;k<b;k++)c[h+k]=D[k]}else c.push(D)}}class A{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function R(c){s.setTimeout(()=>{throw c},0)}function L(){var c=w;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class re{constructor(){this.h=this.g=null}add(d,h){let g=pe.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var pe=new A(()=>new Dt,c=>c.reset());class Dt{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Ot,it=!1,w=new re,v=()=>{let c=Promise.resolve(void 0);Ot=()=>{c.then(E)}};function E(){for(var c;c=L();){try{c.h.call(c.g)}catch(h){R(h)}var d=pe;d.j(c),d.h<100&&(d.h++,c.next=d.g,d.g=c)}it=!1}function T(){this.u=this.u,this.C=this.C}T.prototype.u=!1,T.prototype.dispose=function(){this.u||(this.u=!0,this.N())},T.prototype[Symbol.dispose]=function(){this.dispose()},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var C=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let h=()=>{};s.addEventListener("test",h,d),s.removeEventListener("test",h,d)}catch{}return c})();function _(c){return/^[\s\xa0]*$/.test(c)}function kt(c,d){I.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,d)}p(kt,I),kt.prototype.init=function(c,d){let h=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget,d||(h=="mouseover"?d=c.fromElement:h=="mouseout"&&(d=c.toElement)),this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&kt.Z.h.call(this)},kt.prototype.h=function(){kt.Z.h.call(this);let c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Pr="closure_listenable_"+(Math.random()*1e6|0),ZN=0;function XN(c,d,h,g,D){this.listener=c,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=D,this.key=++ZN,this.da=this.fa=!1}function _u(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Eu(c,d,h){for(let g in c)d.call(h,c[g],g,c)}function eM(c,d){for(let h in c)d.call(void 0,c[h],h,c)}function _I(c){let d={};for(let h in c)d[h]=c[h];return d}let EI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function II(c,d){let h,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(h in g)c[h]=g[h];for(let b=0;b<EI.length;b++)h=EI[b],Object.prototype.hasOwnProperty.call(g,h)&&(c[h]=g[h])}}function Iu(c){this.src=c,this.g={},this.h=0}Iu.prototype.add=function(c,d,h,g,D){let b=c.toString();c=this.g[b],c||(c=this.g[b]=[],this.h++);let k=Kh(c,d,g,D);return k>-1?(d=c[k],h||(d.fa=!1)):(d=new XN(d,this.src,b,!!g,D),d.fa=h,c.push(d)),d};function Wh(c,d){let h=d.type;if(h in c.g){var g=c.g[h],D=Array.prototype.indexOf.call(g,d,void 0),b;(b=D>=0)&&Array.prototype.splice.call(g,D,1),b&&(_u(d),c.g[h].length==0&&(delete c.g[h],c.h--))}}function Kh(c,d,h,g){for(let D=0;D<c.length;++D){let b=c[D];if(!b.da&&b.listener==d&&b.capture==!!h&&b.ha==g)return D}return-1}var Qh="closure_lm_"+(Math.random()*1e6|0),Yh={};function wI(c,d,h,g,D){if(g&&g.once)return DI(c,d,h,g,D);if(Array.isArray(d)){for(let b=0;b<d.length;b++)wI(c,d[b],h,g,D);return null}return h=ep(h),c&&c[Pr]?c.J(d,h,a(g)?!!g.capture:!!g,D):TI(c,d,h,!1,g,D)}function TI(c,d,h,g,D,b){if(!d)throw Error("Invalid event type");let k=a(D)?!!D.capture:!!D,oe=Zh(c);if(oe||(c[Qh]=oe=new Iu(c)),h=oe.add(d,h,g,k,b),h.proxy)return h;if(g=tM(),h.proxy=g,g.src=c,g.listener=h,c.addEventListener)C||(D=k),D===void 0&&(D=!1),c.addEventListener(d.toString(),g,D);else if(c.attachEvent)c.attachEvent(bI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function tM(){function c(h){return d.call(c.src,c.listener,h)}let d=nM;return c}function DI(c,d,h,g,D){if(Array.isArray(d)){for(let b=0;b<d.length;b++)DI(c,d[b],h,g,D);return null}return h=ep(h),c&&c[Pr]?c.K(d,h,a(g)?!!g.capture:!!g,D):TI(c,d,h,!0,g,D)}function CI(c,d,h,g,D){if(Array.isArray(d))for(var b=0;b<d.length;b++)CI(c,d[b],h,g,D);else g=a(g)?!!g.capture:!!g,h=ep(h),c&&c[Pr]?(c=c.i,b=String(d).toString(),b in c.g&&(d=c.g[b],h=Kh(d,h,g,D),h>-1&&(_u(d[h]),Array.prototype.splice.call(d,h,1),d.length==0&&(delete c.g[b],c.h--)))):c&&(c=Zh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Kh(d,h,g,D)),(h=c>-1?d[c]:null)&&Jh(h))}function Jh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Pr])Wh(d.i,c);else{var h=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(h,g,c.capture):d.detachEvent?d.detachEvent(bI(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=Zh(d))?(Wh(h,c),h.h==0&&(h.src=null,d[Qh]=null)):_u(c)}}}function bI(c){return c in Yh?Yh[c]:Yh[c]="on"+c}function nM(c,d){if(c.da)c=!0;else{d=new kt(d,this);let h=c.listener,g=c.ha||c.src;c.fa&&Jh(c),c=h.call(g,d)}return c}function Zh(c){return c=c[Qh],c instanceof Iu?c:null}var Xh="__closure_events_fn_"+(Math.random()*1e9>>>0);function ep(c){return typeof c=="function"?c:(c[Xh]||(c[Xh]=function(d){return c.handleEvent(d)}),c[Xh])}function yt(){T.call(this),this.i=new Iu(this),this.M=this,this.G=null}p(yt,T),yt.prototype[Pr]=!0,yt.prototype.removeEventListener=function(c,d,h,g){CI(this,c,d,h,g)};function Ct(c,d){var h,g=c.G;if(g)for(h=[];g;g=g.G)h.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new I(d,c);else if(d instanceof I)d.target=d.target||c;else{var D=d;d=new I(g,c),II(d,D)}D=!0;let b,k;if(h)for(k=h.length-1;k>=0;k--)b=d.g=h[k],D=wu(b,g,!0,d)&&D;if(b=d.g=c,D=wu(b,g,!0,d)&&D,D=wu(b,g,!1,d)&&D,h)for(k=0;k<h.length;k++)b=d.g=h[k],D=wu(b,g,!1,d)&&D}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var c=this.i;for(let d in c.g){let h=c.g[d];for(let g=0;g<h.length;g++)_u(h[g]);delete c.g[d],c.h--}}this.G=null},yt.prototype.J=function(c,d,h,g){return this.i.add(String(c),d,!1,h,g)},yt.prototype.K=function(c,d,h,g){return this.i.add(String(c),d,!0,h,g)};function wu(c,d,h,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();let D=!0;for(let b=0;b<d.length;++b){let k=d[b];if(k&&!k.da&&k.capture==h){let oe=k.listener,Ze=k.ha||k.src;k.fa&&Wh(c.i,k),D=oe.call(Ze,g)!==!1&&D}}return D&&!g.defaultPrevented}function rM(c,d){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=l(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:s.setTimeout(c,d||0)}function SI(c){c.g=rM(()=>{c.g=null,c.i&&(c.i=!1,SI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class iM extends T{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:SI(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oa(c){T.call(this),this.h=c,this.g={}}p(oa,T);var AI=[];function RI(c){Eu(c.g,function(d,h){this.g.hasOwnProperty(h)&&Jh(d)},c),c.g={}}oa.prototype.N=function(){oa.Z.N.call(this),RI(this)},oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tp=s.JSON.stringify,oM=s.JSON.parse,sM=class{stringify(c){return s.JSON.stringify(c,void 0)}parse(c){return s.JSON.parse(c,void 0)}};function NI(){}function MI(){}var sa={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function np(){I.call(this,"d")}p(np,I);function rp(){I.call(this,"c")}p(rp,I);var Si={},xI=null;function Tu(){return xI=xI||new yt}Si.Ia="serverreachability";function PI(c){I.call(this,Si.Ia,c)}p(PI,I);function aa(c){let d=Tu();Ct(d,new PI(d))}Si.STAT_EVENT="statevent";function OI(c,d){I.call(this,Si.STAT_EVENT,c),this.stat=d}p(OI,I);function bt(c){let d=Tu();Ct(d,new OI(d,c))}Si.Ja="timingevent";function kI(c,d){I.call(this,Si.Ja,c),this.size=d}p(kI,I);function ca(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){c()},d)}function ua(){this.g=!0}ua.prototype.ua=function(){this.g=!1};function aM(c,d,h,g,D,b){c.info(function(){if(c.g)if(b){var k="",oe=b.split("&");for(let xe=0;xe<oe.length;xe++){var Ze=oe[xe].split("=");if(Ze.length>1){let ot=Ze[0];Ze=Ze[1];let Vn=ot.split("_");k=Vn.length>=2&&Vn[1]=="type"?k+(ot+"="+Ze+"&"):k+(ot+"=redacted&")}}}else k=null;else k=b;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+h+`
`+k})}function cM(c,d,h,g,D,b,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+h+`
`+b+" "+k})}function Ao(c,d,h,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+lM(c,h)+(g?" "+g:"")})}function uM(c,d){c.info(function(){return"TIMEOUT: "+d})}ua.prototype.info=function(){};function lM(c,d){if(!c.g)return d;if(!d)return null;try{let b=JSON.parse(d);if(b){for(c=0;c<b.length;c++)if(Array.isArray(b[c])){var h=b[c];if(!(h.length<2)){var g=h[1];if(Array.isArray(g)&&!(g.length<1)){var D=g[0];if(D!="noop"&&D!="stop"&&D!="close")for(let k=1;k<g.length;k++)g[k]=""}}}}return tp(b)}catch{return d}}var Du={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},LI={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},FI;function ip(){}p(ip,NI),ip.prototype.g=function(){return new XMLHttpRequest},FI=new ip;function la(c){return encodeURIComponent(String(c))}function dM(c){var d=1;c=c.split(":");let h=[];for(;d>0&&c.length;)h.push(c.shift()),d--;return c.length&&h.push(c.join(":")),h}function Or(c,d,h,g){this.j=c,this.i=d,this.l=h,this.S=g||1,this.V=new oa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new VI}function VI(){this.i=null,this.g="",this.h=!1}var jI={},op={};function sp(c,d,h){c.M=1,c.A=bu(Fn(d)),c.u=h,c.R=!0,UI(c,null)}function UI(c,d){c.F=Date.now(),Cu(c),c.B=Fn(c.A);var h=c.B,g=c.S;Array.isArray(g)||(g=[String(g)]),XI(h.i,"t",g),c.C=0,h=c.j.L,c.h=new VI,c.g=yw(c.j,h?d:null,!c.u),c.P>0&&(c.O=new iM(l(c.Y,c,c.g),c.P)),d=c.V,h=c.g,g=c.ba;var D="readystatechange";Array.isArray(D)||(D&&(AI[0]=D.toString()),D=AI);for(let b=0;b<D.length;b++){let k=wI(h,D[b],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.J?_I(c.J):{},c.u?(c.v||(c.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,d)):(c.v="GET",c.g.ea(c.B,c.v,null,d)),aa(),aM(c.i,c.v,c.B,c.l,c.S,c.u)}Or.prototype.ba=function(c){c=c.target;let d=this.O;d&&Fr(c)==3?d.j():this.Y(c)},Or.prototype.Y=function(c){try{if(c==this.g)e:{let oe=Fr(this.g),Ze=this.g.ya(),xe=this.g.ca();if(!(oe<3)&&(oe!=3||this.g&&(this.h.h||this.g.la()||sw(this.g)))){this.K||oe!=4||Ze==7||(Ze==8||xe<=0?aa(3):aa(2)),ap(this);var d=this.g.ca();this.X=d;var h=fM(this);if(this.o=d==200,cM(this.i,this.v,this.B,this.l,this.S,oe,d),this.o){if(this.U&&!this.L){t:{if(this.g){var g,D=this.g;if((g=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(g)){var b=g;break t}}b=null}if(c=b)Ao(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,cp(this,c);else{this.o=!1,this.m=3,bt(12),Ai(this),da(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<h.length;)if(ot=hM(this,h),ot==op){oe==4&&(this.m=4,bt(14),c=!1),Ao(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==jI){this.m=4,bt(15),Ao(this.i,this.l,h,"[Invalid Chunk]"),c=!1;break}else Ao(this.i,this.l,ot,null),cp(this,ot);if(BI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),oe!=4||h.length!=0||this.h.h||(this.m=1,bt(16),c=!1),this.o=this.o&&c,!c)Ao(this.i,this.l,h,"[Invalid Chunked Response]"),Ai(this),da(this);else if(h.length>0&&!this.W){this.W=!0;var k=this.j;k.g==this&&k.aa&&!k.P&&(k.j.info("Great, no buffering proxy detected. Bytes received: "+h.length),gp(k),k.P=!0,bt(11))}}else Ao(this.i,this.l,h,null),cp(this,h);oe==4&&Ai(this),this.o&&!this.K&&(oe==4?hw(this.j,this):(this.o=!1,Cu(this)))}else SM(this.g),d==400&&h.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),Ai(this),da(this)}}}catch{}finally{}};function fM(c){if(!BI(c))return c.g.la();let d=sw(c.g);if(d==="")return"";let h="",g=d.length,D=Fr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Ai(c),da(c),"";c.h.i=new s.TextDecoder}for(let b=0;b<g;b++)c.h.h=!0,h+=c.h.i.decode(d[b],{stream:!(D&&b==g-1)});return d.length=0,c.h.g+=h,c.C=0,c.h.g}function BI(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function hM(c,d){var h=c.C,g=d.indexOf(`
`,h);return g==-1?op:(h=Number(d.substring(h,g)),isNaN(h)?jI:(g+=1,g+h>d.length?op:(d=d.slice(g,g+h),c.C=g+h,d)))}Or.prototype.cancel=function(){this.K=!0,Ai(this)};function Cu(c){c.T=Date.now()+c.H,$I(c,c.H)}function $I(c,d){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ca(l(c.aa,c),d)}function ap(c){c.D&&(s.clearTimeout(c.D),c.D=null)}Or.prototype.aa=function(){this.D=null;let c=Date.now();c-this.T>=0?(uM(this.i,this.B),this.M!=2&&(aa(),bt(17)),Ai(this),this.m=2,da(this)):$I(this,this.T-c)};function da(c){c.j.I==0||c.K||hw(c.j,c)}function Ai(c){ap(c);var d=c.O;d&&typeof d.dispose=="function"&&d.dispose(),c.O=null,RI(c.V),c.g&&(d=c.g,c.g=null,d.abort(),d.dispose())}function cp(c,d){try{var h=c.j;if(h.I!=0&&(h.g==c||up(h.h,c))){if(!c.L&&up(h.h,c)&&h.I==3){try{var g=h.Ba.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!h.v){if(h.g)if(h.g.F+3e3<c.F)xu(h),Nu(h);else break e;pp(h),bt(18)}}else h.xa=D[1],0<h.xa-h.K&&D[2]<37500&&h.F&&h.A==0&&!h.C&&(h.C=ca(l(h.Va,h),6e3));qI(h.h)<=1&&h.ta&&(h.ta=void 0)}else Ni(h,11)}else if((c.L||h.g==c)&&xu(h),!_(d))for(D=h.Ba.g.parse(d),d=0;d<D.length;d++){let xe=D[d],ot=xe[0];if(!(ot<=h.K))if(h.K=ot,xe=xe[1],h.I==2)if(xe[0]=="c"){h.M=xe[1],h.ba=xe[2];let Vn=xe[3];Vn!=null&&(h.ka=Vn,h.j.info("VER="+h.ka));let Mi=xe[4];Mi!=null&&(h.za=Mi,h.j.info("SVER="+h.za));let Vr=xe[5];Vr!=null&&typeof Vr=="number"&&Vr>0&&(g=1.5*Vr,h.O=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let jr=c.g;if(jr){let Ou=jr.g?jr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ou){var b=g.h;b.g||Ou.indexOf("spdy")==-1&&Ou.indexOf("quic")==-1&&Ou.indexOf("h2")==-1||(b.j=b.l,b.g=new Set,b.h&&(lp(b,b.h),b.h=null))}if(g.G){let mp=jr.g?jr.g.getResponseHeader("X-HTTP-Session-Id"):null;mp&&(g.wa=mp,ke(g.J,g.G,mp))}}h.I=3,h.l&&h.l.ra(),h.aa&&(h.T=Date.now()-c.F,h.j.info("Handshake RTT: "+h.T+"ms")),g=h;var k=c;if(g.na=mw(g,g.L?g.ba:null,g.W),k.L){GI(g.h,k);var oe=k,Ze=g.O;Ze&&(oe.H=Ze),oe.D&&(ap(oe),Cu(oe)),g.g=k}else dw(g);h.i.length>0&&Mu(h)}else xe[0]!="stop"&&xe[0]!="close"||Ni(h,7);else h.I==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?Ni(h,7):hp(h):xe[0]!="noop"&&h.l&&h.l.qa(xe),h.A=0)}}aa(4)}catch{}}var pM=class{constructor(c,d){this.g=c,this.map=d}};function HI(c){this.l=c||10,s.PerformanceNavigationTiming?(c=s.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function qI(c){return c.h?1:c.g?c.g.size:0}function up(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function lp(c,d){c.g?c.g.add(d):c.h=d}function GI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}HI.prototype.cancel=function(){if(this.i=WI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function WI(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let h of c.g.values())d=d.concat(h.G);return d}return y(c.i)}var KI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gM(c,d){if(c){c=c.split("&");for(let h=0;h<c.length;h++){let g=c[h].indexOf("="),D,b=null;g>=0?(D=c[h].substring(0,g),b=c[h].substring(g+1)):D=c[h],d(D,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function kr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;c instanceof kr?(this.l=c.l,fa(this,c.j),this.o=c.o,this.g=c.g,ha(this,c.u),this.h=c.h,dp(this,ew(c.i)),this.m=c.m):c&&(d=String(c).match(KI))?(this.l=!1,fa(this,d[1]||"",!0),this.o=pa(d[2]||""),this.g=pa(d[3]||"",!0),ha(this,d[4]),this.h=pa(d[5]||"",!0),dp(this,d[6]||"",!0),this.m=pa(d[7]||"")):(this.l=!1,this.i=new ma(null,this.l))}kr.prototype.toString=function(){let c=[];var d=this.j;d&&c.push(ga(d,QI,!0),":");var h=this.g;return(h||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ga(d,QI,!0),"@"),c.push(la(h).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.u,h!=null&&c.push(":",String(h))),(h=this.h)&&(this.g&&h.charAt(0)!="/"&&c.push("/"),c.push(ga(h,h.charAt(0)=="/"?vM:yM,!0))),(h=this.i.toString())&&c.push("?",h),(h=this.m)&&c.push("#",ga(h,EM)),c.join("")},kr.prototype.resolve=function(c){let d=Fn(this),h=!!c.j;h?fa(d,c.j):h=!!c.o,h?d.o=c.o:h=!!c.g,h?d.g=c.g:h=c.u!=null;var g=c.h;if(h)ha(d,c.u);else if(h=!!c.h){if(g.charAt(0)!="/")if(this.g&&!this.h)g="/"+g;else{var D=d.h.lastIndexOf("/");D!=-1&&(g=d.h.slice(0,D+1)+g)}if(D=g,D==".."||D==".")g="";else if(D.indexOf("./")!=-1||D.indexOf("/.")!=-1){g=D.lastIndexOf("/",0)==0,D=D.split("/");let b=[];for(let k=0;k<D.length;){let oe=D[k++];oe=="."?g&&k==D.length&&b.push(""):oe==".."?((b.length>1||b.length==1&&b[0]!="")&&b.pop(),g&&k==D.length&&b.push("")):(b.push(oe),g=!0)}g=b.join("/")}else g=D}return h?d.h=g:h=c.i.toString()!=="",h?dp(d,ew(c.i)):h=!!c.m,h&&(d.m=c.m),d};function Fn(c){return new kr(c)}function fa(c,d,h){c.j=h?pa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function ha(c,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);c.u=d}else c.u=null}function dp(c,d,h){d instanceof ma?(c.i=d,IM(c.i,c.l)):(h||(d=ga(d,_M)),c.i=new ma(d,c.l))}function ke(c,d,h){c.i.set(d,h)}function bu(c){return ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function pa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ga(c,d,h){return typeof c=="string"?(c=encodeURI(c).replace(d,mM),h&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function mM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var QI=/[#\/\?@]/g,yM=/[#\?:]/g,vM=/[#\?]/g,_M=/[#\?@]/g,EM=/#/g;function ma(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Ri(c){c.g||(c.g=new Map,c.h=0,c.i&&gM(c.i,function(d,h){c.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=ma.prototype,t.add=function(c,d){Ri(this),this.i=null,c=Ro(this,c);let h=this.g.get(c);return h||this.g.set(c,h=[]),h.push(d),this.h+=1,this};function YI(c,d){Ri(c),d=Ro(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function JI(c,d){return Ri(c),d=Ro(c,d),c.g.has(d)}t.forEach=function(c,d){Ri(this),this.g.forEach(function(h,g){h.forEach(function(D){c.call(d,D,g,this)},this)},this)};function ZI(c,d){Ri(c);let h=[];if(typeof d=="string")JI(c,d)&&(h=h.concat(c.g.get(Ro(c,d))));else for(c=Array.from(c.g.values()),d=0;d<c.length;d++)h=h.concat(c[d]);return h}t.set=function(c,d){return Ri(this),this.i=null,c=Ro(this,c),JI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=ZI(this,c),c.length>0?String(c[0]):d):d};function XI(c,d,h){YI(c,d),h.length>0&&(c.i=null,c.g.set(Ro(c,d),y(h)),c.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(let g=0;g<d.length;g++){var h=d[g];let D=la(h);h=ZI(this,h);for(let b=0;b<h.length;b++){let k=D;h[b]!==""&&(k+="="+la(h[b])),c.push(k)}}return this.i=c.join("&")};function ew(c){let d=new ma;return d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),d}function Ro(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function IM(c,d){d&&!c.j&&(Ri(c),c.i=null,c.g.forEach(function(h,g){let D=g.toLowerCase();g!=D&&(YI(this,g),XI(this,D,h))},c)),c.j=d}function wM(c,d){let h=new ua;if(s.Image){let g=new Image;g.onload=f(Lr,h,"TestLoadImage: loaded",!0,d,g),g.onerror=f(Lr,h,"TestLoadImage: error",!1,d,g),g.onabort=f(Lr,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=f(Lr,h,"TestLoadImage: timeout",!1,d,g),s.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function TM(c,d){let h=new ua,g=new AbortController,D=setTimeout(()=>{g.abort(),Lr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(b=>{clearTimeout(D),b.ok?Lr(h,"TestPingServer: ok",!0,d):Lr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Lr(h,"TestPingServer: error",!1,d)})}function Lr(c,d,h,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(h)}catch{}}function DM(){this.g=new sM}function Su(c){this.i=c.Sb||null,this.h=c.ab||!1}p(Su,NI),Su.prototype.g=function(){return new Au(this.i,this.h)};function Au(c,d){yt.call(this),this.H=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Au,yt),t=Au.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=d,this.readyState=1,va(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(d.body=c),(this.H||s).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ya(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,va(this)),this.g&&(this.readyState=3,va(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;tw(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function tw(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ya(this):va(this),this.readyState==3&&tw(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,ya(this))},t.Na=function(c){this.g&&(this.response=c,ya(this))},t.ga=function(){this.g&&ya(this)};function ya(c){c.readyState=4,c.l=null,c.j=null,c.B=null,va(c)}t.setRequestHeader=function(c,d){this.A.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,c.push(h[0]+": "+h[1]),h=d.next();return c.join(`\r
`)};function va(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Au.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function nw(c){let d="";return Eu(c,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function fp(c,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=nw(h),typeof c=="string"?h!=null&&la(h):ke(c,d,h))}function Ue(c){yt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ue,yt);var CM=/^https?$/i,bM=["POST","PUT"];t=Ue.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():FI.g(),this.g.onreadystatechange=m(l(this.Ca,this));try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(b){rw(this,b);return}if(c=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)h.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let b of g.keys())h.set(b,g.get(b));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(b=>b.toLowerCase()=="content-type"),D=s.FormData&&c instanceof s.FormData,!(Array.prototype.indexOf.call(bM,d,void 0)>=0)||g||D||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[b,k]of h)this.g.setRequestHeader(b,k);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(b){rw(this,b)}};function rw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.o=5,iw(c),Ru(c)}function iw(c){c.A||(c.A=!0,Ct(c,"complete"),Ct(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ct(this,"complete"),Ct(this,"abort"),Ru(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ru(this,!0)),Ue.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ow(this):this.Xa())},t.Xa=function(){ow(this)};function ow(c){if(c.h&&typeof o<"u"){if(c.v&&Fr(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ct(c,"readystatechange"),Fr(c)==4){c.h=!1;try{let b=c.ca();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=b===0){let k=String(c.D).match(KI)[1]||null;!k&&s.self&&s.self.location&&(k=s.self.location.protocol.slice(0,-1)),g=!CM.test(k?k.toLowerCase():"")}h=g}if(h)Ct(c,"complete"),Ct(c,"success");else{c.o=6;try{var D=Fr(c)>2?c.g.statusText:""}catch{D=""}c.l=D+" ["+c.ca()+"]",iw(c)}}finally{Ru(c)}}}}function Ru(c,d){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);let h=c.g;c.g=null,d||Ct(c,"ready");try{h.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Fr(c){return c.g?c.g.readyState:0}t.ca=function(){try{return Fr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),oM(d)}};function sw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function SM(c){let d={};c=(c.g&&Fr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(_(c[g]))continue;var h=dM(c[g]);let D=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let b=d[D]||[];d[D]=b,b.push(h)}eM(d,function(g){return g.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _a(c,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[c]||d}function aw(c){this.za=0,this.i=[],this.j=new ua,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_a("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_a("baseRetryDelayMs",5e3,c),this.Za=_a("retryDelaySeedMs",1e4,c),this.Ta=_a("forwardChannelMaxRetries",2,c),this.va=_a("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new HI(c&&c.concurrentRequestLimit),this.Ba=new DM,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=aw.prototype,t.ka=8,t.I=1,t.connect=function(c,d,h,g){bt(0),this.W=c,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.J=mw(this,null,this.W),Mu(this)};function hp(c){if(cw(c),c.I==3){var d=c.V++,h=Fn(c.J);if(ke(h,"SID",c.M),ke(h,"RID",d),ke(h,"TYPE","terminate"),Ea(c,h),d=new Or(c,c.j,d),d.M=2,d.A=bu(Fn(h)),h=!1,s.navigator&&s.navigator.sendBeacon)try{h=s.navigator.sendBeacon(d.A.toString(),"")}catch{}!h&&s.Image&&(new Image().src=d.A,h=!0),h||(d.g=yw(d.j,null),d.g.ea(d.A)),d.F=Date.now(),Cu(d)}gw(c)}function Nu(c){c.g&&(gp(c),c.g.cancel(),c.g=null)}function cw(c){Nu(c),c.v&&(s.clearTimeout(c.v),c.v=null),xu(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&s.clearTimeout(c.m),c.m=null)}function Mu(c){if(!zI(c.h)&&!c.m){c.m=!0;var d=c.Ea;Ot||v(),it||(Ot(),it=!0),w.add(d,c),c.D=0}}function AM(c,d){return qI(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=d.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ca(l(c.Ea,c,d),pw(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;let D=new Or(this,this.j,c),b=this.o;if(this.U&&(b?(b=_I(b),II(b,this.U)):b=this.U),this.u!==null||this.R||(D.J=b,b=null),this.S)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,d>4096){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=lw(this,D,d),h=Fn(this.J),ke(h,"RID",c),ke(h,"CVER",22),this.G&&ke(h,"X-HTTP-Session-Id",this.G),Ea(this,h),b&&(this.R?d="headers="+la(nw(b))+"&"+d:this.u&&fp(h,this.u,b)),lp(this.h,D),this.Ra&&ke(h,"TYPE","init"),this.S?(ke(h,"$req",d),ke(h,"SID","null"),D.U=!0,sp(D,h,null)):sp(D,h,d),this.I=2}}else this.I==3&&(c?uw(this,c):this.i.length==0||zI(this.h)||uw(this))};function uw(c,d){var h;d?h=d.l:h=c.V++;let g=Fn(c.J);ke(g,"SID",c.M),ke(g,"RID",h),ke(g,"AID",c.K),Ea(c,g),c.u&&c.o&&fp(g,c.u,c.o),h=new Or(c,c.j,h,c.D+1),c.u===null&&(h.J=c.o),d&&(c.i=d.G.concat(c.i)),d=lw(c,h,1e3),h.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),lp(c.h,h),sp(h,g,d)}function Ea(c,d){c.H&&Eu(c.H,function(h,g){ke(d,g,h)}),c.l&&Eu({},function(h,g){ke(d,g,h)})}function lw(c,d,h){h=Math.min(c.i.length,h);let g=c.l?l(c.l.Ka,c.l,c):null;e:{var D=c.i;let oe=-1;for(;;){let Ze=["count="+h];oe==-1?h>0?(oe=D[0].g,Ze.push("ofs="+oe)):oe=0:Ze.push("ofs="+oe);let xe=!0;for(let ot=0;ot<h;ot++){var b=D[ot].g;let Vn=D[ot].map;if(b-=oe,b<0)oe=Math.max(0,D[ot].g-100),xe=!1;else try{b="req"+b+"_"||"";try{var k=Vn instanceof Map?Vn:Object.entries(Vn);for(let[Mi,Vr]of k){let jr=Vr;a(Vr)&&(jr=tp(Vr)),Ze.push(b+Mi+"="+encodeURIComponent(jr))}}catch(Mi){throw Ze.push(b+"type="+encodeURIComponent("_badmap")),Mi}}catch{g&&g(Vn)}}if(xe){k=Ze.join("&");break e}}k=void 0}return c=c.i.splice(0,h),d.G=c,k}function dw(c){if(!c.g&&!c.v){c.Y=1;var d=c.Da;Ot||v(),it||(Ot(),it=!0),w.add(d,c),c.A=0}}function pp(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ca(l(c.Da,c),pw(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,fw(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ca(l(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),Nu(this),fw(this))};function gp(c){c.B!=null&&(s.clearTimeout(c.B),c.B=null)}function fw(c){c.g=new Or(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var d=Fn(c.na);ke(d,"RID","rpc"),ke(d,"SID",c.M),ke(d,"AID",c.K),ke(d,"CI",c.F?"0":"1"),!c.F&&c.ia&&ke(d,"TO",c.ia),ke(d,"TYPE","xmlhttp"),Ea(c,d),c.u&&c.o&&fp(d,c.u,c.o),c.O&&(c.g.H=c.O);var h=c.g;c=c.ba,h.M=1,h.A=bu(Fn(d)),h.u=null,h.R=!0,UI(h,c)}t.Va=function(){this.C!=null&&(this.C=null,Nu(this),pp(this),bt(19))};function xu(c){c.C!=null&&(s.clearTimeout(c.C),c.C=null)}function hw(c,d){var h=null;if(c.g==d){xu(c),gp(c),c.g=null;var g=2}else if(up(c.h,d))h=d.G,GI(c.h,d),g=1;else return;if(c.I!=0){if(d.o)if(g==1){h=d.u?d.u.length:0,d=Date.now()-d.F;var D=c.D;g=Tu(),Ct(g,new kI(g,h)),Mu(c)}else dw(c);else if(D=d.m,D==3||D==0&&d.X>0||!(g==1&&AM(c,d)||g==2&&pp(c)))switch(h&&h.length>0&&(d=c.h,d.i=d.i.concat(h)),D){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function pw(c,d){let h=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(h*=2),h*d}function Ni(c,d){if(c.j.info("Error code "+d),d==2){var h=l(c.bb,c),g=c.Ua;let D=!g;g=new kr(g||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||fa(g,"https"),bu(g),D?wM(g.toString(),h):TM(g.toString(),h)}else bt(2);c.I=0,c.l&&c.l.pa(d),gw(c),cw(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function gw(c){if(c.I=0,c.ja=[],c.l){let d=WI(c.h);(d.length!=0||c.i.length!=0)&&(S(c.ja,d),S(c.ja,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.oa()}}function mw(c,d,h){var g=h instanceof kr?Fn(h):new kr(h);if(g.g!="")d&&(g.g=d+"."+g.g),ha(g,g.u);else{var D=s.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;let b=new kr(null);g&&fa(b,g),d&&(b.g=d),D&&ha(b,D),h&&(b.h=h),g=b}return h=c.G,d=c.wa,h&&d&&ke(g,h,d),ke(g,"VER",c.ka),Ea(c,g),g}function yw(c,d,h){if(d&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Aa&&!c.ma?new Ue(new Su({ab:h})):new Ue(c.ma),d.Fa(c.L),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vw(){}t=vw.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Pu(){}Pu.prototype.g=function(c,d){return new Gt(c,d)};function Gt(c,d){yt.call(this),this.g=new aw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(c?c["X-WebChannel-Client-Profile"]=d.sa:c={"X-WebChannel-Client-Profile":d.sa}),this.g.U=c,(c=d&&d.Qb)&&!_(c)&&(this.g.u=c),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!_(d)&&(this.g.G=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new No(this)}p(Gt,yt),Gt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){hp(this.g)},Gt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var h={};h.__data__=c,c=h}else this.v&&(h={},h.__data__=tp(c),c=h);d.i.push(new pM(d.Ya++,c)),d.I==3&&Mu(d)},Gt.prototype.N=function(){this.g.l=null,delete this.j,hp(this.g),delete this.g,Gt.Z.N.call(this)};function _w(c){np.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let h in d){c=h;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}p(_w,np);function Ew(){rp.call(this),this.status=1}p(Ew,rp);function No(c){this.g=c}p(No,vw),No.prototype.ra=function(){Ct(this.g,"a")},No.prototype.qa=function(c){Ct(this.g,new _w(c))},No.prototype.pa=function(c){Ct(this.g,new Ew)},No.prototype.oa=function(){Ct(this.g,"b")},Pu.prototype.createWebChannel=Pu.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,Rv=Dr.createWebChannelTransport=function(){return new Pu},Av=Dr.getStatEventTarget=function(){return Tu()},Sv=Dr.Event=Si,Df=Dr.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Du.NO_ERROR=0,Du.TIMEOUT=8,Du.HTTP_ERROR=6,qc=Dr.ErrorCode=Du,LI.COMPLETE="complete",bv=Dr.EventType=LI,MI.EventType=sa,sa.OPEN="a",sa.CLOSE="b",sa.ERROR="c",sa.MESSAGE="d",yt.prototype.listen=yt.prototype.J,Ss=Dr.WebChannel=MI,tj=Dr.FetchXmlHttpFactory=Su,Ue.prototype.listenOnce=Ue.prototype.K,Ue.prototype.getLastError=Ue.prototype.Ha,Ue.prototype.getLastErrorCode=Ue.prototype.ya,Ue.prototype.getStatus=Ue.prototype.ca,Ue.prototype.getResponseJson=Ue.prototype.La,Ue.prototype.getResponseText=Ue.prototype.la,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Fa,Cv=Dr.XhrIo=Ue}).apply(typeof Tf<"u"?Tf:typeof self<"u"?self:typeof window<"u"?window:{});var R0="@firebase/firestore",N0="4.9.2";var dt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};dt.UNAUTHENTICATED=new dt(null),dt.GOOGLE_CREDENTIALS=new dt("google-credentials-uid"),dt.FIRST_PARTY=new dt("first-party-uid"),dt.MOCK_USER=new dt("mock-user");var Zs="12.3.0";var go=new ai("@firebase/firestore");function As(){return go.logLevel}function F(t,...e){if(go.logLevel<=he.DEBUG){let n=e.map(_E);go.debug(`Firestore (${Zs}): ${t}`,...n)}}function Cr(t,...e){if(go.logLevel<=he.ERROR){let n=e.map(_E);go.error(`Firestore (${Zs}): ${t}`,...n)}}function Vs(t,...e){if(go.logLevel<=he.WARN){let n=e.map(_E);go.warn(`Firestore (${Zs}): ${t}`,...n)}}function _E(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,mA(t,r,n)}function mA(t,e,n){let r=`FIRESTORE (${Zs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Cr(r),new Error(r)}function Se(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||mA(e,i,r)}function X(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=class extends Zt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var rr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Mf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},kv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dt.UNAUTHENTICATED))}shutdown(){}},Lv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Fv=class{constructor(e){this.t=e,this.currentUser=dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Se(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new rr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new rr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string",31837,{l:r}),new Mf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string",2055,{h:e}),new dt(e)}},Vv=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=dt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},jv=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Vv(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},xf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Uv=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,en(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Se(this.o===void 0,3512);let r=o=>{o.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,F("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new xf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xf(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function nj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Jc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=nj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function ge(t,e){return t<e?-1:t>e?1:0}function Bv(t,e){let n=Math.min(t.length,e.length);for(let r=0;r<n;r++){let i=t.charAt(r),o=e.charAt(r);if(i!==o)return Nv(i)===Nv(o)?ge(i,o):Nv(i)?1:-1}return ge(t.length,e.length)}var rj=55296,ij=57343;function Nv(t){let e=t.charCodeAt(0);return e>=rj&&e<=ij}function js(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var M0="__name__",Pf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ge(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):Bv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Tr.fromString(e.substring(4,e.length-2))}},je=class t extends Pf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new j(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},oj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,tn=class t extends Pf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return oj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M0}static keyField(){return new t([M0])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new j(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new j(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new j(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new j(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var H=class t{constructor(e){this.path=e}static fromPath(e){return new t(je.fromString(e))}static fromName(e){return new t(je.fromString(e).popFirst(5))}static empty(){return new t(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new je(e.slice()))}};function yA(t,e,n){if(!n)throw new j(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sj(t,e,n,r){if(e===!0&&r===!0)throw new j(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function x0(t){if(!H.isDocumentKey(t))throw new j(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function P0(t){if(H.isDocumentKey(t))throw new j(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function EE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q(12329,{type:typeof t})}function Zc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new j(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=EE(t);throw new j(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ye(t,e){let n={typeString:t};return e&&(n.value=e),n}function lu(t,e){if(!vA(t))throw new j(M.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new j(M.INVALID_ARGUMENT,n);return!0}var O0=-62135596800,k0=1e6,Je=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*k0);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new j(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<O0)throw new j(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k0}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lu(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-O0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:Ye("string",Je._jsonSchemaVersion),seconds:Ye("number"),nanoseconds:Ye("number")};var ne=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Je(0,0))}static max(){return new t(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Xc=-1,$v=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};$v.UNKNOWN_ID=-1;function aj(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new mo(i,H.empty(),e)}function cj(t){return new mo(t.readTime,t.key,Xc)}var mo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ne.min(),H.empty(),Xc)}static max(){return new t(ne.max(),H.empty(),Xc)}};function uj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}var lj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Hv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function Xs(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==lj)throw t;F("LocalStore","Unexpectedly lost primary lease")}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(f=>{s[l]=f,++a,a===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function dj(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ea(t){return t.name==="IndexedDbTransactionError"}var IE=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ue&&this.ue(n),n}}t.ce=-1;return t})(),wE=-1;function ah(t){return t==null}function eu(t){return t===0&&1/t==-1/0}function fj(t){return typeof t=="number"&&Number.isInteger(t)&&!eu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var _A="";function hj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=L0(e)),e=pj(t.get(n),e);return L0(e)}function pj(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case _A:n+="";break;default:n+=o}}return n}function L0(t){return t+_A+""}var gj="remoteDocuments",EA="owner";var IA="mutationQueues";var wA="mutations";var TA="documentMutations",mj="remoteDocumentsV14";var DA="remoteDocumentGlobal";var CA="targets";var bA="targetDocuments";var SA="targetGlobal",AA="collectionParents";var RA="clientMetadata";var NA="bundles";var MA="namedQueries";var yj="indexConfiguration";var vj="indexState";var _j="indexEntries";var xA="documentOverlays";var Ej="globals";var Ij=[IA,wA,TA,gj,CA,EA,SA,bA,RA,DA,AA,NA,MA],FX=[...Ij,xA],wj=[IA,wA,TA,mj,CA,EA,SA,bA,RA,DA,AA,NA,MA,xA],Tj=wj,Dj=[...Tj,yj,vj,_j];var VX=[...Dj,Ej];function F0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var He=class t{constructor(e,n){this.comparator=e,this.root=n||ir.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ir.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ir.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xs(this.root,e,this.comparator,!1)}getReverseIterator(){return new xs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xs(this.root,e,this.comparator,!0)}},xs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ir=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw q(27949);return e+(this.isRed()?0:1)}};ir.EMPTY=null,ir.RED=!0,ir.BLACK=!1;ir.EMPTY=new class{constructor(){this.size=0}get key(){throw q(57766)}get value(){throw q(16141)}get color(){throw q(16727)}get left(){throw q(29726)}get right(){throw q(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new ir(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ft=class t{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Of(this.data.getIterator())}getIteratorFrom(e){return new Of(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Of=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var nr=class t{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new t([])}unionWith(e){let n=new ft(tn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return js(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var kf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Tt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new kf("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Tt.EMPTY_BYTE_STRING=new Tt("");var Cj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(t){if(Se(!!t,39018),typeof t=="string"){let e=0,n=Cj.exec(t);if(Se(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Sr(t){return typeof t=="string"?Tt.fromBase64String(t):Tt.fromUint8Array(t)}var OA="server_timestamp",kA="__type__",LA="__previous_value__",FA="__local_write_time__";function TE(t){return(t?.mapValue?.fields||{})[kA]?.stringValue===OA}function ch(t){let e=t.mapValue.fields[LA];return TE(e)?ch(e):e}function tu(t){let e=br(t.mapValue.fields[FA].timestampValue);return new Je(e.seconds,e.nanos)}var zv=class{constructor(e,n,r,i,o,s,a,u,l,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=f}},Lf="(default)",Ff=class t{constructor(e,n){this.projectId=e,this.database=n||Lf}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Lf}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var DE="__type__",VA="__max__",Cf={mapValue:{fields:{__type__:{stringValue:VA}}}},CE="__vector__",Us="value";function mi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?TE(t)?4:UA(t)?9007199254740991:jA(t)?10:11:q(28295,{value:t})}function ar(t,e){if(t===e)return!0;let n=mi(t);if(n!==mi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tu(t).isEqual(tu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=br(i.timestampValue),a=br(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Sr(i.bytesValue).isEqual(Sr(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ve(i.geoPointValue.latitude)===Ve(o.geoPointValue.latitude)&&Ve(i.geoPointValue.longitude)===Ve(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ve(i.integerValue)===Ve(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ve(i.doubleValue),a=Ve(o.doubleValue);return s===a?eu(s)===eu(a):isNaN(s)&&isNaN(a)}return!1})(t,e);case 9:return js(t.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(F0(s)!==F0(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!ar(s[u],a[u])))return!1;return!0})(t,e);default:return q(52216,{left:t})}}function nu(t,e){return(t.values||[]).find(n=>ar(n,e))!==void 0}function Bs(t,e){if(t===e)return 0;let n=mi(t),r=mi(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Ve(o.integerValue||o.doubleValue),u=Ve(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(t,e);case 3:return V0(t.timestampValue,e.timestampValue);case 4:return V0(tu(t),tu(e));case 5:return Bv(t.stringValue,e.stringValue);case 6:return(function(o,s){let a=Sr(o),u=Sr(s);return a.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let f=ge(a[l],u[l]);if(f!==0)return f}return ge(a.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=ge(Ve(o.latitude),Ve(s.latitude));return a!==0?a:ge(Ve(o.longitude),Ve(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return j0(t.arrayValue,e.arrayValue);case 10:return(function(o,s){let a=o.fields||{},u=s.fields||{},l=a[Us]?.arrayValue,f=u[Us]?.arrayValue,p=ge(l?.values?.length||0,f?.values?.length||0);return p!==0?p:j0(l,f)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Cf.mapValue&&s===Cf.mapValue)return 0;if(o===Cf.mapValue)return 1;if(s===Cf.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let m=Bv(u[p],f[p]);if(m!==0)return m;let y=Bs(a[u[p]],l[f[p]]);if(y!==0)return y}return ge(u.length,f.length)})(t.mapValue,e.mapValue);default:throw q(23264,{he:n})}}function V0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);let n=br(t),r=br(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function j0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Bs(n[i],r[i]);if(o)return o}return ge(n.length,r.length)}function $s(t){return qv(t)}function qv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=br(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Sr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return H.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=qv(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${qv(n.fields[s])}`;return i+"}"})(t.mapValue):q(61005,{value:t})}function Af(t){switch(mi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=ch(t);return e?16+Af(e):16;case 5:return 2*t.stringValue.length;case 6:return Sr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Af(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return wo(r.fields,(o,s)=>{i+=o.length+Af(s)}),i})(t.mapValue);default:throw q(13486,{value:t})}}function Gv(t){return!!t&&"integerValue"in t}function bE(t){return!!t&&"arrayValue"in t}function U0(t){return!!t&&"nullValue"in t}function B0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rf(t){return!!t&&"mapValue"in t}function jA(t){return(t?.mapValue?.fields||{})[DE]?.stringValue===CE}function Wc(t){if(t.geoPointValue)return{geoPointValue:N({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:N({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return wo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wc(t.arrayValue.values[n]);return e}return N({},t)}function UA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===VA}var UX={mapValue:{fields:{[DE]:{stringValue:CE},[Us]:{arrayValue:{}}}}};var kn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wc(n)}setAll(e){let n=tn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Wc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Rf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Rf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){wo(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Wc(this.value))}};function BA(t){let e=[];return wo(t.fields,(n,r)=>{let i=new tn([n]);if(Rf(r)){let o=BA(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new nr(e)}var Ln=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ne.min(),ne.min(),ne.min(),kn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ne.min(),ne.min(),kn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ne.min(),ne.min(),kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Hs=class{constructor(e,n){this.position=e,this.inclusive=n}};function $0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=H.comparator(H.fromName(s.referenceValue),n.key):r=Bs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function H0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ar(t.position[n],e.position[n]))return!1;return!0}var zs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function bj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Vf=class{},rt=class t extends Vf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Kv(e,n,r):n==="array-contains"?new Jv(e,r):n==="in"?new Zv(e,r):n==="not-in"?new Xv(e,r):n==="array-contains-any"?new e_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Qv(e,r):new Yv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bs(n,this.value)):n!==null&&mi(this.value)===mi(n)&&this.matchesComparison(Bs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},cr=class t extends Vf{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new t(e,n)}matches(e){return $A(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function $A(t){return t.op==="and"}function HA(t){return Sj(t)&&$A(t)}function Sj(t){for(let e of t.filters)if(e instanceof cr)return!1;return!0}function Wv(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+$s(t.value);if(HA(t))return t.filters.map(e=>Wv(e)).join(",");{let e=t.filters.map(n=>Wv(n)).join(",");return`${t.op}(${e})`}}function zA(t,e){return t instanceof rt?(function(r,i){return i instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&ar(r.value,i.value)})(t,e):t instanceof cr?(function(r,i){return i instanceof cr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&zA(s,i.filters[a]),!0):!1})(t,e):void q(19439)}function qA(t){return t instanceof rt?(function(n){return`${n.field.canonicalString()} ${n.op} ${$s(n.value)}`})(t):t instanceof cr?(function(n){return n.op.toString()+" {"+n.getFilters().map(qA).join(" ,")+"}"})(t):"Filter"}var Kv=class extends rt{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){let n=H.comparator(e.key,this.key);return this.matchesComparison(n)}},Qv=class extends rt{constructor(e,n){super(e,"in",n),this.keys=GA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Yv=class extends rt{constructor(e,n){super(e,"not-in",n),this.keys=GA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function GA(t,e){return(e.arrayValue?.values||[]).map(n=>H.fromName(n.referenceValue))}var Jv=class extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return bE(n)&&nu(n.arrayValue,this.value)}},Zv=class extends rt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}},Xv=class extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}},e_=class extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!bE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nu(this.value.arrayValue,r))}};var t_=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}};function z0(t,e=null,n=[],r=[],i=null,o=null,s=null){return new t_(t,e,n,r,i,o,s)}function SE(t){let e=X(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Wv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),ah(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$s(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$s(r)).join(",")),e.Te=n}return e.Te}function AE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!H0(t.startAt,e.startAt)&&H0(t.endAt,e.endAt)}function n_(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var qs=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function Aj(t,e,n,r,i,o,s,a){return new qs(t,e,n,r,i,o,s,a)}function WA(t){return new qs(t)}function q0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Rj(t){return t.collectionGroup!==null}function Kc(t){let e=X(t);if(e.Ie===null){e.Ie=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ft(tn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new zs(o,r))}),n.has(tn.keyField().canonicalString())||e.Ie.push(new zs(tn.keyField(),r))}return e.Ie}function or(t){let e=X(t);return e.Ee||(e.Ee=Nj(e,Kc(t))),e.Ee}function Nj(t,e){if(t.limitType==="F")return z0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new zs(i.field,o)});let n=t.endAt?new Hs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hs(t.startAt.position,t.startAt.inclusive):null;return z0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function r_(t,e,n){return new qs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function uh(t,e){return AE(or(t),or(e))&&t.limitType===e.limitType}function KA(t){return`${SE(or(t))}|lt:${t.limitType}`}function Rs(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>qA(i)).join(", ")}]`),ah(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>$s(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>$s(i)).join(",")),`Target(${r})`})(or(t))}; limitType=${t.limitType})`}function lh(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):H.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of Kc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=$0(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,Kc(r),i)||r.endAt&&!(function(s,a,u){let l=$0(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,Kc(r),i))})(t,e)}function Mj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QA(t){return(e,n)=>{let r=!1;for(let i of Kc(t)){let o=xj(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function xj(t,e,n){let r=t.field.isKeyField()?H.comparator(e.key,n.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Bs(u,l):q(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q(19790,{direction:t.dir})}}var Ar=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wo(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return PA(this.inner)}size(){return this.innerSize}};var Pj=new He(H.comparator);function Rr(){return Pj}var YA=new He(H.comparator);function Gc(...t){let e=YA;for(let n of t)e=e.insert(n.key,n);return e}function JA(t){let e=YA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ho(){return Qc()}function ZA(){return Qc()}function Qc(){return new Ar(t=>t.toString(),(t,e)=>t.isEqual(e))}var Oj=new He(H.comparator),kj=new ft(H.comparator);function me(...t){let e=kj;for(let n of t)e=e.add(n);return e}var Lj=new ft(ge);function Fj(){return Lj}function RE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eu(e)?"-0":e}}function XA(t){return{integerValue:""+t}}function Vj(t,e){return fj(e)?XA(e):RE(t,e)}var Gs=class{constructor(){this._=void 0}};function jj(t,e,n){return t instanceof yo?(function(i,o){let s={fields:{[kA]:{stringValue:OA},[FA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&TE(o)&&(o=ch(o)),o&&(s.fields[LA]=o),{mapValue:s}})(n,e):t instanceof vo?tR(t,e):t instanceof _o?nR(t,e):(function(i,o){let s=eR(i,o),a=G0(s)+G0(i.Ae);return Gv(s)&&Gv(i.Ae)?XA(a):RE(i.serializer,a)})(t,e)}function Uj(t,e,n){return t instanceof vo?tR(t,e):t instanceof _o?nR(t,e):n}function eR(t,e){return t instanceof Ws?(function(r){return Gv(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var yo=class extends Gs{},vo=class extends Gs{constructor(e){super(),this.elements=e}};function tR(t,e){let n=rR(e);for(let r of t.elements)n.some(i=>ar(i,r))||n.push(r);return{arrayValue:{values:n}}}var _o=class extends Gs{constructor(e){super(),this.elements=e}};function nR(t,e){let n=rR(e);for(let r of t.elements)n=n.filter(i=>!ar(i,r));return{arrayValue:{values:n}}}var Ws=class extends Gs{constructor(e,n){super(),this.serializer=e,this.Ae=n}};function G0(t){return Ve(t.integerValue||t.doubleValue)}function rR(t){return bE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var i_=class{constructor(e,n){this.field=e,this.transform=n}};function Bj(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof vo&&i instanceof vo||r instanceof _o&&i instanceof _o?js(r.elements,i.elements,ar):r instanceof Ws&&i instanceof Ws?ar(r.Ae,i.Ae):r instanceof yo&&i instanceof yo})(t.transform,e.transform)}var o_=class{constructor(e,n){this.version=e,this.transformResults=n}},di=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Nf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ks=class{};function iR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ru(t.key,di.none()):new Eo(t.key,t.data,di.none());{let n=t.data,r=kn.empty(),i=new ft(tn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Nr(t.key,r,new nr(i.toArray()),di.none())}}function $j(t,e,n){t instanceof Eo?(function(i,o,s){let a=i.value.clone(),u=K0(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(t,e,n):t instanceof Nr?(function(i,o,s){if(!Nf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=K0(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(oR(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function Yc(t,e,n,r){return t instanceof Eo?(function(o,s,a,u){if(!Nf(o.precondition,s))return a;let l=o.value.clone(),f=Q0(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof Nr?(function(o,s,a,u){if(!Nf(o.precondition,s))return a;let l=Q0(o.fieldTransforms,u,s),f=s.data;return f.setAll(oR(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(t,e,n,r):(function(o,s,a){return Nf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(t,e,n)}function Hj(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=eR(r.transform,i||null);o!=null&&(n===null&&(n=kn.empty()),n.set(r.field,o))}return n||null}function W0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&js(r,i,(o,s)=>Bj(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Eo=class extends Ks{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Nr=class extends Ks{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function oR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function K0(t,e,n){let r=new Map;Se(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Uj(s,a,n[i]))}return r}function Q0(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,jj(o,s,e))}return r}var ru=class extends Ks{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},s_=class extends Ks{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var a_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&$j(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Yc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=ZA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=iR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&js(this.mutations,e.mutations,(n,r)=>W0(n,r))&&js(this.baseMutations,e.baseMutations,(n,r)=>W0(n,r))}},c_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Se(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Oj})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var u_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var l_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ke,_e;function zj(t){switch(t){case M.OK:return q(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return q(15467,{code:t})}}function sR(t){if(t===void 0)return Cr("GRPC error has no .code"),M.UNKNOWN;switch(t){case Ke.OK:return M.OK;case Ke.CANCELLED:return M.CANCELLED;case Ke.UNKNOWN:return M.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return M.INTERNAL;case Ke.UNAVAILABLE:return M.UNAVAILABLE;case Ke.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Ke.NOT_FOUND:return M.NOT_FOUND;case Ke.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Ke.ABORTED:return M.ABORTED;case Ke.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Ke.DATA_LOSS:return M.DATA_LOSS;default:return q(39323,{code:t})}}(_e=Ke||(Ke={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var qj=null;function Gj(){return new TextEncoder}var Wj=new Tr([4294967295,4294967295],0);function Y0(t){let e=Gj().encode(t),n=new Dv;return n.update(e),new Uint8Array(n.digest())}function J0(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Tr([n,r],0),new Tr([i,o],0)]}var d_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new po(`Invalid padding: ${n}`);if(r<0)throw new po(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new po(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new po(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Tr.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Tr.fromNumber(r)));return i.compare(Wj)===1&&(i=new Tr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let n=Y0(e),[r,i]=J0(n);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;let n=Y0(e),[r,i]=J0(n);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);this.Se(s)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},po=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var jf=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ne.min(),i,new He(ge),Rr(),me())}},iu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,me(),me(),me())}};var Os=class{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}},Uf=class{constructor(e,n){this.targetId=e,this.Ce=n}},Bf=class{constructor(e,n,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},$f=class{constructor(){this.ve=0,this.Fe=Z0(),this.Me=Tt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=me(),n=me(),r=me();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:q(38017,{changeType:o})}}),new iu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Z0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Se(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},f_=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rr(),this.Je=bf(),this.He=bf(),this.Ye=new He(ge)}Ze(e){for(let n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(let n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{let r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){let n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){let o=i.target;if(n_(o))if(r===0){let s=new H(o.path);this.et(n,s,Ln.newNoDocument(s,ne.min()))}else Se(r===1,20013,{expectedCount:r});else{let s=this._t(n);if(s!==r){let a=this.ut(e),u=a?this.ct(a,e,s):1;if(u!==0){this.it(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,l)}qj?.lt((function(f,p,m,y,S){let A={localCacheCount:f,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},R=p.unchangedNames;return R&&(A.bloomFilter={applied:S===0,hashCount:R?.hashCount??0,bitmapLength:R?.bits?.bitmap?.length??0,padding:R?.bits?.padding??0,mightContain:L=>y?.mightContain(L)??!1}),A})(s,e.Ce,this.Ge.ht(),a,u))}}}}ut(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Sr(r).toUint8Array()}catch(u){if(u instanceof kf)return Vs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new d_(s,i,o)}catch(u){return Vs(u instanceof po?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){let r=this.Ge.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){let n=new Map;this.ze.forEach((o,s)=>{let a=this.ot(s);if(a){if(o.current&&n_(a.target)){let u=new H(a.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,Ln.newNoDocument(u,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=me();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.ot(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));let i=new jf(e,n,this.Ye,this.je,r);return this.je=Rr(),this.Je=bf(),this.He=bf(),this.Ye=new He(ge),i}Xe(e,n){if(!this.rt(e))return;let r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){let n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new $f,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ft(ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ft(ge),this.Je=this.Je.insert(e,n)),n}rt(e){let n=this.ot(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}ot(e){let n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $f),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}};function bf(){return new He(H.comparator)}function Z0(){return new He(H.comparator)}var Kj={asc:"ASCENDING",desc:"DESCENDING"},Qj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yj={and:"AND",or:"OR"},h_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function p_(t,e){return t.useProto3Json||ah(e)?e:{value:e}}function Hf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Jj(t,e){return Hf(t,e.toTimestamp())}function sr(t){return Se(!!t,49232),ne.fromTimestamp((function(n){let r=br(n);return new Je(r.seconds,r.nanos)})(t))}function NE(t,e){return g_(t,e).canonicalString()}function g_(t,e){let n=(function(i){return new je(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function cR(t){let e=je.fromString(t);return Se(hR(e),10190,{key:e.toString()}),e}function m_(t,e){return NE(t.databaseId,e.path)}function Mv(t,e){let n=cR(e);if(n.get(1)!==t.databaseId.projectId)throw new j(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new j(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(lR(n))}function uR(t,e){return NE(t.databaseId,e)}function Zj(t){let e=cR(t);return e.length===4?je.emptyPath():lR(e)}function y_(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lR(t){return Se(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function X0(t,e,n){return{name:m_(t,e),fields:n.value.mapValue.fields}}function Xj(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:q(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,f){return l.useProto3Json?(Se(f===void 0||typeof f=="string",58123),Tt.fromBase64String(f||"")):(Se(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Tt.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let f=l.code===void 0?M.UNKNOWN:sR(l.code);return new j(f,l.message||"")})(s);n=new Bf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Mv(t,r.document.name),o=sr(r.document.updateTime),s=r.document.createTime?sr(r.document.createTime):ne.min(),a=new kn({mapValue:{fields:r.document.fields}}),u=Ln.newFoundDocument(i,o,s,a),l=r.targetIds||[],f=r.removedTargetIds||[];n=new Os(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Mv(t,r.document),o=r.readTime?sr(r.readTime):ne.min(),s=Ln.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Os([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Mv(t,r.document),o=r.removedTargetIds||[];n=new Os([],o,i,null)}else{if(!("filter"in e))return q(11601,{Rt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new l_(i,o),a=r.targetId;n=new Uf(a,s)}}return n}function eU(t,e){let n;if(e instanceof Eo)n={update:X0(t,e.key,e.value)};else if(e instanceof ru)n={delete:m_(t,e.key)};else if(e instanceof Nr)n={update:X0(t,e.key,e.data),updateMask:uU(e.fieldMask)};else{if(!(e instanceof s_))return q(16599,{Vt:e.type});n={verify:m_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof yo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof vo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _o)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ws)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw q(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:Jj(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:q(27497)})(t,e.precondition)),n}function tU(t,e){return t&&t.length>0?(Se(e!==void 0,14353),t.map(n=>(function(i,o){let s=i.updateTime?sr(i.updateTime):sr(o);return s.isEqual(ne.min())&&(s=sr(o)),new o_(s,i.transformResults||[])})(n,e))):[]}function nU(t,e){return{documents:[uR(t,e.path)]}}function rU(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=uR(t,i);let o=(function(l){if(l.length!==0)return fR(cr.create(l,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(f=>(function(m){return{field:Ns(m.field),direction:sU(m.dir)}})(f))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=p_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{ft:n,parent:i}}function iU(t){let e=Zj(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Se(r===1,65062);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=(function(p){let m=dR(p);return m instanceof cr&&HA(m)?m.getFilters():[m]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map(m=>(function(S){return new zs(Ms(S.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(m))})(n.orderBy));let a=null;n.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,ah(m)?null:m})(n.limit));let u=null;n.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new Hs(y,m)})(n.startAt));let l=null;return n.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new Hs(y,m)})(n.endAt)),Aj(e,i,s,o,a,"F",u,l)}function oU(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ms(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ms(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ms(n.unaryFilter.field);return rt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ms(n.unaryFilter.field);return rt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return q(61313);default:return q(60726)}})(t):t.fieldFilter!==void 0?(function(n){return rt.create(Ms(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return q(58110);default:return q(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return cr.create(n.compositeFilter.filters.map(r=>dR(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q(1026)}})(n.compositeFilter.op))})(t):q(30097,{filter:t})}function sU(t){return Kj[t]}function aU(t){return Qj[t]}function cU(t){return Yj[t]}function Ns(t){return{fieldPath:t.canonicalString()}}function Ms(t){return tn.fromServerFormat(t.fieldPath)}function fR(t){return t instanceof rt?(function(n){if(n.op==="=="){if(B0(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NAN"}};if(U0(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(B0(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NOT_NAN"}};if(U0(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ns(n.field),op:aU(n.op),value:n.value}}})(t):t instanceof cr?(function(n){let r=n.getFilters().map(i=>fR(i));return r.length===1?r[0]:{compositeFilter:{op:cU(n.op),filters:r}}})(t):q(54877,{filter:t})}function uU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var ou=class t{constructor(e,n,r,i,o=ne.min(),s=ne.min(),a=Tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var v_=class{constructor(e){this.yt=e}};function lU(t){let e=iU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?r_(e,e.limit,"L"):e}var zf=class{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Ve(e.integerValue));else if("doubleValue"in e){let r=Ve(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),eu(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=br(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Sr(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?UA(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):jA(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):q(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){let r=e.fields||{};this.Ft(n,55);for(let i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){let r=e.fields||{};this.Ft(n,53);let i=Us,o=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(Ve(o)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){let r=e.values||[];this.Ft(n,50);for(let i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),H.fromName(e).path.forEach(r=>{this.Ft(n,60),this.Ut(r,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}};zf.Kt=new zf;var __=class{constructor(){this.Cn=new E_}addToCollectionParentIndex(e,n){return this.Cn.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(mo.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(mo.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},E_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ft(je.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ft(je.comparator)).toArray()}};var BX=new Uint8Array(0);var eA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pR=41943040,gn=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(pR,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);var su=class t{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new t(0)}static cr(){return new t(-1)}};var tA="LruGarbageCollector",dU=1048576;function nA([t,e],[n,r]){let i=ge(t,n);return i===0?ge(e,r):i}var I_=class{constructor(e){this.Ir=e,this.buffer=new ft(nA),this.Er=0}dr(){return++this.Er}Ar(e){let n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();nA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},w_=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){F(tA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ea(n)?F(tA,"Ignoring IndexedDB error during garbage collection: ",n):await Xs(n)}await this.Vr(3e5)})}},T_=class{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return x.resolve(IE.ce);let r=new I_(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(eA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eA):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),As()<=he.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function fU(t,e){return new T_(t,e)}var D_=class{constructor(){this.changes=new Ar(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var C_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var b_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Yc(r.mutation,i,nr.empty(),Je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){let i=ho();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Gc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=ho();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Rr(),s=Qc(),a=(function(){return Qc()})();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Nr)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),Yc(f.mutation,l,f.mutation.getFieldMask(),Je.now())):s.set(l.key,nr.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>a.set(l,new C_(f,s.get(l)??null))),a))}recalculateAndSaveOverlays(e,n){let r=Qc(),i=new He((s,a)=>s-a),o=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||nr.empty();f=a.applyToLocalView(l,f),r.set(u,f);let p=(i.get(a.batchId)||me()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,f=u.value,p=ZA();f.forEach(m=>{if(!o.has(m)){let y=iR(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return H.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Rj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):x.resolve(ho()),a=Xc,u=o;return s.next(l=>x.forEach(l,(f,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(f)?x.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,me())).next(f=>({batchId:a,changes:JA(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=Gc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Gc();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,u=>{let l=(function(p,m){return new qs(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,Ln.newInvalidDocument(f)))});let a=Gc();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&Yc(f.mutation,l,nr.empty(),Je.now()),lh(n,l)&&(a=a.insert(u,l))}),a})}};var S_=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return x.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:sr(i.createTime)}})(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:lU(i.bundledQuery),readTime:sr(i.readTime)}})(n)),x.resolve()}};var A_=class{constructor(){this.overlays=new He(H.comparator),this.qr=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=ho();return x.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=ho(),o=n.length+1,s=new H(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new He((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=ho(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let a=ho(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>a.set(l,f)),!(a.size()>=i)););return x.resolve(a)}St(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new u_(n,r));let o=this.qr.get(n);o===void 0&&(o=me(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}};var R_=class{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var au=class{constructor(){this.Qr=new ft(Qe.$r),this.Ur=new ft(Qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){let r=new Qe(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Qe(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){let n=new H(new je([])),r=new Qe(n,e),i=new Qe(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let n=new H(new je([])),r=new Qe(n,e),i=new Qe(n,e+1),o=me();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Qe(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Qe=class{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return H.comparator(e.key,n.key)||ge(e.Yr,n.Yr)}static Kr(e,n){return ge(e.Yr,n.Yr)||H.comparator(e.key,n.key)}};var N_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ft(Qe.$r)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new a_(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Zr=this.Zr.add(new Qe(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,n){return x.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.ei(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?wE:this.tr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Qe(n,0),i=new Qe(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{let a=this.Xr(s.Yr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ft(ge);return n.forEach(i=>{let o=new Qe(i,0),s=new Qe(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),x.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;H.isDocumentKey(o)||(o=o.child(""));let s=new Qe(new H(o),0),a=new ft(ge);return this.Zr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Yr)),!0)},s),x.resolve(this.ti(a))}ti(e){let n=[];return e.forEach(r=>{let i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Se(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return x.forEach(n.mutations,i=>{let o=new Qe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){let r=new Qe(n,0),i=this.Zr.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var M_=class{constructor(e){this.ri=e,this.docs=(function(){return new He(H.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Ln.newInvalidDocument(n))}getEntries(e,n){let r=Rr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ln.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Rr(),s=n.path,a=new H(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||uj(cj(f),r)<=0||(i.has(f.key)||lh(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,n,r,i){q(9500)}ii(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new x_(this)}getSize(e){return x.resolve(this.size)}},x_=class extends D_{constructor(e){super(),this.Nr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}};var P_=class{constructor(e){this.persistence=e,this.si=new Ar(n=>SE(n),AE),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.oi=0,this._i=new au,this.targetCount=0,this.ai=su.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),x.resolve()}Pr(e){this.si.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ai=new su(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Pr(n),x.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.si.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this._i.Hr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this._i.containsKey(n))}};var qf=class{constructor(e,n){this.ui={},this.overlays={},this.ci=new IE(0),this.li=!1,this.li=!0,this.hi=new R_,this.referenceDelegate=e(this),this.Pi=new P_(this),this.indexManager=new __,this.remoteDocumentCache=(function(i){return new M_(i)})(r=>this.referenceDelegate.Ti(r)),this.serializer=new v_(n),this.Ii=new S_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new A_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new N_(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){F("MemoryPersistence","Starting transaction:",e);let i=new O_(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return x.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}},O_=class extends Hv{constructor(e){super(),this.currentSequenceNumber=e}},k_=class t{constructor(e){this.persistence=e,this.Ri=new au,this.Vi=null}static mi(e){return new t(e)}get fi(){if(this.Vi)return this.Vi;throw q(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),x.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.fi,r=>{let i=H.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,ne.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return x.or([()=>x.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}},Gf=class t{constructor(e,n){this.persistence=e,this.pi=new Ar(r=>hj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=fU(this,n)}static mi(e,n){return new t(e,n)}Ei(){}di(e){return x.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){let n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return x.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?x.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ne.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),x.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),x.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Af(e.data.value)),n}br(e,n,r){return x.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.pi.get(n);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var L_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=me(),i=me();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var F_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var V_=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return u0()?8:dj(lt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new F_;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(As()<=he.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",Rs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),x.resolve()):(As()<=he.DEBUG&&F("QueryEngine","Query:",Rs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(As()<=he.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",Rs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(n))):x.resolve())}ys(e,n){if(q0(n))return x.resolve(null);let r=or(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=r_(n,null,"F"),r=or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=me(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.Ds(n,a);return this.Cs(n,l,s,u.readTime)?this.ys(e,r_(n,null,"F")):this.vs(e,l,n,u)}))})))}ws(e,n,r,i){return q0(n)||i.isEqual(ne.min())?x.resolve(null):this.ps.getDocuments(e,r).next(o=>{let s=this.Ds(n,o);return this.Cs(n,s,r,i)?x.resolve(null):(As()<=he.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Rs(n)),this.vs(e,s,n,aj(i,Xc)).next(a=>a))})}Ds(e,n){let r=new ft(QA(e));return n.forEach((i,o)=>{lh(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return As()<=he.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",Rs(n)),this.ps.getDocumentsMatchingQuery(e,n,mo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var ME="LocalStore",hU=3e8,j_=class{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new He(ge),this.xs=new Ar(o=>SE(o),AE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new b_(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}};function pU(t,e,n,r){return new j_(t,e,n,r)}async function gR(t,e){let n=X(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=me();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){a.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Ls:l,removedBatchIds:s,addedBatchIds:a}))})})}function gU(t,e){let n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,f){let p=l.batch,m=p.keys(),y=x.resolve();return m.forEach(S=>{y=y.next(()=>f.getEntry(u,S)).next(A=>{let R=l.docVersions.get(S);Se(R!==null,48541),A.version.compareTo(R)<0&&(p.applyToRemoteDocument(A,l),A.isValidDocument()&&(A.setReadTime(l.commitVersion),f.addEntry(A)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=me();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function mR(t){let e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function mU(t,e){let n=X(t),r=e.snapshotVersion,i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;let a=[];e.targetChanges.forEach((f,p)=>{let m=i.get(p);if(!m)return;a.push(n.Pi.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(o,f.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Tt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(p,y),(function(A,R,L){return A.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=hU?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(m,y,f)&&a.push(n.Pi.updateTargetData(o,y))});let u=Rr(),l=me();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push(yU(o,s,e.documentUpdates).next(f=>{u=f.ks,l=f.qs})),!r.isEqual(ne.min())){let f=n.Pi.getLastRemoteSnapshotVersion(o).next(p=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(f)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Ms=i,o))}function yU(t,e,n){let r=me(),i=me();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Rr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):F(ME,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{ks:s,qs:i}})}function vU(t,e){let n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=wE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _U(t,e){let n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new ou(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function U_(t,e,n){let r=X(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ea(s))throw s;F(ME,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function rA(t,e,n){let r=X(t),i=ne.min(),o=me();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,f){let p=X(u),m=p.xs.get(f);return m!==void 0?x.resolve(p.Ms.get(m)):p.Pi.getTargetData(l,f)})(r,s,or(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:ne.min(),n?o:me())).next(a=>(EU(r,Mj(e),a),{documents:a,Qs:o})))}function EU(t,e,n){let r=t.Os.get(e)||ne.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}var Wf=class{constructor(){this.activeTargetIds=Fj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var B_=class{constructor(){this.Mo=new Wf,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Wf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var $_=class{Oo(e){}shutdown(){}};var iA="ConnectivityMonitor",Kf=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){F(iA,"Network connectivity changed: AVAILABLE");for(let e of this.qo)e(0)}ko(){F(iA,"Network connectivity changed: UNAVAILABLE");for(let e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Sf=null;function H_(){return Sf===null?Sf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sf++,"0x"+Sf.toString(16)}var xv="RestConnection",IU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},z_=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Lf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){let s=H_(),a=this.zo(e,n.toUriEncodedString());F(xv,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,o);let{host:l}=new URL(a),f=si(l);return this.Jo(e,a,u,r,f).then(p=>(F(xv,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Vs(xv,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){let r=IU[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}};var q_=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}};var wt="WebChannelConnection",G_=class extends z_{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){let s=H_();return new Promise((a,u)=>{let l=new Cv;l.setWithCredentials(!0),l.listenOnce(bv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case qc.NO_ERROR:let p=l.getResponseJson();F(wt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case qc.TIMEOUT:F(wt,`RPC '${e}' ${s} timed out`),u(new j(M.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:let m=l.getStatus();if(F(wt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let S=y?.error;if(S&&S.status&&S.message){let A=(function(L){let re=L.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(re)>=0?re:M.UNKNOWN})(S.status);u(new j(A,S.message))}else u(new j(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new j(M.UNAVAILABLE,"Connection failed."));break;default:q(9055,{l_:e,streamId:s,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{F(wt,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);F(wt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",f,r,15)})}T_(e,n,r){let i=H_(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Rv(),a=Av(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");F(wt,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u);this.I_(p);let m=!1,y=!1,S=new q_({Yo:R=>{y?F(wt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(F(wt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),F(wt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Zo:()=>p.close()}),A=(R,L,re)=>{R.listen(L,pe=>{try{re(pe)}catch(Dt){setTimeout(()=>{throw Dt},0)}})};return A(p,Ss.EventType.OPEN,()=>{y||(F(wt,`RPC '${e}' stream ${i} transport opened.`),S.o_())}),A(p,Ss.EventType.CLOSE,()=>{y||(y=!0,F(wt,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(p))}),A(p,Ss.EventType.ERROR,R=>{y||(y=!0,Vs(wt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),S.a_(new j(M.UNAVAILABLE,"The operation could not be completed")))}),A(p,Ss.EventType.MESSAGE,R=>{if(!y){let L=R.data[0];Se(!!L,16349);let re=L,pe=re?.error||re[0]?.error;if(pe){F(wt,`RPC '${e}' stream ${i} received error:`,pe);let Dt=pe.status,Ot=(function(v){let E=Ke[v];if(E!==void 0)return sR(E)})(Dt),it=pe.message;Ot===void 0&&(Ot=M.INTERNAL,it="Unknown error status: "+Dt+" with message "+pe.message),y=!0,S.a_(new j(Ot,it)),p.close()}else F(wt,`RPC '${e}' stream ${i} received:`,L),S.u_(L)}}),A(a,Sv.STAT_EVENT,R=>{R.stat===Df.PROXY?F(wt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Df.NOPROXY&&F(wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}};function Pv(){return typeof document<"u"?document:null}function dh(t){return new h_(t,!0)}var Qf=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};var oA="PersistentStream",Yf=class{constructor(e,n,r,i,o,s,a,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Qf(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Cr(n.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{let i=new j(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){let r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return F(oA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(F(oA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},W_=class extends Yf{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let n=Xj(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ne.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?sr(s.readTime):ne.min()})(e);return this.listener.H_(n,r)}Y_(e){let n={};n.database=y_(this.serializer),n.addTarget=(function(o,s){let a,u=s.target;if(a=n_(u)?{documents:nU(o,u)}:{query:rU(o,u).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=aR(o,s.resumeToken);let l=p_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ne.min())>0){a.readTime=Hf(o,s.snapshotVersion.toTimestamp());let l=p_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=oU(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){let n={};n.database=y_(this.serializer),n.removeTarget=e,this.q_(n)}},K_=class extends Yf{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Se(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Se(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let n=tU(e.writeResults,e.commitTime),r=sr(e.commitTime);return this.listener.na(r,n)}ra(){let e={};e.database=y_(this.serializer),this.q_(e)}ea(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>eU(this.serializer,r))};this.q_(n)}};var Q_=class{},Y_=class extends Q_{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new j(M.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,g_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new j(M.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,g_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(M.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}},J_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cr(n),this.aa=!1):F("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var Io="RemoteStore",Z_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{To(this)&&(F(Io,"Restarting streams for network reachability change."),await(async function(u){let l=X(u);l.Ea.add(4),await du(l),l.Ra.set("Unknown"),l.Ea.delete(4),await fh(l)})(this))})}),this.Ra=new J_(r,i)}};async function fh(t){if(To(t))for(let e of t.da)await e(!0)}async function du(t){for(let e of t.da)await e(!1)}function yR(t,e){let n=X(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),kE(n)?OE(n):ta(n).O_()&&PE(n,e))}function xE(t,e){let n=X(t),r=ta(n);n.Ia.delete(e),r.O_()&&vR(n,e),n.Ia.size===0&&(r.O_()?r.L_():To(n)&&n.Ra.set("Unknown"))}function PE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ta(t).Y_(e)}function vR(t,e){t.Va.Ue(e),ta(t).Z_(e)}function OE(t){t.Va=new f_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ta(t).start(),t.Ra.ua()}function kE(t){return To(t)&&!ta(t).x_()&&t.Ia.size>0}function To(t){return X(t).Ea.size===0}function _R(t){t.Va=void 0}async function wU(t){t.Ra.set("Online")}async function TU(t){t.Ia.forEach((e,n)=>{PE(t,e)})}async function DU(t,e){_R(t),kE(t)?(t.Ra.ha(e),OE(t)):t.Ra.set("Unknown")}async function CU(t,e,n){if(t.Ra.set("Online"),e instanceof Bf&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))})(t,e)}catch(r){F(Io,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jf(t,r)}else if(e instanceof Os?t.Va.Ze(e):e instanceof Uf?t.Va.st(e):t.Va.tt(e),!n.isEqual(ne.min()))try{let r=await mR(t.localStore);n.compareTo(r)>=0&&await(function(o,s){let a=o.Va.Tt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.Ia.get(l);f&&o.Ia.set(l,f.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let f=o.Ia.get(u);if(!f)return;o.Ia.set(u,f.withResumeToken(Tt.EMPTY_BYTE_STRING,f.snapshotVersion)),vR(o,u);let p=new ou(f.target,u,l,f.sequenceNumber);PE(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){F(Io,"Failed to raise snapshot:",r),await Jf(t,r)}}async function Jf(t,e,n){if(!ea(e))throw e;t.Ea.add(1),await du(t),t.Ra.set("Offline"),n||(n=()=>mR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{F(Io,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await fh(t)})}function ER(t,e){return e().catch(n=>Jf(t,n,e))}async function hh(t){let e=X(t),n=yi(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wE;for(;bU(e);)try{let i=await vU(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,SU(e,i)}catch(i){await Jf(e,i)}IR(e)&&wR(e)}function bU(t){return To(t)&&t.Ta.length<10}function SU(t,e){t.Ta.push(e);let n=yi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function IR(t){return To(t)&&!yi(t).x_()&&t.Ta.length>0}function wR(t){yi(t).start()}async function AU(t){yi(t).ra()}async function RU(t){let e=yi(t);for(let n of t.Ta)e.ea(n.mutations)}async function NU(t,e,n){let r=t.Ta.shift(),i=c_.from(r,e,n);await ER(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await hh(t)}async function MU(t,e){e&&yi(t).X_&&await(async function(r,i){if((function(s){return zj(s)&&s!==M.ABORTED})(i.code)){let o=r.Ta.shift();yi(r).B_(),await ER(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await hh(r)}})(t,e),IR(t)&&wR(t)}async function sA(t,e){let n=X(t);n.asyncQueue.verifyOperationInProgress(),F(Io,"RemoteStore received new credentials");let r=To(n);n.Ea.add(3),await du(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await fh(n)}async function xU(t,e){let n=X(t);e?(n.Ea.delete(2),await fh(n)):e||(n.Ea.add(2),await du(n),n.Ra.set("Unknown"))}function ta(t){return t.ma||(t.ma=(function(n,r,i){let o=X(n);return o.sa(),new W_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:wU.bind(null,t),t_:TU.bind(null,t),r_:DU.bind(null,t),H_:CU.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),kE(t)?OE(t):t.Ra.set("Unknown")):(await t.ma.stop(),_R(t))})),t.ma}function yi(t){return t.fa||(t.fa=(function(n,r,i){let o=X(n);return o.sa(),new K_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:AU.bind(null,t),r_:MU.bind(null,t),ta:RU.bind(null,t),na:NU.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await hh(t)):(await t.fa.stop(),t.Ta.length>0&&(F(Io,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}var X_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function LE(t,e){if(Cr("AsyncQueue",`${e}: ${t}`),ea(t))return new j(M.UNAVAILABLE,`${e}: ${t}`);throw t}var Zf=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=Gc(),this.sortedSet=new He(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Xf=class{constructor(){this.ga=new He(H.comparator)}track(e){let n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):q(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){let e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}},Qs=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Zf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var eE=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}},tE=class{constructor(){this.queries=aA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){let i=X(n),o=i.queries;i.queries=aA(),o.forEach((s,a)=>{for(let u of a.Sa)u.onError(r)})})(this,new j(M.ABORTED,"Firestore shutting down"))}};function aA(){return new Ar(t=>KA(t),uh)}async function PU(t,e){let n=X(t),r=3,i=e.query,o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new eE,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){let a=LE(s,`Initialization of query '${Rs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&FE(n)}async function OU(t,e){let n=X(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kU(t,e){let n=X(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&FE(n)}function LU(t,e,n){let r=X(t),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(n);r.queries.delete(e)}function FE(t){t.Ca.forEach(e=>{e.next()})}var nE,cA;(cA=nE||(nE={})).Ma="default",cA.Cache="cache";var rE=class{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Qs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;let r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Qs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==nE.Cache}};var eh=class{constructor(e){this.key=e}},th=class{constructor(e){this.key=e}},iE=class{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=me(),this.mutatedKeys=me(),this.eu=QA(e),this.tu=new Zf(this.eu)}get nu(){return this.Ya}ru(e,n){let r=n?n.iu:new Xf,i=n?n.tu:this.tu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let m=i.get(f),y=lh(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?S!==A&&(r.track({type:3,doc:y}),R=!0):this.su(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.eu(y,u)>0||l&&this.eu(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=A?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let s=e.iu.ya();s.sort((f,p)=>(function(y,S){let A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q(20277,{Rt:R})}};return A(y)-A(S)})(f.type,p.type)||this.eu(f.doc,p.doc)),this.ou(r),i=i??!1;let a=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,l=u!==this.Za;return this.Za=u,s.length!==0||l?{snapshot:new Qs(this.query,e.tu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Xf,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=me(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});let n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new th(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new eh(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=me();let n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Qs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},VE="SyncEngine",oE=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},sE=class{constructor(e){this.key=e,this.hu=!1}},aE=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Ar(a=>KA(a),uh),this.Iu=new Map,this.Eu=new Set,this.du=new He(H.comparator),this.Au=new Map,this.Ru=new au,this.Vu={},this.mu=new Map,this.fu=su.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function FU(t,e,n=!0){let r=AR(t),i,o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await TR(r,e,n,!0),i}async function VU(t,e){let n=AR(t);await TR(n,e,!0,!1)}async function TR(t,e,n,r){let i=await _U(t.localStore,or(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=await jU(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&yR(t.remoteStore,i),a}async function jU(t,e,n,r,i){t.pu=(p,m,y)=>(async function(A,R,L,re){let pe=R.view.ru(L);pe.Cs&&(pe=await rA(A.localStore,R.query,!1).then(({documents:w})=>R.view.ru(w,pe)));let Dt=re&&re.targetChanges.get(R.targetId),Ot=re&&re.targetMismatches.get(R.targetId)!=null,it=R.view.applyChanges(pe,A.isPrimaryClient,Dt,Ot);return lA(A,R.targetId,it.au),it.snapshot})(t,p,m,y);let o=await rA(t.localStore,e,!0),s=new iE(e,o.Qs),a=s.ru(o.documents),u=iu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);lA(t,n,l.au);let f=new oE(e,n,s);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),l.snapshot}async function UU(t,e,n){let r=X(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!uh(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await U_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&xE(r.remoteStore,i.targetId),cE(r,i.targetId)}).catch(Xs)):(cE(r,i.targetId),await U_(r.localStore,i.targetId,!0))}async function BU(t,e){let n=X(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xE(n.remoteStore,r.targetId))}async function $U(t,e,n){let r=QU(t);try{let i=await(function(s,a){let u=X(s),l=Je.now(),f=a.reduce((y,S)=>y.add(S.key),me()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=Rr(),A=me();return u.Ns.getEntries(y,f).next(R=>{S=R,S.forEach((L,re)=>{re.isValidDocument()||(A=A.add(L))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,S)).next(R=>{p=R;let L=[];for(let re of a){let pe=Hj(re,p.get(re.key).overlayedDocument);pe!=null&&L.push(new Nr(re.key,pe,BA(pe.value.mapValue),di.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,L,a)}).next(R=>{m=R;let L=R.applyToLocalDocumentSet(p,A);return u.documentOverlayCache.saveOverlays(y,R.batchId,L)})}).then(()=>({batchId:m.batchId,changes:JA(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Vu[s.currentUser.toKey()];l||(l=new He(ge)),l=l.insert(a,u),s.Vu[s.currentUser.toKey()]=l})(r,i.batchId,n),await fu(r,i.changes),await hh(r.remoteStore)}catch(i){let o=LE(i,"Failed to persist write");n.reject(o)}}async function DR(t,e){let n=X(t);try{let r=await mU(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Au.get(o);s&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Se(s.hu,14607):i.removedDocuments.size>0&&(Se(s.hu,42227),s.hu=!1))}),await fu(n,r,e)}catch(r){await Xs(r)}}function uA(t,e,n){let r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Tu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=X(s);u.onlineState=a;let l=!1;u.queries.forEach((f,p)=>{for(let m of p.Sa)m.va(a)&&(l=!0)}),l&&FE(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function HU(t,e,n){let r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Au.get(e),o=i&&i.key;if(o){let s=new He(H.comparator);s=s.insert(o,Ln.newNoDocument(o,ne.min()));let a=me().add(o),u=new jf(ne.min(),new Map,new He(ge),s,a);await DR(r,u),r.du=r.du.remove(o),r.Au.delete(e),jE(r)}else await U_(r.localStore,e,!1).then(()=>cE(r,e,n)).catch(Xs)}async function zU(t,e){let n=X(t),r=e.batch.batchId;try{let i=await gU(n.localStore,e);bR(n,r,null),CR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fu(n,i)}catch(i){await Xs(i)}}async function qU(t,e,n){let r=X(t);try{let i=await(function(s,a){let u=X(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Se(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})})(r.localStore,e);bR(r,e,n),CR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fu(r,i)}catch(i){await Xs(i)}}function CR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function bR(t,e,n){let r=X(t),i=r.Vu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function cE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||SR(t,r)})}function SR(t,e){t.Eu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(xE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),jE(t))}function lA(t,e,n){for(let r of n)r instanceof eh?(t.Ru.addReference(r.key,e),GU(t,r)):r instanceof th?(F(VE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||SR(t,r.key)):q(19791,{wu:r})}function GU(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(F(VE,"New document in limbo: "+n),t.Eu.add(r),jE(t))}function jE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Eu.values().next().value;t.Eu.delete(e);let n=new H(je.fromString(e)),r=t.fu.next();t.Au.set(r,new sE(n)),t.du=t.du.insert(n,r),yR(t.remoteStore,new ou(or(WA(n.path)),r,"TargetPurposeLimboResolution",IE.ce))}}async function fu(t,e,n){let r=X(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{s.push(r.pu(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient){let f=l?!l.fromCache:n?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(l){i.push(l);let f=L_.As(u.targetId,l);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await(async function(u,l){let f=X(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.Es,y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>x.forEach(m.ds,y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!ea(p))throw p;F(ME,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=f.Ms.get(m),S=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(S);f.Ms=f.Ms.insert(m,A)}}})(r.localStore,o))}async function WU(t,e){let n=X(t);if(!n.currentUser.isEqual(e)){F(VE,"User change. New user:",e.toKey());let r=await gR(n.localStore,e);n.currentUser=e,(function(o,s){o.mu.forEach(a=>{a.forEach(u=>{u.reject(new j(M.CANCELLED,s))})}),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fu(n,r.Ls)}}function KU(t,e){let n=X(t),r=n.Au.get(e);if(r&&r.hu)return me().add(r.key);{let i=me(),o=n.Iu.get(e);if(!o)return i;for(let s of o){let a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function AR(t){let e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HU.bind(null,e),e.Pu.H_=kU.bind(null,e.eventManager),e.Pu.yu=LU.bind(null,e.eventManager),e}function QU(t){let e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qU.bind(null,e),e}var RR=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=dh(n.databaseInfo.databaseId),this.sharedClientState=this.Du(n),this.persistence=this.Cu(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Fu(n,this.localStore),this.indexBackfillerScheduler=this.Mu(n,this.localStore)}Fu(n,r){return null}Mu(n,r){return null}vu(n){return pU(this.persistence,new V_,n.initialUser,this.serializer)}Cu(n){return new qf(k_.mi,this.serializer)}Du(n){return new B_}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return t.provider={build:()=>new t},t})(),uE=class extends RR{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Se(this.persistence.referenceDelegate instanceof Gf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new w_(r,e.asyncQueue,n)}Cu(e){let n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new qf(r=>Gf.mi(r,n),this.serializer)}};var YU=(()=>{class t{async initialize(n,r){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>uA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=WU.bind(null,this.syncEngine),await xU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new tE})()}createDatastore(n){let r=dh(n.databaseInfo.databaseId),i=(function(s){return new G_(s)})(n.databaseInfo);return(function(s,a,u,l){return new Y_(s,a,u,l)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,a,u){return new Z_(i,o,s,a,u)})(this.localStore,this.datastore,n.asyncQueue,r=>uA(this.syncEngine,r,0),(function(){return Kf.v()?new Kf:new $_})())}createSyncEngine(n,r){return(function(o,s,a,u,l,f,p){let m=new aE(o,s,a,u,l,f);return p&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){let i=X(r);F(Io,"RemoteStore shutting down."),i.Ea.add(5),await du(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}return t.provider={build:()=>new t},t})();var lE=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var vi="FirestoreClient",dE=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=dt.UNAUTHENTICATED,this.clientId=Jc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{F(vi,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(F(vi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=LE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function Ov(t,e){t.asyncQueue.verifyOperationInProgress(),F(vi,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await gR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dA(t,e){t.asyncQueue.verifyOperationInProgress();let n=await JU(t);F(vi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>sA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>sA(e.remoteStore,i)),t._onlineComponents=e}async function JU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F(vi,"Using user provided OfflineComponentProvider");try{await Ov(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Vs("Error using user provided cache. Falling back to memory cache: "+n),await Ov(t,new RR)}}else F(vi,"Using default OfflineComponentProvider"),await Ov(t,new uE(void 0));return t._offlineComponents}async function NR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(F(vi,"Using user provided OnlineComponentProvider"),await dA(t,t._uninitializedComponentsProvider._online)):(F(vi,"Using default OnlineComponentProvider"),await dA(t,new YU))),t._onlineComponents}function ZU(t){return NR(t).then(e=>e.syncEngine)}async function XU(t){let e=await NR(t),n=e.eventManager;return n.onListen=FU.bind(null,e.syncEngine),n.onUnlisten=UU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BU.bind(null,e.syncEngine),n}function eB(t,e,n={}){let r=new rr;return t.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,u,l){let f=new lE({next:m=>{f.Nu(),s.enqueueAndForget(()=>OU(o,p)),m.fromCache&&u.source==="server"?l.reject(new j(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new rE(a,f,{includeMetadataChanges:!0,qa:!0});return PU(o,p)})(await XU(t),t.asyncQueue,e,n,r)),r.promise}function MR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var fA=new Map;var xR="firestore.googleapis.com",hA=!0,nh=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new j(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xR,this.ssl=hA}else this.host=e.host,this.ssl=e.ssl??hA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dU)throw new j(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new j(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new j(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new j(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ys=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new j(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new j(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new kv;switch(r.type){case"firstParty":return new jv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new j(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=fA.get(n);r&&(F("ComponentProvider","Removing Datastore"),fA.delete(n),r.terminate())})(this),Promise.resolve()}};function tB(t,e,n,r={}){t=Zc(t,Ys);let i=si(e),o=t._getSettings(),s=ie(N({},o),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i&&(yf(`https://${a}`),vf("Firestore",!0)),o.host!==xR&&o.host!==a&&Vs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=ie(N({},o),{host:a,ssl:i,emulatorOptions:r});if(!er(u,s)&&(t._setSettings(u),r.mockUserToken)){let l,f;if(typeof r.mockUserToken=="string")l=r.mockUserToken,f=dt.MOCK_USER;else{l=r0(r.mockUserToken,t._app?.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new j(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new dt(p)}t._authCredentials=new Lv(new Mf(l,f))}}var rh=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},qt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(lu(n,t._jsonSchema))return new t(e,r||null,new H(je.fromString(n.referencePath)))}};qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:Ye("string",qt._jsonSchemaVersion),referencePath:Ye("string")};var fi=class t extends rh{constructor(e,n,r){super(e,n,WA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new H(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function hu(t,e,...n){if(t=Xt(t),yA("collection","path",e),t instanceof Ys){let r=je.fromString(e,...n);return P0(r),new fi(t,null,r)}{if(!(t instanceof qt||t instanceof fi))throw new j(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(je.fromString(e,...n));return P0(r),new fi(t.firestore,null,r)}}function ph(t,e,...n){if(t=Xt(t),arguments.length===1&&(e=Jc.newId()),yA("doc","path",e),t instanceof Ys){let r=je.fromString(e,...n);return x0(r),new qt(t,null,new H(r))}{if(!(t instanceof qt||t instanceof fi))throw new j(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(je.fromString(e,...n));return x0(r),new qt(t.firestore,t instanceof fi?t.converter:null,new H(r))}}var pA="AsyncQueue",ih=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Qf(this,"async_queue_retry"),this._c=()=>{let r=Pv();r&&F(pA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let n=Pv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let n=Pv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let n=new rr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ea(e))throw e;F(pA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Cr("INTERNAL UNHANDLED ERROR: ",gA(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);let i=X_.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&q(47125,{Pc:gA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){let n=this.tc.indexOf(e);this.tc.splice(n,1)}};function gA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var Js=class extends Ys{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ih,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new ih(e),this._firestoreClient=void 0,await e}}};function PR(t,e){let n=typeof t=="object"?t:wf(),r=typeof t=="string"?t:e||Lf,i=zc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=n0("firestore");o&&tB(i,...o)}return i}function OR(t){if(t._terminated)throw new j(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nB(t),t._firestoreClient}function nB(t){let e=t._freezeSettings(),n=(function(i,o,s,a){return new zv(i,o,s,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,MR(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new dE(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){let o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(t._componentsProvider))}var hi=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Tt.fromBase64String(e))}catch(n){throw new j(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lu(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};hi._jsonSchemaVersion="firestore/bytes/1.0",hi._jsonSchema={type:Ye("string",hi._jsonSchemaVersion),bytes:Ye("string")};var cu=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new j(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var uu=class{constructor(e){this._methodName=e}};var pi=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new j(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new j(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(lu(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};pi._jsonSchemaVersion="firestore/geoPoint/1.0",pi._jsonSchema={type:Ye("string",pi._jsonSchemaVersion),latitude:Ye("number"),longitude:Ye("number")};var gi=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lu(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new j(M.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};gi._jsonSchemaVersion="firestore/vectorValue/1.0",gi._jsonSchema={type:Ye("string",gi._jsonSchemaVersion),vectorValues:Ye("object")};var rB=/^__.*__$/,fE=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Nr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eo(e,this.data,n,this.fieldTransforms)}};function kR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q(40011,{Ac:t})}}var hE=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new t(N(N({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){let n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return oh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(kR(this.Ac)&&rB.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}},pE=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dh(e)}Cc(e,n,r,i=!1){return new hE({Ac:e,methodName:n,Dc:r,path:tn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function iB(t){let e=t._freezeSettings(),n=dh(t._databaseId);return new pE(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oB(t,e,n,r,i,o={}){let s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);jR("Data must be an object, but it was:",s,r);let a=FR(r,s),u,l;if(o.merge)u=new nr(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let m=sB(e,p,n);if(!s.contains(m))throw new j(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);cB(f,m)||f.push(m)}u=new nr(f),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new fE(new kn(a),u,l)}var gE=class t extends uu{_toFieldTransform(e){return new i_(e.path,new yo)}isEqual(e){return e instanceof t}};function LR(t,e){if(VR(t=Xt(t)))return jR("Unsupported field value:",e,t),FR(t,e);if(t instanceof uu)return(function(r,i){if(!kR(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=LR(a,i.wc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Vj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Je.fromDate(r);return{timestampValue:Hf(i.serializer,o)}}if(r instanceof Je){let o=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hf(i.serializer,o)}}if(r instanceof pi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hi)return{bytesValue:aR(i.serializer,r._byteString)};if(r instanceof qt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:NE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof gi)return(function(s,a){return{mapValue:{fields:{[DE]:{stringValue:CE},[Us]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Sc("VectorValues must only contain numeric values.");return RE(a.serializer,l)})}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${EE(r)}`)})(t,e)}function FR(t,e){let n={};return PA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wo(t,(r,i)=>{let o=LR(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function VR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof pi||t instanceof hi||t instanceof qt||t instanceof uu||t instanceof gi)}function jR(t,e,n){if(!VR(n)||!vA(n)){let r=EE(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function sB(t,e,n){if((e=Xt(e))instanceof cu)return e._internalPath;if(typeof e=="string")return UR(t,e);throw oh("Field path arguments must be of type string or ",t,!1,void 0,n)}var aB=new RegExp("[~\\*/\\[\\]]");function UR(t,e,n){if(e.search(aB)>=0)throw oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cu(...e.split("."))._internalPath}catch{throw oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function oh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new j(M.INVALID_ARGUMENT,a+t+u)}function cB(t,e){return t.some(n=>n.isEqual(e))}var sh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new mE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(BR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},mE=class extends sh{data(){return super.data()}};function BR(t,e){return typeof e=="string"?UR(t,e):e instanceof cu?e._internalPath:e._delegate._internalPath}function uB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new j(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var yE=class{convertValue(e,n="none"){switch(mi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return wo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){let n=e.fields?.[Us].arrayValue?.values?.map(r=>Ve(r.doubleValue));return new gi(n)}convertGeoPoint(e){return new pi(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=ch(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){let n=br(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=je.fromString(e);Se(hR(r),9688,{name:e});let i=new Ff(r.get(1),r.get(3)),o=new H(r.popFirst(5));return i.isEqual(n)||Cr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function lB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ps=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ks=class t extends sh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ls(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(BR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new j(M.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",ks._jsonSchema={type:Ye("string",ks._jsonSchemaVersion),bundleSource:Ye("string","DocumentSnapshot"),bundleName:Ye("string"),bundle:Ye("string")};var Ls=class extends ks{data(e={}){return super.data(e)}},Fs=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ps(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ls(this._firestore,this._userDataWriter,r.key,r,new Ps(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Ls(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ps(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Ls(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ps(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),f=s.indexOf(a.doc.key)),{type:dB(a.type),doc:u,oldIndex:l,newIndex:f}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new j(M.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function dB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q(61501,{type:t})}}Fs._jsonSchemaVersion="firestore/querySnapshot/1.0",Fs._jsonSchema={type:Ye("string",Fs._jsonSchemaVersion),bundleSource:Ye("string","QuerySnapshot"),bundleName:Ye("string"),bundle:Ye("string")};var vE=class extends yE{constructor(e){super(),this.firestore=e}convertBytes(e){return new hi(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}};function UE(t){t=Zc(t,rh);let e=Zc(t.firestore,Js),n=OR(e),r=new vE(e);return uB(t._query),eB(n,t._query).then(i=>new Fs(e,r,t,i))}function BE(t){return $R(Zc(t.firestore,Js),[new ru(t._key,di.none())])}function $E(t,e){let n=Zc(t.firestore,Js),r=ph(t),i=lB(t.converter,e);return $R(n,[oB(iB(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,di.exists(!1))]).then(()=>r)}function $R(t,e){return(function(r,i){let o=new rr;return r.asyncQueue.enqueueAndForget(async()=>$U(await ZU(r),i,o)),o.promise})(OR(t),e)}function HE(){return new gE("serverTimestamp")}(function(e,n=!0){(function(i){Zs=i})(li),ui(new pn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Js(new Fv(r.getProvider("auth-internal")),new Uv(s,r.getProvider("app-check-internal")),(function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new j(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ff(l.options.projectId,f)})(s,i),s);return o=N({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),On(R0,N0,e),On(R0,N0,"esm2020")})();function rN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var iN=rN,oN=new Ir("auth","Firebase",rN());var Eh=new ai("@firebase/auth");function fB(t,...e){Eh.logLevel<=he.WARN&&Eh.warn(`Auth (${li}): ${t}`,...e)}function mh(t,...e){Eh.logLevel<=he.ERROR&&Eh.error(`Auth (${li}): ${t}`,...e)}function wi(t,...e){throw uI(t,...e)}function Do(t,...e){return uI(t,...e)}function sN(t,e,n){let r=ie(N({},iN()),{[e]:n});return new Ir("auth","Firebase",r).create(e,{appName:t.name})}function Ii(t){return sN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uI(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oN.create(t,...e)}function Y(t,e,...n){if(!t)throw uI(e,...n)}function Mr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw mh(e),new Error(e)}function Ti(t,e){t||Mr(e)}function WE(){return typeof self<"u"&&self.location?.href||""}function hB(){return HR()==="http:"||HR()==="https:"}function HR(){return typeof self<"u"&&self.location?.protocol||null}function pB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hB()||s0()||"connection"in navigator)?navigator.onLine:!0}function gB(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Co=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ti(n>e,"Short delay should be less than long delay!"),this.isMobile=i0()||a0()}get(){return pB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function lI(t,e){Ti(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ih=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var mB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var yB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vB=new Co(3e4,6e4);function xh(t,e){return t.tenantId&&!e.tenantId?ie(N({},e),{tenantId:t.tenantId}):e}async function na(t,e,n,r,i={}){return aN(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=$c(N({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);let l=N({method:e,headers:u},o);return o0()||(l.referrerPolicy="no-referrer"),t.emulatorConfig&&si(t.emulatorConfig.host)&&(l.credentials="include"),Ih.fetch()(await uN(t,t.config.apiHost,n,a),l)})}async function aN(t,e,n){t._canInitEmulator=!1;let r=N(N({},mB),e);try{let i=new KE(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw gh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw gh(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw gh(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw gh(t,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw sN(t,f,l);wi(t,f)}}catch(i){if(i instanceof Zt)throw i;wi(t,"network-request-failed",{message:String(i)})}}async function cN(t,e,n,r,i={}){let o=await na(t,e,n,r,i);return"mfaPendingCredential"in o&&wi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function uN(t,e,n,r){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?lI(t.config,i):`${t.config.apiScheme}://${i}`;return yB.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var KE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Do(this.auth,"network-request-failed")),vB.get())})}};function gh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Do(t,e,r);return i.customData._tokenResponse=n,i}async function _B(t,e){return na(t,"POST","/v1/accounts:delete",e)}async function wh(t,e){return na(t,"POST","/v1/accounts:lookup",e)}function pu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lN(t,e=!1){let n=Xt(t),r=await n.getIdToken(e),i=dI(r);Y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:pu(zE(i.auth_time)),issuedAtTime:pu(zE(i.iat)),expirationTime:pu(zE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function zE(t){return Number(t)*1e3}function dI(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{let i=gf(n);return i?JSON.parse(i):(mh("Failed to decode base64 JWT payload"),null)}catch(i){return mh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function zR(t){let e=dI(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function mu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Zt&&EB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function EB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var QE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var yu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pu(this.lastLoginAt),this.creationTime=pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Th(t){let e=t.auth,n=await t.getIdToken(),r=await mu(t,wh(e,{idToken:n}));Y(r?.users.length,e,"internal-error");let i=r.users[0];t._notifyReloadListener(i);let o=i.providerUserInfo?.length?fN(i.providerUserInfo):[],s=IB(t.providerData,o),a=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!s?.length,l=a?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new yu(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(t,f)}async function dN(t){let e=Xt(t);await Th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function fN(t){return t.map(r=>{var i=r,{providerId:e}=i,n=yp(i,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}async function wB(t,e){let n=await aN(t,{},async()=>{let r=$c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await uN(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return t.emulatorConfig&&si(t.emulatorConfig.host)&&(u.credentials="include"),Ih.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function TB(t,e){return na(t,"POST","/v2/accounts:revokeToken",xh(t,e))}var gu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");let n=zR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await wB(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Y(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Y(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Mr("not implemented")}};function _i(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ei=class t{constructor(o){var s=o,{uid:e,auth:n,stsTokenManager:r}=s,i=yp(s,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new yu(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let n=await mu(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lN(this,e)}reload(){return dN(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>N({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(ie(N({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Th(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(en(this.auth.app))return Promise.reject(Ii(this.auth));let e=await this.getIdToken();return await mu(this,_B(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return ie(N({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>N({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){let r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,u=n._redirectEventId??void 0,l=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:y,providerData:S,stsTokenManager:A}=n;Y(p&&A,e,"internal-error");let R=gu.fromJSON(this.name,A);Y(typeof p=="string",e,"internal-error"),_i(r,e.name),_i(i,e.name),Y(typeof m=="boolean",e,"internal-error"),Y(typeof y=="boolean",e,"internal-error"),_i(o,e.name),_i(s,e.name),_i(a,e.name),_i(u,e.name),_i(l,e.name),_i(f,e.name);let L=new t({uid:p,auth:e,email:i,emailVerified:m,displayName:r,isAnonymous:y,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:R,createdAt:l,lastLoginAt:f});return S&&Array.isArray(S)&&(L.providerData=S.map(re=>N({},re))),u&&(L._redirectEventId=u),L}static async _fromIdTokenResponse(e,n,r=!1){let i=new gu;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Th(o),o}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];Y(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?fN(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new gu;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new yu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var qR=new Map;function xr(t){Ti(t instanceof Function,"Expected a class definition");let e=qR.get(t);return e?(Ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qR.set(t,e),e)}var DB=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),YE=DB;function yh(t,e,n){return`firebase:${t}:${e}:${n}`}var Dh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=yh(this.userKey,i.apiKey,o),this.fullPersistenceKey=yh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await wh(this.auth,{idToken:e}).catch(()=>{});return n?Ei._fromGetAccountInfoResponse(this.auth,n,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(xr(YE),e,r);let i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||xr(YE),s=yh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let f=await l._get(s);if(f){let p;if(typeof f=="string"){let m=await wh(e,{idToken:f}).catch(()=>{});if(!m)break;p=await Ei._fromGetAccountInfoResponse(e,m,f)}else p=Ei._fromJSON(e,f);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new t(o,e,r))}};function GR(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vN(e))return"Blackberry";if(_N(e))return"Webos";if(pN(e))return"Safari";if((e.includes("chrome/")||gN(e))&&!e.includes("edge/"))return"Chrome";if(yN(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function hN(t=lt()){return/firefox\//i.test(t)}function pN(t=lt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gN(t=lt()){return/crios\//i.test(t)}function mN(t=lt()){return/iemobile/i.test(t)}function yN(t=lt()){return/android/i.test(t)}function vN(t=lt()){return/blackberry/i.test(t)}function _N(t=lt()){return/webos/i.test(t)}function fI(t=lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function CB(t=lt()){return fI(t)&&!!window.navigator?.standalone}function bB(){return c0()&&document.documentMode===10}function EN(t=lt()){return fI(t)||yN(t)||_N(t)||vN(t)||/windows phone/i.test(t)||mN(t)}function IN(t,e=[]){let n;switch(t){case"Browser":n=GR(lt());break;case"Worker":n=`${GR(lt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${li}/${r}`}var JE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function SB(t,e={}){return na(t,"GET","/v2/passwordPolicy",xh(t,e))}var AB=6,ZE=class{constructor(e){let n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??AB,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var XE=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ch(this),this.idTokenSubscription=new Ch(this),this.beforeStateQueue=new JE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Dh.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await wh(this,{idToken:e}),r=await Ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(en(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}let n=await this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=this.redirectUser?._redirectEventId,s=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===s)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Th(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(en(this.app))return Promise.reject(Ii(this));let n=e?Xt(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return en(this.app)?Promise.reject(Ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return en(this.app)?Promise.reject(Ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await SB(this),n=new ZE(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ir("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await TB(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&xr(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await Dh.create(this,[xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(en(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&fB(`Error while retrieving App Check token: ${e.error}`),e?.token}};function Ph(t){return Xt(t)}var Ch=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=f0(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var hI={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RB(t){hI=t}function NB(t){return hI.loadJS(t)}function MB(){return hI.gapiScript}function wN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function TN(t,e){let n=zc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(er(o,e??{}))return i;wi(i,"already-initialized")}return n.initialize({options:e})}function xB(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(xr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function DN(t,e,n){let r=Ph(t);Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=CN(e),{host:s,port:a}=PB(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},f=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Y(er(l,r.config.emulator)&&er(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,si(s)?(yf(`${o}//${s}${u}`),vf("Auth",!0)):i||OB()}function CN(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function PB(t){let e=CN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:WR(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:WR(s)}}}function WR(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function OB(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var bh=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mr("not implemented")}_getIdTokenResponse(e){return Mr("not implemented")}_linkToIdToken(e,n){return Mr("not implemented")}_getReauthenticationResolver(e){return Mr("not implemented")}};async function qE(t,e){return cN(t,"POST","/v1/accounts:signInWithIdp",xh(t,e))}var Sh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var eI=class extends Sh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};async function kB(t,e){return cN(t,"POST","/v1/accounts:signUp",xh(t,e))}var bo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){let o=await Ei._fromIdTokenResponse(e,r,i),s=KR(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);let i=KR(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function KR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}async function pI(t){if(en(t.app))return Promise.reject(Ii(t));let e=Ph(t);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new bo({user:e.currentUser,providerId:null,operationType:"signIn"});let n=await kB(e,{returnSecureToken:!0}),r=await bo._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}var tI=class t extends Zt{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function bN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?tI._fromErrorAndOperation(t,o,e,r):o})}async function LB(t,e,n=!1){let r=await mu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bo._forOperation(t,"link",r)}async function FB(t,e,n=!1){let{auth:r}=t;if(en(r.app))return Promise.reject(Ii(r));let i="reauthenticate";try{let o=await mu(t,bN(r,i,e,t),n);Y(o.idToken,r,"internal-error");let s=dI(o.idToken);Y(s,r,"internal-error");let{sub:a}=s;return Y(t.uid===a,r,"user-mismatch"),bo._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&wi(r,"user-mismatch"),o}}async function VB(t,e,n=!1){if(en(t.app))return Promise.reject(Ii(t));let r="signIn",i=await bN(t,r,e),o=await bo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function SN(t,e,n,r){return Xt(t).onIdTokenChanged(e,n,r)}function AN(t,e,n){return Xt(t).beforeAuthStateChanged(e,n)}var Ah="__sak";var Rh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var jB=1e3,UB=10,BB=(()=>{class t extends Rh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EN(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);bB()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,UB):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},jB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(n,r){await super._set(n,r),this.localCache[n]=JSON.stringify(r)}async _get(n){let r=await super._get(n);return this.localCache[n]=JSON.stringify(r),r}async _remove(n){await super._remove(n),delete this.localCache[n]}}return t.type="LOCAL",t})(),RN=BB;var $B=(()=>{class t extends Rh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),gI=$B;function HB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}var zB=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}async handleEvent(n){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(async f=>f(r.origin,s)),l=await HB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function NN(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var nI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=NN("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function ur(){return window}function qB(t){ur().location.href=t}function MN(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function GB(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WB(){return navigator?.serviceWorker?.controller||null}function KB(){return MN()?self:null}var xN="firebaseLocalStorageDb",QB=1,Nh="firebaseLocalStorage",PN="fbase_key",So=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Oh(t,e){return t.transaction([Nh],e?"readwrite":"readonly").objectStore(Nh)}function YB(){let t=indexedDB.deleteDatabase(xN);return new So(t).toPromise()}function rI(){let t=indexedDB.open(xN,QB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Nh,{keyPath:PN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{let r=t.result;r.objectStoreNames.contains(Nh)?e(r):(r.close(),await YB(),e(await rI()))})})}async function QR(t,e,n){let r=Oh(t,!0).put({[PN]:e,value:n});return new So(r).toPromise()}async function JB(t,e){let n=Oh(t,!1).get(e),r=await new So(n).toPromise();return r===void 0?null:r.value}function YR(t,e){let n=Oh(t,!0).delete(e);return new So(n).toPromise()}var ZB=800,XB=3,e$=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rI(),this.db)}async _withRetries(n){let r=0;for(;;)try{let i=await this._openDb();return await n(i)}catch(i){if(r++>XB)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zB._getInstance(KB()),this.receiver._subscribe("keyChanged",async(n,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(n,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await GB(),!this.activeServiceWorker)return;this.sender=new nI(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&n[0]?.fulfilled&&n[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(n){if(!(!this.sender||!this.activeServiceWorker||WB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let n=await rI();return await QR(n,Ah,"1"),await YR(n,Ah),!0}catch{}return!1}async _withPendingWrite(n){this.pendingWrites++;try{await n()}finally{this.pendingWrites--}}async _set(n,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>QR(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)))}async _get(n){let r=await this._withRetries(i=>JB(i,n));return this.localCache[n]=r,r}async _remove(n){return this._withPendingWrite(async()=>(await this._withRetries(r=>YR(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)))}async _poll(){let n=await this._withRetries(o=>{let s=Oh(o,!1).getAll();return new So(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),ON=e$;var ZX=wN("rcb"),XX=new Co(3e4,6e4);function t$(t,e){return e?xr(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var vu=class extends bh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qE(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qE(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qE(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function n$(t){return VB(t.auth,new vu(t),t.bypassAuthState)}function r$(t){let{auth:e,user:n}=t;return Y(n,e,"internal-error"),FB(n,new vu(t),t.bypassAuthState)}async function i$(t){let{auth:e,user:n}=t;return Y(n,e,"internal-error"),LB(n,new vu(t),t.bypassAuthState)}var iI=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return n$;case"linkViaPopup":case"linkViaRedirect":return i$;case"reauthViaPopup":case"reauthViaRedirect":return r$;default:wi(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var eee=new Co(2e3,1e4);var o$="pendingRedirect",vh=new Map,oI=class extends iI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{let r=await s$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function s$(t,e){let n=u$(e),r=c$(t);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function a$(t,e){vh.set(t._key(),e)}function c$(t){return xr(t._redirectPersistence)}function u$(t){return yh(o$,t.config.apiKey,t.name)}async function l$(t,e,n=!1){if(en(t.app))return Promise.reject(Ii(t));let r=Ph(t),i=t$(r,e),s=await new oI(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var d$=600*1e3,sI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!f$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!kN(e)){let r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Do(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=d$&&this.cachedEventUids.clear(),this.cachedEventUids.has(JR(e))}saveEventToCache(e){this.cachedEventUids.add(JR(e)),this.lastProcessedEventTime=Date.now()}};function JR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function f$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kN(t);default:return!1}}async function h$(t,e={}){return na(t,"GET","/v1/projects",e)}var p$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,g$=/^https?/;async function m$(t){if(t.config.emulator)return;let{authorizedDomains:e}=await h$(t);for(let n of e)try{if(y$(n))return}catch{}wi(t,"unauthorized-domain")}function y$(t){let e=WE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!g$.test(n))return!1;if(p$.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var v$=new Co(3e4,6e4);function ZR(){let t=ur().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _$(t){return new Promise((e,n)=>{function r(){ZR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZR(),n(Do(t,"network-request-failed"))},timeout:v$.get()})}if(ur().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ur().gapi?.load)r();else{let i=wN("iframefcb");return ur()[i]=()=>{gapi.load?r():n(Do(t,"network-request-failed"))},NB(`${MB()}?onload=${i}`).catch(o=>n(o))}}).catch(e=>{throw _h=null,e})}var _h=null;function E$(t){return _h=_h||_$(t),_h}var I$=new Co(5e3,15e3),w$="__/auth/iframe",T$="emulator/auth/iframe",D$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},C$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function b$(t){let e=t.config;Y(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?lI(e,T$):`https://${t.config.authDomain}/${w$}`,r={apiKey:e.apiKey,appName:t.name,v:li},i=C$.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${$c(r).slice(1)}`}async function S$(t){let e=await E$(t),n=ur().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:b$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:D$,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=Do(t,"network-request-failed"),a=ur().setTimeout(()=>{o(s)},I$.get());function u(){ur().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var A$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},R$=500,N$=600,M$="_blank",x$="http://localhost",Mh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function P$(t,e,n,r=R$,i=N$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=ie(N({},A$),{width:r.toString(),height:i.toString(),top:o,left:s}),l=lt().toLowerCase();n&&(a=gN(l)?M$:n),hN(l)&&(e=e||x$,u.scrollbars="yes");let f=Object.entries(u).reduce((m,[y,S])=>`${m}${y}=${S},`,"");if(CB(l)&&a!=="_self")return O$(e||"",a),new Mh(null);let p=window.open(e||"",a,f);Y(p,t,"popup-blocked");try{p.focus()}catch{}return new Mh(p)}function O$(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var k$="__/auth/handler",L$="emulator/auth/handler",F$=encodeURIComponent("fac");async function XR(t,e,n,r,i,o){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:li,eventId:i};if(e instanceof Sh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",d0(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(o||{}))s[f]=p}if(e instanceof eI){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let u=await t._getAppCheckToken(),l=u?`#${F$}=${encodeURIComponent(u)}`:"";return`${V$(t)}?${$c(a).slice(1)}${l}`}function V$({config:t}){return t.emulator?lI(t,L$):`https://${t.authDomain}/${k$}`}var GE="webStorageSupport",aI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gI,this._completeRedirectFn=l$,this._overrideRedirectResult=a$}async _openPopup(e,n,r,i){Ti(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let o=await XR(e,n,r,WE(),i);return P$(e,o,NN())}async _openRedirect(e,n,r,i){await this._originValidation(e);let o=await XR(e,n,r,WE(),i);return qB(o),new Promise(()=>{})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ti(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){let n=await S$(e),r=new sI(e);return n.register("authEvent",i=>(Y(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(GE,{type:GE},i=>{let o=i?.[0]?.[GE];o!==void 0&&n(!!o),wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=m$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return EN()||pN()||fI()}},LN=aI;var eN="@firebase/auth",tN="1.11.1";var cI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function j$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function U$(t){ui(new pn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Y(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IN(t)},l=new XE(r,i,o,u);return xB(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ui(new pn("auth-internal",e=>{let n=Ph(e.getProvider("auth").getImmediate());return(r=>new cI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),On(eN,tN,j$(t)),On(eN,tN,"esm2020")}var B$=300,$$=av("authIdTokenMaxAge")||B$,nN=null,H$=t=>async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$$)return;let i=n?.token;nN!==i&&(nN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function mI(t=wf()){let e=zc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=TN(t,{popupRedirectResolver:LN,persistence:[ON,RN,gI]}),r=av("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=H$(o.toString());AN(n,s,()=>s(n.currentUser)),SN(n,a=>s(a))}}let i=ov("auth");return i&&DN(n,`http://${i}`),n}function z$(){return document.getElementsByTagName("head")?.[0]??document}RB({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Do("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",z$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});U$("Browser");var ra=class t{db=PR();auth=mI();authReadyPromise;constructor(){this.authReadyPromise=this.signInAnon()}async signInAnon(){if(!this.auth.currentUser)try{let e=await pI(this.auth);console.log("Firebase: Anonymous Sign-In Successful. UID: "+e.user.uid)}catch(e){throw console.error("Firebase: Anonymous Sign-In Failed: "+e),new Error("Could not authenticate Demo user.")}}async withAuth(e){return await this.authReadyPromise,e()}async saveOrder(e){return $E(hu(this.db,"orders"),ie(N({},e),{createdAt:HE()}))}async saveOrder2(e){return this.withAuth(()=>$E(hu(this.db,"orders"),ie(N({},e),{createdAt:HE()})))}async getOrders(){try{let e=await UE(hu(this.db,"orders"));return console.log("Firestore Snapshot: ",e.docs.length,e.docs.map(n=>n.data())),e.docs.map(n=>N({id:n.id},n.data()))}catch(e){throw console.error("Firestore: getOrders error",e),e}}async getOrders2(){return this.withAuth(async()=>(await UE(hu(this.db,"orders"))).docs.map(n=>N({id:n.id},n.data())))}async deleteOrder(e){return BE(ph(this.db,"orders",e))}async deleteOrder2(e){return this.withAuth(()=>BE(ph(this.db,"orders",e)))}async testConnection(){try{let e=await this.saveOrder({test:!0});console.log("Firestore: test write OK: ",e.id)}catch(e){console.log("Firestore: test write FAILED: ",e)}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})};var Di=class t{activeToasts=$e([]);duration=3e3;show(e){let n=Date.now(),r={id:n,message:e};this.activeToasts.update(i=>[...i,r]),setTimeout(()=>{this.removeToast(n)},this.duration)}removeToast(e){this.activeToasts.update(n=>n.filter(r=>r.id!==e))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ci=class t{constructor(e,n){this.firebase=e;this.toastService=n;let r=localStorage.getItem("taniti-cart");r&&this.cartItemsSignal.set(JSON.parse(r))}cartItemsSignal=$e([]);cartItems=this.cartItemsSignal.asReadonly();cartTotal=ly(()=>this.cartItems().reduce((e,n)=>e+n.price,0));saveCart(){localStorage.setItem("taniti-cart",JSON.stringify(this.cartItemsSignal()))}addItem(e){this.cartItemsSignal.update(n=>[...n,e]),this.toastService.show(`${e.name} added to cart`),this.saveCart()}removeItem(e){console.log("CART SERVICE: Deleting "+e.name),this.cartItemsSignal.update(n=>n.filter(r=>r.id!==e.id)),this.toastService.show(`${e.name} removed from cart`),this.saveCart()}clearItems(e){this.cartItemsSignal.set([]),this.toastService.show(e?"Order submitted":"Cart cleared"),this.saveCart()}async submitOrder(){console.log("CART SERVICE: Submitting Order...");let e=this.cartItems(),n=this.cartTotal();if(this.cartItems().length===0){console.error("CART SERVICE: Cannot submit an empty order.");return}let r=this.cartItems().map(s=>N({id:s.id,name:s.name,price:Number(s.price)},typeof s.image=="string"&&s.image.length>0?{image:s.image}:{}));if(!r.every(s=>this.isValidActivityClient(s)))throw console.error("CART SERVICE: Submission Cancelled due to invalid Activity Data."),new Error("CART SERVICE: Invalid Activity Data in Cart.");let o={activities:r,total:n};console.log("CART SERVICE: Payload for Firestore: "+JSON.stringify(o,null,2));try{let s=await this.firebase.saveOrder2(o);return console.log("CART SERVICE: Order saved with ID: "+s.id),this.clearItems(!0),s.id}catch(s){throw console.error("CART SERVICE: Failed to submit Order: "+s),s}}isValidActivityClient(e){return typeof e.id!="string"||e.id.length===0?(console.error("CART SERVICE: Validation Error: Invalid ID: ",e),!1):typeof e.name!="string"||e.name.length===0?(console.error("CART SERVICE: Validation Error: Invalid Name: ",e),!1):Number.isFinite(e.price)?e.image!==void 0&&typeof e.image!="string"?(console.error("CART SERVICE: Validation Error: Invalid Image: ",e),!1):!0:(console.error("CART SERVICE: Validation Error: Invalid Price: ",e),!1)}static \u0275fac=function(n){return new(n||t)(W(ra),W(Di))};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})};var kh=class t{constructor(e){this.cart=e}activity;addToCart(){this.cart.addItem(this.activity),console.log(`${this.activity.name} added to cart`)}static \u0275fac=function(n){return new(n||t)(de(Ci))};static \u0275cmp=Te({type:t,selectors:[["app-product"]],inputs:{activity:"activity"},decls:9,vars:3,consts:[[1,"product-shell"],[1,"product-container"],["alt","Product",3,"src"],["id","add-to-cart",3,"click"]],template:function(n,r){n&1&&(ye(0,"div",0)(1,"div",1)(2,"h2"),te(3),ve(),ye(4,"p"),te(5),ve(),An(6,"img",2),ye(7,"button",3),Qn("click",function(){return r.addToCart()}),te(8,"Add to Cart"),ve()()()),n&2&&(P(3),Pe(r.activity.name),P(2),Rn("$",r.activity.price),P(),Kn("src",r.activity.image,cn))},styles:[".product-container[_ngcontent-%COMP%]{margin:0;padding:.5rem;display:flex;flex-direction:column;gap:1rem;background-color:var(--primary);color:#fffaf0}@media(hover:hover){.product-container[_ngcontent-%COMP%]{background-color:transparent;color:var(--highlight);transition:all .1s ease-in-out}}h2[_ngcontent-%COMP%]{margin:0;width:100%;font-family:Malvie,sans-serif}p[_ngcontent-%COMP%]{margin:0;width:100%;color:var(--text);font-size:1.25rem}img[_ngcontent-%COMP%]{margin:0;width:100%;aspect-ratio:4/3;object-fit:cover}button[_ngcontent-%COMP%]{margin:.5rem;padding:0;font-family:Bebas Neue,sans-serif;font-size:1.5rem;font-weight:700;background-color:#fffaf0;color:var(--primary);border:5px solid floralwhite;transform:scale(1.04)}@media(hover:hover){button[_ngcontent-%COMP%]{background-color:transparent;color:transparent;border:5px solid transparent;transition:all .1s ease-in-out;transform:scale(1)}}@media(hover:hover){.product-container[_ngcontent-%COMP%]:hover{background-color:var(--primary);color:#fffaf0}.product-container[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%], .product-container[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:#fffaf0}#add-to-cart[_ngcontent-%COMP%]:hover{background-color:#fffaf0;color:var(--primary);border:5px solid floralwhite;cursor:pointer;transform:scale(1.04)}}"]})};function q$(t,e){if(t&1&&Ee(0,"app-info",1),t&2){let n=Q();fe("data",n.pageData.desc)}}function G$(t,e){if(t&1&&Ee(0,"app-product",4),t&2){let n=e.$implicit;fe("activity",n)}}function W$(t,e){if(t&1&&(B(0,"div",3),gt(1,G$,1,1,"app-product",4,ln),K()),t&2){let n=Q();P(),mt(n.pageData.activityData)}}function K$(t,e){if(t&1&&Ee(0,"app-info",1),t&2){let n=e.$implicit;fe("data",n)}}var bi=class t{constructor(e){this.route=e}pageData;ngOnInit(){this.pageData=this.route.snapshot.data.data}static \u0275fac=function(n){return new(n||t)(de(Pn))};static \u0275cmp=Te({type:t,selectors:[["app-page"]],inputs:{pageData:"pageData"},decls:7,vars:3,consts:[[1,"page-shell"],[3,"data"],[1,"pageInfo-container"],[1,"activity-container"],[3,"activity"]],template:function(n,r){n&1&&(B(0,"div",0),Ee(1,"app-banner",1),B(2,"div",2),se(3,q$,1,1,"app-info",1),se(4,W$,3,0,"div",3),gt(5,K$,1,1,"app-info",1,ln),K()()),n&2&&(P(),fe("data",r.pageData.bannerData),P(2),ae(r.pageData.desc.content!=""?3:-1),P(),ae(r.pageData.activityData.length>0?4:-1),P(),mt(r.pageData.infoData))},dependencies:[Xn,bs,kh],styles:["app-banner[_ngcontent-%COMP%]{width:100%}.page-shell[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.pageInfo-container[_ngcontent-%COMP%]{width:100%;max-width:var(--maxWidth);display:flex;flex-direction:column;justify-content:space-between;align-items:center;gap:3rem}.activity-container[_ngcontent-%COMP%]{width:100%;max-width:var(--maxWidth);display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;justify-content:center}"]})};var VN=[],jN=[],UN=[],BN=[{id:"e4",name:"Snorkeling",price:80,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"e5",name:"Ziplining",price:100,image:"pageMedia/entertainment-ziplining.jpeg"},{id:"e3",name:"Fishing",price:150,image:"pageMedia/entertainment-fishing.jpeg"},{id:"e8",name:"Golf",price:125,image:"pageMedia/entertainment-golf.jpeg"},{id:"e6",name:"Night Club",price:30,image:"pageMedia/entertainment-night-club.jpeg"},{id:"e7",name:"Art Gallery",price:15,image:"pageMedia/entertainment-art-gallery.jpeg"},{id:"e1",name:"Museum",price:25,image:"pageMedia/entertainment-museum.jpeg"},{id:"e2",name:"Bowling",price:20,image:"pageMedia/entertainment-bowling.jpeg"}],$N=[{id:"s1",name:"Volcano Tour",price:250,image:"pageMedia/sightseeing-volcano.jpeg"},{id:"s2",name:"Helicopter Tour",price:300,image:"banners/entertainment.jpeg"},{id:"s3",name:"Boat Tour",price:50,image:"pageMedia/sightseeing-boat-tour.jpeg"},{id:"s4",name:"Bus Tour",price:50,image:"pageMedia/sightseeing-bus-tour.jpeg"},{id:"s5",name:"Bike Tour",price:40,image:"pageMedia/transportation-bike.jpeg"},{id:"s6",name:"Rainforest Hike",price:50,image:"pageMedia/sightseeing-rainforest.jpeg"}];var HN={bannerData:{bannerType:"subpage",title:"",image:"banners/transportation.jpeg",button:"Transportation",interactive:!1},desc:{},activityData:VN,infoData:[{title:"How to Get Here",type:0,content:"Almost all visitors arrive to Taniti by air, though some arrive on a small cruise ship that docks in Yellow Leaf Bay for one night per week. Taniti is served by a small airport that can accommodate small jets and propeller planes. Taniti is in the process of expanding the airport so larger jets will be able to land on the island within the next few years.",image:"pageMedia/transportation-plane.jpeg"},{title:"How to Get Around",type:0,content:"Public buses serve Taniti City and run from 5 a.m. to 11 p.m. every day. Private buses serve the rest of the island. Taxis are available in Taniti City, and rental cars can be rented from a local rental agency near the airport. Bikes and helmets are available to rent from several vendors (helmets are required by law). Taniti City is fairly flat and very walkable. Many tourists stay in the area surrounding Merriton Landing: this area is easy to explore on foot.",image:"pageMedia/transportation-bike.jpeg"}]},zN={bannerData:{bannerType:"subpage",title:"",image:"banners/lodging.jpeg",button:"Lodging",interactive:!1},desc:{},activityData:jN,infoData:[{title:"Luxury Hotels",type:0,content:"Taniti has a wide variety of lodging that ranges from an inexpensive hostel to one large, four-star resort.",image:"pageMedia/lodging-hotel.jpeg"},{title:"Bed & Breakfasts",type:0,content:"There are many small, family-owned hotels and a growing number of bed and breakfasts. All types of lodging are strictly regulated and regularly inspected by the Tanitian government.",image:"pageMedia/lodging-bnb.jpeg"}]},qN={bannerData:{bannerType:"subpage",title:"",image:"banners/food.jpeg",button:"Food",interactive:!1},desc:{},activityData:UN,infoData:[{title:"Restaurants",type:0,content:"Taniti currently has 10 restaurants: five serve mostly local fish and rice, three serve American-style meals, and two serve Pan-Asian cuisine.",image:"pageMedia/food-restaurant.jpeg"},{title:"Grocery",type:0,content:"Taniti has two supermarkets, two smaller grocery stores, and one convenience store that is open 24 hours a day.",image:"pageMedia/food-grocery.jpeg"}]},GN={bannerData:{bannerType:"subpage",title:"",image:"banners/entertainment.jpeg",button:"Entertainment",interactive:!1},desc:{title:"",type:1,content:"Most people visit Taniti to enjoy the beaches, explore the rainforest, and to visit the volcano. However, there are other things to do, including visiting a local history museum, going on chartered fishing tours, snorkeling, zip-lining in the rainforest, visiting several pubs, including a microbrewery, dancing at a new dance club, seeing a movie, taking helicopter rides, playing at an arcade, visiting art galleries, and bowling. Also, a nine-hole golf course should be operational by next year. Many of these activities are located in Merriton Landing, which is a rapidly developing area on the north side of Yellow Leaf Bay.",image:""},activityData:BN,infoData:[]},WN={bannerData:{bannerType:"subpage",title:"",image:"banners/sightseeing.jpeg",button:"Sightseeing",interactive:!1},desc:{title:"",type:1,content:"Most tourists spend most of their time in Taniti City, which boasts native architecture and nearby white, sandy beaches that encircle Yellow Leaf Bay. Other popular activities include boat or bus tours of the island, hikes in the rainforest, or visits to Taniti\u2019s active volcano.",image:""},activityData:$N,infoData:[]};function Q$(t,e){if(t&1&&An(0,"img",2),t&2){let n=Q();Kn("src",n.item.image,cn)}}function Y$(t,e){if(t&1){let n=$t();ye(0,"button",4),Qn("click",function(){Nt(n);let i=Q();return Mt(i.removeFromCart())}),te(1,"DELETE"),ve()}}function J$(t,e){if(t&1){let n=$t();ye(0,"button",4),Qn("click",function(){Nt(n);let i=Q();return Mt(i.clearCart())}),te(1,"CLEAR"),ve()}}var Lh=class t{constructor(e){this.cart=e}item;real=!0;removeFromCart(){console.log("ITEM: Deleting "+this.item.name),this.cart.removeItem(this.item)}clearCart(){console.log("ITEM: Clearing Cart"),this.cart.clearItems(!1)}static \u0275fac=function(n){return new(n||t)(de(Ci))};static \u0275cmp=Te({type:t,selectors:[["app-item"]],inputs:{item:"item",real:"real"},decls:9,vars:4,consts:[[1,"item-shell"],[1,"item-container"],[3,"src"],[1,"price"],[3,"click"]],template:function(n,r){n&1&&(ye(0,"div",0)(1,"div",1),se(2,Q$,1,1,"img",2),ye(3,"p"),te(4),ve(),ye(5,"p",3),te(6),ve(),se(7,Y$,2,0,"button")(8,J$,2,0,"button"),ve()()),n&2&&(P(2),ae(r.item.image!=""?2:-1),P(2),Pe(r.item.name),P(2),Rn("$",r.item.price),P(),ae(r.real?7:8))},styles:[".item-shell[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;width:100%}.item-container[_ngcontent-%COMP%]{margin:0;padding:1rem;display:flex;flex-direction:row;align-items:center;gap:1rem;flex:1;background-color:var(--primary)}img[_ngcontent-%COMP%]{width:96px;height:48px;object-fit:cover}p[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.5rem;color:#fffaf0}.price[_ngcontent-%COMP%]{margin-left:auto}button[_ngcontent-%COMP%]{padding:.25rem .5rem;background-color:transparent;color:#ff4646;border:none}button[_ngcontent-%COMP%]:hover{background-color:#ff4646;color:#fff;cursor:pointer}@media(max-width:550px){.item-container[_ngcontent-%COMP%]{padding:.5rem}img[_ngcontent-%COMP%]{width:64px;height:32px}p[_ngcontent-%COMP%]{font-size:1.25rem}}"]})};var Z$=t=>({id:"0",name:"Total",price:t,image:""});function X$(t,e){t&1&&(B(0,"p",4),te(1,"Cart is Empty"),K())}function eH(t,e){if(t&1&&Ee(0,"app-item",5),t&2){let n=e.$implicit;fe("item",n)}}function tH(t,e){if(t&1){let n=$t();gt(0,eH,1,1,"app-item",5,ln),B(2,"div",6),Ee(3,"app-item",7),B(4,"button",8),dn("click",function(){Nt(n);let i=Q();return Mt(i.submitOrder())}),te(5,"Submit Order"),K()()}if(t&2){let n=Q();mt(n.cartItems()),P(3),fe("item",dc(2,Z$,n.cartTotal()))("real",!1)}}var Fh=class t{constructor(e){this.cartService=e;this.cartItems=e.cartItems,this.cartTotal=e.cartTotal}bannerData={bannerType:"subpage",title:"",image:"banners/taniti.jpeg",button:"Cart",interactive:!1};cartItems;cartTotal;async submitOrder(){try{await this.cartService.submitOrder()}catch(e){console.log("CART: Error submitting Order: "+e)}}static \u0275fac=function(n){return new(n||t)(de(Ci))};static \u0275cmp=Te({type:t,selectors:[["app-cart"]],decls:6,vars:2,consts:[[1,"cart-shell"],[3,"data"],[1,"cart-wrapper"],[1,"cart-container"],[1,"empty"],[3,"item"],[1,"total-container"],[3,"item","real"],[3,"click"]],template:function(n,r){n&1&&(B(0,"div",0),Ee(1,"app-banner",1),B(2,"div",2)(3,"div",3),se(4,X$,2,0,"p",4)(5,tH,6,4),K()()()),n&2&&(P(),fe("data",r.bannerData),P(3),ae(r.cartItems().length<=0?4:5))},dependencies:[Lh,Xn],styles:[".cart-shell[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}app-banner[_ngcontent-%COMP%]{width:100%}.cart-wrapper[_ngcontent-%COMP%]{margin:0;padding:0;width:100%;max-width:var(--maxWidth)}.cart-container[_ngcontent-%COMP%]{margin:0;padding:0 .5rem;display:flex;flex-direction:column;gap:1rem;text-align:center}h1[_ngcontent-%COMP%]{font-family:Malvie,sans-serif;color:var(--highlight)}.empty[_ngcontent-%COMP%]{font-size:1.5rem}.total-container[_ngcontent-%COMP%]{margin:0;padding:0 0 1rem;background:var(--primary)}button[_ngcontent-%COMP%]{margin:1rem auto 0;padding:0 1rem;font-family:Bebas Neue,sans-serif;font-size:1.5rem;background-color:transparent;color:#fffaf0;border:5px solid transparent;transition:all .1s ease-in-out}button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#fffaf0;color:var(--primary);cursor:pointer}@media(max-width:550px){.cart-container[_ngcontent-%COMP%]{gap:.5rem}button[_ngcontent-%COMP%]{font-size:2rem}}"]})};var ia=class t{themes=["theme-light","theme-dark"];themeSignal=$e("");theme=this.themeSignal.asReadonly();initializeTheme(){let e=localStorage.getItem("theme")??"theme-dark",n;e&&this.themes.includes(e)?n=e:n=this.themes[0],this.setTheme(n)}setTheme(e){if(!this.themes.includes(e)){console.error(`THEME SERVICE: Invalid Theme: ${e}`);return}this.clearTheme(),this.themeSignal.set(e),this.applyTheme(this.theme()),console.log("THEME SERVICE: Theme Set: "+this.theme())}applyTheme(e){this.themes.includes(e)&&e&&(document.documentElement.classList.add(this.theme()),localStorage.setItem("theme",this.theme()))}clearTheme(){let e=0;this.themes.forEach(n=>{document.documentElement.classList.contains(n)&&(document.documentElement.classList.remove(n),e++)}),this.themeSignal.set(""),localStorage.setItem("theme",""),e>0&&console.log("THEME SERVICE: Theme Cleared")}logTheme(){console.log("THEME SERVICE: Current Theme: "+this.theme())}static \u0275fac=function(n){return new(n||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})};function nH(t,e){if(t&1){let n=$t();ye(0,"button",0),Qn("click",function(){Nt(n);let i=Q();return Mt(i.setTheme("theme-dark"))}),An(1,"span",1),ve()}t&2&&(P(),ei("mask-image","url(icons/dark-mode.svg)")("-webkit-mask-image","url(icons/dark-mode.svg)"))}function rH(t,e){if(t&1){let n=$t();ye(0,"button",0),Qn("click",function(){Nt(n);let i=Q();return Mt(i.setTheme("theme-light"))}),An(1,"span",1),ve()}t&2&&(P(),ei("mask-image","url(icons/light-mode.svg)")("-webkit-mask-image","url(icons/light-mode.svg)"))}var Vh=class t{constructor(e){this.themeService=e;this.currentTheme=e.theme}currentTheme;setTheme(e){this.themeService.setTheme(e)}static \u0275fac=function(n){return new(n||t)(de(ia))};static \u0275cmp=Te({type:t,selectors:[["app-theme"]],decls:3,vars:2,consts:[[3,"click"],[1,"icon"]],template:function(n,r){n&1&&(ye(0,"div"),se(1,nH,2,4,"button"),se(2,rH,2,4,"button"),ve()),n&2&&(P(),ae(r.currentTheme()==="theme-light"?1:-1),P(),ae(r.currentTheme()==="theme-dark"?2:-1))},styles:["div[_ngcontent-%COMP%]{width:2rem;height:2rem;display:inline-block}button[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;font-size:1rem;background:transparent;border:2px solid transparent;box-sizing:border-box}button[_ngcontent-%COMP%]:hover{border:2px solid floralwhite;cursor:pointer}.icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;display:inline-block;background-color:#fffaf0;-webkit-mask-size:contain;mask-size:contain;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:center;mask-position:center}@media(max-width:1080px){button[_ngcontent-%COMP%]:hover{border:2px solid transparent}}"]})};var jh=class t{constructor(e,n){this.firebase=e;this.toastService=n}ordersSignal=$e([]);orders=this.ordersSignal.asReadonly();loadingSignal=$e(!0);loading=this.loadingSignal.asReadonly();async refreshOrders(){this.ordersSignal.set([]),this.loadingSignal.set(!0);try{let e=await this.firebase.getOrders2();this.ordersSignal.set(e.map(n=>ie(N({},n),{createdAt:n.createdAt?new Date(n.createdAt.seconds*1e3):n.createdAt})))}catch(e){console.error("ORDERS SERVICE: Failed to load orders: "+e)}finally{this.loadingSignal.set(!1)}}async deleteOrder(e){let n=!1;try{await this.firebase.deleteOrder2(e),await this.refreshOrders()}catch(r){console.error("ORDERS SERVICE: Failed to delete order: "+r),n=!0}this.toastService.show(n?"Failed to delete order":`Order ${e} deleted`)}static \u0275fac=function(n){return new(n||t)(W(ra),W(Di))};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})};var oH=(t,e)=>e.id;function sH(t,e){t&1&&(B(0,"p"),te(1,"Loading Orders..."),K())}function aH(t,e){t&1&&(B(0,"p",7),te(1,"No Orders Yet"),K())}function cH(t,e){if(t&1&&(B(0,"div",13)(1,"p",16),te(2),K(),B(3,"p",17),te(4),K()()),t&2){let n=e.$implicit;P(2),Pe(n.name),P(2),Rn("$",n.price)}}function uH(t,e){if(t&1){let n=$t();B(0,"div",8)(1,"div",9)(2,"p",10),te(3),K(),B(4,"p",11),te(5),ay(6,"date"),K()(),B(7,"div",12)(8,"h4"),te(9,"Activities"),K(),gt(10,cH,5,2,"div",13,ln),K(),B(12,"p",14),te(13),K(),B(14,"button",15),dn("click",function(){let i=Nt(n).$implicit,o=Q(2);return Mt(o.deleteOrder(i.id))}),te(15,"Delete Order"),K()()}if(t&2){let n=e.$implicit;P(3),Rn("ID: ",n.id),P(2),Pe(cy(6,3,n.createdAt,"short")),P(5),mt(n.activities),P(3),Rn("$",n.total)}}function lH(t,e){if(t&1&&gt(0,uH,16,6,"div",8,oH),t&2){let n=Q();mt(n.orders())}}var Uh=class t{constructor(e){this.ordersService=e;this.orders=e.orders,this.loading=e.loading}bannerData={bannerType:"subpage",title:"",image:"banners/taniti.jpeg",button:"PROFILE",interactive:!1};orders;loading;ngOnInit(){this.ordersService.refreshOrders()}async deleteOrder(e){try{await this.ordersService.deleteOrder(e)}catch(n){console.error("ORDERS: Failed to delete Order: "+n)}}static \u0275fac=function(n){return new(n||t)(de(jh))};static \u0275cmp=Te({type:t,selectors:[["app-orders"]],decls:17,vars:4,consts:[[1,"orders-shell"],[3,"data"],[1,"orders-content"],[1,"settings-wrapper"],[1,"setting"],[1,"orders-wrapper"],[1,"orders-container"],[1,"empty"],[1,"order-display"],[1,"order-stats"],[1,"order-id"],[1,"order-time"],[1,"activities-wrapper"],[1,"activity-entry"],[1,"order-price"],[1,"order-delete",3,"click"],[1,"activity-name"],[1,"activity-price"]],template:function(n,r){n&1&&(B(0,"div",0),Ee(1,"app-banner",1),B(2,"div",2)(3,"div",3)(4,"h1"),te(5,"Settings"),K(),B(6,"div",4)(7,"h3"),te(8,"Dark Mode"),K(),Ee(9,"app-theme"),K()(),B(10,"div",5)(11,"h1"),te(12,"Orders"),K(),B(13,"div",6),se(14,sH,2,0,"p"),se(15,aH,2,0,"p",7),se(16,lH,2,0),K()()()()),n&2&&(P(),fe("data",r.bannerData),P(13),ae(r.loading()?14:-1),P(),ae(!r.loading()&&r.orders().length===0?15:-1),P(),ae(!r.loading()&&r.orders().length>0?16:-1))},dependencies:[Xn,Vh,vy],styles:[".orders-shell[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.orders-content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.orders-wrapper[_ngcontent-%COMP%]{margin-top:3rem;padding:.5rem;width:calc(100% - 2rem);max-width:var(--maxWidth)}.orders-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.order-display[_ngcontent-%COMP%]{margin-bottom:1rem;padding-bottom:1rem;width:100%;background-color:var(--primary);color:#fffaf0}.order-stats[_ngcontent-%COMP%]{margin:1rem 0;display:flex;justify-content:space-around}.activities-wrapper[_ngcontent-%COMP%]{margin:0 0 1rem}.activity-entry[_ngcontent-%COMP%]{margin:.5rem 1rem;padding:.5rem 1.5rem;display:flex;justify-content:space-between;background-color:var(--secondary)}.order-delete[_ngcontent-%COMP%]{margin:1rem 0 0;padding:.1rem 2rem 0;font-family:Bebas Neue,sans-serif;font-size:1.5rem;background-color:#fffaf0;color:var(--primary);border:2px solid transparent;box-sizing:border-box;cursor:pointer;transition:transform .05s ease-in-out}.settings-wrapper[_ngcontent-%COMP%]{padding:.5rem;width:calc(100% - 2rem);max-width:var(--maxWidth)}.setting[_ngcontent-%COMP%]{padding:.5rem;display:flex;flex-direction:row;justify-content:space-between;align-items:center;background-color:var(--setting-background)}h1[_ngcontent-%COMP%]{margin:0 0 1rem;padding:0;font-family:Malvie,sans-serif;color:var(--highlight)}h3[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Belanosima,sans-serif;font-weight:400;color:var(--setting-text)}h4[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Malvie,sans-serif;font-size:1.25rem}.empty[_ngcontent-%COMP%]{font-size:1.5rem}p[_ngcontent-%COMP%]{margin:0;padding:0}@media(hover:hover){.order-delete[_ngcontent-%COMP%]:hover{transform:scale(1.1)}}"]})};var QN=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:hf},{path:"transportation",component:bi,data:{data:HN}},{path:"lodging",component:bi,data:{data:zN}},{path:"food",component:bi,data:{data:qN}},{path:"entertainment",component:bi,data:{data:GN}},{path:"sightseeing",component:bi,data:{data:WN}},{path:"cart",component:Fh},{path:"profile",component:Uh}];var YN={providers:[Qg(),Xy(QN,ev({scrollPositionRestoration:"enabled"}))]};function dH(t,e){if(t&1&&(B(0,"span"),Ee(1,"span",5),K()),t&2){let n=Q(2);P(),ei("mask-image","url("+n.linkData.icon+")")("-webkit-mask-image","url("+n.linkData.icon+")")}}function fH(t,e){if(t&1&&(B(0,"a",3),se(1,dH,2,4,"span"),B(2,"span",4),te(3),K()()),t&2){let n=Q();Td("mode-"+n.linkData.displayMode),fe("routerLink",n.linkData.route),P(),ae(n.linkData.icon?1:-1),P(2),Pe(n.linkData.text)}}function hH(t,e){if(t&1&&(B(0,"span"),Ee(1,"span",5),K()),t&2){let n=Q(2);P(),ei("mask-image","url("+n.linkData.icon+")")("-webkit-mask-image","url("+n.linkData.icon+")")}}function pH(t,e){if(t&1&&(B(0,"button"),se(1,hH,2,4,"span"),B(2,"span",4),te(3),K()()),t&2){let n=Q();Td("mode-"+n.linkData.displayMode),P(),ae(n.linkData.icon?1:-1),P(2),Pe(n.linkData.text)}}var Bh=class t{linkData;isButton=!1;iconExempt=["text-only","responsive-hide"];ngOnInit(){!this.iconExempt.includes(this.linkData.displayMode)&&!this.linkData.icon&&console.warn(`NAV LINK: ${this.linkData.text}: displayMode '${this.linkData.displayMode}' requires an [icon] input`)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["app-nav-link"]],inputs:{linkData:"linkData",isButton:"isButton"},decls:3,vars:1,consts:[[1,"link-shell"],["routerLinkActive","active",3,"routerLink","class"],[3,"class"],["routerLinkActive","active",3,"routerLink"],[1,"nav-text"],[1,"nav-icon"]],template:function(n,r){n&1&&(B(0,"div",0),se(1,fH,4,5,"a",1)(2,pH,4,4,"button",2),K()),n&2&&(P(),ae(r.isButton?2:1))},dependencies:[Cs,Zy],styles:["button[_ngcontent-%COMP%]{background-color:transparent}a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin:0;padding:0;height:2rem;color:var(--nav-text);text-decoration:none;text-align:center;display:flex;align-items:center;justify-content:center;gap:0;border:2px solid transparent;box-sizing:border-box;cursor:pointer}a.mode-text-only[_ngcontent-%COMP%], a.mode-responsive[_ngcontent-%COMP%], button.mode-text-only[_ngcontent-%COMP%], button.mode-responsive[_ngcontent-%COMP%]{padding:0 1rem}a.mode-icon-only[_ngcontent-%COMP%]{padding:.25rem}a.mode-both[_ngcontent-%COMP%]{padding:.25rem 1rem 0;gap:.25rem}.mode-text-only[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%], .mode-responsive[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{display:none}.mode-icon-only[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{margin:0;padding:0;display:none}.mode-responsive-show[_ngcontent-%COMP%], .mode-responsive-show[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{display:none}.mode-responsive-hide[_ngcontent-%COMP%]{padding:0 1rem}.nav-icon[_ngcontent-%COMP%]{display:inline-block;width:1.75rem;height:1.75rem;background-color:var(--nav-icon);mask-size:contain;-webkit-mask-size:contain;mask-repeat:no-repeat;-webkit-mask-repeat:no-repeat;mask-position:center;-webkit-mask-position:center}.nav-text[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Bebas Neue,sans-serif;font-size:2rem;font-weight:400;font-variant:all-small-caps;color:var(--nav-text)}@media(max-width:1080px){a.mode-responsive[_ngcontent-%COMP%]{padding:.25rem}.mode-responsive[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{display:block}.mode-responsive[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{display:none}.mode-responsive-show[_ngcontent-%COMP%]{display:inline}.mode-responsive-hide[_ngcontent-%COMP%]{padding:0;display:none}}@media(max-width:500px){.nav-icon[_ngcontent-%COMP%]{width:2rem;height:2rem}}@media(hover:hover){a[_ngcontent-%COMP%]:not(.mode-icon-only,.mode-responsive-show):hover, button[_ngcontent-%COMP%]:not(.mode-icon-only,.mode-responsive-show):hover{color:var(--nav-highlight);border:2px solid var(--nav-highlight)}.nav-icon[_ngcontent-%COMP%]:hover{background-color:var(--nav-icon-highlight)}@media(max-width:1080px){a.mode-responsive[_ngcontent-%COMP%]:hover, a.mode-responsive-hide[_ngcontent-%COMP%]:hover{color:var(--nav-text);border:2px solid transparent}a[_ngcontent-%COMP%]:not(.mode-icon-only,.mode-responsive-show):hover, button[_ngcontent-%COMP%]:not(.mode-icon-only,.mode-responsive-show):hover{border:2px solid transparent}a[_ngcontent-%COMP%]:not(.mode-icon-only,.mode-responsive-show):hover   .nav-text[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:not(.mode-icon-only,.mode-responsive-show):hover   .nav-text[_ngcontent-%COMP%]{border:2px solid transparent;color:var(--nav-text-mobile-highlight)}}}"]})};var $h=class t{breakpoint=1080;isDesktop=$e(window.innerWidth>this.breakpoint);constructor(){window.addEventListener("resize",this.onResize.bind(this))}onResize(){this.isDesktop.set(window.innerWidth>this.breakpoint)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})};var mH=["exploreButtonRef"],yH=["exploreMenuRef"],vH=(t,e)=>e.route;function _H(t,e){if(t&1&&Ee(0,"app-nav-link",3)(1,"app-nav-link",3)(2,"app-nav-link",3)(3,"app-nav-link",3)(4,"app-nav-link",3),t&2){let n=Q();fe("linkData",n.transportation),P(),fe("linkData",n.lodging),P(),fe("linkData",n.food),P(),fe("linkData",n.entertainment),P(),fe("linkData",n.sightseeing)}}function EH(t,e){if(t&1){let n=$t();B(0,"app-nav-link",6),dn("click",function(){Nt(n);let i=Q(2);return Mt(i.closeExplore())}),K()}if(t&2){let n=e.$implicit;fe("linkData",n)}}function IH(t,e){if(t&1){let n=$t();B(0,"app-nav-link",4,0),dn("click",function(){Nt(n);let i=Q();return Mt(i.toggleExplore())}),K(),B(2,"div",5,1),gt(4,EH,1,1,"app-nav-link",3,vH),K()}if(t&2){let n=Q();fe("linkData",n.explore)("isButton",!0),P(2),as("is-open",n.isExploreOpen()),P(2),mt(n.exploreLinks)}}var Hh=class t{constructor(e){this.screenService=e;this.isDesktop=e.isDesktop}isDesktop;isExploreOpen=$e(!1);exploreButtonRef;exploreMenuRef;toggleExplore(){this.isExploreOpen.update(e=>!e)}closeExplore(){this.isExploreOpen.set(!1)}clickout(e){if(!this.isExploreOpen())return;let n=e.target,r=this.exploreButtonRef?.nativeElement.contains(n),i=this.exploreMenuRef?.nativeElement.contains(n);!r&&!i&&this.closeExplore()}home={text:"Home",route:"/home",icon:"icons/home.svg",displayMode:"responsive"};transportation={text:"Transportation",route:"/transportation",icon:"",displayMode:"responsive-hide"};lodging={text:"Lodging",route:"/lodging",icon:"",displayMode:"responsive-hide"};food={text:"Food",route:"/food",icon:"",displayMode:"responsive-hide"};entertainment={text:"Entertainment",route:"/entertainment",icon:"",displayMode:"responsive-hide"};sightseeing={text:"Sightseeing",route:"/sightseeing",icon:"",displayMode:"responsive-hide"};cart={text:"Cart",route:"/cart",icon:"icons/cart.svg",displayMode:"icon-only"};profile={text:"Profile",route:"/profile",icon:"icons/profile.svg",displayMode:"icon-only"};explore={text:"Explore",route:"#",icon:"icons/explore.svg",displayMode:"icon-only"};exploreLinks=[{text:"Transportation",route:"/transportation",displayMode:"text-only"},{text:"Lodging",route:"/lodging",displayMode:"text-only"},{text:"Food",route:"/food",displayMode:"text-only"},{text:"Entertainment",route:"/entertainment",displayMode:"text-only"},{text:"Sightseeing",route:"/sightseeing",displayMode:"text-only"}];static \u0275fac=function(n){return new(n||t)(de($h))};static \u0275cmp=Te({type:t,selectors:[["app-navbar"]],viewQuery:function(n,r){if(n&1&&(wd(mH,5,Bt),wd(yH,5,Bt)),n&2){let i;os(i=ss())&&(r.exploreButtonRef=i.first),os(i=ss())&&(r.exploreMenuRef=i.first)}},hostBindings:function(n,r){n&1&&dn("click",function(o){return r.clickout(o)},Fm)},decls:7,vars:4,consts:[["exploreButtonRef",""],["exploreMenuRef",""],[1,"nav-shell"],[3,"linkData"],[3,"click","linkData","isButton"],[1,"explore-menu"],[3,"click","linkData"]],template:function(n,r){n&1&&(B(0,"div",2)(1,"nav"),Ee(2,"app-nav-link",3),se(3,_H,5,5)(4,IH,6,4),Ee(5,"app-nav-link",3)(6,"app-nav-link",3),K()()),n&2&&(P(2),fe("linkData",r.home),P(),ae(r.isDesktop()?3:4),P(2),fe("linkData",r.cart),P(),fe("linkData",r.profile))},dependencies:[Bh],styles:[".nav-shell[_ngcontent-%COMP%]{position:fixed;top:0;z-index:1000;width:100%}nav[_ngcontent-%COMP%]{margin:0;padding:0;width:100%;height:3rem;display:flex;flex-direction:row;justify-content:center;gap:.5rem;align-items:center;background-color:var(--background);box-shadow:0 .5rem 1rem #0000004d}a[_ngcontent-%COMP%]{padding:0 1rem;height:2rem;display:flex;align-items:center;color:var(--nav-text);text-decoration:none;text-align:center;font-size:1.1rem;font-weight:700;font-variant:all-small-caps;border:2px solid transparent;box-sizing:border-box;cursor:pointer}a[_ngcontent-%COMP%]:hover{color:var(--nav-highlight);border:2px solid var(--nav-highlight)}@media(max-width:1080px){.nav-shell[_ngcontent-%COMP%]{top:auto;bottom:0}nav[_ngcontent-%COMP%]{justify-content:center;gap:2rem;box-shadow:0 -.5rem 1rem #0000004d}}.explore-menu[_ngcontent-%COMP%]{padding:1rem;width:100%;position:fixed;bottom:3rem;z-index:-1;display:flex;flex-direction:column;gap:1rem;background-color:var(--background);box-shadow:0 -.5rem 1rem #0000004d;opacity:0;transform:translateY(100%);transition:opacity .2s ease-in-out,transform .2s ease-in-out;pointer-events:none}.explore-menu.is-open[_ngcontent-%COMP%]{opacity:1;transform:translateY(0);pointer-events:auto}@media(max-width:500px){nav[_ngcontent-%COMP%]{height:3rem;justify-content:space-around}.explore-menu[_ngcontent-%COMP%]{bottom:3rem}}"]})};function wH(t,e){if(t&1&&(ye(0,"a",1),te(1),ve()),t&2){let n=Q().$implicit;Kn("href",n.link,cn),P(),Pe(n.text)}}function TH(t,e){if(t&1&&(ye(0,"p"),te(1),ve()),t&2){let n=Q().$implicit;P(),Pe(n.text)}}function DH(t,e){if(t&1&&se(0,wH,2,2,"a",1)(1,TH,2,1,"p"),t&2){let n=e.$implicit;ae(n.link!=""?0:1)}}function CH(t,e){if(t&1&&gt(0,DH,2,1,null,null,ln),t&2){let n=Q();mt(n.footerData.lines)}}var zh=class t{footerData;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["app-footer"]],inputs:{footerData:"footerData"},decls:3,vars:1,consts:[[1,"footer-shell"],[3,"href"]],template:function(n,r){n&1&&(ye(0,"div",0)(1,"footer"),se(2,CH,2,0),ve()()),n&2&&(P(2),ae(r.footerData?2:-1))},styles:[".footer-shell[_ngcontent-%COMP%]{margin:3rem 0 0}footer[_ngcontent-%COMP%]{margin:0;padding:1rem;height:100px;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1rem;font-family:Belanosima,sans-serif;text-align:center;background-color:var(--primary);color:#fffaf0}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fffaf0;cursor:pointer}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:inherit;text-decoration:none}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.25rem}"]})};var bH=(t,e)=>e.id;function SH(t,e){if(t&1&&(ye(0,"div",1)(1,"p"),te(2),ve()()),t&2){let n=e.$implicit;P(2),Pe(n.message)}}var qh=class t{constructor(e){this.toastService=e}static \u0275fac=function(n){return new(n||t)(de(Di))};static \u0275cmp=Te({type:t,selectors:[["app-toast"]],decls:3,vars:0,consts:[[1,"toast-stack-shell"],[1,"toast"]],template:function(n,r){n&1&&(ye(0,"div",0),gt(1,SH,3,1,"div",1,bH),ve()),n&2&&(P(),mt(r.toastService.activeToasts()))},styles:[".toast-stack-shell[_ngcontent-%COMP%]{position:fixed;bottom:3.5rem;left:50%;transform:translate(-50%);z-index:1001;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1rem}.toast[_ngcontent-%COMP%]{width:fit-content;text-align:center;background-color:var(--toast-background);color:var(--toast-text);padding:10px 20px;box-shadow:0 4px 12px #0000004d;animation:_ngcontent-%COMP%_toast-fade 3s ease-in-out forwards}@keyframes _ngcontent-%COMP%_toast-fade{0%{opacity:0}10%{opacity:1}90%{opacity:1}to{opacity:0}}.toast[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}"]})};var Gh=class t{constructor(e){this.themeService=e}title=$e("ng-taniti");footerData={lines:[{text:"Photos licensed from Adobe Stock",link:"fake link"},{text:"Made with Angular 21",link:""},{text:"2025",link:""}]};ngOnInit(){this.themeService.initializeTheme()}static \u0275fac=function(n){return new(n||t)(de(ia))};static \u0275cmp=Te({type:t,selectors:[["app-root"]],decls:6,vars:1,consts:[[1,"app-shell"],[1,"main"],[3,"footerData"]],template:function(n,r){n&1&&(B(0,"div",0),Ee(1,"app-toast")(2,"app-navbar"),B(3,"div",1),Ee(4,"router-outlet"),K(),Ee(5,"app-footer",2),K()),n&2&&(P(5),fe("footerData",r.footerData))},dependencies:[Lc,Hh,zh,qh],styles:[".app-shell[_ngcontent-%COMP%]{padding-top:3rem;min-height:calc(100vh + 150px);display:flex;flex-direction:column;justify-content:space-between}.main[_ngcontent-%COMP%]{margin:0;padding:0;flex:1}app-footer[_ngcontent-%COMP%]{padding-bottom:0}@media(max-width:1080px){.app-shell[_ngcontent-%COMP%]{padding-top:0}app-footer[_ngcontent-%COMP%]{padding-bottom:3rem}}@media(max-width:500px){app-footer[_ngcontent-%COMP%]{padding-bottom:3rem}}"]})};var AH="firebase",RH="12.6.0";On(AH,RH,"app");var JN={production:!1,firebaseConfig:{apiKey:"AIzaSyDweRdkdGsOkzaOxWWuoJ0JVQ7-KFtltFM",authDomain:"ng-taniti.firebaseapp.com",projectId:"ng-taniti",storageBucket:"ng-taniti.firebasestorage.app",messagingSenderId:"521171139506",appId:"1:521171139506:web:50d1e74c05b2b4de4182ab"}};var nre=Tv(JN.firebaseConfig);Ay(Gh,YN).catch(t=>console.error(t));
