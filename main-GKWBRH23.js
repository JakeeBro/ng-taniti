var zM=Object.defineProperty,qM=Object.defineProperties;var GM=Object.getOwnPropertyDescriptors;var Fu=Object.getOwnPropertySymbols;var bw=Object.prototype.hasOwnProperty,Sw=Object.prototype.propertyIsEnumerable;var Cw=(t,e,n)=>e in t?zM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,M=(t,e)=>{for(var n in e||={})bw.call(e,n)&&Cw(t,n,e[n]);if(Fu)for(var n of Fu(e))Sw.call(e,n)&&Cw(t,n,e[n]);return t},ie=(t,e)=>qM(t,GM(e));var vp=(t,e)=>{var n={};for(var r in t)bw.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Fu)for(var r of Fu(t))e.indexOf(r)<0&&Sw.call(t,r)&&(n[r]=t[r]);return n};var vt=null,Vu=!1,wp=1,WM=null,Ft=Symbol("SIGNAL");function G(t){let e=vt;return vt=t,e}function Uu(){return vt}var Ta={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Da(t){if(Vu)throw new Error("");if(vt===null)return;vt.consumerOnSignalRead(t);let e=vt.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=vt.recomputing;if(r&&(n=e!==void 0?e.nextProducer:vt.producers,n!==void 0&&n.producer===t)){vt.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===vt&&(!r||QM(i,vt)))return;let o=Oo(vt),s={producer:t,consumer:vt,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};vt.producersTail=s,e!==void 0?e.nextProducer=s:vt.producers=s,o&&Mw(t,s)}function Aw(){wp++}function Tp(t){if(!(Oo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===wp)){if(!t.producerMustRecompute(t)&&!$u(t)){Ip(t);return}t.producerRecomputeValue(t),Ip(t)}}function Dp(t){if(t.consumers===void 0)return;let e=Vu;Vu=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||KM(r)}}finally{Vu=e}}function Cp(){return vt?.consumerAllowSignalWrites!==!1}function KM(t){t.dirty=!0,Dp(t),t.consumerMarkedDirty?.(t)}function Ip(t){t.dirty=!1,t.lastCleanEpoch=wp}function Ca(t){return t&&Rw(t),G(t)}function Rw(t){t.producersTail=void 0,t.recomputing=!0}function Bu(t,e){G(e),t&&Nw(t)}function Nw(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(Oo(t))do n=bp(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function $u(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Tp(n),r!==n.version))return!0}return!1}function ba(t){if(Oo(t)){let e=t.producers;for(;e!==void 0;)e=bp(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function Mw(t,e){let n=t.consumersTail,r=Oo(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)Mw(i.producer,i)}function bp(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Oo(e)){let o=e.producers;for(;o!==void 0;)o=bp(o)}return n}function Oo(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Sp(t){WM?.(t)}function QM(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Ap(t,e){return Object.is(t,e)}function Hu(t,e){let n=Object.create(YM);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Tp(n),Da(n),n.value===ju)throw n.error;return n.value};return r[Ft]=n,Sp(n),r}var _p=Symbol("UNSET"),Ep=Symbol("COMPUTING"),ju=Symbol("ERRORED"),YM=ie(M({},Ta),{value:_p,dirty:!0,error:null,equal:Ap,kind:"computed",producerMustRecompute(t){return t.value===_p||t.value===Ep},producerRecomputeValue(t){if(t.value===Ep)throw new Error("");let e=t.value;t.value=Ep;let n=Ca(t),r,i=!1;try{r=t.computation(),G(null),i=e!==_p&&e!==ju&&r!==ju&&t.equal(e,r)}catch(o){r=ju,t.error=o}finally{Bu(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function JM(){throw new Error}var xw=JM;function Pw(t){xw(t)}function Rp(t){xw=t}var ZM=null;function Np(t,e){let n=Object.create(zu);n.value=t,e!==void 0&&(n.equal=e);let r=()=>Ow(n);return r[Ft]=n,Sp(n),[r,s=>Sa(n,s),s=>kw(n,s)]}function Ow(t){return Da(t),t.value}function Sa(t,e){Cp()||Pw(t),t.equal(t.value,e)||(t.value=e,XM(t))}function kw(t,e){Cp()||Pw(t),Sa(t,e(t.value))}var zu=ie(M({},Ta),{equal:Ap,value:void 0,kind:"signal"});function XM(t){t.version++,Aw(),Dp(t),ZM?.(t)}function Mp(t){let e=G(null);try{return t()}finally{G(e)}}function ee(t){return typeof t=="function"}function ko(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var qu=ko(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Aa(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ht=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(o){e=o instanceof qu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Lw(o)}catch(s){e=e??[],s instanceof qu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new qu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Lw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Aa(n,e)}remove(e){let{_finalizers:n}=this;n&&Aa(n,e),e instanceof t&&e._removeParent(this)}};ht.EMPTY=(()=>{let t=new ht;return t.closed=!0,t})();var xp=ht.EMPTY;function Gu(t){return t instanceof ht||t&&"closed"in t&&ee(t.remove)&&ee(t.add)&&ee(t.unsubscribe)}function Lw(t){ee(t)?t():t.unsubscribe()}var mn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Lo={setTimeout(t,e,...n){let{delegate:r}=Lo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Lo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Wu(t){Lo.setTimeout(()=>{let{onUnhandledError:e}=mn;if(e)e(t);else throw t})}function Ra(){}var Fw=Pp("C",void 0,void 0);function Vw(t){return Pp("E",void 0,t)}function jw(t){return Pp("N",t,void 0)}function Pp(t,e,n){return{kind:t,value:e,error:n}}var Pi=null;function Fo(t){if(mn.useDeprecatedSynchronousErrorHandling){let e=!Pi;if(e&&(Pi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Pi;if(Pi=null,n)throw r}}else t()}function Uw(t){mn.useDeprecatedSynchronousErrorHandling&&Pi&&(Pi.errorThrown=!0,Pi.error=t)}var Oi=class extends ht{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Gu(e)&&e.add(this)):this.destination=nx}static create(e,n,r){return new Vo(e,n,r)}next(e){this.isStopped?kp(jw(e),this):this._next(e)}error(e){this.isStopped?kp(Vw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?kp(Fw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ex=Function.prototype.bind;function Op(t,e){return ex.call(t,e)}var Lp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ku(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ku(r)}else Ku(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ku(n)}}},Vo=class extends Oi{constructor(e,n,r){super();let i;if(ee(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&mn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Op(e.next,o),error:e.error&&Op(e.error,o),complete:e.complete&&Op(e.complete,o)}):i=e}this.destination=new Lp(i)}};function Ku(t){mn.useDeprecatedSynchronousErrorHandling?Uw(t):Wu(t)}function tx(t){throw t}function kp(t,e){let{onStoppedNotification:n}=mn;n&&Lo.setTimeout(()=>n(t,e))}var nx={closed:!0,next:Ra,error:tx,complete:Ra};var jo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function yn(t){return t}function Fp(...t){return Vp(t)}function Vp(t){return t.length===0?yn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Ie=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=ix(n)?n:new Vo(n,r,i);return Fo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Bw(r),new r((i,o)=>{let s=new Vo({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[jo](){return this}pipe(...n){return Vp(n)(this)}toPromise(n){return n=Bw(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Bw(t){var e;return(e=t??mn.Promise)!==null&&e!==void 0?e:Promise}function rx(t){return t&&ee(t.next)&&ee(t.error)&&ee(t.complete)}function ix(t){return t&&t instanceof Oi||rx(t)&&Gu(t)}function ox(t){return ee(t?.lift)}function Ce(t){return e=>{if(ox(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ae(t,e,n,r,i){return new jp(t,e,n,r,i)}var jp=class extends Oi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var $w=ko(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var st=(()=>{class t extends Ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Qu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new $w}next(n){Fo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Fo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Fo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?xp:(this.currentObservers=null,o.push(n),new ht(()=>{this.currentObservers=null,Aa(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Ie;return n.source=this,n}}return t.create=(e,n)=>new Qu(e,n),t})(),Qu=class extends st{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:xp}};var pt=class extends st{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Vt=new Ie(t=>t.complete());function Hw(t){return t&&ee(t.schedule)}function zw(t){return t[t.length-1]}function qw(t){return ee(zw(t))?t.pop():void 0}function Ur(t){return Hw(zw(t))?t.pop():void 0}function Ww(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function Gw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ki(t){return this instanceof ki?(this.v=t,this):new ki(t)}function Kw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(S){return Promise.resolve(S).then(y,p)}}function a(y,S){r[y]&&(i[y]=function(A){return new Promise(function(R,L){o.push([y,A,R,L])>1||u(y,A)})},S&&(i[y]=S(i[y])))}function u(y,S){try{l(r[y](S))}catch(A){m(o[0][3],A)}}function l(y){y.value instanceof ki?Promise.resolve(y.value.v).then(f,p):m(o[0][2],y)}function f(y){u("next",y)}function p(y){u("throw",y)}function m(y,S){y(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Qw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Gw=="function"?Gw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Yu=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ju(t){return ee(t?.then)}function Zu(t){return ee(t[jo])}function Xu(t){return Symbol.asyncIterator&&ee(t?.[Symbol.asyncIterator])}function el(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function sx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var tl=sx();function nl(t){return ee(t?.[tl])}function rl(t){return Kw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ki(n.read());if(i)return yield ki(void 0);yield yield ki(r)}}finally{n.releaseLock()}})}function il(t){return ee(t?.getReader)}function at(t){if(t instanceof Ie)return t;if(t!=null){if(Zu(t))return ax(t);if(Yu(t))return cx(t);if(Ju(t))return ux(t);if(Xu(t))return Yw(t);if(nl(t))return lx(t);if(il(t))return dx(t)}throw el(t)}function ax(t){return new Ie(e=>{let n=t[jo]();if(ee(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function cx(t){return new Ie(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function ux(t){return new Ie(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Wu)})}function lx(t){return new Ie(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Yw(t){return new Ie(e=>{fx(t,e).catch(n=>e.error(n))})}function dx(t){return Yw(rl(t))}function fx(t,e){var n,r,i,o;return Ww(this,void 0,void 0,function*(){try{for(n=Qw(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function jt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ol(t,e=0){return Ce((n,r)=>{n.subscribe(Ae(r,i=>jt(r,t,()=>r.next(i),e),()=>jt(r,t,()=>r.complete(),e),i=>jt(r,t,()=>r.error(i),e)))})}function sl(t,e=0){return Ce((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Jw(t,e){return at(t).pipe(sl(e),ol(e))}function Zw(t,e){return at(t).pipe(sl(e),ol(e))}function Xw(t,e){return new Ie(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function eT(t,e){return new Ie(n=>{let r;return jt(n,e,()=>{r=t[tl](),jt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function al(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ie(n=>{jt(n,e,()=>{let r=t[Symbol.asyncIterator]();jt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function tT(t,e){return al(rl(t),e)}function nT(t,e){if(t!=null){if(Zu(t))return Jw(t,e);if(Yu(t))return Xw(t,e);if(Ju(t))return Zw(t,e);if(Xu(t))return al(t,e);if(nl(t))return eT(t,e);if(il(t))return tT(t,e)}throw el(t)}function et(t,e){return e?nT(t,e):at(t)}function le(...t){let e=Ur(t);return et(t,e)}function Up(t,e){let n=ee(t)?t:()=>t,r=i=>i.error(n());return new Ie(e?i=>e.schedule(r,0,i):r)}function cl(t){return!!t&&(t instanceof Ie||ee(t.lift)&&ee(t.subscribe))}var Li=ko(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Le(t,e){return Ce((n,r)=>{let i=0;n.subscribe(Ae(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:hx}=Array;function px(t,e){return hx(e)?t(...e):t(e)}function rT(t){return Le(e=>px(t,e))}var{isArray:gx}=Array,{getPrototypeOf:mx,prototype:yx,keys:vx}=Object;function iT(t){if(t.length===1){let e=t[0];if(gx(e))return{args:e,keys:null};if(_x(e)){let n=vx(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function _x(t){return t&&typeof t=="object"&&mx(t)===yx}function oT(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Bp(...t){let e=Ur(t),n=qw(t),{args:r,keys:i}=iT(t);if(r.length===0)return et([],e);let o=new Ie(Ex(r,e,i?s=>oT(i,s):yn));return n?o.pipe(rT(n)):o}function Ex(t,e,n=yn){return r=>{sT(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)sT(e,()=>{let l=et(t[u],e),f=!1;l.subscribe(Ae(r,p=>{o[u]=p,f||(f=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function sT(t,e,n){t?jt(n,t,e):e()}function aT(t,e,n,r,i,o,s,a){let u=[],l=0,f=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=A=>l<r?S(A):u.push(A),S=A=>{o&&e.next(A),l++;let R=!1;at(n(A,f++)).subscribe(Ae(e,L=>{i?.(L),o?y(L):e.next(L)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let L=u.shift();s?jt(e,s,()=>S(L)):S(L)}m()}catch(L){e.error(L)}}))};return t.subscribe(Ae(e,y,()=>{p=!0,m()})),()=>{a?.()}}function _t(t,e,n=1/0){return ee(e)?_t((r,i)=>Le((o,s)=>e(r,o,i,s))(at(t(r,i))),n):(typeof e=="number"&&(n=e),Ce((r,i)=>aT(r,i,t,n)))}function Uo(t=1/0){return _t(yn,t)}function cT(){return Uo(1)}function Bo(...t){return cT()(et(t,Ur(t)))}function Na(t){return new Ie(e=>{at(t()).subscribe(e)})}function vn(t,e){return Ce((n,r)=>{let i=0;n.subscribe(Ae(r,o=>t.call(e,o,i++)&&r.next(o)))})}function $o(t){return Ce((e,n)=>{let r=null,i=!1,o;r=e.subscribe(Ae(n,void 0,void 0,s=>{o=at(t(s,$o(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Ma(t,e){return ee(e)?_t(t,e,1):_t(t,1)}function $p(t){return Ce((e,n)=>{let r=!1;e.subscribe(Ae(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function lr(t){return t<=0?()=>Vt:Ce((e,n)=>{let r=0;e.subscribe(Ae(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function uT(t=Ix){return Ce((e,n)=>{let r=!1;e.subscribe(Ae(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Ix(){return new Li}function Hp(t){return Ce((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function dr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?vn((i,o)=>t(i,o,r)):yn,lr(1),n?$p(e):uT(()=>new Li))}function ul(t){return t<=0?()=>Vt:Ce((e,n)=>{let r=[];e.subscribe(Ae(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function zp(...t){let e=Ur(t);return Ce((n,r)=>{(e?Bo(t,n,e):Bo(t,n)).subscribe(r)})}function Un(t,e){return Ce((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(Ae(r,u=>{i?.unsubscribe();let l=0,f=o++;at(t(u,f)).subscribe(i=Ae(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function xa(t){return Ce((e,n)=>{at(t).subscribe(Ae(n,()=>n.complete(),Ra)),!n.closed&&e.subscribe(n)})}function St(t,e,n){let r=ee(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ce((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ae(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):yn}var qp;function ll(){return qp}function Bn(t){let e=qp;return qp=t,e}var lT=Symbol("NotFound");function Ho(t){return t===lT||t?.name==="\u0275NotFound"}var ml="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",U=class extends Error{code;constructor(e,n){super(Hr(e,n)),this.code=e}};function Dx(t){return`NG0${Math.abs(t)}`}function Hr(t,e){return`${Dx(t)}${e?": "+e:""}`}var gr=globalThis;function be(t){for(let e in t)if(t[e]===be)return e;throw Error("")}function hr(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(hr).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function yl(t,e){return t?e?`${t} ${e}`:t:e||""}var Cx=be({__forward_ref__:be});function vl(t){return t.__forward_ref__=vl,t.toString=function(){return hr(this())},t}function Ut(t){return sg(t)?t():t}function sg(t){return typeof t=="function"&&t.hasOwnProperty(Cx)&&t.__forward_ref__===vl}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Va(t){return bx(t,_l)}function ag(t){return Va(t)!==null}function bx(t,e){return t.hasOwnProperty(e)&&t[e]||null}function Sx(t){let e=t?.[_l]??null;return e||null}function Wp(t){return t&&t.hasOwnProperty(fl)?t[fl]:null}var _l=be({\u0275prov:be}),fl=be({\u0275inj:be}),H=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function cg(t){return t&&!!t.\u0275providers}var ug=be({\u0275cmp:be}),lg=be({\u0275dir:be}),dg=be({\u0275pipe:be}),fg=be({\u0275mod:be}),Oa=be({\u0275fac:be}),Ui=be({__NG_ELEMENT_ID__:be}),dT=be({__NG_ENV_ID__:be});function ja(t){return typeof t=="string"?t:t==null?"":String(t)}function gT(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ja(t)}var mT=be({ngErrorCode:be}),Ax=be({ngErrorMessage:be}),Rx=be({ngTokenPath:be});function hg(t,e){return yT("",-200,e)}function El(t,e){throw new U(-201,!1)}function yT(t,e,n){let r=new U(e,t);return r[mT]=e,r[Ax]=t,n&&(r[Rx]=n),r}function Nx(t){return t[mT]}var Kp;function vT(){return Kp}function At(t){let e=Kp;return Kp=t,e}function pg(t,e,n){let r=Va(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;El(t,"Injector")}var Mx={},Fi=Mx,xx="__NG_DI_FLAG__",Qp=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Vi(n)||0;try{return this.injector.get(e,r&8?null:Fi,r)}catch(i){if(Ho(i))return i;throw i}}};function Px(t,e=0){let n=ll();if(n===void 0)throw new U(-203,!1);if(n===null)return pg(t,void 0,e);{let r=Ox(e),i=n.retrieve(t,r);if(Ho(i)){if(r.optional)return null;throw i}return i}}function W(t,e=0){return(vT()||Px)(Ut(t),e)}function O(t,e){return W(t,Vi(e))}function Vi(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ox(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Yp(t){let e=[];for(let n=0;n<t.length;n++){let r=Ut(t[n]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=kx(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(W(i,o))}else e.push(W(r))}return e}function kx(t){return t[xx]}function Br(t,e){let n=t.hasOwnProperty(Oa);return n?t[Oa]:null}function _T(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function ET(t){return t.flat(Number.POSITIVE_INFINITY)}function Il(t,e){t.forEach(n=>Array.isArray(n)?Il(n,e):e(n))}function gg(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ua(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function IT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function wl(t,e,n){let r=Go(t,e);return r>=0?t[r|1]=n:(r=~r,IT(t,r,e,n)),r}function Tl(t,e){let n=Go(t,e);if(n>=0)return t[n|1]}function Go(t,e){return Lx(t,e,1)}function Lx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Bi={},$n=[],$i=new H(""),mg=new H("",-1),yg=new H(""),ka=class{get(e,n=Fi){if(n===Fi){let i=yT("",-201);throw i.name="\u0275NotFound",i}return n}};function vg(t){return t[fg]||null}function zr(t){return t[ug]||null}function _g(t){return t[lg]||null}function wT(t){return t[dg]||null}function Hi(t){return{\u0275providers:t}}function TT(t){return Hi([{provide:$i,multi:!0,useValue:t}])}function DT(...t){return{\u0275providers:Eg(!0,t),\u0275fromNgModule:!0}}function Eg(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Il(e,s=>{let a=s;hl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&CT(i,o),n}function CT(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Ig(i,o=>{e(o,r)})}}function hl(t,e,n,r){if(t=Ut(t),!t)return!1;let i=null,o=Wp(t),s=!o&&zr(t);if(!o&&!s){let u=t.ngModule;if(o=Wp(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)hl(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Il(o.imports,f=>{hl(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&CT(l,e)}if(!a){let l=Br(i)||(()=>new i);e({provide:i,useFactory:l,deps:$n},i),e({provide:yg,useValue:i,multi:!0},i),e({provide:$i,useValue:()=>W(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Ig(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Ig(t,e){for(let n of t)cg(n)&&(n=n.\u0275providers),Array.isArray(n)?Ig(n,e):e(n)}var Fx=be({provide:String,useValue:be});function bT(t){return t!==null&&typeof t=="object"&&Fx in t}function Vx(t){return!!(t&&t.useExisting)}function jx(t){return!!(t&&t.useFactory)}function pl(t){return typeof t=="function"}var Ba=new H(""),dl={},fT={},Gp;function $a(){return Gp===void 0&&(Gp=new ka),Gp}var ct=class{},ji=class extends ct{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Zp(e,s=>this.processProvider(s)),this.records.set(mg,zo(void 0,this)),i.has("environment")&&this.records.set(ct,zo(void 0,this));let o=this.records.get(Ba);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(yg,$n,{self:!0}))}retrieve(e,n){let r=Vi(n)||0;try{return this.get(e,Fi,r)}catch(i){if(Ho(i))return i;throw i}}destroy(){Pa(this),this._destroyed=!0;let e=G(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),G(e)}}onDestroy(e){return Pa(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Pa(this);let n=Bn(this),r=At(void 0),i;try{return e()}finally{Bn(n),At(r)}}get(e,n=Fi,r){if(Pa(this),e.hasOwnProperty(dT))return e[dT](this);let i=Vi(r),o,s=Bn(this),a=At(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let f=zx(e)&&Va(e);f&&this.injectableDefInScope(f)?l=zo(Jp(e),dl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?$a():this.parent;return n=i&8&&n===Fi?null:n,u.get(e,n)}catch(u){let l=Nx(u);throw l===-200||l===-201?new U(l,null):u}finally{At(a),Bn(s)}}resolveInjectorInitializers(){let e=G(null),n=Bn(this),r=At(void 0),i;try{let o=this.get($i,$n,{self:!0});for(let s of o)s()}finally{Bn(n),At(r),G(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(hr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ut(e);let n=pl(e)?e:Ut(e&&e.provide),r=Bx(e);if(!pl(e)&&e.multi===!0){let i=this.records.get(n);i||(i=zo(void 0,dl,!0),i.factory=()=>Yp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=G(null);try{if(n.value===fT)throw hg(hr(e));return n.value===dl&&(n.value=fT,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&Hx(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{G(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ut(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Jp(t){let e=Va(t),n=e!==null?e.factory:Br(t);if(n!==null)return n;if(t instanceof H)throw new U(204,!1);if(t instanceof Function)return Ux(t);throw new U(204,!1)}function Ux(t){if(t.length>0)throw new U(204,!1);let n=Sx(t);return n!==null?()=>n.factory(t):()=>new t}function Bx(t){if(bT(t))return zo(void 0,t.useValue);{let e=ST(t);return zo(e,dl)}}function ST(t,e,n){let r;if(pl(t)){let i=Ut(t);return Br(i)||Jp(i)}else if(bT(t))r=()=>Ut(t.useValue);else if(jx(t))r=()=>t.useFactory(...Yp(t.deps||[]));else if(Vx(t))r=(i,o)=>W(Ut(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Ut(t&&(t.useClass||t.provide));if($x(t))r=()=>new i(...Yp(t.deps));else return Br(i)||Jp(i)}return r}function Pa(t){if(t.destroyed)throw new U(205,!1)}function zo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function $x(t){return!!t.deps}function Hx(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function zx(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Zp(t,e){for(let n of t)Array.isArray(n)?Zp(n,e):n&&cg(n)?Zp(n.\u0275providers,e):e(n)}function Rt(t,e){let n;t instanceof ji?(Pa(t),n=t):n=new Qp(t);let r,i=Bn(n),o=At(void 0);try{return e()}finally{Bn(i),At(o)}}function AT(){return vT()!==void 0||ll()!=null}var En=0,z=1,J=2,tt=3,nn=4,rn=5,Wo=6,Ko=7,ze=8,mr=9,Hn=10,Fe=11,Qo=12,wg=13,zi=14,Kt=15,qr=16,qi=17,zn=18,Ha=19,Tg=20,fr=21,Dl=22,za=23,Qt=24,Cl=25,Gi=26,nt=27,RT=1,Dg=6,Gr=7,qa=8,Wi=9,Be=10;function qn(t){return Array.isArray(t)&&typeof t[RT]=="object"}function In(t){return Array.isArray(t)&&t[RT]===!0}function Cg(t){return(t.flags&4)!==0}function Wr(t){return t.componentOffset>-1}function bl(t){return(t.flags&1)===1}function Ki(t){return!!t.template}function Yo(t){return(t[J]&512)!==0}function Qi(t){return(t[J]&256)===256}var NT="svg",MT="math";function on(t){for(;Array.isArray(t);)t=t[En];return t}function bg(t,e){return on(e[t])}function wn(t,e){return on(e[t.index])}function Ga(t,e){return t.data[e]}function xT(t,e){return t[e]}function Sg(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function sn(t,e){let n=e[t];return qn(n)?n:n[En]}function PT(t){return(t[J]&4)===4}function Sl(t){return(t[J]&128)===128}function OT(t){return In(t[tt])}function Gn(t,e){return e==null?null:t[e]}function Ag(t){t[qi]=0}function Rg(t){t[J]&1024||(t[J]|=1024,Sl(t)&&Ka(t))}function kT(t,e){for(;t>0;)e=e[zi],t--;return e}function Wa(t){return!!(t[J]&9216||t[Qt]?.dirty)}function Al(t){t[Hn].changeDetectionScheduler?.notify(8),t[J]&64&&(t[J]|=1024),Wa(t)&&Ka(t)}function Ka(t){t[Hn].changeDetectionScheduler?.notify(0);let e=$r(t);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!Sl(e)));)e=$r(e)}function Ng(t,e){if(Qi(t))throw new U(911,!1);t[fr]===null&&(t[fr]=[]),t[fr].push(e)}function LT(t,e){if(t[fr]===null)return;let n=t[fr].indexOf(e);n!==-1&&t[fr].splice(n,1)}function $r(t){let e=t[tt];return In(e)?e[tt]:e}function Mg(t){return t[Ko]??=[]}function xg(t){return t.cleanup??=[]}function FT(t,e,n,r){let i=Mg(e);i.push(n),t.firstCreatePass&&xg(t).push(r,i.length-1)}var ue={lFrame:YT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Xp=!1;function VT(){return ue.lFrame.elementDepthCount}function jT(){ue.lFrame.elementDepthCount++}function Pg(){ue.lFrame.elementDepthCount--}function UT(){return ue.bindingsEnabled}function BT(){return ue.skipHydrationRootTNode!==null}function Og(t){return ue.skipHydrationRootTNode===t}function kg(){ue.skipHydrationRootTNode=null}function ce(){return ue.lFrame.lView}function ut(){return ue.lFrame.tView}function Nt(t){return ue.lFrame.contextLView=t,t[ze]}function Mt(t){return ue.lFrame.contextLView=null,t}function xt(){let t=Lg();for(;t!==null&&t.type===64;)t=t.parent;return t}function Lg(){return ue.lFrame.currentTNode}function $T(){let t=ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Jo(t,e){let n=ue.lFrame;n.currentTNode=t,n.isParent=e}function Fg(){return ue.lFrame.isParent}function HT(){ue.lFrame.isParent=!1}function Vg(){return Xp}function jg(t){let e=Xp;return Xp=t,e}function Ug(){let t=ue.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function zT(t){return ue.lFrame.bindingIndex=t}function Yi(){return ue.lFrame.bindingIndex++}function Bg(t){let e=ue.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function qT(){return ue.lFrame.inI18n}function GT(t,e){let n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,Rl(e)}function WT(){return ue.lFrame.currentDirectiveIndex}function Rl(t){ue.lFrame.currentDirectiveIndex=t}function KT(t){let e=ue.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function $g(){return ue.lFrame.currentQueryIndex}function Nl(t){ue.lFrame.currentQueryIndex=t}function qx(t){let e=t[z];return e.type===2?e.declTNode:e.type===1?t[rn]:null}function Hg(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=qx(o),i===null||(o=o[zi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ue.lFrame=QT();return r.currentTNode=e,r.lView=t,!0}function Ml(t){let e=QT(),n=t[z];ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function QT(){let t=ue.lFrame,e=t===null?null:t.child;return e===null?YT(t):e}function YT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function JT(){let t=ue.lFrame;return ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var zg=JT;function xl(){let t=JT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ZT(t){return(ue.lFrame.contextLView=kT(t,ue.lFrame.contextLView))[ze]}function yr(){return ue.lFrame.selectedIndex}function Kr(t){ue.lFrame.selectedIndex=t}function Pl(){let t=ue.lFrame;return Ga(t.tView,t.selectedIndex)}function XT(){return ue.lFrame.currentNamespace}var eD=!0;function Ol(){return eD}function kl(t){eD=t}function eg(t,e=null,n=null,r){let i=qg(t,e,n,r);return i.resolveInjectorInitializers(),i}function qg(t,e=null,n=null,r,i=new Set){let o=[n||$n,DT(t)];return r=r||(typeof t=="object"?void 0:hr(t)),new ji(o,e||$a(),r||null,i)}var _n=class t{static THROW_IF_NOT_FOUND=Fi;static NULL=new ka;static create(e,n){if(Array.isArray(e))return eg({name:""},n,e,"");{let r=e.name??"";return eg({name:r},e.parent,e.providers,r)}}static \u0275prov=j({token:t,providedIn:"any",factory:()=>W(mg)});static __NG_ELEMENT_ID__=-1},qe=new H(""),Qr=(()=>{class t{static __NG_ELEMENT_ID__=Gx;static __NG_ENV_ID__=n=>n}return t})(),tg=class extends Qr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Qi(this._lView)}onDestroy(e){let n=this._lView;return Ng(n,e),()=>LT(n,e)}};function Gx(){return new tg(ce())}var tD=!1,Yr=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new pt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Ie(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}return t})(),ng=class extends st{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,AT()&&(this.destroyRef=O(Qr,{optional:!0})??void 0,this.pendingTasks=O(Yr,{optional:!0})??void 0)}emit(e){let n=G(null);try{super.next(e)}finally{G(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ht&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Et=ng;function gl(...t){}function Gg(t){let e,n;function r(){t=gl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Wg(t){return queueMicrotask(()=>t()),()=>{t=gl}}var Kg="isAngularZone",La=Kg+"_ID",Wx=0,Bt=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Et(!1);onMicrotaskEmpty=new Et(!1);onStable=new Et(!1);onError=new Et(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=tD}=e;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Yx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Kg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new U(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Kx,gl,gl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Kx={};function Qg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Qx(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Gg(()=>{t.callbackScheduled=!1,rg(t),t.isCheckStableRunning=!0,Qg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),rg(t)}function Yx(t){let e=()=>{Qx(t)},n=Wx++;t._inner=t._inner.fork({name:"angular",properties:{[Kg]:!0,[La]:n,[La+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(Jx(u))return r.invokeTask(o,s,a,u);try{return hT(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),pT(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return hT(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Zx(u)&&e(),pT(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,rg(t),Qg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function rg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function hT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pT(t){t._nesting--,Qg(t)}var Fa=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Et;onMicrotaskEmpty=new Et;onStable=new Et;onError=new Et;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Jx(t){return nD(t,"__ignore_ng_zone__")}function Zx(t){return nD(t,"__scheduler_tick__")}function nD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var pr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},an=new H("",{factory:()=>{let t=O(Bt),e=O(ct),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(pr),n.handleError(r))})}}}),rD={provide:$i,useValue:()=>{let t=O(pr,{optional:!0})},multi:!0},Xx=new H("",{factory:()=>{let t=O(qe).defaultView;if(!t)return;let e=O(an),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),O(Qr).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function Yg(){return Hi([TT(()=>void O(Xx))])}function $e(t,e){let[n,r,i]=Np(t,e?.equal),o=n,s=o[Ft];return o.set=r,o.update=i,o.asReadonly=iD.bind(o),o}function iD(){let t=this[Ft];if(t.readonlyFn===void 0){let e=()=>this();e[Ft]=t,t.readonlyFn=e}return t.readonlyFn}var qo=class{},Qa=new H("",{factory:()=>!0});var Jg=new H("");var Zg=(()=>{class t{static \u0275prov=j({token:t,providedIn:"root",factory:()=>new ig})}return t})(),ig=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},og=class{[Ft];constructor(e){this[Ft]=e}destroy(){this[Ft].destroy()}};function Tn(t){return Mp(t)}function cd(t){return{toString:t}.toString()}function uP(t){return typeof t=="function"}function xD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Hl=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},no=(()=>{let t=()=>PD;return t.ngInherit=!0,t})();function PD(t){return t.type.prototype.ngOnChanges&&(t.setInput=dP),lP}function lP(){let t=kD(this),e=t?.current;if(e){let n=t.previous;if(n===Bi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function dP(t,e,n,r,i){let o=this.declaredInputs[r],s=kD(t)||fP(t,{previous:Bi,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Hl(l&&l.currentValue,n,u===Bi),xD(t,e,i,n)}var OD="__ngSimpleChanges__";function kD(t){return t[OD]||null}function fP(t,e){return t[OD]=e}var oD=[];var Re=function(t,e=null,n){for(let r=0;r<oD.length;r++){let i=oD[r];i(t,e,n)}},we=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(we||{});function hP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=PD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function pP(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Vl(t,e,n){LD(t,e,3,n)}function jl(t,e,n,r){(t[J]&3)===n&&LD(t,e,n,r)}function Xg(t,e){let n=t[J];(n&3)===e&&(n&=16383,n+=1,t[J]=n)}function LD(t,e,n,r){let i=r!==void 0?t[qi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[qi]+=65536),(a<o||o==-1)&&(gP(t,n,e,u),t[qi]=(t[qi]&4294901760)+u+2),u++}function sD(t,e){Re(we.LifecycleHookStart,t,e);let n=G(null);try{e.call(t)}finally{G(n),Re(we.LifecycleHookEnd,t,e)}}function gP(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[J]>>14<t[qi]>>16&&(t[J]&3)===e&&(t[J]+=16384,sD(a,o)):sD(a,o)}var Xo=-1,Xa=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function mP(t){return(t.flags&8)!==0}function yP(t){return(t.flags&16)!==0}function vP(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];_P(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function FD(t){return t===3||t===4||t===6}function _P(t){return t.charCodeAt(0)===64}function ud(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?aD(t,n,i,null,e[++r]):aD(t,n,i,null,null))}}return t}function aD(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function VD(t){return t!==Xo}function zl(t){return t&32767}function EP(t){return t>>16}function ql(t,e){let n=EP(t),r=e;for(;n>0;)r=r[zi],n--;return r}var am=!0;function Gl(t){let e=am;return am=t,e}var IP=256,jD=IP-1,UD=5,wP=0,Wn={};function TP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ui)&&(r=n[Ui]),r==null&&(r=n[Ui]=wP++);let i=r&jD,o=1<<i;e.data[t+(i>>UD)]|=o}function BD(t,e){let n=$D(t,e);if(n!==-1)return n;let r=e[z];r.firstCreatePass&&(t.injectorIndex=e.length,em(r.data,t),em(e,null),em(r.blueprint,null));let i=xm(t,e),o=t.injectorIndex;if(VD(i)){let s=zl(i),a=ql(i,e),u=a[z].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function em(t,e){t.push(0,0,0,0,0,0,0,0,e)}function $D(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function xm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=WD(i),r===null)return Xo;if(n++,i=i[zi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Xo}function DP(t,e,n){TP(t,e,n)}function CP(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(FD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function HD(t,e,n){if(n&8||t!==void 0)return t;El(e,"NodeInjector")}function zD(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[mr],o=At(void 0);try{return i?i.get(e,r,n&8):pg(e,r,n&8)}finally{At(o)}}return HD(r,e,n)}function qD(t,e,n,r=0,i){if(t!==null){if(e[J]&2048&&!(r&2)){let s=RP(t,e,n,r,Wn);if(s!==Wn)return s}let o=GD(t,e,n,r,Wn);if(o!==Wn)return o}return zD(e,n,r,i)}function GD(t,e,n,r,i){let o=SP(n);if(typeof o=="function"){if(!Hg(e,t,r))return r&1?HD(i,n,r):zD(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))El(n);else return s}finally{zg()}}else if(typeof o=="number"){let s=null,a=$D(t,e),u=Xo,l=r&1?e[Kt][rn]:null;for((a===-1||r&4)&&(u=a===-1?xm(t,e):e[a+8],u===Xo||!uD(r,!1)?a=-1:(s=e[z],a=zl(u),e=ql(u,e)));a!==-1;){let f=e[z];if(cD(o,a,f.data)){let p=bP(a,e,n,s,r,l);if(p!==Wn)return p}u=e[a+8],u!==Xo&&uD(r,e[z].data[a+8]===l)&&cD(o,a,e)?(s=f,a=zl(u),e=ql(u,e)):a=-1}}return i}function bP(t,e,n,r,i,o){let s=e[z],a=s.data[t+8],u=r==null?Wr(a)&&am:r!=s&&(a.type&3)!==0,l=i&1&&o===a,f=Ul(a,s,n,u,l);return f!==null?Wl(e,s,f,a,i):Wn}function Ul(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,f=o>>20,p=r?a:a+f,m=i?a+f:l;for(let y=p;y<m;y++){let S=s[y];if(y<u&&n===S||y>=u&&S.type===n)return y}if(i){let y=s[u];if(y&&Ki(y)&&y.type===n)return u}return null}function Wl(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof Xa){let a=o;if(a.resolving){let y=gT(s[n]);throw hg(y)}let u=Gl(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],f,p=a.injectImpl?At(a.injectImpl):null,m=Hg(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&hP(n,s[n],e)}finally{p!==null&&At(p),Gl(u),a.resolving=!1,zg()}}return o}function SP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ui)?t[Ui]:void 0;return typeof e=="number"?e>=0?e&jD:AP:e}function cD(t,e,n){let r=1<<t;return!!(n[e+(t>>UD)]&r)}function uD(t,e){return!(t&2)&&!(t&1&&e)}var Ji=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return qD(this._tNode,this._lView,e,Vi(r),n)}};function AP(){return new Ji(xt(),ce())}function sc(t){return cd(()=>{let e=t.prototype.constructor,n=e[Oa]||cm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Oa]||cm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function cm(t){return sg(t)?()=>{let e=cm(Ut(t));return e&&e()}:Br(t)}function RP(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[J]&2048&&!Yo(s);){let a=GD(o,s,n,r|2,Wn);if(a!==Wn)return a;let u=o.parent;if(!u){let l=s[Tg];if(l){let f=l.get(n,Wn,r);if(f!==Wn)return f}u=WD(s),s=s[zi]}o=u}return i}function WD(t){let e=t[z],n=e.type;return n===2?e.declTNode:n===1?t[rn]:null}function ac(t){return CP(xt(),t)}function NP(){return is(xt(),ce())}function is(t,e){return new $t(wn(t,e))}var $t=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=NP}return t})();function MP(t){return t instanceof $t?t.nativeElement:t}function xP(){return this._results[Symbol.iterator]()}var Kl=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new st}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=ET(e);(this._changesDetected=!_T(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=xP};function KD(t){return(t.flags&128)===128}var Pm=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Pm||{}),QD=new Map,PP=0;function OP(){return PP++}function kP(t){QD.set(t[Ha],t)}function um(t){QD.delete(t[Ha])}var lD="__ngContext__";function es(t,e){qn(e)?(t[lD]=e[Ha],kP(e)):t[lD]=e}function YD(t){return ZD(t[Qo])}function JD(t){return ZD(t[nn])}function ZD(t){for(;t!==null&&!In(t);)t=t[nn];return t}var LP;function Om(t){LP=t}var ld=new H("",{factory:()=>FP}),FP="ng";var dd=new H(""),cc=new H("",{providedIn:"platform",factory:()=>"unknown"});var fd=new H("",{factory:()=>O(qe).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var XD="r";var eC="di";var tC=!1,nC=new H("",{factory:()=>tC});var VP=(t,e,n,r)=>{};function jP(t,e,n,r){VP(t,e,n,r)}function km(t){return(t.flags&32)===32}var UP=()=>null;function rC(t,e,n=!1){return UP(t,e,n)}function iC(t,e){let n=t.contentQueries;if(n!==null){let r=G(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Nl(o),a.contentQueries(2,e[s],s)}}}finally{G(r)}}}function lm(t,e,n){Nl(0);let r=G(null);try{e(t,n)}finally{G(r)}}function oC(t,e,n){if(Cg(e)){let r=G(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{G(r)}}}var bn=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(bn||{});var Ll;function BP(){if(Ll===void 0&&(Ll=null,gr.trustedTypes))try{Ll=gr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ll}function dD(t){return BP()?.createScriptURL(t)||t}var Ql=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ml})`}};function os(t){return t instanceof Ql?t.changingThisBreaksApplicationSecurity:t}function Lm(t,e){let n=sC(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${ml})`)}return n===e}function sC(t){return t instanceof Ql&&t.getTypeName()||null}var $P=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function aC(t){return t=String(t),t.match($P)?t:"unsafe:"+t}function HP(t,e){return t.createText(e)}function zP(t,e,n){t.setValue(e,n)}function cC(t,e,n){return t.createElement(e,n)}function Yl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function uC(t,e,n){t.appendChild(e,n)}function fD(t,e,n,r,i){r!==null?Yl(t,e,n,r,i):uC(t,e,n)}function lC(t,e,n,r){t.removeChild(null,e,n,r)}function qP(t,e,n){t.setAttribute(e,"style",n)}function GP(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function dC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&vP(t,e,r),i!==null&&GP(t,e,i),o!==null&&qP(t,e,o)}var hd=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(hd||{});function cn(t){let e=hC();return e?e.sanitize(hd.URL,t)||"":Lm(t,"URL")?os(t):aC(ja(t))}function fC(t){let e=hC();if(e)return dD(e.sanitize(hd.RESOURCE_URL,t)||"");if(Lm(t,"ResourceURL"))return dD(os(t));throw new U(904,!1)}function WP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?fC:cn}function Fm(t,e,n){return WP(e,n)(t)}function hC(){let t=ce();return t&&t[Hn].sanitizer}function Vm(t){return t.ownerDocument}function pC(t){return t instanceof Function?t():t}function KP(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var gC="ng-template";function QP(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&KP(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(jm(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function jm(t){return t.type===4&&t.value!==gC}function YP(t,e,n){let r=t.type===4&&!n?gC:t.value;return e===r}function JP(t,e,n){let r=4,i=t.attrs,o=i!==null?eO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Dn(r)&&!Dn(u))return!1;if(s&&Dn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!YP(t,u,n)||u===""&&e.length===1){if(Dn(r))return!1;s=!0}}else if(r&8){if(i===null||!QP(t,i,u,n)){if(Dn(r))return!1;s=!0}}else{let l=e[++a],f=ZP(u,i,jm(t),n);if(f===-1){if(Dn(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Dn(r))return!1;s=!0}}}}return Dn(r)||s}function Dn(t){return(t&1)===0}function ZP(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return tO(e,t)}function XP(t,e,n=!1){for(let r=0;r<e.length;r++)if(JP(t,e[r],n))return!0;return!1}function eO(t){for(let e=0;e<t.length;e++){let n=t[e];if(FD(n))return e}return t.length}function tO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function hD(t,e){return t?":not("+e.trim()+")":e}function nO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Dn(s)&&(e+=hD(o,i),i=""),r=s,o=o||!Dn(r);n++}return i!==""&&(e+=hD(o,i)),e}function rO(t){return t.map(nO).join(",")}function iO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Dn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var un={};function Um(t,e,n,r,i,o,s,a,u,l,f){let p=nt+r,m=p+i,y=oO(p,m),S=typeof l=="function"?l():l;return y[z]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:f}}function oO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:un);return n}function sO(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Um(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Bm(t,e,n,r,i,o,s,a,u,l,f){let p=e.blueprint.slice();return p[En]=i,p[J]=r|4|128|8|64|1024,(l!==null||t&&t[J]&2048)&&(p[J]|=2048),Ag(p),p[tt]=p[zi]=t,p[ze]=n,p[Hn]=s||t&&t[Hn],p[Fe]=a||t&&t[Fe],p[mr]=u||t&&t[mr]||null,p[rn]=o,p[Ha]=OP(),p[Wo]=f,p[Tg]=l,p[Kt]=e.type==2?t[Kt]:p,p}function aO(t,e,n){let r=wn(e,t),i=sO(n),o=t[Hn].rendererFactory,s=$m(t,Bm(t,i,null,mC(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function mC(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function yC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function $m(t,e){return t[Qo]?t[wg][nn]=e:t[Qo]=e,t[wg]=e,e}function P(t=1){vC(ut(),ce(),yr()+t,!1)}function vC(t,e,n,r){if(!r)if((e[J]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Vl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&jl(e,o,0,n)}Kr(n)}var pd=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(pd||{});function dm(t,e,n,r){let i=G(null);try{let[o,s,a]=t.inputs[n],u=null;(s&pd.SignalBased)!==0&&(u=e[o][Ft]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):xD(e,u,o,r)}finally{G(i)}}var Kn=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Kn||{}),cO;function Hm(t,e){return cO(t,e)}var Zi=new Set,zm=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(zm||{}),uc=new H(""),pD=new Set;function Zr(t){pD.has(t)||(pD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var _C=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}return t})();var EC=new H("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:O(ct)})});function IC(t,e,n){let r=t.get(EC);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function uO(t,e){let n=t.get(EC);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)n.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function lO(t,e){for(let[n,r]of e)IC(t,r.animateFns)}function gD(t,e,n,r){let i=t?.[Gi]?.enter;e!==null&&i&&i.has(n.index)&&lO(r,i)}function Zo(t,e,n,r,i,o,s,a){if(i!=null){let u,l=!1;In(i)?u=i:qn(i)&&(l=!0,i=i[En]);let f=on(i);t===0&&r!==null?(gD(a,r,o,n),s==null?uC(e,r,f):Yl(e,r,f,s||null,!0)):t===1&&r!==null?(gD(a,r,o,n),Yl(e,r,f,s||null,!0)):t===2?mD(a,o,n,p=>{lC(e,f,l,p)}):t===3&&mD(a,o,n,()=>{e.destroyNode(f)}),u!=null&&TO(e,t,n,u,o,r,s)}}function dO(t,e){wC(t,e),e[En]=null,e[rn]=null}function fO(t,e,n,r,i,o){r[En]=i,r[rn]=e,md(t,r,n,1,i,o)}function wC(t,e){e[Hn].changeDetectionScheduler?.notify(9),md(t,e,e[Fe],2,null,null)}function hO(t){let e=t[Qo];if(!e)return tm(t[z],t);for(;e;){let n=null;if(qn(e))n=e[Qo];else{let r=e[Be];r&&(n=r)}if(!n){for(;e&&!e[nn]&&e!==t;)qn(e)&&tm(e[z],e),e=e[tt];e===null&&(e=t),qn(e)&&tm(e[z],e),n=e&&e[nn]}e=n}}function qm(t,e){let n=t[Wi],r=n.indexOf(e);n.splice(r,1)}function gd(t,e){if(Qi(e))return;let n=e[Fe];n.destroyNode&&md(t,e,n,3,null,null),hO(e)}function tm(t,e){if(Qi(e))return;let n=G(null);try{e[J]&=-129,e[J]|=256,e[Qt]&&ba(e[Qt]),mO(t,e),gO(t,e),e[z].type===1&&e[Fe].destroy();let r=e[qr];if(r!==null&&In(e[tt])){r!==e[tt]&&qm(r,e);let i=e[zn];i!==null&&i.detachView(t)}um(e)}finally{G(n)}}function mD(t,e,n,r){let i=t?.[Gi];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&Zi.add(t),IC(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:f}=l();a.push(f)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),pO(t,r)}else t&&Zi.delete(t),r(!1)},i)}function pO(t,e){let n=t[Gi]?.running;if(n){n.then(()=>{t[Gi].running=void 0,Zi.delete(t),e(!0)});return}e(!1)}function gO(t,e){let n=t.cleanup,r=e[Ko];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[Ko]=null);let i=e[fr];if(i!==null){e[fr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[za];if(o!==null){e[za]=null;for(let s of o)s.destroy()}}function mO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Xa)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Re(we.LifecycleHookStart,a,u);try{u.call(a)}finally{Re(we.LifecycleHookEnd,a,u)}}else{Re(we.LifecycleHookStart,i,o);try{o.call(i)}finally{Re(we.LifecycleHookEnd,i,o)}}}}}function yO(t,e,n){return vO(t,e.parent,n)}function vO(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[En];if(Wr(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===bn.None||i===bn.Emulated)return null}return wn(r,n)}function _O(t,e,n){return IO(t,e,n)}function EO(t,e,n){return t.type&40?wn(t,n):null}var IO=EO,yD;function Gm(t,e,n,r){let i=yO(t,r,e),o=e[Fe],s=r.parent||e[rn],a=_O(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)fD(o,i,n[u],a,!1);else fD(o,i,n,a,!1);yD!==void 0&&yD(o,r,e,n,i)}function Ja(t,e){if(e!==null){let n=e.type;if(n&3)return wn(e,t);if(n&4)return fm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ja(t,r);{let i=t[e.index];return In(i)?fm(-1,i):on(i)}}else{if(n&128)return Ja(t,e.next);if(n&32)return Hm(e,t)()||on(t[e.index]);{let r=TC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=$r(t[Kt]);return Ja(i,r)}else return Ja(t,e.next)}}}return null}function TC(t,e){if(e!==null){let r=t[Kt][rn],i=e.projection;return r.projection[i]}return null}function fm(t,e){let n=Be+t+1;if(n<e.length){let r=e[n],i=r[z].firstChild;if(i!==null)return Ja(r,i)}return e[Gr]}function Wm(t,e,n,r,i,o,s){for(;n!=null;){let a=r[mr];if(n.type===128){n=n.next;continue}let u=r[n.index],l=n.type;if(s&&e===0&&(u&&es(on(u),r),n.flags|=2),!km(n))if(l&8)Wm(t,e,n.child,r,i,o,!1),Zo(e,t,a,i,u,n,o,r);else if(l&32){let f=Hm(n,r),p;for(;p=f();)Zo(e,t,a,i,p,n,o,r);Zo(e,t,a,i,u,n,o,r)}else l&16?wO(t,e,r,n,i,o):Zo(e,t,a,i,u,n,o,r);n=s?n.projectionNext:n.next}}function md(t,e,n,r,i,o){Wm(n,r,t.firstChild,e,i,o,!1)}function wO(t,e,n,r,i,o){let s=n[Kt],u=s[rn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Zo(e,t,n[mr],i,f,r,o,n)}else{let l=u,f=s[tt];KD(r)&&(l.flags|=128),Wm(t,e,l,f,i,o,!0)}}function TO(t,e,n,r,i,o,s){let a=r[Gr],u=on(r);a!==u&&Zo(e,t,n,o,a,i,s);for(let l=Be;l<r.length;l++){let f=r[l];md(f[z],f,t,e,o,a)}}function DO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Kn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Kn.Important),t.setStyle(n,r,i,o))}}function DC(t,e,n,r,i){let o=yr(),s=r&2;try{Kr(-1),s&&e.length>nt&&vC(t,e,nt,!1);let a=s?we.TemplateUpdateStart:we.TemplateCreateStart;Re(a,i,n),n(r,i)}finally{Kr(o);let a=s?we.TemplateUpdateEnd:we.TemplateCreateEnd;Re(a,i,n)}}function CC(t,e,n){MO(t,e,n),(n.flags&64)===64&&xO(t,e,n)}function Km(t,e,n=wn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function CO(t,e,n,r){let o=r.get(nC,tC)||n===bn.ShadowDom||n===bn.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,o);return bO(s),s}function bO(t){SO(t)}var SO=()=>null;function AO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function RO(t,e,n,r,i,o){let s=e[z];if(Qm(t,s,e,n,r)){Wr(t)&&NO(e,t.index);return}t.type&3&&(n=AO(n)),bC(t,e,n,r,i,o)}function bC(t,e,n,r,i,o){if(t.type&3){let s=wn(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function NO(t,e){let n=sn(e,t);n[J]&16||(n[J]|=64)}function MO(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Wr(n)&&aO(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||BD(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=Wl(e,t,s,n);if(es(u,e),o!==null&&FO(e,s-r,u,a,n,o),Ki(a)){let l=sn(n.index,e);l[ze]=Wl(e,t,s,n)}}}function xO(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=WT();try{Kr(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Rl(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&PO(u,l)}}finally{Kr(-1),Rl(s)}}function PO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function OO(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];XP(e,o.selectors,!1)&&(r??=[],Ki(o)?r.unshift(o):r.push(o))}return r}function kO(t,e,n,r,i,o){let s=wn(t,e);LO(e[Fe],s,o,t.value,n,r,i)}function LO(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?ja(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function FO(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];dm(r,n,u,l)}}function SC(t,e,n,r,i){let o=nt+n,s=e[z],a=i(s,e,t,r,n);e[o]=a,Jo(t,!0);let u=t.type===2;return u?(dC(e[Fe],a,t),(VT()===0||bl(t))&&es(a,e),jT()):es(a,e),Ol()&&(!u||!km(t))&&Gm(s,e,a,t),t}function AC(t){let e=t;return Fg()?HT():(e=e.parent,Jo(e,!1)),e}function VO(t,e){let n=t[mr];if(!n)return;let r;try{r=n.get(an,null)}catch{r=null}r?.(e)}function Qm(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],f=s[u+1],p=e.data[l];dm(p,n[l],f,i),a=!0}if(o)for(let u of o){let l=n[u],f=e.data[u];dm(f,l,r,i),a=!0}return a}function jO(t,e){let n=sn(e,t),r=n[z];UO(r,n);let i=n[En];i!==null&&n[Wo]===null&&(n[Wo]=rC(i,n[mr])),Re(we.ComponentStart);try{Ym(r,n,n[ze])}finally{Re(we.ComponentEnd,n[ze])}}function UO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Ym(t,e,n){Ml(e);try{let r=t.viewQuery;r!==null&&lm(1,r,n);let i=t.template;i!==null&&DC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[zn]?.finishViewCreation(t),t.staticContentQueries&&iC(t,e),t.staticViewQueries&&lm(2,t.viewQuery,n);let o=t.components;o!==null&&BO(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[J]&=-5,xl()}}function BO(t,e){for(let n=0;n<e.length;n++)jO(t,e[n])}function yd(t,e,n,r){let i=G(null);try{let o=e.tView,a=t[J]&4096?4096:16,u=Bm(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[qr]=l;let f=t[zn];return f!==null&&(u[zn]=f.createEmbeddedView(o)),Ym(o,u,n),u}finally{G(i)}}function ec(t,e){return!e||e.firstChild===null||KD(t)}function tc(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(on(o)),In(o)&&RC(o,r);let s=n.type;if(s&8)tc(t,e,n.child,r);else if(s&32){let a=Hm(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=TC(e,n);if(Array.isArray(a))r.push(...a);else{let u=$r(e[Kt]);tc(u[z],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function RC(t,e){for(let n=Be;n<t.length;n++){let r=t[n],i=r[z].firstChild;i!==null&&tc(r[z],r,i,e)}t[Gr]!==t[En]&&e.push(t[Gr])}function NC(t){if(t[Cl]!==null){for(let e of t[Cl])e.impl.addSequence(e);t[Cl].length=0}}var MC=[];function $O(t){return t[Qt]??HO(t)}function HO(t){let e=MC.pop()??Object.create(qO);return e.lView=t,e}function zO(t){t.lView[Qt]!==t&&(t.lView=null,MC.push(t))}var qO=ie(M({},Ta),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Ka(t.lView)},consumerOnSignalRead(){this.lView[Qt]=this}});function GO(t){let e=t[Qt]??Object.create(WO);return e.lView=t,e}var WO=ie(M({},Ta),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=$r(t.lView);for(;e&&!xC(e[z]);)e=$r(e);e&&Rg(e)},consumerOnSignalRead(){this.lView[Qt]=this}});function xC(t){return t.type!==2}function PC(t){if(t[za]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[za])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[J]&8192)}}var KO=100;function OC(t,e=0){let r=t[Hn].rendererFactory,i=!1;i||r.begin?.();try{QO(t,e)}finally{i||r.end?.()}}function QO(t,e){let n=Vg();try{jg(!0),hm(t,e);let r=0;for(;Wa(t);){if(r===KO)throw new U(103,!1);r++,hm(t,1)}}finally{jg(n)}}function YO(t,e,n,r){if(Qi(e))return;let i=e[J],o=!1,s=!1;Ml(e);let a=!0,u=null,l=null;o||(xC(t)?(l=$O(e),u=Ca(l)):Uu()===null?(a=!1,l=GO(e),u=Ca(l)):e[Qt]&&(ba(e[Qt]),e[Qt]=null));try{Ag(e),zT(t.bindingStartIndex),n!==null&&DC(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let y=t.preOrderCheckHooks;y!==null&&Vl(e,y,null)}else{let y=t.preOrderHooks;y!==null&&jl(e,y,0,null),Xg(e,0)}if(s||JO(e),PC(e),kC(e,0),t.contentQueries!==null&&iC(t,e),!o)if(f){let y=t.contentCheckHooks;y!==null&&Vl(e,y)}else{let y=t.contentHooks;y!==null&&jl(e,y,1),Xg(e,1)}XO(t,e);let p=t.components;p!==null&&FC(e,p,0);let m=t.viewQuery;if(m!==null&&lm(2,m,r),!o)if(f){let y=t.viewCheckHooks;y!==null&&Vl(e,y)}else{let y=t.viewHooks;y!==null&&jl(e,y,2),Xg(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Dl]){for(let y of e[Dl])y();e[Dl]=null}o||(NC(e),e[J]&=-73)}catch(f){throw o||Ka(e),f}finally{l!==null&&(Bu(l,u),a&&zO(l)),xl()}}function kC(t,e){for(let n=YD(t);n!==null;n=JD(n))for(let r=Be;r<n.length;r++){let i=n[r];LC(i,e)}}function JO(t){for(let e=YD(t);e!==null;e=JD(e)){if(!(e[J]&2))continue;let n=e[Wi];for(let r=0;r<n.length;r++){let i=n[r];Rg(i)}}}function ZO(t,e,n){Re(we.ComponentStart);let r=sn(e,t);try{LC(r,n)}finally{Re(we.ComponentEnd,r[ze])}}function LC(t,e){Sl(t)&&hm(t,e)}function hm(t,e){let r=t[z],i=t[J],o=t[Qt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&$u(o)),s||=!1,o&&(o.dirty=!1),t[J]&=-9217,s)YO(r,t,r.template,t[ze]);else if(i&8192){let a=G(null);try{PC(t),kC(t,1);let u=r.components;u!==null&&FC(t,u,1),NC(t)}finally{G(a)}}}function FC(t,e,n){for(let r=0;r<e.length;r++)ZO(t,e[r],n)}function XO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Kr(~i);else{let o=i,s=n[++r],a=n[++r];GT(s,o);let u=e[o];Re(we.HostBindingsUpdateStart,u);try{a(2,u)}finally{Re(we.HostBindingsUpdateEnd,u)}}}}finally{Kr(-1)}}function Jm(t,e){let n=Vg()?64:1088;for(t[Hn].changeDetectionScheduler?.notify(e);t;){t[J]|=n;let r=$r(t);if(Yo(t)&&!r)return t;t=r}return null}function VC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function jC(t,e){let n=Be+e;if(n<t.length)return t[n]}function vd(t,e,n,r=!0){let i=e[z];if(ek(i,e,t,n),r){let s=fm(n,t),a=e[Fe],u=a.parentNode(t[Gr]);u!==null&&fO(i,t[rn],a,e,u,s)}let o=e[Wo];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function UC(t,e){let n=nc(t,e);return n!==void 0&&gd(n[z],n),n}function nc(t,e){if(t.length<=Be)return;let n=Be+e,r=t[n];if(r){let i=r[qr];i!==null&&i!==t&&qm(i,r),e>0&&(t[n-1][nn]=r[nn]);let o=Ua(t,Be+e);dO(r[z],r);let s=o[zn];s!==null&&s.detachView(o[z]),r[tt]=null,r[nn]=null,r[J]&=-129}return r}function ek(t,e,n,r){let i=Be+r,o=n.length;r>0&&(n[i-1][nn]=e),r<o-Be?(e[nn]=n[i],gg(n,Be+r,e)):(n.push(e),e[nn]=null),e[tt]=n;let s=e[qr];s!==null&&n!==s&&BC(s,e);let a=e[zn];a!==null&&a.insertView(t),Al(e),e[J]|=128}function BC(t,e){let n=t[Wi],r=e[tt];if(qn(r))t[J]|=2;else{let i=r[tt][Kt];e[Kt]!==i&&(t[J]|=2)}n===null?t[Wi]=[e]:n.push(e)}var Jr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[z];return tc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[ze]}set context(e){this._lView[ze]=e}get destroyed(){return Qi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[tt];if(In(e)){let n=e[qa],r=n?n.indexOf(this):-1;r>-1&&(nc(e,r),Ua(n,r))}this._attachedToViewContainer=!1}gd(this._lView[z],this._lView)}onDestroy(e){Ng(this._lView,e)}markForCheck(){Jm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){Al(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,OC(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Yo(this._lView),n=this._lView[qr];n!==null&&!e&&qm(n,this._lView),wC(this._lView[z],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e;let n=Yo(this._lView),r=this._lView[qr];r!==null&&!n&&BC(r,this._lView),Al(this._lView)}};var ts=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=tk;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=yd(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Jr(o)}}return t})();function tk(){return Zm(xt(),ce())}function Zm(t,e){return t.type&4?new ts(e,t,is(t,e)):null}function _d(t,e,n,r,i){let o=t.data[e];if(o===null)o=nk(t,e,n,r,i),qT()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=$T();o.injectorIndex=s===null?-1:s.injectorIndex}return Jo(o,!0),o}function nk(t,e,n,r,i){let o=Lg(),s=Fg(),a=s?o:o&&o.parent,u=t.data[e]=ik(t,a,n,e,r,i);return rk(t,u,o,s),u}function rk(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function ik(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return BT()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ok(t){let e=t[Dg]??[],r=t[tt][Fe],i=[];for(let o of e)o.data[eC]!==void 0?i.push(o):sk(o,r);t[Dg]=i}function sk(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[XD];for(;n<i;){let o=r.nextSibling;lC(e,r,!1),r=o,n++}}}var ak=()=>null,ck=()=>null;function pm(t,e){return ak(t,e)}function $C(t,e,n){return ck(t,e,n)}var HC=class{},Ed=class{},gm=class{resolveComponentFactory(e){throw new U(917,!1)}},lc=class{static NULL=new gm},Xi=class{},ro=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>uk()}return t})();function uk(){let t=ce(),e=xt(),n=sn(e.index,t);return(qn(n)?n:t)[Fe]}var zC=(()=>{class t{static \u0275prov=j({token:t,providedIn:"root",factory:()=>null})}return t})();var Bl={},mm=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,Bl,r);return i!==Bl||n===Bl?i:this.parentInjector.get(e,n,r)}};function Jl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=yl(i,a);else if(o==2){let u=a,l=e[++s];r=yl(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function de(t,e=0){let n=ce();if(n===null)return W(t,e);let r=xt();return qD(r,n,Ut(t),e)}function Xm(){let t="invalid";throw new Error(t)}function lk(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,u=null,l=null;for(let f of s)if(f.resolveHostDirectives!==null){[a,u,l]=f.resolveHostDirectives(s);break}hk(t,e,n,a,o,u,l)}o!==null&&r!==null&&dk(n,r,o)}function dk(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new U(-301,!1);r.push(e[i],o)}}function fk(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function hk(t,e,n,r,i,o,s){let a=r.length,u=null;for(let m=0;m<a;m++){let y=r[m];u===null&&Ki(y)&&(u=y,fk(t,n,m)),DP(BD(n,e),t,y.type)}_k(n,t.data.length,a),u?.viewProvidersResolver&&u.viewProvidersResolver(u);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,f=!1,p=yC(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(n.mergedAttrs=ud(n.mergedAttrs,y.hostAttrs),gk(t,n,e,p,y),vk(p,y,i),s!==null&&s.has(y)){let[A,R]=s.get(y);n.directiveToIndex.set(y.type,[p,A+n.directiveStart,R+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let S=y.type.prototype;!l&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!f&&(S.ngOnChanges||S.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),p++}pk(t,n,o)}function pk(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))vD(0,e,i,r),vD(1,e,i,r),ED(e,r,!1);else{let o=n.get(i);_D(0,e,o,r),_D(1,e,o,r),ED(e,r,!0)}}}function vD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),qC(e,o)}}function _D(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),qC(e,s)}}function qC(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function ED(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||jm(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let f of l)if(f===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let f=0;f<l.length;f+=2)if(l[f]===e){s??=[],s.push(l[f+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function gk(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Br(i.type,!0)),s=new Xa(o,Ki(i),de,null);t.blueprint[r]=s,n[r]=s,mk(t,e,r,yC(t,n,i.hostVars,un),i)}function mk(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;yk(s)!=a&&s.push(a),s.push(n,r,o)}}function yk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function vk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ki(e)&&(n[""]=t)}}function _k(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function GC(t,e,n,r,i,o,s,a){let u=e[z],l=u.consts,f=Gn(l,s),p=_d(u,t,n,r,f);return o&&lk(u,e,p,Gn(l,a),i),p.mergedAttrs=ud(p.mergedAttrs,p.attrs),p.attrs!==null&&Jl(p,p.attrs,!1),p.mergedAttrs!==null&&Jl(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function WC(t,e){pP(t,e),Cg(e)&&t.queries.elementEnd(e)}function Ek(t,e,n,r,i,o){let s=e.consts,a=Gn(s,i),u=_d(e,t,n,r,a);if(u.mergedAttrs=ud(u.mergedAttrs,u.attrs),o!=null){let l=Gn(s,o);u.localNames=[];for(let f=0;f<l.length;f+=2)u.localNames.push(l[f],-1)}return u.attrs!==null&&Jl(u,u.attrs,!1),u.mergedAttrs!==null&&Jl(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function KC(t,e,n){return t[e]=n}function Sn(t,e,n){if(n===un)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Ik(t,e,n,r){let i=Sn(t,e,n);return Sn(t,e+1,r)||i}function $l(t,e,n){return function r(i){let o=Wr(t)?sn(t.index,e):e;Jm(o,5);let s=e[ze],a=ID(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=ID(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function ID(t,e,n,r){let i=G(null);try{return Re(we.OutputStart,e,n),n(r)!==!1}catch(o){return VO(t,o),!1}finally{Re(we.OutputEnd,e,n),G(i)}}function QC(t,e,n,r,i,o,s,a){let u=bl(t),l=!1,f=null;if(!r&&u&&(f=Tk(e,n,o,t.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,l=!0}else{let p=wn(t,n),m=r?r(p):p;jP(n,m,o,a);let y=i.listen(m,o,a);if(!wk(o)){let S=r?A=>r(on(A[t.index])):t.index;YC(S,e,n,o,a,y,!1)}}return l}function wk(t){return t.startsWith("animation")||t.startsWith("transition")}function Tk(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Ko],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function YC(t,e,n,r,i,o,s){let a=e.firstCreatePass?xg(e):null,u=Mg(n),l=u.length;u.push(i,o),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function wD(t,e,n,r,i,o){let s=e[n],a=e[z],l=a.data[n].outputs[r],p=s[l].subscribe(o);YC(t.index,a,e,i,o,p,!0)}var ym=Symbol("BINDING");var Zl=class extends lc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=zr(e);return new ns(n,this.ngModule)}};function Dk(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&pd.SignalBased)!==0};return i&&(o.transform=i),o})}function Ck(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function bk(t,e,n){let r=e instanceof ct?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new mm(n,r):n}function Sk(t){let e=t.get(Xi,null);if(e===null)throw new U(407,!1);let n=t.get(zC,null),r=t.get(qo,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function Ak(t,e){let n=JC(t);return cC(e,n,n==="svg"?NT:n==="math"?MT:null)}function JC(t){return(t.selectors[0][0]||"div").toLowerCase()}var ns=class extends Ed{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Dk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Ck(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=rO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){Re(we.DynamicComponentStart);let a=G(null);try{let u=this.componentDef,l=Rk(r,u,s,o),f=bk(u,i||this.ngModule,e),p=Sk(f),m=p.rendererFactory.createRenderer(null,u),y=r?CO(m,r,u.encapsulation,f):Ak(u,m),S=s?.some(TD)||o?.some(L=>typeof L!="function"&&L.bindings.some(TD)),A=Bm(null,l,null,512|mC(u),null,null,p,m,f,null,rC(y,f,!0));A[nt]=y,Ml(A);let R=null;try{let L=GC(nt,A,2,"#host",()=>l.directiveRegistry,!0,0);dC(m,y,L),es(y,A),CC(l,A,L),oC(l,L,A),WC(l,L),n!==void 0&&Mk(L,this.ngContentSelectors,n),R=sn(L.index,A),A[ze]=R[ze],Ym(l,A,null)}catch(L){throw R!==null&&um(R),um(A),L}finally{Re(we.DynamicComponentEnd),xl()}return new Xl(this.componentType,A,!!S)}finally{G(a)}}};function Rk(t,e,n,r){let i=t?["ng-version","21.0.3"]:iO(e.selectors[0]),o=null,s=null,a=0;if(n)for(let f of n)a+=f[ym].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(r)for(let f=0;f<r.length;f++){let p=r[f];if(typeof p!="function")for(let m of p.bindings){a+=m[ym].requiredVars;let y=f+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let f of r){let p=typeof f=="function"?f:f.type,m=_g(p);u.push(m)}return Um(0,null,Nk(o,s),1,a,u,null,null,null,[i],null)}function Nk(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function TD(t){let e=t[ym].kind;return e==="input"||e==="twoWay"}var Xl=class extends HC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Ga(n[z],nt),this.location=is(this._tNode,n),this.instance=sn(this._tNode.index,n)[ze],this.hostView=this.changeDetectorRef=new Jr(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Qm(r,i[z],i,e,n);this.previousInputValues.set(e,n);let s=sn(r.index,i);Jm(s,1)}get injector(){return new Ji(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Mk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var io=(()=>{class t{static __NG_ELEMENT_ID__=xk}return t})();function xk(){let t=xt();return XC(t,ce())}var Pk=io,ZC=class extends Pk{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return is(this._hostTNode,this._hostLView)}get injector(){return new Ji(this._hostTNode,this._hostLView)}get parentInjector(){let e=xm(this._hostTNode,this._hostLView);if(VD(e)){let n=ql(e,this._hostLView),r=zl(e),i=n[z].data[r+8];return new Ji(i,n)}else return new Ji(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=DD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Be}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=pm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,ec(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let u=e&&!uP(e),l;if(u)l=n;else{let R=n||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,a=R.bindings}let f=u?e:new ns(zr(e)),p=r||this.parentInjector;if(!o&&f.ngModule==null){let L=(u?p:this.parentInjector).get(ct,null);L&&(o=L)}let m=zr(f.componentType??{}),y=pm(this._lContainer,m?.id??null),S=y?.firstChild??null,A=f.create(p,i,S,o,s,a);return this.insertImpl(A.hostView,l,ec(this._hostTNode,y)),A}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(OT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[tt],l=new ZC(u,u[rn],u[tt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return vd(s,i,o,r),e.attachToViewContainerRef(),gg(nm(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=DD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=nc(this._lContainer,n);r&&(Ua(nm(this._lContainer),n),gd(r[z],r))}detach(e){let n=this._adjustIndex(e,-1),r=nc(this._lContainer,n);return r&&Ua(nm(this._lContainer),n)!=null?new Jr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function DD(t){return t[qa]}function nm(t){return t[qa]||(t[qa]=[])}function XC(t,e){let n,r=e[t.index];return In(r)?n=r:(n=VC(r,e,null,t),e[t.index]=n,$m(e,n)),kk(n,e,t,r),new ZC(n,t,e)}function Ok(t,e){let n=t[Fe],r=n.createComment(""),i=wn(e,t),o=n.parentNode(i);return Yl(n,o,r,n.nextSibling(i),!1),r}var kk=Vk,Lk=()=>!1;function Fk(t,e,n){return Lk(t,e,n)}function Vk(t,e,n,r){if(t[Gr])return;let i;n.type&8?i=on(r):i=Ok(e,n),t[Gr]=i}var vm=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},_m=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)ey(e,n).matches!==null&&this.queries[n].setDirty()}},ed=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=Gk(e):this.predicate=e}},Em=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Im=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,jk(n,o)),this.matchTNodeWithReadOption(e,n,Ul(n,e,o,!1,!1))}else r===ts?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Ul(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===$t||i===io||i===ts&&n.type&4)this.addMatch(n.index,-2);else{let o=Ul(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function jk(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function Uk(t,e){return t.type&11?is(t,e):t.type&4?Zm(t,e):null}function Bk(t,e,n,r){return n===-1?Uk(e,t):n===-2?$k(t,e,r):Wl(t,t[z],n,e)}function $k(t,e,n){if(n===$t)return is(e,t);if(n===ts)return Zm(e,t);if(n===io)return XC(e,t)}function eb(t,e,n,r){let i=e[zn].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let f=o[l];a.push(Bk(e,f,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function wm(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=eb(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],f=e[-u];for(let p=Be;p<f.length;p++){let m=f[p];m[qr]===m[tt]&&wm(m[z],m,l,r)}if(f[Wi]!==null){let p=f[Wi];for(let m=0;m<p.length;m++){let y=p[m];wm(y[z],y,l,r)}}}}}return r}function Hk(t,e){return t[zn].queries[e].queryList}function tb(t,e,n){let r=new Kl((n&4)===4);return FT(t,e,r,r.destroy),(e[zn]??=new _m).queries.push(new vm(r))-1}function zk(t,e,n){let r=ut();return r.firstCreatePass&&(nb(r,new ed(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),tb(r,ce(),e)}function qk(t,e,n,r){let i=ut();if(i.firstCreatePass){let o=xt();nb(i,new ed(e,n,r),o.index),Wk(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return tb(i,ce(),n)}function Gk(t){return t.split(",").map(e=>e.trim())}function nb(t,e,n){t.queries===null&&(t.queries=new Em),t.queries.track(new Im(e,n))}function Wk(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function ey(t,e){return t.queries.getByIndex(e)}function Kk(t,e){let n=t[z],r=ey(n,e);return r.crossesNgTemplate?wm(n,t,e,[]):eb(n,t,r,e)}var eo=class{},Id=class{};var td=class extends eo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Zl(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=vg(e);this._bootstrapComponents=pC(o.bootstrap),this._r3Injector=qg(e,n,[{provide:eo,useValue:this},{provide:lc,useValue:this.componentFactoryResolver},...r],hr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},nd=class extends Id{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new td(this.moduleType,e,[])}};var rc=class extends eo{injector;componentFactoryResolver=new Zl(this);instance=null;constructor(e){super();let n=new ji([...e.providers,{provide:eo,useValue:this},{provide:lc,useValue:this.componentFactoryResolver}],e.parent||$a(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function dc(t,e,n=null){return new rc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Qk=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Eg(!1,n.type),i=r.length>0?dc([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=j({token:t,providedIn:"environment",factory:()=>new t(W(ct))})}return t})();function Te(t){return cd(()=>{let e=rb(t),n=ie(M({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Pm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Qk).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||bn.Emulated,styles:t.styles||$n,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Zr("NgStandalone"),ib(n);let r=t.dependencies;return n.directiveDefs=CD(r,Yk),n.pipeDefs=CD(r,wT),n.id=Xk(n),n})}function Yk(t){return zr(t)||_g(t)}function Jk(t,e){if(t==null)return Bi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=pd.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function Zk(t){if(t==null)return Bi;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Xr(t){return cd(()=>{let e=rb(t);return ib(e),e})}function ty(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function rb(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Bi,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||$n,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Jk(t.inputs,e),outputs:Zk(t.outputs),debugInfo:null}}function ib(t){t.features?.forEach(e=>e(t))}function CD(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function Xk(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function e1(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=ud(t.mergedAttrs,t.attrs);let f=t.tView=Um(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),f.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),Jo(t,!1);let u=t1(n,e,t,r);Ol()&&Gm(n,e,u,t),es(u,e);let l=VC(u,e,u,t);e[r+nt]=l,$m(e,l),Fk(l,t,e)}function rd(t,e,n,r,i,o,s,a,u,l,f){let p=n+nt,m;if(e.firstCreatePass){if(m=_d(e,p,4,s||null,a||null),l!=null){let y=Gn(e.consts,l);m.localNames=[];for(let S=0;S<y.length;S+=2)m.localNames.push(y[S],-1)}}else m=e.data[p];return e1(m,t,e,n,r,i,o,u),l!=null&&Km(t,m,f),m}var t1=n1;function n1(t,e,n,r){return kl(!0),e[Fe].createComment("")}var ny=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var ry=new H("");function ss(t){return!!t&&typeof t.then=="function"}function iy(t){return!!t&&typeof t.subscribe=="function"}var ob=new H("");var oy=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=O(ob,{optional:!0})??[];injector=O(_n);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Rt(this.injector,i);if(ss(o))n.push(o);else if(iy(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wd=new H("");function sb(){Rp(()=>{let t="";throw new U(600,t)})}function ab(t){return t.isBoundToModule}var r1=10;var as=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=O(an);afterRenderManager=O(_C);zonelessEnabled=O(Qa);rootEffectScheduler=O(Zg);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new st;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=O(Yr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Le(n=>!n))}constructor(){O(uc,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=O(ct);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=_n.NULL){return this._injector.get(Bt).run(()=>{Re(we.BootstrapComponentStart);let s=n instanceof Ed;if(!this._injector.get(oy).done){let S="";throw new U(405,S)}let u;s?u=n:u=this._injector.get(lc).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=ab(u)?void 0:this._injector.get(eo),f=r||u.selector,p=u.create(i,[],f,l),m=p.location.nativeElement,y=p.injector.get(ry,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Za(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),Re(we.BootstrapComponentEnd,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Re(we.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(zm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw Re(we.ChangeDetectionEnd),new U(101,!1);let n=G(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,G(n),this.afterTick.next(),Re(we.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Xi,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<r1;){Re(we.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{Re(we.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Wa(i))continue;let o=r&&!this.zonelessEnabled?0:1;OC(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Wa(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Za(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(wd,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Za(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new U(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Za(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Td(t,e,n,r){let i=ce(),o=Yi();if(Sn(i,o,e)){let s=ut(),a=Pl();kO(a,i,t,e,n,r)}return Td}var PG=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Tm=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function rm(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function i1(t,e,n,r){let i,o,s=0,a=t.length-1,u=void 0;if(Array.isArray(e)){G(r);let l=e.length-1;for(G(null);s<=a&&s<=l;){let f=t.at(s),p=e[s],m=rm(s,f,s,p,n);if(m!==0){m<0&&t.updateValue(s,p),s++;continue}let y=t.at(a),S=e[l],A=rm(a,y,l,S,n);if(A!==0){A<0&&t.updateValue(a,S),a--,l--;continue}let R=n(s,f),L=n(a,y),re=n(s,p);if(Object.is(re,L)){let pe=n(l,S);Object.is(pe,R)?(t.swap(s,a),t.updateValue(a,S),l--,a--):t.move(a,s),t.updateValue(s,p),s++;continue}if(i??=new id,o??=SD(t,s,a,n),Dm(t,i,s,re))t.updateValue(s,p),s++,a++;else if(o.has(re))i.set(R,t.detach(s)),a--;else{let pe=t.create(s,e[s]);t.attach(s,pe),s++,a++}}for(;s<=l;)bD(t,i,n,s,e[s]),s++}else if(e!=null){G(r);let l=e[Symbol.iterator]();G(null);let f=l.next();for(;!f.done&&s<=a;){let p=t.at(s),m=f.value,y=rm(s,p,s,m,n);if(y!==0)y<0&&t.updateValue(s,m),s++,f=l.next();else{i??=new id,o??=SD(t,s,a,n);let S=n(s,m);if(Dm(t,i,s,S))t.updateValue(s,m),s++,a++,f=l.next();else if(!o.has(S))t.attach(s,t.create(s,m)),s++,a++,f=l.next();else{let A=n(s,p);i.set(A,t.detach(s)),a--}}}for(;!f.done;)bD(t,i,n,t.length,f.value),f=l.next()}for(;s<=a;)t.destroy(t.detach(a--));i?.forEach(l=>{t.destroy(l)})}function Dm(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function bD(t,e,n,r,i){if(Dm(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function SD(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var id=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function se(t,e,n,r,i,o,s,a){Zr("NgControlFlow");let u=ce(),l=ut(),f=Gn(l.consts,o);return rd(u,l,t,e,n,r,i,f,256,s,a),sy}function sy(t,e,n,r,i,o,s,a){Zr("NgControlFlow");let u=ce(),l=ut(),f=Gn(l.consts,o);return rd(u,l,t,e,n,r,i,f,512,s,a),sy}function ae(t,e){Zr("NgControlFlow");let n=ce(),r=Yi(),i=n[r]!==un?n[r]:-1,o=i!==-1?od(n,nt+i):void 0,s=0;if(Sn(n,r,t)){let a=G(null);try{if(o!==void 0&&UC(o,s),t!==-1){let u=nt+t,l=od(n,u),f=Am(n[z],u),p=$C(l,f,n),m=yd(n,f,e,{dehydratedView:p});vd(l,m,s,ec(f,p))}}finally{G(a)}}else if(o!==void 0){let a=jC(o,s);a!==void 0&&(a[ze]=e)}}var Cm=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Be}};function ln(t,e){return e}var bm=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function gt(t,e,n,r,i,o,s,a,u,l,f,p,m){Zr("NgControlFlow");let y=ce(),S=ut(),A=u!==void 0,R=ce(),L=a?s.bind(R[Kt][ze]):s,re=new bm(A,L);R[nt+t]=re,rd(y,S,t+1,e,n,r,i,Gn(S.consts,o),256),A&&rd(y,S,t+2,u,l,f,p,Gn(S.consts,m),512)}var Sm=class extends Tm{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Be}at(e){return this.getLView(e)[ze].$implicit}attach(e,n){let r=n[Wo];this.needsIndexUpdate||=e!==this.length,vd(this.lContainer,n,e,ec(this.templateTNode,r)),o1(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,s1(this.lContainer,e),a1(this.lContainer,e)}create(e,n){let r=pm(this.lContainer,this.templateTNode.tView.ssrId),i=yd(this.hostLView,this.templateTNode,new Cm(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){gd(e[z],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[ze].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ze].$index=e}getLView(e){return c1(this.lContainer,e)}};function mt(t){let e=G(null),n=yr();try{let r=ce(),i=r[z],o=r[n],s=n+1,a=od(r,s);if(o.liveCollection===void 0){let l=Am(i,s);o.liveCollection=new Sm(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(i1(u,t,o.trackByFn,e),u.updateIndexes(),o.hasEmptyBlock){let l=Yi(),f=u.length===0;if(Sn(r,l,f)){let p=n+2,m=od(r,p);if(f){let y=Am(i,p),S=$C(m,y,r),A=yd(r,y,void 0,{dehydratedView:S});vd(m,A,0,ec(y,S))}else i.firstUpdatePass&&ok(m),UC(m,0)}}}finally{G(e)}}function od(t,e){return t[e]}function o1(t,e){if(t.length<=Be)return;let n=Be+e,r=t[n],i=r?r[Gi]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[mr];uO(o,i),Zi.delete(r),i.detachedLeaveAnimationFns=void 0}}function s1(t,e){if(t.length<=Be)return;let n=Be+e,r=t[n],i=r?r[Gi]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function a1(t,e){return nc(t,e)}function c1(t,e){return jC(t,e)}function Am(t,e){return Ga(t,e)}function fe(t,e,n){let r=ce(),i=Yi();if(Sn(r,i,e)){let o=ut(),s=Pl();RO(s,r,t,e,r[Fe],n)}return fe}function Rm(t,e,n,r,i){Qm(e,t,n,i?"class":"style",r)}function $(t,e,n,r){let i=ce(),o=i[z],s=t+nt,a=o.firstCreatePass?GC(s,i,2,e,OO,UT(),n,r):o.data[s];if(SC(a,i,t,e,cb),bl(a)){let u=i[z];CC(u,i,a),oC(u,a,i)}return r!=null&&Km(i,a),$}function K(){let t=ut(),e=xt(),n=AC(e);return t.firstCreatePass&&WC(t,n),Og(n)&&kg(),Pg(),n.classesWithoutHost!=null&&mP(n)&&Rm(t,n,ce(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&yP(n)&&Rm(t,n,ce(),n.stylesWithoutHost,!1),K}function Ee(t,e,n,r){return $(t,e,n,r),K(),Ee}function ye(t,e,n,r){let i=ce(),o=i[z],s=t+nt,a=o.firstCreatePass?Ek(s,o,2,e,n,r):o.data[s];return SC(a,i,t,e,cb),r!=null&&Km(i,a),ye}function ve(){let t=xt(),e=AC(t);return Og(e)&&kg(),Pg(),ve}function An(t,e,n,r){return ye(t,e,n,r),ve(),An}var cb=(t,e,n,r,i)=>(kl(!0),cC(e[Fe],r,XT()));function Ht(){return ce()}function Qn(t,e,n){let r=ce(),i=Yi();if(Sn(r,i,e)){let o=ut(),s=Pl();bC(s,r,t,e,r[Fe],n)}return Qn}var Ya=void 0;function u1(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var l1=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ya,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ya,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",Ya,Ya,Ya],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",u1],im={};function Yt(t){let e=d1(t),n=AD(e);if(n)return n;let r=e.split("-")[0];if(n=AD(r),n)return n;if(r==="en")return l1;throw new U(701,!1)}function AD(t){return t in im||(im[t]=gr.ng&&gr.ng.common&&gr.ng.common.locales&&gr.ng.common.locales[t]),im[t]}var Ge=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(Ge||{});function d1(t){return t.toLowerCase().replace(/_/g,"-")}var fc="en-US";var f1=fc;function ub(t){typeof t=="string"&&(f1=t.toLowerCase().replace(/_/g,"-"))}function dn(t,e,n){let r=ce(),i=ut(),o=xt();return h1(i,r,r[Fe],o,t,e,n),dn}function Yn(t,e,n){let r=ce(),i=ut(),o=xt();return(o.type&3||n)&&QC(o,i,r,n,r[Fe],t,e,$l(o,r,e)),Yn}function h1(t,e,n,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=$l(r,e,o),QC(r,t,e,s,n,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let p=0;p<f.length;p+=2){let m=f[p],y=f[p+1];u??=$l(r,e,o),wD(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=$l(r,e,o),wD(r,e,p,i,i,u)}}function Q(t=1){return ZT(t)}function ay(t,e,n,r){qk(t,e,n,r)}function Dd(t,e,n){zk(t,e,n)}function cs(t){let e=ce(),n=ut(),r=$g();Nl(r+1);let i=ey(n,r);if(t.dirty&&PT(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=Kk(e,r);t.reset(o,MP),t.notifyOnChanges()}return!0}return!1}function us(){return Hk(ce(),$g())}function Fl(t,e){return t<<17|e<<2}function to(t){return t>>17&32767}function p1(t){return(t&2)==2}function g1(t,e){return t&131071|e<<17}function Nm(t){return t|2}function rs(t){return(t&131068)>>2}function om(t,e){return t&-131069|e<<2}function m1(t){return(t&1)===1}function Mm(t){return t|1}function y1(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=to(s),u=rs(s);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||Go(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let m=to(t[a+1]);t[r+1]=Fl(m,a),m!==0&&(t[m+1]=om(t[m+1],r)),t[a+1]=g1(t[a+1],r)}else t[r+1]=Fl(a,0),a!==0&&(t[a+1]=om(t[a+1],r)),a=r;else t[r+1]=Fl(u,0),a===0?a=r:t[u+1]=om(t[u+1],r),u=r;l&&(t[r+1]=Nm(t[r+1])),RD(t,f,r,!0),RD(t,f,r,!1),v1(e,f,t,r,o),s=Fl(a,u),o?e.classBindings=s:e.styleBindings=s}function v1(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Go(o,e)>=0&&(n[r+1]=Mm(n[r+1]))}function RD(t,e,n,r){let i=t[n+1],o=e===null,s=r?to(i):rs(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];_1(u,e)&&(a=!0,t[s+1]=r?Mm(l):Nm(l)),s=r?to(l):rs(l)}a&&(t[n+1]=r?Nm(i):Mm(i))}function _1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Go(t,e)>=0:!1}var Cn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function E1(t){return t.substring(Cn.key,Cn.keyEnd)}function I1(t){return w1(t),lb(t,db(t,0,Cn.textEnd))}function lb(t,e){let n=Cn.textEnd;return n===e?-1:(e=Cn.keyEnd=T1(t,Cn.key=e,n),db(t,e,n))}function w1(t){Cn.key=0,Cn.keyEnd=0,Cn.value=0,Cn.valueEnd=0,Cn.textEnd=t.length}function db(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function T1(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function ei(t,e,n){return fb(t,e,n,!1),ei}function ls(t,e){return fb(t,e,null,!0),ls}function Cd(t){C1(M1,D1,t,!0)}function D1(t,e){for(let n=I1(e);n>=0;n=lb(e,n))wl(t,E1(e),!0)}function fb(t,e,n,r){let i=ce(),o=ut(),s=Bg(2);if(o.firstUpdatePass&&pb(o,t,s,r),e!==un&&Sn(i,s,e)){let a=o.data[yr()];gb(o,a,i,i[Fe],t,i[s+1]=P1(e,n),r,s)}}function C1(t,e,n,r){let i=ut(),o=Bg(2);i.firstUpdatePass&&pb(i,null,o,r);let s=ce();if(n!==un&&Sn(s,o,n)){let a=i.data[yr()];if(mb(a,r)&&!hb(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=yl(u,n||"")),Rm(i,a,s,n,r)}else x1(i,a,s,s[Fe],s[o+1],s[o+1]=N1(t,e,n),r,o)}}function hb(t,e){return e>=t.expandoStartIndex}function pb(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[yr()],s=hb(t,n);mb(o,r)&&e===null&&!s&&(e=!1),e=b1(i,o,e,r),y1(i,o,e,n,s,r)}}function b1(t,e,n,r){let i=KT(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=sm(null,t,e,n,r),n=ic(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=sm(i,t,e,n,r),o===null){let u=S1(t,e,r);u!==void 0&&Array.isArray(u)&&(u=sm(null,t,e,u[1],r),u=ic(u,e.attrs,r),A1(t,e,r,u))}else o=R1(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function S1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(rs(r)!==0)return t[to(r)]}function A1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[to(i)]=r}function R1(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ic(r,s,n)}return ic(r,e.attrs,n)}function sm(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ic(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ic(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),wl(t,s,n?!0:e[++o]))}return t===void 0?null:t}function N1(t,e,n){if(n==null||n==="")return $n;let r=[],i=os(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function M1(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&wl(t,r,n)}function x1(t,e,n,r,i,o,s,a){i===un&&(i=$n);let u=0,l=0,f=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;f!==null||p!==null;){let m=u<i.length?i[u+1]:void 0,y=l<o.length?o[l+1]:void 0,S=null,A;f===p?(u+=2,l+=2,m!==y&&(S=p,A=y)):p===null||f!==null&&f<p?(u+=2,S=f):(l+=2,S=p,A=y),S!==null&&gb(t,e,n,r,S,A,s,a),f=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function gb(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],f=m1(l)?ND(u,e,n,i,rs(l),s):void 0;if(!sd(f)){sd(o)||p1(l)&&(o=ND(u,null,n,i,a,s));let p=bg(yr(),n);DO(r,s,p,i,o)}}function ND(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,m=n[i+1];m===un&&(m=p?$n:void 0);let y=p?Tl(m,r):f===r?m:void 0;if(l&&!sd(y)&&(y=Tl(u,r)),sd(y)&&(a=y,s))return a;let S=t[i+1];i=s?to(S):rs(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Tl(u,r))}return a}function sd(t){return t!==void 0}function P1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=hr(os(t)))),t}function mb(t,e){return(t.flags&(e?8:16))!==0}function te(t,e=""){let n=ce(),r=ut(),i=t+nt,o=r.firstCreatePass?_d(r,i,1,e,null):r.data[i],s=O1(r,n,o,e,t);n[i]=s,Ol()&&Gm(r,n,s,o),Jo(o,!1)}var O1=(t,e,n,r,i)=>(kl(!0),HP(e[Fe],r));function k1(t,e,n,r=""){return Sn(t,Yi(),n)?e+ja(n)+r:un}function Pe(t){return Rn("",t),Pe}function Rn(t,e,n){let r=ce(),i=k1(r,t,e,n);return i!==un&&L1(r,yr(),i),Rn}function L1(t,e,n){let r=bg(e,t);zP(t[Fe],r,n)}function hc(t,e,n,r){return F1(ce(),Ug(),t,e,n,r)}function yb(t,e){let n=t[e];return n===un?void 0:n}function F1(t,e,n,r,i,o){let s=e+n;return Sn(t,s,i)?KC(t,s+1,o?r.call(o,i):r(i)):yb(t,s+1)}function V1(t,e,n,r,i,o,s){let a=e+n;return Ik(t,a,i,o)?KC(t,a+2,s?r.call(s,i,o):r(i,o)):yb(t,a+2)}function cy(t,e){let n=ut(),r,i=t+nt;n.firstCreatePass?(r=j1(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Br(r.type,!0)),s,a=At(de);try{let u=Gl(!1),l=o();return Gl(u),Sg(n,ce(),i,l),l}finally{At(a)}}function j1(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function uy(t,e,n,r){let i=t+nt,o=ce(),s=xT(o,i);return U1(o,i)?V1(o,Ug(),e,s.transform,n,r,s):s.transform(n,r)}function U1(t,e){return t[z].data[e].pure}var ad=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ly=(()=>{class t{compileModuleSync(n){return new nd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=vg(n),o=pC(i.declarations).reduce((s,a)=>{let u=zr(a);return u&&s.push(new ns(u)),s},[]);return new ad(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var vb=(()=>{class t{applicationErrorHandler=O(an);appRef=O(as);taskService=O(Yr);ngZone=O(Bt);zonelessEnabled=O(Qa);tracing=O(uc,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ht;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(La):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(Jg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Wg:Gg;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(La+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Wg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _b(){return[{provide:qo,useExisting:vb},{provide:Bt,useClass:Fa},{provide:Qa,useValue:!0}]}function B1(){return typeof $localize<"u"&&$localize.locale||fc}var pc=new H("",{factory:()=>O(pc,{optional:!0,skipSelf:!0})||B1()});function dy(t,e){return Hu(t,e?.equal)}var wb=Symbol("InputSignalNode#UNSET"),nL=ie(M({},zu),{transformFn:void 0,applyValueToInputSignal(t,e){Sa(t,e)}});function Tb(t,e){let n=Object.create(nL);n.value=t,n.transformFn=e?.transform;function r(){if(Da(n),n.value===wb){let i=null;throw new U(-950,i)}return n.value}return r[Ft]=n,r}var Sd=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>ac(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function Eb(t,e){return Tb(t,e)}function rL(t){return Tb(wb,t)}var Db=(Eb.required=rL,Eb);var fy=new H(""),iL=new H("");function gc(t){return!t.moduleRef}function oL(t){let e=gc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Bt);return n.run(()=>{gc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(an),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),gc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(fy);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(fy);s.add(o),t.moduleRef.onDestroy(()=>{Za(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return aL(r,n,()=>{let o=e.get(Yr),s=o.add(),a=e.get(oy);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(pc,fc);if(ub(u||fc),!e.get(iL,!0))return gc(t)?e.get(as):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(gc(t)){let f=e.get(as);return t.rootComponent!==void 0&&f.bootstrap(t.rootComponent),f}else return sL?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var sL;function aL(t,e,n){try{let r=n();return ss(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var bd=null;function cL(t=[],e){return _n.create({name:e,providers:[{provide:Ba,useValue:"platform"},{provide:fy,useValue:new Set([()=>bd=null])},...t]})}function uL(t=[]){if(bd)return bd;let e=cL(t);return bd=e,sb(),lL(e),e}function lL(t){let e=t.get(dd,null);Rt(t,()=>{e?.forEach(n=>n())})}var ds=(()=>{class t{static __NG_ELEMENT_ID__=dL}return t})();function dL(t){return fL(xt(),ce(),(t&16)===16)}function fL(t,e,n){if(Wr(t)&&!n){let r=sn(t.index,e);return new Jr(r,r)}else if(t.type&175){let r=e[Kt];return new Jr(r,e)}return null}function Cb(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;Re(we.BootstrapApplicationStart);try{let o=i?.injector??uL(r),s=[_b(),rD,...n||[]],a=new rc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return oL({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Re(we.BootstrapApplicationEnd)}}function mc(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var bb=null;function vr(){return bb}function hy(t){bb??=t}var yc=class{},Rd=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:()=>O(Sb),providedIn:"platform"})}return t})();var Sb=(()=>{class t extends Rd{_location;_history;_doc=O(qe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vr().getBaseHref(this._doc)}onPopState(n){let r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Nb(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function Ab(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function ti(t){return t&&t[0]!=="?"?`?${t}`:t}var oo=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:()=>O(Mb),providedIn:"root"})}return t})(),hL=new H(""),Mb=(()=>{class t extends oo{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Nb(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+ti(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+ti(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+ti(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(W(Rd),W(hL,8))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),so=(()=>{class t{_subject=new st;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=mL(Ab(Rb(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ti(r))}normalize(n){return t.stripTrailingSlash(gL(this._basePath,Rb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ti(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ti(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ti;static joinWithSlash=Nb;static stripTrailingSlash=Ab;static \u0275fac=function(r){return new(r||t)(W(oo))};static \u0275prov=j({token:t,factory:()=>pL(),providedIn:"root"})}return t})();function pL(){return new so(W(oo))}function gL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Rb(t){return t.replace(/\/index.html$/,"")}function mL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var It=(function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t})(It||{}),Me=(function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t})(Me||{}),qt=(function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t})(qt||{}),Er={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Ob(t){return Yt(t)[Ge.LocaleId]}function kb(t,e,n){let r=Yt(t),i=[r[Ge.DayPeriodsFormat],r[Ge.DayPeriodsStandalone]],o=fn(i,e);return fn(o,n)}function Lb(t,e,n){let r=Yt(t),i=[r[Ge.DaysFormat],r[Ge.DaysStandalone]],o=fn(i,e);return fn(o,n)}function Fb(t,e,n){let r=Yt(t),i=[r[Ge.MonthsFormat],r[Ge.MonthsStandalone]],o=fn(i,e);return fn(o,n)}function Vb(t,e){let r=Yt(t)[Ge.Eras];return fn(r,e)}function vc(t,e){let n=Yt(t);return fn(n[Ge.DateFormat],e)}function _c(t,e){let n=Yt(t);return fn(n[Ge.TimeFormat],e)}function Ec(t,e){let r=Yt(t)[Ge.DateTimeFormat];return fn(r,e)}function Ic(t,e){let n=Yt(t),r=n[Ge.NumberSymbols][e];if(typeof r>"u"){if(e===Er.CurrencyDecimal)return n[Ge.NumberSymbols][Er.Decimal];if(e===Er.CurrencyGroup)return n[Ge.NumberSymbols][Er.Group]}return r}function jb(t){if(!t[Ge.ExtraData])throw new U(2303,!1)}function Ub(t){let e=Yt(t);return jb(e),(e[Ge.ExtraData][2]||[]).map(r=>typeof r=="string"?py(r):[py(r[0]),py(r[1])])}function Bb(t,e,n){let r=Yt(t);jb(r);let i=[r[Ge.ExtraData][0],r[Ge.ExtraData][1]],o=fn(i,e)||[];return fn(o,n)||[]}function fn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new U(2304,!1)}function py(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var yL=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Nd={},vL=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function $b(t,e,n,r){let i=SL(t);e=_r(n,e)||e;let s=[],a;for(;e;)if(a=vL.exec(e),a){s=s.concat(a.slice(1));let f=s.pop();if(!f)break;e=f}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=zb(r,u),i=bL(i,r));let l="";return s.forEach(f=>{let p=DL(f);l+=p?p(i,n,u):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function kd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function _r(t,e){let n=Ob(t);if(Nd[n]??={},Nd[n][e])return Nd[n][e];let r="";switch(e){case"shortDate":r=vc(t,qt.Short);break;case"mediumDate":r=vc(t,qt.Medium);break;case"longDate":r=vc(t,qt.Long);break;case"fullDate":r=vc(t,qt.Full);break;case"shortTime":r=_c(t,qt.Short);break;case"mediumTime":r=_c(t,qt.Medium);break;case"longTime":r=_c(t,qt.Long);break;case"fullTime":r=_c(t,qt.Full);break;case"short":let i=_r(t,"shortTime"),o=_r(t,"shortDate");r=Md(Ec(t,qt.Short),[i,o]);break;case"medium":let s=_r(t,"mediumTime"),a=_r(t,"mediumDate");r=Md(Ec(t,qt.Medium),[s,a]);break;case"long":let u=_r(t,"longTime"),l=_r(t,"longDate");r=Md(Ec(t,qt.Long),[u,l]);break;case"full":let f=_r(t,"fullTime"),p=_r(t,"fullDate");r=Md(Ec(t,qt.Full),[f,p]);break}return r&&(Nd[n][e]=r),r}function Md(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Nn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function _L(t,e){return Nn(t,3).substring(0,e)}function We(t,e,n=0,r=!1,i=!1){return function(o,s){let a=EL(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return _L(a,e);let u=Ic(s,Er.MinusSign);return Nn(a,e,u,r,i)}}function EL(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new U(2301,!1)}}function Oe(t,e,n=It.Format,r=!1){return function(i,o){return IL(i,o,t,e,n,r)}}function IL(t,e,n,r,i,o){switch(n){case 2:return Fb(e,i,r)[t.getMonth()];case 1:return Lb(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let l=Ub(e),f=Bb(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,S]=m,A=s>=y.hours&&a>=y.minutes,R=s<S.hours||s===S.hours&&a<S.minutes;if(y.hours<S.hours){if(A&&R)return!0}else if(A||R)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(p!==-1)return f[p]}return kb(e,i,r)[s<12?0:1];case 3:return Vb(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new U(2302,!1)}}function xd(t){return function(e,n,r){let i=-1*r,o=Ic(n,Er.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+Nn(s,2,o)+Nn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Nn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Nn(s,2,o)+":"+Nn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Nn(s,2,o)+":"+Nn(Math.abs(i%60),2,o);default:throw new U(2310,!1)}}}var wL=0,Od=4;function TL(t){let e=kd(t,wL,1).getDay();return kd(t,0,1+(e<=Od?Od:Od+7)-e)}function Hb(t){let e=t.getDay(),n=e===0?-3:Od-e;return kd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function gy(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=Hb(n),s=TL(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Nn(i,t,Ic(r,Er.MinusSign))}}function Pd(t,e=!1){return function(n,r){let o=Hb(n).getFullYear();return Nn(o,t,Ic(r,Er.MinusSign),e)}}var my={};function DL(t){if(my[t])return my[t];let e;switch(t){case"G":case"GG":case"GGG":e=Oe(3,Me.Abbreviated);break;case"GGGG":e=Oe(3,Me.Wide);break;case"GGGGG":e=Oe(3,Me.Narrow);break;case"y":e=We(0,1,0,!1,!0);break;case"yy":e=We(0,2,0,!0,!0);break;case"yyy":e=We(0,3,0,!1,!0);break;case"yyyy":e=We(0,4,0,!1,!0);break;case"Y":e=Pd(1);break;case"YY":e=Pd(2,!0);break;case"YYY":e=Pd(3);break;case"YYYY":e=Pd(4);break;case"M":case"L":e=We(1,1,1);break;case"MM":case"LL":e=We(1,2,1);break;case"MMM":e=Oe(2,Me.Abbreviated);break;case"MMMM":e=Oe(2,Me.Wide);break;case"MMMMM":e=Oe(2,Me.Narrow);break;case"LLL":e=Oe(2,Me.Abbreviated,It.Standalone);break;case"LLLL":e=Oe(2,Me.Wide,It.Standalone);break;case"LLLLL":e=Oe(2,Me.Narrow,It.Standalone);break;case"w":e=gy(1);break;case"ww":e=gy(2);break;case"W":e=gy(1,!0);break;case"d":e=We(2,1);break;case"dd":e=We(2,2);break;case"c":case"cc":e=We(7,1);break;case"ccc":e=Oe(1,Me.Abbreviated,It.Standalone);break;case"cccc":e=Oe(1,Me.Wide,It.Standalone);break;case"ccccc":e=Oe(1,Me.Narrow,It.Standalone);break;case"cccccc":e=Oe(1,Me.Short,It.Standalone);break;case"E":case"EE":case"EEE":e=Oe(1,Me.Abbreviated);break;case"EEEE":e=Oe(1,Me.Wide);break;case"EEEEE":e=Oe(1,Me.Narrow);break;case"EEEEEE":e=Oe(1,Me.Short);break;case"a":case"aa":case"aaa":e=Oe(0,Me.Abbreviated);break;case"aaaa":e=Oe(0,Me.Wide);break;case"aaaaa":e=Oe(0,Me.Narrow);break;case"b":case"bb":case"bbb":e=Oe(0,Me.Abbreviated,It.Standalone,!0);break;case"bbbb":e=Oe(0,Me.Wide,It.Standalone,!0);break;case"bbbbb":e=Oe(0,Me.Narrow,It.Standalone,!0);break;case"B":case"BB":case"BBB":e=Oe(0,Me.Abbreviated,It.Format,!0);break;case"BBBB":e=Oe(0,Me.Wide,It.Format,!0);break;case"BBBBB":e=Oe(0,Me.Narrow,It.Format,!0);break;case"h":e=We(3,1,-12);break;case"hh":e=We(3,2,-12);break;case"H":e=We(3,1);break;case"HH":e=We(3,2);break;case"m":e=We(4,1);break;case"mm":e=We(4,2);break;case"s":e=We(5,1);break;case"ss":e=We(5,2);break;case"S":e=We(6,1);break;case"SS":e=We(6,2);break;case"SSS":e=We(6,3);break;case"Z":case"ZZ":case"ZZZ":e=xd(0);break;case"ZZZZZ":e=xd(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=xd(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=xd(2);break;default:return null}return my[t]=e,e}function zb(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function CL(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function bL(t,e,n){let i=t.getTimezoneOffset(),o=zb(e,i);return CL(t,-1*(o-i))}function SL(t){if(xb(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return kd(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(yL))return AL(r)}let e=new Date(t);if(!xb(e))throw new U(2311,!1);return e}function AL(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function xb(t){return t instanceof Date&&!isNaN(t.valueOf())}var yy=/\s+/,Pb=[],vy=(()=>{class t{_ngEl;_renderer;initialClasses=Pb;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(yy):Pb}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(yy):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(yy).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(de($t),de(ro))};static \u0275dir=Xr({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();function RL(t,e){return new U(2100,!1)}var NL="mediumDate",qb=new H(""),Gb=new H(""),_y=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??NL,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return $b(n,s,o||this.locale,a)}catch(s){throw RL(t,s.message)}}static \u0275fac=function(r){return new(r||t)(de(pc,16),de(qb,24),de(Gb,24))};static \u0275pipe=ty({name:"date",type:t,pure:!0})}return t})();function Ey(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var wc=class{};var Wb="browser";var Kb=(()=>{class t{static \u0275prov=j({token:t,providedIn:"root",factory:()=>new Iy(O(qe),window)})}return t})(),Iy=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,n){this.window.scrollTo(ie(M({},n),{left:e[0],top:e[1]}))}scrollToAnchor(e,n){let r=kL(this.document,e);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Hr(2400,!1))}}scrollToElement(e,n){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(ie(M({},n),{left:i-s[0],top:o-s[1]}))}};function kL(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Tc=class{_doc;constructor(e){this._doc=e}manager},Ld=(()=>{class t extends Tc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(W(qe))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),jd=new H(""),Cy=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof Ld));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof Ld);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(W(jd),W(Bt))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),wy="ng-app-id";function Qb(t){for(let e of t)e.remove()}function Yb(t,e){let n=e.createElement("style");return n.textContent=t,n}function FL(t,e,n,r){let i=t.head?.querySelectorAll(`style[${wy}="${e}"],link[${wy}="${e}"]`);if(i)for(let o of i)o.removeAttribute(wy),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Dy(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var by=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,FL(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,Yb);r?.forEach(i=>this.addUsage(i,this.external,Dy))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(Qb(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Qb(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,Yb(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Dy(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(W(qe),W(ld),W(fd,8),W(cc))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),Ty={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Sy=/%COMP%/g;var Zb="%COMP%",VL=`_nghost-${Zb}`,jL=`_ngcontent-${Zb}`,UL=!0,BL=new H("",{factory:()=>UL});function $L(t){return jL.replace(Sy,t)}function HL(t){return VL.replace(Sy,t)}function Xb(t,e){return e.map(n=>n.replace(Sy,t))}var Ay=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new Dc(n,s,a,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Vd?i.applyToHost(n):i instanceof Cc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case bn.Emulated:o=new Vd(u,l,r,this.appId,f,s,a,p,m);break;case bn.ShadowDom:return new Fd(u,n,r,s,a,this.nonce,p,m,l);case bn.ExperimentalIsolatedShadowDom:return new Fd(u,n,r,s,a,this.nonce,p,m);default:o=new Cc(u,l,r,f,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(W(Cy),W(by),W(ld),W(BL),W(qe),W(Bt),W(fd),W(uc,8))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),Dc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Ty[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Jb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Jb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Ty[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Ty[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Kn.DashCase|Kn.Important)?e.style.setProperty(n,r,i&Kn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Kn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=vr().getGlobalEventTarget(this.doc,e),!e))throw new U(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function Jb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Fd=class extends Dc{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,o,s,a,u,l){super(e,i,o,a,u),this.hostEl=n,this.sharedStylesHost=l,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let f=r.styles;f=Xb(r.id,f);for(let m of f){let y=document.createElement("style");s&&y.setAttribute("nonce",s),y.textContent=m,this.shadowRoot.appendChild(y)}let p=r.getExternalStyles?.();if(p)for(let m of p){let y=Dy(m,i);s&&y.setAttribute("nonce",s),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Cc=class extends Dc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=l?Xb(l,f):f,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Zi.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Vd=class extends Cc{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l){let f=i+"-"+r.id;super(e,n,r,o,s,a,u,l,f),this.contentAttr=$L(f),this.hostAttr=HL(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Ud=class t extends yc{supportsDOMEvents=!0;static makeCurrent(){hy(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=zL();return n==null?null:qL(n)}resetBaseElement(){bc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ey(document.cookie,e)}},bc=null;function zL(){return bc=bc||document.head.querySelector("base"),bc?bc.getAttribute("href"):null}function qL(t){return new URL(t,document.baseURI).pathname}var GL=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),eS=["alt","control","meta","shift"],WL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},KL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},tS=(()=>{class t extends Tc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vr().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),eS.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=WL[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),eS.forEach(s=>{if(s!==i){let a=KL[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(W(qe))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})();function Ry(t,e,n){let r=M({rootComponent:t,platformRef:n?.platformRef},QL(e));return Cb(r)}function QL(t){return{appProviders:[...eF,...t?.providers??[]],platformProviders:XL}}function YL(){Ud.makeCurrent()}function JL(){return new pr}function ZL(){return Om(document),document}var XL=[{provide:cc,useValue:Wb},{provide:dd,useValue:YL,multi:!0},{provide:qe,useFactory:ZL}];var eF=[{provide:Ba,useValue:"root"},{provide:pr,useFactory:JL},{provide:jd,useClass:Ld,multi:!0},{provide:jd,useClass:tS,multi:!0},Ay,by,Cy,{provide:Xi,useExisting:Ay},{provide:wc,useClass:GL},[]];var nS=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(W(qe))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Z="primary",Fc=Symbol("RouteTitle"),Oy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function lo(t){return new Oy(t)}function dS(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Gd(t){return new Promise((e,n)=>{t.pipe(dr()).subscribe({next:r=>e(r),error:r=>n(r)})})}function nF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Jn(t[n],e[n]))return!1;return!0}function Jn(t,e){let n=t?ky(t):void 0,r=e?ky(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!fS(t[i],e[i]))return!1;return!0}function ky(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function fS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function hS(t){return t.length>0?t[t.length-1]:null}function fo(t){return cl(t)?t:ss(t)?et(Promise.resolve(t)):le(t)}function pS(t){return cl(t)?Gd(t):Promise.resolve(t)}var rF={exact:mS,subset:yS},gS={exact:iF,subset:oF,ignored:()=>!0};function rS(t,e,n){return rF[n.paths](t.root,e.root,n.matrixParams)&&gS[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function iF(t,e){return Jn(t,e)}function mS(t,e,n){if(!co(t.segments,e.segments)||!Hd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!mS(t.children[r],e.children[r],n))return!1;return!0}function oF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>fS(t[n],e[n]))}function yS(t,e,n){return vS(t,e,e.segments,n)}function vS(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!co(i,n)||e.hasChildren()||!Hd(i,n,r))}else if(t.segments.length===n.length){if(!co(t.segments,n)||!Hd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!yS(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!co(t.segments,i)||!Hd(t.segments,i,r)||!t.children[Z]?!1:vS(t.children[Z],e,o,r)}}function Hd(t,e,n){return e.every((r,i)=>gS[n](t[i].parameters,r.parameters))}var xn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new De([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=lo(this.queryParams),this._queryParamMap}toString(){return cF.serialize(this)}},De=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zd(this)}},ni=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=lo(this.parameters),this._parameterMap}toString(){return ES(this)}};function sF(t,e){return co(t,e)&&t.every((n,r)=>Jn(n.parameters,e[r].parameters))}function co(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function aF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Z&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Z&&(n=n.concat(e(i,r)))}),n}var ws=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:()=>new ri,providedIn:"root"})}return t})(),ri=class{parse(e){let n=new Fy(e);return new xn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Sc(e.root,!0)}`,r=dF(e.queryParams),i=typeof e.fragment=="string"?`#${uF(e.fragment)}`:"";return`${n}${r}${i}`}},cF=new ri;function zd(t){return t.segments.map(e=>ES(e)).join("/")}function Sc(t,e){if(!t.hasChildren())return zd(t);if(e){let n=t.children[Z]?Sc(t.children[Z],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Z&&r.push(`${i}:${Sc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=aF(t,(r,i)=>i===Z?[Sc(t.children[Z],!1)]:[`${i}:${Sc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Z]!=null?`${zd(t)}/${n[0]}`:`${zd(t)}/(${n.join("//")})`}}function _S(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bd(t){return _S(t).replace(/%3B/gi,";")}function uF(t){return encodeURI(t)}function Ly(t){return _S(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qd(t){return decodeURIComponent(t)}function iS(t){return qd(t.replace(/\+/g,"%20"))}function ES(t){return`${Ly(t.path)}${lF(t.parameters)}`}function lF(t){return Object.entries(t).map(([e,n])=>`;${Ly(e)}=${Ly(n)}`).join("")}function dF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Bd(n)}=${Bd(i)}`).join("&"):`${Bd(n)}=${Bd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var fF=/^[^\/()?;#]+/;function Ny(t){let e=t.match(fF);return e?e[0]:""}var hF=/^[^\/()?;=#]+/;function pF(t){let e=t.match(hF);return e?e[0]:""}var gF=/^[^=?&#]+/;function mF(t){let e=t.match(gF);return e?e[0]:""}var yF=/^[^&#]+/;function vF(t){let e=t.match(yF);return e?e[0]:""}var Fy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Z]=new De(e,n)),r}parseSegment(){let e=Ny(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new ni(qd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=pF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Ny(this.remaining);i&&(r=i,this.capture(r))}e[qd(n)]=qd(r)}parseQueryParam(e){let n=mF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=vF(this.remaining);s&&(r=s,this.capture(r))}let i=iS(n),o=iS(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ny(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Z);let s=this.parseChildren();n[o??Z]=Object.keys(s).length===1&&s[Z]?s[Z]:new De([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function IS(t){return t.segments.length>0?new De([],{[Z]:t}):t}function wS(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=wS(i);if(r===Z&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new De(t.segments,e);return _F(n)}function _F(t){if(t.numberOfChildren===1&&t.children[Z]){let e=t.children[Z];return new De(t.segments.concat(e.segments),e.children)}return t}function ii(t){return t instanceof xn}function TS(t,e,n=null,r=null,i=new ri){let o=DS(t);return CS(o,e,n,r,i)}function DS(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new De(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=IS(r);return e??i}function CS(t,e,n,r,i){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return My(o,o,o,n,r,i);let s=EF(e);if(s.toRoot())return My(o,o,new De([],{}),n,r,i);let a=IF(s,o,t),u=a.processChildren?Rc(a.segmentGroup,a.index,s.commands):SS(a.segmentGroup,a.index,s.commands);return My(o,a.segmentGroup,u,n,r,i)}function Wd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Mc(t){return typeof t=="object"&&t!=null&&t.outlets}function oS(t,e,n){t||="\u0275";let r=new xn;return r.queryParams={[t]:e},n.parse(n.serialize(r)).queryParams[t]}function My(t,e,n,r,i,o){let s={};for(let[l,f]of Object.entries(r??{}))s[l]=Array.isArray(f)?f.map(p=>oS(l,p,o)):oS(l,f,o);let a;t===e?a=n:a=bS(t,e,n);let u=IS(wS(a));return new xn(u,s,i)}function bS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=bS(o,e,n)}),new De(t.segments,r)}var Kd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Wd(r[0]))throw new U(4003,!1);let i=r.find(Mc);if(i&&i!==hS(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function EF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Kd(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Kd(n,e,r)}var hs=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function IF(t,e,n){if(t.isAbsolute)return new hs(e,!0,0);if(!n)return new hs(e,!1,NaN);if(n.parent===null)return new hs(n,!0,0);let r=Wd(t.commands[0])?0:1,i=n.segments.length-1+r;return wF(n,i,t.numberOfDoubleDots)}function wF(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new hs(r,!1,i-o)}function TF(t){return Mc(t[0])?t[0].outlets:{[Z]:t}}function SS(t,e,n){if(t??=new De([],{}),t.segments.length===0&&t.hasChildren())return Rc(t,e,n);let r=DF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new De(t.segments.slice(0,r.pathIndex),{});return o.children[Z]=new De(t.segments.slice(r.pathIndex),t.children),Rc(o,0,i)}else return r.match&&i.length===0?new De(t.segments,{}):r.match&&!t.hasChildren()?Vy(t,e,n):r.match?Rc(t,0,i):Vy(t,e,n)}function Rc(t,e,n){if(n.length===0)return new De(t.segments,{});{let r=TF(n),i={};if(Object.keys(r).some(o=>o!==Z)&&t.children[Z]&&t.numberOfChildren===1&&t.children[Z].segments.length===0){let o=Rc(t.children[Z],e,n);return new De(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=SS(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new De(t.segments,i)}}function DF(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Mc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!aS(u,l,s))return o;r+=2}else{if(!aS(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Vy(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Mc(o)){let u=CF(o.outlets);return new De(r,u)}if(i===0&&Wd(n[0])){let u=t.segments[e];r.push(new ni(u.path,sS(n[0]))),i++;continue}let s=Mc(o)?o.outlets[Z]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Wd(a)?(r.push(new ni(s,sS(a))),i+=2):(r.push(new ni(s,{})),i++)}return new De(r,{})}function CF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Vy(new De([],{}),0,r))}),e}function sS(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function aS(t,e,n){return t==n.path&&Jn(e,n.parameters)}var ps="imperative",rt=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(rt||{}),Zt=class{id;url;constructor(e,n){this.id=e,this.url=n}},oi=class extends Zt{type=rt.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},hn=class extends Zt{urlAfterRedirects;type=rt.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Pt=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Pt||{}),ms=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(ms||{}),Zn=class extends Zt{reason;code;type=rt.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Xn=class extends Zt{reason;code;type=rt.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},ys=class extends Zt{error;target;type=rt.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},xc=class extends Zt{urlAfterRedirects;state;type=rt.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qd=class extends Zt{urlAfterRedirects;state;type=rt.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yd=class extends Zt{urlAfterRedirects;state;shouldActivate;type=rt.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Jd=class extends Zt{urlAfterRedirects;state;type=rt.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zd=class extends Zt{urlAfterRedirects;state;type=rt.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xd=class{route;type=rt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ef=class{route;type=rt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},tf=class{snapshot;type=rt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nf=class{snapshot;type=rt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rf=class{snapshot;type=rt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},of=class{snapshot;type=rt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vs=class{routerEvent;position;anchor;type=rt.Scroll;constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Pc=class{},_s=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function bF(t){return!(t instanceof Pc)&&!(t instanceof _s)}function SF(t,e){return t.providers&&!t._injector&&(t._injector=dc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Mn(t){return t.outlet||Z}function AF(t,e){let n=t.filter(r=>Mn(r)===e);return n.push(...t.filter(r=>Mn(r)!==e)),n}function Ts(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var sf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ts(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Ds(this.rootInjector)}},Ds=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new sf(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(W(ct))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),af=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=jy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=jy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Uy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Uy(e,this._root).map(n=>n.value)}};function jy(t,e){if(t===e.value)return e;for(let n of e.children){let r=jy(t,n);if(r)return r}return null}function Uy(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Uy(t,n);if(r.length)return r.unshift(e),r}return[]}var Jt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function fs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Oc=class extends af{snapshot;constructor(e,n){super(e),this.snapshot=n,Gy(this,e)}toString(){return this.snapshot.toString()}};function AS(t){let e=RF(t),n=new pt([new ni("",{})]),r=new pt({}),i=new pt({}),o=new pt({}),s=new pt(""),a=new Pn(n,r,o,s,i,Z,t,e.root);return a.snapshot=e.root,new Oc(new Jt(a,[]),e)}function RF(t){let e={},n={},r={},o=new uo([],e,r,"",n,Z,t,null,{});return new kc("",new Jt(o,[]))}var Pn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Le(l=>l[Fc]))??le(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Le(e=>lo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Le(e=>lo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function cf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:M(M({},e.params),t.params),data:M(M({},e.data),t.data),resolve:M(M(M(M({},t.data),e.data),i?.data),t._resolvedData)}:r={params:M({},t.params),data:M({},t.data),resolve:M(M({},t.data),t._resolvedData??{})},i&&NS(i)&&(r.resolve[Fc]=i.title),r}var uo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Fc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=lo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=lo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},kc=class extends af{url;constructor(e,n){super(n),this.url=e,Gy(this,n)}toString(){return RS(this._root)}};function Gy(t,e){e.value._routerState=t,e.children.forEach(n=>Gy(t,n))}function RS(t){let e=t.children.length>0?` { ${t.children.map(RS).join(", ")} } `:"";return`${t.value}${e}`}function xy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Jn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Jn(e.params,n.params)||t.paramsSubject.next(n.params),nF(e.url,n.url)||t.urlSubject.next(n.url),Jn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function By(t,e){let n=Jn(t.params,e.params)&&sF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||By(t.parent,e.parent))}function NS(t){return typeof t.title=="string"||t.title===null}var MS=new H(""),Vc=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Z;activateEvents=new Et;deactivateEvents=new Et;attachEvents=new Et;detachEvents=new Et;routerOutletData=Db();parentContexts=O(Ds);location=O(io);changeDetector=O(ds);inputBinder=O(ff,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new $y(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Xr({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[no]})}return t})(),$y=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Pn?this.route:e===Ds?this.childContexts:e===MS?this.outletData:this.parent.get(e,n)}},ff=new H("");var Wy=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Te({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ee(0,"router-outlet")},dependencies:[Vc],encapsulation:2})}return t})();function Ky(t){let e=t.children&&t.children.map(Ky),n=e?ie(M({},t),{children:e}):M({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Z&&(n.component=Wy),n}function NF(t,e,n){let r=Lc(t,e._root,n?n._root:void 0);return new Oc(r,e)}function Lc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=MF(t,e,n);return new Jt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Lc(t,a)),s}}let r=xF(e.value),i=e.children.map(o=>Lc(t,o));return new Jt(r,i)}}function MF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Lc(t,r,i);return Lc(t,r)})}function xF(t){return new Pn(new pt(t.url),new pt(t.params),new pt(t.queryParams),new pt(t.fragment),new pt(t.data),t.outlet,t.component,t)}var Es=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},xS="ngNavigationCancelingError";function uf(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ii(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=PS(!1,Pt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function PS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[xS]=!0,n.cancellationCode=e,n}function PF(t){return OS(t)&&ii(t.url)}function OS(t){return!!t&&t[xS]}var OF=(t,e,n,r)=>Le(i=>(new Hy(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Hy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),xy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=fs(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=fs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=fs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=fs(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new of(o.value.snapshot))}),e.children.length&&this.forwardEvent(new nf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(xy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),xy(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},lf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},gs=class{component;route;constructor(e,n){this.component=e,this.route=n}};function kF(t,e,n){let r=t._root,i=e?e._root:null;return Ac(r,i,n,[r.value])}function LF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Cs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!ag(t)?t:e.get(t):r}function Ac(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=fs(e);return t.children.forEach(s=>{FF(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Nc(a,n.getContext(s),i)),i}function FF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=VF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new lf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ac(t,e,a?a.children:null,r,i):Ac(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new gs(a.outlet.component,s))}else s&&Nc(e,a,i),i.canActivateChecks.push(new lf(r)),o.component?Ac(t,null,a?a.children:null,r,i):Ac(t,null,n,r,i);return i}function VF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!co(t.url,e.url);case"pathParamsOrQueryParamsChange":return!co(t.url,e.url)||!Jn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!By(t,e)||!Jn(t.queryParams,e.queryParams);case"paramsChange":default:return!By(t,e)}}function Nc(t,e,n){let r=fs(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Nc(s,e.children.getContext(o),n):Nc(s,null,n):Nc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new gs(e.outlet.component,i)):n.canDeactivateChecks.push(new gs(null,i)):n.canDeactivateChecks.push(new gs(null,i))}function jc(t){return typeof t=="function"}function jF(t){return typeof t=="boolean"}function UF(t){return t&&jc(t.canLoad)}function BF(t){return t&&jc(t.canActivate)}function $F(t){return t&&jc(t.canActivateChild)}function HF(t){return t&&jc(t.canDeactivate)}function zF(t){return t&&jc(t.canMatch)}function kS(t){return t instanceof Li||t?.name==="EmptyError"}var $d=Symbol("INITIAL_VALUE");function Is(){return Un(t=>Bp(t.map(e=>e.pipe(lr(1),zp($d)))).pipe(Le(e=>{for(let n of e)if(n!==!0){if(n===$d)return $d;if(n===!1||qF(n))return n}return!0}),vn(e=>e!==$d),lr(1)))}function qF(t){return ii(t)||t instanceof Es}function LS(t){return t.aborted?le(void 0).pipe(lr(1)):new Ie(e=>{let n=()=>{e.next(),e.complete()};return t.addEventListener("abort",n),()=>t.removeEventListener("abort",n)})}function FS(t){return xa(LS(t))}function GF(t,e){return _t(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?le(ie(M({},n),{guardsResult:!0})):WF(s,r,i,t).pipe(_t(a=>a&&jF(a)?KF(r,o,t,e):le(a)),Le(a=>ie(M({},n),{guardsResult:a})))})}function WF(t,e,n,r){return et(t).pipe(_t(i=>XF(i.component,i.route,n,e,r)),dr(i=>i!==!0,!0))}function KF(t,e,n,r){return et(e).pipe(Ma(i=>Bo(YF(i.route.parent,r),QF(i.route,r),ZF(t,i.path,n),JF(t,i.route,n))),dr(i=>i!==!0,!0))}function QF(t,e){return t!==null&&e&&e(new rf(t)),le(!0)}function YF(t,e){return t!==null&&e&&e(new tf(t)),le(!0)}function JF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return le(!0);let i=r.map(o=>Na(()=>{let s=Ts(e)??n,a=Cs(o,s),u=BF(a)?a.canActivate(e,t):Rt(s,()=>a(e,t));return fo(u).pipe(dr())}));return le(i).pipe(Is())}function ZF(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>LF(s)).filter(s=>s!==null).map(s=>Na(()=>{let a=s.guards.map(u=>{let l=Ts(s.node)??n,f=Cs(u,l),p=$F(f)?f.canActivateChild(r,t):Rt(l,()=>f(r,t));return fo(p).pipe(dr())});return le(a).pipe(Is())}));return le(o).pipe(Is())}function XF(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return le(!0);let s=o.map(a=>{let u=Ts(e)??i,l=Cs(a,u),f=HF(l)?l.canDeactivate(t,e,n,r):Rt(u,()=>l(t,e,n,r));return fo(f).pipe(dr())});return le(s).pipe(Is())}function eV(t,e,n,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return le(!0);let s=o.map(a=>{let u=Cs(a,t),l=UF(u)?u.canLoad(e,n):Rt(t,()=>u(e,n)),f=fo(l);return i?f.pipe(FS(i)):f});return le(s).pipe(Is(),VS(r))}function VS(t){return Fp(St(e=>{if(typeof e!="boolean")throw uf(t,e)}),Le(e=>e===!0))}function tV(t,e,n,r,i){let o=e.canMatch;if(!o||o.length===0)return le(!0);let s=o.map(a=>{let u=Cs(a,t),l=zF(u)?u.canMatch(e,n):Rt(t,()=>u(e,n)),f=fo(l);return i?f.pipe(FS(i)):f});return le(s).pipe(Is(),VS(r))}var ao=class jS extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,jS.prototype)}},zy=class US extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,US.prototype)}};function nV(t){throw new U(4e3,!1)}function rV(t){throw PS(!1,Pt.GuardRejected)}var iV=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}async lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[Z])throw nV(`${e.redirectTo}`);i=i.children[Z]}}async applyRedirectCommands(e,n,r,i,o){let s=await oV(n,i,o);if(s instanceof xn)throw new zy(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new zy(a);return a}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new xn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new De(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function oV(t,e,n){if(typeof t=="string")return Promise.resolve(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:f,title:p}=e;return Gd(fo(Rt(n,()=>r({params:l,data:f,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p}))))}var qy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sV(t,e,n,r,i,o){let s=BS(t,e,n);return s.matched?(r=SF(e,r),tV(r,e,n,i,o).pipe(Le(a=>a===!0?s:M({},qy)))):le(s)}function BS(t,e,n){if(e.path==="**")return aV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?M({},qy):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||dS)(n,t,e);if(!i)return M({},qy);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?M(M({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function aV(t){return{matched:!0,parameters:t.length>0?hS(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function cS(t,e,n,r){return n.length>0&&lV(t,n,r)?{segmentGroup:new De(e,uV(r,new De(n,t.children))),slicedSegments:[]}:n.length===0&&dV(t,n,r)?{segmentGroup:new De(t.segments,cV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new De(t.segments,t.children),slicedSegments:n}}function cV(t,e,n,r){let i={};for(let o of n)if(hf(t,e,o)&&!r[Mn(o)]){let s=new De([],{});i[Mn(o)]=s}return M(M({},r),i)}function uV(t,e){let n={};n[Z]=e;for(let r of t)if(r.path===""&&Mn(r)!==Z){let i=new De([],{});n[Mn(r)]=i}return n}function lV(t,e,n){return n.some(r=>hf(t,e,r)&&Mn(r)!==Z)}function dV(t,e,n){return n.some(r=>hf(t,e,r))}function hf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function fV(t,e,n){return e.length===0&&!t.children[n]}var hV=class{};async function pV(t,e,n,r,i,o,s="emptyOnly",a){return new mV(t,e,n,r,i,s,o,a).recognize()}var gV=31,mV=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a,u){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=u,this.applyRedirects=new iV(this.urlSerializer,this.urlTree)}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}async recognize(){let e=cS(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(e),i=new Jt(r,n),o=new kc("",i),s=TS(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(e){let n=new uo([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Z,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,Z,n),rootSnapshot:n}}catch(r){if(r instanceof zy)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ao?this.noMatchError(r):r}}async processSegmentGroup(e,n,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,n,r,o);let s=await this.processSegment(e,n,r,r.segments,i,!0,o);return s instanceof Jt?[s]:[]}async processChildren(e,n,r,i){let o=[];for(let u of Object.keys(r.children))u==="primary"?o.unshift(u):o.push(u);let s=[];for(let u of o){let l=r.children[u],f=AF(n,u),p=await this.processSegmentGroup(e,f,l,u,i);s.push(...p)}let a=$S(s);return yV(a),a}async processSegment(e,n,r,i,o,s,a){for(let u of n)try{return await this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a)}catch(l){if(l instanceof ao||kS(l))continue;throw l}if(fV(r,i,o))return new hV;throw new ao(r)}async processSegmentAgainstRoute(e,n,r,i,o,s,a,u){if(Mn(r)!==s&&(s===Z||!hf(i,o,r)))throw new ao(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,s,u);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u);throw new ao(i)}async expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:m}=BS(n,i,o);if(!u)throw new ao(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>gV&&(this.allowRedirects=!1));let y=new uo(o,l,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,uS(i),Mn(i),i.component??i._loadedComponent??null,i,lS(i)),S=cf(y,a,this.paramsInheritanceStrategy);if(y.params=Object.freeze(S.params),y.data=Object.freeze(S.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let A=await this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,y,e),R=await this.applyRedirects.lineralizeSegments(i,A);return this.processSegment(e,r,n,R.concat(m),s,!1,a)}async matchSegmentAgainstRoute(e,n,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await Gd(sV(n,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!a?.matched)throw new ao(n);e=r._injector??e;let{routes:u}=await this.getChildConfig(e,r,i),l=r._loadedInjector??e,{parameters:f,consumedSegments:p,remainingSegments:m}=a,y=new uo(p,f,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,uS(r),Mn(r),r.component??r._loadedComponent??null,r,lS(r)),S=cf(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(S.params),y.data=Object.freeze(S.data);let{segmentGroup:A,slicedSegments:R}=cS(n,p,m,u);if(R.length===0&&A.hasChildren()){let pe=await this.processChildren(l,u,A,y);return new Jt(y,pe)}if(u.length===0&&R.length===0)return new Jt(y,[]);let L=Mn(r)===o,re=await this.processSegment(l,u,A,R,L?Z:o,!0,y);return new Jt(y,re instanceof Jt?[re]:[])}async getChildConfig(e,n,r){if(n.children)return{routes:n.children,injector:e};if(n.loadChildren){if(n._loadedRoutes!==void 0)return{routes:n._loadedRoutes,injector:n._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Gd(eV(e,n,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,n);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,o}throw rV(n)}return{routes:[],injector:e}}};function yV(t){t.sort((e,n)=>e.value.outlet===Z?-1:n.value.outlet===Z?1:e.value.outlet.localeCompare(n.value.outlet))}function vV(t){let e=t.value.routeConfig;return e&&e.path===""}function $S(t){let e=[],n=new Set;for(let r of t){if(!vV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=$S(r.children);e.push(new Jt(r.value,i))}return e.filter(r=>!n.has(r))}function uS(t){return t.data||{}}function lS(t){return t.resolve||{}}var _V=new H("",{factory:()=>pV});function EV(t,e,n,r,i,o,s){let a=t.get(_V);return _t(u=>le(u).pipe(Un(l=>a(t,e,n,r,l.extractedUrl,i,o,s)),Le(({state:l,tree:f})=>ie(M({},u),{targetSnapshot:l,urlAfterRedirects:f}))))}function IV(t,e){return _t(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return le(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of HS(u))s.add(l);let a=0;return et(s).pipe(Ma(u=>o.has(u)?wV(u,r,t,e):(u.data=cf(u,u.parent,t).resolve,le(void 0))),St(()=>a++),ul(1),_t(u=>a===s.size?le(n):Vt))})}function HS(t){let e=t.children.map(n=>HS(n)).flat();return[t,...e]}function wV(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!NS(i)&&(o[Fc]=i.title),Na(()=>(t.data=cf(t,t.parent,n).resolve,TV(o,t,e,r).pipe(Le(s=>(t._resolvedData=s,t.data=M(M({},t.data),s),null)))))}function TV(t,e,n,r){let i=ky(t);if(i.length===0)return le({});let o={};return et(i).pipe(_t(s=>DV(t[s],e,n,r).pipe(dr(),St(a=>{if(a instanceof Es)throw uf(new ri,a);o[s]=a}))),ul(1),Le(()=>o),$o(s=>kS(s)?Vt:Up(s)))}function DV(t,e,n,r){let i=Ts(e)??r,o=Cs(t,i),s=o.resolve?o.resolve(e,n):Rt(i,()=>o(e,n));return fo(s)}function Py(t){return Un(e=>{let n=t(e);return n?et(n).pipe(Le(()=>e)):le(e)})}var Qy=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Z);return r}getResolvedTitleForRoute(n){return n.data[Fc]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:()=>O(zS),providedIn:"root"})}return t})(),zS=(()=>{class t extends Qy{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(W(nS))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),bs=new H("",{factory:()=>({})}),Uc=new H(""),qS=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=O(ly);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await pS(Rt(n,()=>r.loadComponent())),s=await KS(WS(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await GS(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();async function GS(t,e,n,r){let i=await pS(Rt(n,()=>t.loadChildren())),o=await KS(WS(i)),s;o instanceof Id||Array.isArray(o)?s=o:s=await e.compileModuleAsync(o),r&&r(t);let a,u,l=!1;return Array.isArray(s)?(u=s,l=!0):(a=s.create(n).injector,u=a.get(Uc,[],{optional:!0,self:!0}).flat()),{routes:u.map(Ky),injector:a}}function CV(t){return t&&typeof t=="object"&&"default"in t}function WS(t){return CV(t)?t.default:t}async function KS(t){return t}var pf=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:()=>O(bV),providedIn:"root"})}return t})(),bV=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),QS=new H("");var SV=()=>{},YS=new H(""),Yy=(()=>{class t{currentNavigation=$e(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=$e(null);events=new st;transitionAbortWithErrorSubject=new st;configLoader=O(qS);environmentInjector=O(ct);destroyRef=O(Qr);urlSerializer=O(ws);rootContexts=O(Ds);location=O(so);inputBindingEnabled=O(ff,{optional:!0})!==null;titleStrategy=O(Qy);options=O(bs,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=O(pf);createViewTransition=O(QS,{optional:!0});navigationErrorHandler=O(YS,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>le(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Xd(i)),r=i=>this.events.next(new ef(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Tn(()=>{this.transitions?.next(ie(M({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new pt(null),this.transitions.pipe(vn(r=>r!==null),Un(r=>{let i=!1,o=new AbortController;return le(r).pipe(Un(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Pt.SupersededByNewNavigation),Vt;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?ie(M({},a),{previousNavigation:null}):null,abort:()=>o.abort()});let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&l!=="reload")return this.events.next(new Xn(s.id,this.urlSerializer.serialize(s.rawUrl),"",ms.IgnoredSameUrlNavigation)),s.resolve(!1),Vt;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return le(s).pipe(Un(f=>(this.events.next(new oi(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),f.id!==this.navigationId?Vt:Promise.resolve(f))),EV(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),St(f=>{r.targetSnapshot=f.targetSnapshot,r.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation.update(m=>(m.finalUrl=f.urlAfterRedirects,m));let p=new xc(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:f,extractedUrl:p,source:m,restoredState:y,extras:S}=s,A=new oi(f,this.urlSerializer.serialize(p),m,y);this.events.next(A);let R=AS(this.rootComponentType).snapshot;return this.currentTransition=r=ie(M({},s),{targetSnapshot:R,urlAfterRedirects:p,extras:ie(M({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(L=>(L.finalUrl=p,L)),le(r)}else return this.events.next(new Xn(s.id,this.urlSerializer.serialize(s.extractedUrl),"",ms.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Vt}),St(s=>{let a=new Qd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Le(s=>(this.currentTransition=r=ie(M({},s),{guards:kF(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),GF(this.environmentInjector,s=>this.events.next(s)),St(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw uf(this.urlSerializer,s.guardsResult);let a=new Yd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),vn(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Pt.GuardRejected),!1)),Py(s=>{if(s.guards.canActivateChecks.length!==0)return le(s).pipe(St(a=>{let u=new Jd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Un(a=>{let u=!1;return le(a).pipe(IV(this.paramsInheritanceStrategy,this.environmentInjector),St({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",Pt.NoDataFromResolver)}}))}),St(a=>{let u=new Zd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Py(s=>{let a=l=>{let f=[];if(l.routeConfig?._loadedComponent)l.component=l.routeConfig?._loadedComponent;else if(l.routeConfig?.loadComponent){let p=Ts(l)??this.environmentInjector;f.push(this.configLoader.loadComponent(p,l.routeConfig).then(m=>{l.component=m}))}for(let p of l.children)f.push(...a(p));return f},u=a(s.targetSnapshot.root);return u.length===0?le(s):et(Promise.all(u).then(()=>s))}),Py(()=>this.afterPreactivation()),Un(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?et(u).pipe(Le(()=>r)):le(r)}),Le(s=>{let a=NF(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ie(M({},s),{targetRouterState:a}),this.currentNavigation.update(u=>(u.targetRouterState=a,u)),r}),St(()=>{this.events.next(new Pc)}),OF(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),lr(1),xa(LS(o.signal).pipe(vn(()=>!i&&!r.targetRouterState),St(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",Pt.Aborted)}))),St({next:s=>{i=!0,this.currentNavigation.update(a=>(a.abort=SV,a)),this.lastSuccessfulNavigation.set(Tn(this.currentNavigation)),this.events.next(new hn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),xa(this.transitionAbortWithErrorSubject.pipe(St(s=>{throw s}))),Hp(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",Pt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),$o(s=>{if(this.destroyed)return r.resolve(!1),Vt;if(i=!0,OS(s))this.events.next(new Zn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),PF(s)?this.events.next(new _s(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new ys(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=Rt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof Es){let{message:l,cancellationCode:f}=uf(this.urlSerializer,u);this.events.next(new Zn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,f)),this.events.next(new _s(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Vt}))}))}cancelNavigationTransition(n,r,i){let o=new Zn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Tn(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function AV(t){return t!==ps}var JS=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:()=>O(RV),providedIn:"root"})}return t})(),df=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},RV=(()=>{class t extends df{static \u0275fac=(()=>{let n;return function(i){return(n||(n=sc(t)))(i||t)}})();static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Jy=(()=>{class t{urlSerializer=O(ws);options=O(bs,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=O(so);urlHandlingStrategy=O(pf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new xn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof xn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=AS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:()=>O(ZS),providedIn:"root"})}return t})(),ZS=(()=>{class t extends Jy{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof oi?this.updateStateMemento():n instanceof Xn?this.commitTransition(r):n instanceof xc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Pc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Zn&&n.code!==Pt.SupersededByNewNavigation&&n.code!==Pt.Redirect?this.restoreHistory(r):n instanceof ys?this.restoreHistory(r,!0):n instanceof hn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=M(M({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=M(M({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=sc(t)))(i||t)}})();static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Zy(t,e){t.events.pipe(vn(n=>n instanceof hn||n instanceof Zn||n instanceof ys||n instanceof Xn),Le(n=>n instanceof hn||n instanceof Xn?0:(n instanceof Zn?n.code===Pt.Redirect||n.code===Pt.SupersededByNewNavigation:!1)?2:1),vn(n=>n!==2),lr(1)).subscribe(()=>{e()})}var NV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},MV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ss=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=O(ny);stateManager=O(Jy);options=O(bs,{optional:!0})||{};pendingTasks=O(Yr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=O(Yy);urlSerializer=O(ws);location=O(so);urlHandlingStrategy=O(pf);injector=O(ct);_events=new st;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=O(JS);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=O(Uc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!O(ff,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ht;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Tn(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Zn&&r.code!==Pt.Redirect&&r.code!==Pt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof hn)this.navigated=!0;else if(r instanceof _s){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=M({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||AV(i.source)},s);this.scheduleNavigation(a,ps,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}bF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ps,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=M({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(an)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Tn(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Ky),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=M(M({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=DS(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return CS(p,n,f,l??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ii(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ps,null,r)}navigate(n,r={skipLocationChange:!1}){return xV(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(Hr(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=M({},NV):r===!1?i=M({},MV):i=r,ii(n))return rS(this.currentUrlTree,n,i);let o=this.parseUrl(n);return rS(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let f=this.pendingTasks.add();return Zy(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new U(4008,!1)}var As=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=$e(null);get href(){return Tn(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new st;applicationErrorHandler=O(an);options=O(bs,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(O(new Sd("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof hn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ii(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:ii(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(de(Ss),de(Pn),ac("tabindex"),de(ro),de($t),de(oo))};static \u0275dir=Xr({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&dn("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Td("href",i.reactiveHref(),Fm)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",mc],skipLocationChange:[2,"skipLocationChange","skipLocationChange",mc],replaceUrl:[2,"replaceUrl","replaceUrl",mc],routerLink:"routerLink"},features:[no]})}return t})(),Xy=(()=>{class t{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Et;link=O(As,{optional:!0});constructor(n,r,i,o){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.routerEventsSubscription=n.events.subscribe(s=>{s instanceof hn&&this.update()})}ngAfterContentInit(){le(this.links.changes,le(null)).pipe(Uo()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=et(n).pipe(Uo()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=PV(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||t)(de(Ss),de($t),de(ro),de(ds))};static \u0275dir=Xr({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&ay(o,As,5),r&2){let s;cs(s=us())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[no]})}return t})();function PV(t){return!!t.paths}var XS=new H(""),OV=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ps;restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof oi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof hn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Xn&&n.code===ms.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{if(!(n instanceof vs))return;let r={behavior:"instant"};n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position,r):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(async()=>{await new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new vs(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Xm()};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})();function ev(t,...e){return Hi([{provide:Uc,multi:!0,useValue:t},[],{provide:Pn,useFactory:kV},{provide:wd,multi:!0,useFactory:FV},e.map(n=>n.\u0275providers)])}function kV(){return O(Ss).routerState.root}function LV(t,e){return{\u0275kind:t,\u0275providers:e}}function tv(t={}){return LV(4,[{provide:XS,useFactory:()=>{let n=O(Kb),r=O(Bt),i=O(Yy),o=O(ws);return new OV(o,i,n,r,t)}}])}function FV(){let t=O(_n);return e=>{let n=t.get(as);if(e!==n.components[0])return;let r=t.get(Ss),i=t.get(VV);t.get(jV)===1&&r.initialNavigation(),t.get(UV,null,{optional:!0})?.setUpPreloading(),t.get(XS,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var VV=new H("",{factory:()=>new st}),jV=new H("",{factory:()=>1});var UV=new H("");function $V(t,e){if(t&1&&Ee(0,"img",2),t&2){let n=Q(2);fe("src",n.data.image,cn)}}function HV(t,e){if(t&1&&($(0,"h1"),te(1),K()),t&2){let n=Q(2);P(),Pe(n.data.title)}}function zV(t,e){if(t&1&&($(0,"button",4),te(1),K()),t&2){let n=Q(2);ls("disabled",!n.data.interactive),fe("disabled",!n.data.interactive),P(),Pe(n.data.button)}}function qV(t,e){if(t&1&&($(0,"div",1),se(1,$V,1,1,"img",2),$(2,"div",3),se(3,HV,2,1,"h1"),se(4,zV,2,4,"button",4),K()()),t&2){let n=Q();fe("ngClass",n.data.bannerType),P(),ae(n.data.image!=""?1:-1),P(2),ae(n.data.title!=""?3:-1),P(),ae(n.data.button!=""?4:-1)}}var er=class t{data;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["app-banner"]],inputs:{data:"data"},decls:2,vars:1,consts:[[1,"banner-shell"],[1,"banner",3,"ngClass"],[3,"src","alt"],[1,"book-container"],["id","book",3,"disabled"]],template:function(n,r){n&1&&($(0,"div",0),se(1,qV,5,4,"div",1),K()),n&2&&(P(),ae(r.data?1:-1))},dependencies:[vy],styles:[".banner[_ngcontent-%COMP%]{margin:0 0 1.5rem;width:100%;height:300px;position:relative;display:flex;justify-content:center}.subpage[_ngcontent-%COMP%]{height:200px}h1[_ngcontent-%COMP%]{font-family:Malvie,sans-serif;font-size:6rem;color:#fffaf0}img[_ngcontent-%COMP%]{width:100%;object-fit:cover}.book-container[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;bottom:0;display:flex;flex-direction:column;justify-content:center;align-items:center;background:radial-gradient(black 0%,transparent 30%)}button[_ngcontent-%COMP%]{margin:0;padding:0}#book[_ngcontent-%COMP%]{margin:0;padding:.2rem 3rem 0;width:90%;max-width:450px;display:flex;justify-content:center;align-items:center;background:transparent;color:#fffaf0;font-family:Bebas Neue,sans-serif;font-size:clamp(1rem,3vw,2rem);border:5px solid floralwhite;box-sizing:border-box;transition:all .2s ease-in-out}#book.disabled[_ngcontent-%COMP%]{cursor:default;background:#fffaf0;color:var(--primary);font-size:clamp(3rem,4vw,4rem)}#book[_ngcontent-%COMP%]:not(.disabled):hover{transform:scale(1.1);background:#fffaf0;color:var(--primary);cursor:pointer}"]})};function GV(t,e){if(t&1&&(ye(0,"h2",4),te(1),ve()),t&2){let n=Q(2);P(),Pe(n.data==null?null:n.data.title)}}function WV(t,e){if(t&1&&(ye(0,"p"),te(1),ve()),t&2){let n=Q(2);P(),Pe(n.data==null?null:n.data.content)}}function KV(t,e){if(t&1&&An(0,"img",5),t&2){let n=Q(2);Qn("src",n.data==null?null:n.data.image,cn)}}function QV(t,e){if(t&1&&(ye(0,"div",1),se(1,GV,2,1,"h2",4),se(2,WV,2,1,"p"),se(3,KV,1,1,"img",5),ve()),t&2){let n=Q();P(),ae((n.data==null?null:n.data.title)!=""?1:-1),P(),ae((n.data==null?null:n.data.content)!=""?2:-1),P(),ae((n.data==null?null:n.data.image)!=""?3:-1)}}function YV(t,e){if(t&1&&(ye(0,"p"),te(1),ve()),t&2){let n=Q(2);P(),Pe(n.data==null?null:n.data.content)}}function JV(t,e){if(t&1&&(ye(0,"div",2),se(1,YV,2,1,"p"),ve()),t&2){let n=Q();P(),ae((n.data==null?null:n.data.content)!=""?1:-1)}}function ZV(t,e){if(t&1&&(ye(0,"p",4),te(1),ve()),t&2){let n=Q(2);P(),Pe(n.data==null?null:n.data.title)}}function XV(t,e){if(t&1&&(ye(0,"p"),te(1),ve()),t&2){let n=Q(2);P(),Pe(n.data==null?null:n.data.content)}}function e2(t,e){if(t&1&&(ye(0,"div",3),se(1,ZV,2,1,"p",4),se(2,XV,2,1,"p"),ve()),t&2){let n=Q();P(),ae((n.data==null?null:n.data.title)!=""?1:-1),P(),ae((n.data==null?null:n.data.content)!=""?2:-1)}}var Bc=(r=>(r[r.Primary=0]="Primary",r[r.Secondary=1]="Secondary",r[r.FAQ=2]="FAQ",r))(Bc||{}),Rs=class t{data;width;InfoType=Bc;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["app-info"]],inputs:{data:"data",width:"width"},decls:4,vars:3,consts:[[1,"info-shell"],[1,"info-container","primary"],[1,"info-container","secondary"],[1,"info-container","faq"],[1,"title"],["alt","image",3,"src"]],template:function(n,r){n&1&&(ye(0,"div",0),se(1,QV,4,3,"div",1),se(2,JV,2,1,"div",2),se(3,e2,3,2,"div",3),ve()),n&2&&(P(),ae((r.data==null?null:r.data.type)===r.InfoType.Primary?1:-1),P(),ae((r.data==null?null:r.data.type)===r.InfoType.Secondary?2:-1),P(),ae((r.data==null?null:r.data.type)===r.InfoType.FAQ?3:-1))},styles:[".info-shell[_ngcontent-%COMP%]{display:flex;justify-content:center}.info-container[_ngcontent-%COMP%]{padding:0 1rem 1.25rem;max-width:var(--maxWidth);display:flex;flex-direction:column;align-items:center;gap:1rem}.faq[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start}.faq[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{flex:1;max-width:50%}.faq[_ngcontent-%COMP%]   p.title[_ngcontent-%COMP%]{text-align:right}.faq[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(.title){text-align:left}h2[_ngcontent-%COMP%]{margin:0;font-family:Malvie,sans-serif;font-size:2rem;text-align:center}p[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.25em;text-align:center}.title[_ngcontent-%COMP%]{color:var(--highlight)}img[_ngcontent-%COMP%]{width:100%;max-width:700px;max-height:450px;display:block;object-fit:cover;object-position:top}@media(max-width:850px){.info-container.primary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0 1rem;text-align:left}info-container.secondary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background-color:green}.info-container.faq[_ngcontent-%COMP%]{width:100%}.faq[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.faq[_ngcontent-%COMP%]   p.title[_ngcontent-%COMP%], .faq[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;max-width:calc(100% - 2rem);text-align:left}}"]})};var t2=t=>({title:"FAQ",type:t,content:"",image:""});function n2(t,e){if(t&1&&Ee(0,"app-info",1),t&2){let n=e.$implicit;fe("data",n)}}var gf=class t{bannerData={bannerType:"primary",title:"Taniti",image:"banners/taniti.jpeg",button:"",interactive:!1};aboutData={title:"About the Island",type:0,content:"Taniti is a small, tropical island in the Pacific. While the island has an area of less than 500 square miles, the terrain is varied and includes both sandy and rocky beaches, a small but safe harbor, lush tropical rainforests, and a mountainous interior that includes a small, active volcano. Taniti has an indigenous population of about 20,000. Until a recent increase in tourism, most of the Tanitian economy was dominated by fishing or agriculture",image:""};questionsData=[{title:"What language is spoken on Taniti?",type:2,content:"Many younger Tanitians speak fluent English. Very little English is spoken in rural areas, especially by the older residents.",image:""},{title:"What currency is accepted on Taniti?",type:2,content:"Taniti uses the U.S. dollar as its currency, but many businesses will also accept euros and yen. Several banks facilitate currency exchange, and many businesses accept major credit cards.",image:""},{title:"What power outlets are on the Island?",type:2,content:"Taniti's power outlets are 120 volts (the same as in the United States).",image:""},{title:"Does the island have medical facilities?",type:2,content:"There is one hospital and several clinics. The hospital has many multilingual employees.",image:""},{title:"How bad is the crime on Taniti?",type:2,content:"Violent crime is very rare on Taniti, but as tourism increases, there are more reports of pickpocketing and other petty crimes.",image:""},{title:"What holidays does Taniti observe?",type:2,content:"Taniti enjoys a large number of national holidays, and many tourist attractions and restaurants will be closed on holidays, so visitors should plan accordingly.",image:""}];InfoType=Bc;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["app-home"]],decls:6,vars:5,consts:[[3,"data"],[1,"faq",3,"data"]],template:function(n,r){n&1&&($(0,"div"),Ee(1,"app-banner",0)(2,"app-info",0)(3,"app-info",0),gt(4,n2,1,1,"app-info",1,ln),K()),n&2&&(P(),fe("data",r.bannerData),P(),fe("data",r.aboutData),P(),fe("data",hc(3,t2,r.InfoType.Primary)),P(),mt(r.questionsData))},dependencies:[er,Rs],encapsulation:2})};var e0=()=>{};var r0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},r2=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},i0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[f],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(r0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):r2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new iv;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},iv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},i2=function(t){let e=r0(t);return i0.encodeByteArray(e,!0)},Hc=function(t){return i2(t).replace(/\./g,"")},yf=function(t){try{return i0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function o0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var o2=()=>o0().__FIREBASE_DEFAULTS__,s2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},a2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&yf(t[1]);return e&&JSON.parse(e)},vf=()=>{try{return e0()||o2()||s2()||a2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sv=t=>vf()?.emulatorHosts?.[t],s0=t=>{let e=sv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},av=()=>vf()?.config,cv=t=>vf()?.[`_${t}`];var mf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function si(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _f(t){return(await fetch(t,{credentials:"include"})).ok}function a0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=M({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hc(JSON.stringify(n)),Hc(JSON.stringify(s)),""].join(".")}var $c={};function c2(){let t={prod:[],emulator:[]};for(let e of Object.keys($c))$c[e]?t.emulator.push(e):t.prod.push(e);return t}function u2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var t0=!1;function Ef(t,e){if(typeof window>"u"||typeof document>"u"||!si(window.location.host)||$c[t]===e||$c[t]||t0)return;$c[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=c2().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{t0=!0,s()},m}function f(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=u2(r),y=n("text"),S=document.getElementById(y)||document.createElement("span"),A=n("learnmore"),R=document.getElementById(A)||document.createElement("a"),L=n("preprendIcon"),re=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let pe=m.element;a(pe),f(R,A);let Dt=l();u(re,L),pe.append(re,S,R,Dt),document.body.appendChild(pe)}o?(S.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function c0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function l2(){let t=vf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function u0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function l0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function d0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function f0(){let t=lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function h0(){return!l2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uv(){try{return typeof indexedDB=="object"}catch{return!1}}function p0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}var d2="FirebaseError",Xt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=d2,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ir.prototype.create)}},Ir=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?f2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Xt(i,a,r)}};function f2(t,e){return t.replace(h2,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var h2=/\{\$([^}]+)}/g;function g0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function tr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(n0(o)&&n0(s)){if(!tr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function n0(t){return t!==null&&typeof t=="object"}function zc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function m0(t,e){let n=new ov(t,e);return n.subscribe.bind(n)}var ov=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");p2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=rv),i.error===void 0&&(i.error=rv),i.complete===void 0&&(i.complete=rv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function p2(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rv(){}var mX=14400*1e3;function Gt(t){return t&&t._delegate?t._delegate:t}var pn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ho="[DEFAULT]";var lv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new mf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){let n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m2(e))try{this.getOrInitializeService({instanceIdentifier:ho})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ho){return this.instances.has(e)}getOptions(e=ho){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){let r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:g2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ho){return this.component?this.component.multipleInstances?e:ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function g2(t){return t===ho?void 0:t}function m2(t){return t.instantiationMode==="EAGER"}var If=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new lv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var y2=[],he=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(he||{}),v2={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},_2=he.INFO,E2={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},I2=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=E2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ai=class{constructor(e){this.name=e,this._logLevel=_2,this._logHandler=I2,this._userLogHandler=null,y2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?v2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}};var w2=(t,e)=>e.some(n=>t instanceof n),y0,v0;function T2(){return y0||(y0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function D2(){return v0||(v0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var _0=new WeakMap,fv=new WeakMap,E0=new WeakMap,dv=new WeakMap,pv=new WeakMap;function C2(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(nr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&_0.set(n,t)}).catch(()=>{}),pv.set(e,t),e}function b2(t){if(fv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});fv.set(t,e)}var hv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||E0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function I0(t){hv=t(hv)}function S2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(wf(this),e,...n);return E0.set(r,e.sort?e.sort():[e]),nr(r)}:D2().includes(t)?function(...e){return t.apply(wf(this),e),nr(_0.get(this))}:function(...e){return nr(t.apply(wf(this),e))}}function A2(t){return typeof t=="function"?S2(t):(t instanceof IDBTransaction&&b2(t),w2(t,T2())?new Proxy(t,hv):t)}function nr(t){if(t instanceof IDBRequest)return C2(t);if(dv.has(t))return dv.get(t);let e=A2(t);return e!==t&&(dv.set(t,e),pv.set(e,t)),e}var wf=t=>pv.get(t);function T0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=nr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(nr(s.result),u.oldVersion,u.newVersion,nr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var R2=["get","getKey","getAll","getAllKeys","count"],N2=["put","add","delete","clear"],gv=new Map;function w0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gv.get(e))return gv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=N2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||R2.includes(n)))return;let o=async function(s,...a){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return gv.set(e,o),o}I0(t=>ie(M({},t),{get:(e,n,r)=>w0(e,n)||t.get(e,n,r),has:(e,n)=>!!w0(e,n)||t.has(e,n)}));var yv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(M2(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function M2(t){return t.getComponent()?.type==="VERSION"}var vv="@firebase/app",D0="0.14.6";var wr=new ai("@firebase/app"),x2="@firebase/app-compat",P2="@firebase/analytics-compat",O2="@firebase/analytics",k2="@firebase/app-check-compat",L2="@firebase/app-check",F2="@firebase/auth",V2="@firebase/auth-compat",j2="@firebase/database",U2="@firebase/data-connect",B2="@firebase/database-compat",$2="@firebase/functions",H2="@firebase/functions-compat",z2="@firebase/installations",q2="@firebase/installations-compat",G2="@firebase/messaging",W2="@firebase/messaging-compat",K2="@firebase/performance",Q2="@firebase/performance-compat",Y2="@firebase/remote-config",J2="@firebase/remote-config-compat",Z2="@firebase/storage",X2="@firebase/storage-compat",ej="@firebase/firestore",tj="@firebase/ai",nj="@firebase/firestore-compat",rj="firebase",ij="12.6.0";var _v="[DEFAULT]",oj={[vv]:"fire-core",[x2]:"fire-core-compat",[O2]:"fire-analytics",[P2]:"fire-analytics-compat",[L2]:"fire-app-check",[k2]:"fire-app-check-compat",[F2]:"fire-auth",[V2]:"fire-auth-compat",[j2]:"fire-rtdb",[U2]:"fire-data-connect",[B2]:"fire-rtdb-compat",[$2]:"fire-fn",[H2]:"fire-fn-compat",[z2]:"fire-iid",[q2]:"fire-iid-compat",[G2]:"fire-fcm",[W2]:"fire-fcm-compat",[K2]:"fire-perf",[Q2]:"fire-perf-compat",[Y2]:"fire-rc",[J2]:"fire-rc-compat",[Z2]:"fire-gcs",[X2]:"fire-gcs-compat",[ej]:"fire-fst",[nj]:"fire-fst-compat",[tj]:"fire-vertex","fire-js":"fire-js",[rj]:"fire-js-all"};var Tf=new Map,sj=new Map,Ev=new Map;function C0(t,e){try{t.container.addComponent(e)}catch(n){wr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ui(t){let e=t.name;if(Ev.has(e))return wr.debug(`There were multiple attempts to register component ${e}.`),!1;Ev.set(e,t);for(let n of Tf.values())C0(n,t);for(let n of sj.values())C0(n,t);return!0}function Gc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function en(t){return t==null?!1:t.settings!==void 0}var aj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ci=new Ir("app","Firebase",aj);var Iv=class{constructor(e,n,r){this._isDeleted=!1,this._options=M({},e),this._config=M({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}};var li=ij;function Dv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=M({name:_v,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ci.create("bad-app-name",{appName:String(i)});if(n||(n=av()),!n)throw ci.create("no-options");let o=Tf.get(i);if(o){if(tr(n,o.options)&&tr(r,o.config))return o;throw ci.create("duplicate-app",{appName:i})}let s=new If(i);for(let u of Ev.values())s.addComponent(u);let a=new Iv(n,r,s);return Tf.set(i,a),a}function Df(t=_v){let e=Tf.get(t);if(!e&&t===_v&&av())return Dv();if(!e)throw ci.create("no-app",{appName:t});return e}function On(t,e,n){let r=oj[t]??t;n&&(r+=`-${n}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wr.warn(s.join(" "));return}ui(new pn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var cj="firebase-heartbeat-database",uj=1,qc="firebase-heartbeat-store",mv=null;function R0(){return mv||(mv=T0(cj,uj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ci.create("idb-open",{originalErrorMessage:t.message})})),mv}async function lj(t){try{let n=(await R0()).transaction(qc),r=await n.objectStore(qc).get(N0(t));return await n.done,r}catch(e){if(e instanceof Xt)wr.warn(e.message);else{let n=ci.create("idb-get",{originalErrorMessage:e?.message});wr.warn(n.message)}}}async function b0(t,e){try{let r=(await R0()).transaction(qc,"readwrite");await r.objectStore(qc).put(e,N0(t)),await r.done}catch(n){if(n instanceof Xt)wr.warn(n.message);else{let r=ci.create("idb-set",{originalErrorMessage:n?.message});wr.warn(r.message)}}}function N0(t){return`${t.name}!${t.options.appId}`}var dj=1024,fj=30,wv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Tv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=S0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>fj){let i=pj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){wr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=S0(),{heartbeatsToSend:n,unsentEntries:r}=hj(this._heartbeatsCache.heartbeats),i=Hc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return wr.warn(e),""}}};function S0(){return new Date().toISOString().substring(0,10)}function hj(t,e=dj){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),A0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),A0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Tv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uv()?p0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await lj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return b0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return b0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function A0(t){return Hc(JSON.stringify({version:2,heartbeats:t})).length}function pj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function gj(t){ui(new pn("platform-logger",e=>new yv(e),"PRIVATE")),ui(new pn("heartbeat",e=>new wv(e),"PRIVATE")),On(vv,D0,t),On(vv,D0,"esm2020"),On("fire-js","")}gj("");var M0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},x0={};var Tr,Cv;(function(){var t;function e(w,v){function E(){}E.prototype=v.prototype,w.F=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.D=function(T,I,C){for(var _=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)_[Lt-2]=arguments[Lt];return v.prototype[I].apply(T,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);let T=Array(16);if(typeof v=="string")for(var I=0;I<16;++I)T[I]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(I=0;I<16;++I)T[I]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],I=w.g[2];let C=w.g[3],_;_=v+(C^E&(I^C))+T[0]+3614090360&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(I^v&(E^I))+T[1]+3905402710&4294967295,C=v+(_<<12&4294967295|_>>>20),_=I+(E^C&(v^E))+T[2]+606105819&4294967295,I=C+(_<<17&4294967295|_>>>15),_=E+(v^I&(C^v))+T[3]+3250441966&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(C^E&(I^C))+T[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(I^v&(E^I))+T[5]+1200080426&4294967295,C=v+(_<<12&4294967295|_>>>20),_=I+(E^C&(v^E))+T[6]+2821735955&4294967295,I=C+(_<<17&4294967295|_>>>15),_=E+(v^I&(C^v))+T[7]+4249261313&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(C^E&(I^C))+T[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(I^v&(E^I))+T[9]+2336552879&4294967295,C=v+(_<<12&4294967295|_>>>20),_=I+(E^C&(v^E))+T[10]+4294925233&4294967295,I=C+(_<<17&4294967295|_>>>15),_=E+(v^I&(C^v))+T[11]+2304563134&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(C^E&(I^C))+T[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(I^v&(E^I))+T[13]+4254626195&4294967295,C=v+(_<<12&4294967295|_>>>20),_=I+(E^C&(v^E))+T[14]+2792965006&4294967295,I=C+(_<<17&4294967295|_>>>15),_=E+(v^I&(C^v))+T[15]+1236535329&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(I^C&(E^I))+T[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^I&(v^E))+T[6]+3225465664&4294967295,C=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(C^v))+T[11]+643717713&4294967295,I=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(I^C))+T[0]+3921069994&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(I^C&(E^I))+T[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^I&(v^E))+T[10]+38016083&4294967295,C=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(C^v))+T[15]+3634488961&4294967295,I=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(I^C))+T[4]+3889429448&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(I^C&(E^I))+T[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^I&(v^E))+T[14]+3275163606&4294967295,C=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(C^v))+T[3]+4107603335&4294967295,I=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(I^C))+T[8]+1163531501&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(I^C&(E^I))+T[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^I&(v^E))+T[2]+4243563512&4294967295,C=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(C^v))+T[7]+1735328473&4294967295,I=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(I^C))+T[12]+2368359562&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(E^I^C)+T[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^I)+T[8]+2272392833&4294967295,C=v+(_<<11&4294967295|_>>>21),_=I+(C^v^E)+T[11]+1839030562&4294967295,I=C+(_<<16&4294967295|_>>>16),_=E+(I^C^v)+T[14]+4259657740&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(E^I^C)+T[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^I)+T[4]+1272893353&4294967295,C=v+(_<<11&4294967295|_>>>21),_=I+(C^v^E)+T[7]+4139469664&4294967295,I=C+(_<<16&4294967295|_>>>16),_=E+(I^C^v)+T[10]+3200236656&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(E^I^C)+T[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^I)+T[0]+3936430074&4294967295,C=v+(_<<11&4294967295|_>>>21),_=I+(C^v^E)+T[3]+3572445317&4294967295,I=C+(_<<16&4294967295|_>>>16),_=E+(I^C^v)+T[6]+76029189&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(E^I^C)+T[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^I)+T[12]+3873151461&4294967295,C=v+(_<<11&4294967295|_>>>21),_=I+(C^v^E)+T[15]+530742520&4294967295,I=C+(_<<16&4294967295|_>>>16),_=E+(I^C^v)+T[2]+3299628645&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(I^(E|~C))+T[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~I))+T[7]+1126891415&4294967295,C=v+(_<<10&4294967295|_>>>22),_=I+(v^(C|~E))+T[14]+2878612391&4294967295,I=C+(_<<15&4294967295|_>>>17),_=E+(C^(I|~v))+T[5]+4237533241&4294967295,E=I+(_<<21&4294967295|_>>>11),_=v+(I^(E|~C))+T[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~I))+T[3]+2399980690&4294967295,C=v+(_<<10&4294967295|_>>>22),_=I+(v^(C|~E))+T[10]+4293915773&4294967295,I=C+(_<<15&4294967295|_>>>17),_=E+(C^(I|~v))+T[1]+2240044497&4294967295,E=I+(_<<21&4294967295|_>>>11),_=v+(I^(E|~C))+T[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~I))+T[15]+4264355552&4294967295,C=v+(_<<10&4294967295|_>>>22),_=I+(v^(C|~E))+T[6]+2734768916&4294967295,I=C+(_<<15&4294967295|_>>>17),_=E+(C^(I|~v))+T[13]+1309151649&4294967295,E=I+(_<<21&4294967295|_>>>11),_=v+(I^(E|~C))+T[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~I))+T[11]+3174756917&4294967295,C=v+(_<<10&4294967295|_>>>22),_=I+(v^(C|~E))+T[2]+718787259&4294967295,I=C+(_<<15&4294967295|_>>>17),_=E+(C^(I|~v))+T[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(I+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+I&4294967295,w.g[3]=w.g[3]+C&4294967295}r.prototype.v=function(w,v){v===void 0&&(v=w.length);let E=v-this.blockSize,T=this.C,I=this.h,C=0;for(;C<v;){if(I==0)for(;C<=E;)i(this,w,C),C+=this.blockSize;if(typeof w=="string"){for(;C<v;)if(T[I++]=w.charCodeAt(C++),I==this.blockSize){i(this,T),I=0;break}}else for(;C<v;)if(T[I++]=w[C++],I==this.blockSize){i(this,T),I=0;break}}this.h=I,this.o+=v},r.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;v=this.o*8;for(var E=w.length-8;E<w.length;++E)w[E]=v&255,v/=256;for(this.v(w),w=Array(16),v=0,E=0;E<4;++E)for(let T=0;T<32;T+=8)w[v++]=this.g[E]>>>T&255;return w};function o(w,v){var E=a;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function s(w,v){this.h=v;let E=[],T=!0;for(let I=w.length-1;I>=0;I--){let C=w[I]|0;T&&C==v||(E[I]=C,T=!1)}this.g=E}var a={};function u(w){return-128<=w&&w<128?o(w,function(v){return new s([v|0],v<0?-1:0)}):new s([w|0],w<0?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(w<0)return R(l(-w));let v=[],E=1;for(let T=0;w>=E;T++)v[T]=w/E|0,E*=4294967296;return new s(v,0)}function f(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return R(f(w.substring(1),v));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');let E=l(Math.pow(v,8)),T=p;for(let C=0;C<w.length;C+=8){var I=Math.min(8,w.length-C);let _=parseInt(w.substring(C,C+I),v);I<8?(I=l(Math.pow(v,I)),T=T.j(I).add(l(_))):(T=T.j(E),T=T.add(l(_)))}return T}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(A(this))return-R(this).m();let w=0,v=1;for(let E=0;E<this.g.length;E++){let T=this.i(E);w+=(T>=0?T:4294967296+T)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(S(this))return"0";if(A(this))return"-"+R(this).toString(w);let v=l(Math.pow(w,6));var E=this;let T="";for(;;){let I=Dt(E,v).g;E=L(E,I.j(v));let C=((E.g.length>0?E.g[0]:E.h)>>>0).toString(w);if(E=I,S(E))return C+T;for(;C.length<6;)C="0"+C;T=C+T}},t.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function S(w){if(w.h!=0)return!1;for(let v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function A(w){return w.h==-1}t.l=function(w){return w=L(this,w),A(w)?-1:S(w)?0:1};function R(w){let v=w.g.length,E=[];for(let T=0;T<v;T++)E[T]=~w.g[T];return new s(E,~w.h).add(m)}t.abs=function(){return A(this)?R(this):this},t.add=function(w){let v=Math.max(this.g.length,w.g.length),E=[],T=0;for(let I=0;I<=v;I++){let C=T+(this.i(I)&65535)+(w.i(I)&65535),_=(C>>>16)+(this.i(I)>>>16)+(w.i(I)>>>16);T=_>>>16,C&=65535,_&=65535,E[I]=_<<16|C}return new s(E,E[E.length-1]&-2147483648?-1:0)};function L(w,v){return w.add(R(v))}t.j=function(w){if(S(this)||S(w))return p;if(A(this))return A(w)?R(this).j(R(w)):R(R(this).j(w));if(A(w))return R(this.j(R(w)));if(this.l(y)<0&&w.l(y)<0)return l(this.m()*w.m());let v=this.g.length+w.g.length,E=[];for(var T=0;T<2*v;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(let I=0;I<w.g.length;I++){let C=this.i(T)>>>16,_=this.i(T)&65535,Lt=w.i(I)>>>16,Pr=w.i(I)&65535;E[2*T+2*I]+=_*Pr,re(E,2*T+2*I),E[2*T+2*I+1]+=C*Pr,re(E,2*T+2*I+1),E[2*T+2*I+1]+=_*Lt,re(E,2*T+2*I+1),E[2*T+2*I+2]+=C*Lt,re(E,2*T+2*I+2)}for(w=0;w<v;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=v;w<2*v;w++)E[w]=0;return new s(E,0)};function re(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function pe(w,v){this.g=w,this.h=v}function Dt(w,v){if(S(v))throw Error("division by zero");if(S(w))return new pe(p,p);if(A(w))return v=Dt(R(w),v),new pe(R(v.g),R(v.h));if(A(v))return v=Dt(w,R(v)),new pe(R(v.g),v.h);if(w.g.length>30){if(A(w)||A(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,T=v;T.l(w)<=0;)E=kt(E),T=kt(T);var I=it(E,1),C=it(T,1);for(T=it(T,2),E=it(E,2);!S(T);){var _=C.add(T);_.l(w)<=0&&(I=I.add(E),C=_),T=it(T,1),E=it(E,1)}return v=L(w,I.j(v)),new pe(I,v)}for(I=p;w.l(v)>=0;){for(E=Math.max(1,Math.floor(w.m()/v.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=T<=48?1:Math.pow(2,T-48),C=l(E),_=C.j(v);A(_)||_.l(w)>0;)E-=T,C=l(E),_=C.j(v);S(C)&&(C=m),I=I.add(C),w=L(w,_)}return new pe(I,w)}t.B=function(w){return Dt(this,w).h},t.and=function(w){let v=Math.max(this.g.length,w.g.length),E=[];for(let T=0;T<v;T++)E[T]=this.i(T)&w.i(T);return new s(E,this.h&w.h)},t.or=function(w){let v=Math.max(this.g.length,w.g.length),E=[];for(let T=0;T<v;T++)E[T]=this.i(T)|w.i(T);return new s(E,this.h|w.h)},t.xor=function(w){let v=Math.max(this.g.length,w.g.length),E=[];for(let T=0;T<v;T++)E[T]=this.i(T)^w.i(T);return new s(E,this.h^w.h)};function kt(w){let v=w.g.length+1,E=[];for(let T=0;T<v;T++)E[T]=w.i(T)<<1|w.i(T-1)>>>31;return new s(E,w.h)}function it(w,v){let E=v>>5;v%=32;let T=w.g.length-E,I=[];for(let C=0;C<T;C++)I[C]=v>0?w.i(C+E)>>>v|w.i(C+E+1)<<32-v:w.i(C+E);return new s(I,w.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Cv=x0.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,Tr=x0.Integer=s}).apply(typeof M0<"u"?M0:typeof self<"u"?self:typeof window<"u"?window:{});var Cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dr={};var bv,mj,Ns,Sv,Wc,bf,Av,Rv,Nv;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cf=="object"&&Cf];for(var d=0;d<c.length;++d){var h=c[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var h=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var D=c[g];if(!(D in h))break e;h=h[D]}c=c[c.length-1],g=h[c],d=d(g),d!=g&&d!=null&&e(h,c,{configurable:!0,writable:!0,value:d})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(d){var h=[],g;for(g in d)Object.prototype.hasOwnProperty.call(d,g)&&h.push([g,d[g]]);return h}});var o=o||{},s=this||self;function a(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function u(c,d,h){return c.call.apply(c.bind,arguments)}function l(c,d,h){return l=u,l.apply(null,arguments)}function f(c,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function p(c,d){function h(){}h.prototype=d.prototype,c.Z=d.prototype,c.prototype=new h,c.prototype.constructor=c,c.Ob=function(g,D,b){for(var k=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)k[oe-2]=arguments[oe];return d.prototype[D].apply(g,k)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function y(c){let d=c.length;if(d>0){let h=Array(d);for(let g=0;g<d;g++)h[g]=c[g];return h}return[]}function S(c,d){for(let g=1;g<arguments.length;g++){let D=arguments[g];var h=typeof D;if(h=h!="object"?h:D?Array.isArray(D)?"array":h:"null",h=="array"||h=="object"&&typeof D.length=="number"){h=c.length||0;let b=D.length||0;c.length=h+b;for(let k=0;k<b;k++)c[h+k]=D[k]}else c.push(D)}}class A{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function R(c){s.setTimeout(()=>{throw c},0)}function L(){var c=w;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class re{constructor(){this.h=this.g=null}add(d,h){let g=pe.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var pe=new A(()=>new Dt,c=>c.reset());class Dt{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let kt,it=!1,w=new re,v=()=>{let c=Promise.resolve(void 0);kt=()=>{c.then(E)}};function E(){for(var c;c=L();){try{c.h.call(c.g)}catch(h){R(h)}var d=pe;d.j(c),d.h<100&&(d.h++,c.next=d.g,d.g=c)}it=!1}function T(){this.u=this.u,this.C=this.C}T.prototype.u=!1,T.prototype.dispose=function(){this.u||(this.u=!0,this.N())},T.prototype[Symbol.dispose]=function(){this.dispose()},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var C=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let h=()=>{};s.addEventListener("test",h,d),s.removeEventListener("test",h,d)}catch{}return c})();function _(c){return/^[\s\xa0]*$/.test(c)}function Lt(c,d){I.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,d)}p(Lt,I),Lt.prototype.init=function(c,d){let h=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget,d||(h=="mouseover"?d=c.fromElement:h=="mouseout"&&(d=c.toElement)),this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Lt.Z.h.call(this)},Lt.prototype.h=function(){Lt.Z.h.call(this);let c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Pr="closure_listenable_"+(Math.random()*1e6|0),hM=0;function pM(c,d,h,g,D){this.listener=c,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=D,this.key=++hM,this.da=this.fa=!1}function Iu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function wu(c,d,h){for(let g in c)d.call(h,c[g],g,c)}function gM(c,d){for(let h in c)d.call(void 0,c[h],h,c)}function TI(c){let d={};for(let h in c)d[h]=c[h];return d}let DI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function CI(c,d){let h,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(h in g)c[h]=g[h];for(let b=0;b<DI.length;b++)h=DI[b],Object.prototype.hasOwnProperty.call(g,h)&&(c[h]=g[h])}}function Tu(c){this.src=c,this.g={},this.h=0}Tu.prototype.add=function(c,d,h,g,D){let b=c.toString();c=this.g[b],c||(c=this.g[b]=[],this.h++);let k=Qh(c,d,g,D);return k>-1?(d=c[k],h||(d.fa=!1)):(d=new pM(d,this.src,b,!!g,D),d.fa=h,c.push(d)),d};function Kh(c,d){let h=d.type;if(h in c.g){var g=c.g[h],D=Array.prototype.indexOf.call(g,d,void 0),b;(b=D>=0)&&Array.prototype.splice.call(g,D,1),b&&(Iu(d),c.g[h].length==0&&(delete c.g[h],c.h--))}}function Qh(c,d,h,g){for(let D=0;D<c.length;++D){let b=c[D];if(!b.da&&b.listener==d&&b.capture==!!h&&b.ha==g)return D}return-1}var Yh="closure_lm_"+(Math.random()*1e6|0),Jh={};function bI(c,d,h,g,D){if(g&&g.once)return AI(c,d,h,g,D);if(Array.isArray(d)){for(let b=0;b<d.length;b++)bI(c,d[b],h,g,D);return null}return h=tp(h),c&&c[Pr]?c.J(d,h,a(g)?!!g.capture:!!g,D):SI(c,d,h,!1,g,D)}function SI(c,d,h,g,D,b){if(!d)throw Error("Invalid event type");let k=a(D)?!!D.capture:!!D,oe=Xh(c);if(oe||(c[Yh]=oe=new Tu(c)),h=oe.add(d,h,g,k,b),h.proxy)return h;if(g=mM(),h.proxy=g,g.src=c,g.listener=h,c.addEventListener)C||(D=k),D===void 0&&(D=!1),c.addEventListener(d.toString(),g,D);else if(c.attachEvent)c.attachEvent(NI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function mM(){function c(h){return d.call(c.src,c.listener,h)}let d=yM;return c}function AI(c,d,h,g,D){if(Array.isArray(d)){for(let b=0;b<d.length;b++)AI(c,d[b],h,g,D);return null}return h=tp(h),c&&c[Pr]?c.K(d,h,a(g)?!!g.capture:!!g,D):SI(c,d,h,!0,g,D)}function RI(c,d,h,g,D){if(Array.isArray(d))for(var b=0;b<d.length;b++)RI(c,d[b],h,g,D);else g=a(g)?!!g.capture:!!g,h=tp(h),c&&c[Pr]?(c=c.i,b=String(d).toString(),b in c.g&&(d=c.g[b],h=Qh(d,h,g,D),h>-1&&(Iu(d[h]),Array.prototype.splice.call(d,h,1),d.length==0&&(delete c.g[b],c.h--)))):c&&(c=Xh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Qh(d,h,g,D)),(h=c>-1?d[c]:null)&&Zh(h))}function Zh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Pr])Kh(d.i,c);else{var h=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(h,g,c.capture):d.detachEvent?d.detachEvent(NI(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=Xh(d))?(Kh(h,c),h.h==0&&(h.src=null,d[Yh]=null)):Iu(c)}}}function NI(c){return c in Jh?Jh[c]:Jh[c]="on"+c}function yM(c,d){if(c.da)c=!0;else{d=new Lt(d,this);let h=c.listener,g=c.ha||c.src;c.fa&&Zh(c),c=h.call(g,d)}return c}function Xh(c){return c=c[Yh],c instanceof Tu?c:null}var ep="__closure_events_fn_"+(Math.random()*1e9>>>0);function tp(c){return typeof c=="function"?c:(c[ep]||(c[ep]=function(d){return c.handleEvent(d)}),c[ep])}function yt(){T.call(this),this.i=new Tu(this),this.M=this,this.G=null}p(yt,T),yt.prototype[Pr]=!0,yt.prototype.removeEventListener=function(c,d,h,g){RI(this,c,d,h,g)};function Ct(c,d){var h,g=c.G;if(g)for(h=[];g;g=g.G)h.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new I(d,c);else if(d instanceof I)d.target=d.target||c;else{var D=d;d=new I(g,c),CI(d,D)}D=!0;let b,k;if(h)for(k=h.length-1;k>=0;k--)b=d.g=h[k],D=Du(b,g,!0,d)&&D;if(b=d.g=c,D=Du(b,g,!0,d)&&D,D=Du(b,g,!1,d)&&D,h)for(k=0;k<h.length;k++)b=d.g=h[k],D=Du(b,g,!1,d)&&D}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var c=this.i;for(let d in c.g){let h=c.g[d];for(let g=0;g<h.length;g++)Iu(h[g]);delete c.g[d],c.h--}}this.G=null},yt.prototype.J=function(c,d,h,g){return this.i.add(String(c),d,!1,h,g)},yt.prototype.K=function(c,d,h,g){return this.i.add(String(c),d,!0,h,g)};function Du(c,d,h,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();let D=!0;for(let b=0;b<d.length;++b){let k=d[b];if(k&&!k.da&&k.capture==h){let oe=k.listener,Xe=k.ha||k.src;k.fa&&Kh(c.i,k),D=oe.call(Xe,g)!==!1&&D}}return D&&!g.defaultPrevented}function vM(c,d){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=l(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:s.setTimeout(c,d||0)}function MI(c){c.g=vM(()=>{c.g=null,c.i&&(c.i=!1,MI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class _M extends T{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:MI(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function aa(c){T.call(this),this.h=c,this.g={}}p(aa,T);var xI=[];function PI(c){wu(c.g,function(d,h){this.g.hasOwnProperty(h)&&Zh(d)},c),c.g={}}aa.prototype.N=function(){aa.Z.N.call(this),PI(this)},aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var np=s.JSON.stringify,EM=s.JSON.parse,IM=class{stringify(c){return s.JSON.stringify(c,void 0)}parse(c){return s.JSON.parse(c,void 0)}};function OI(){}function kI(){}var ca={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function rp(){I.call(this,"d")}p(rp,I);function ip(){I.call(this,"c")}p(ip,I);var Ai={},LI=null;function Cu(){return LI=LI||new yt}Ai.Ia="serverreachability";function FI(c){I.call(this,Ai.Ia,c)}p(FI,I);function ua(c){let d=Cu();Ct(d,new FI(d))}Ai.STAT_EVENT="statevent";function VI(c,d){I.call(this,Ai.STAT_EVENT,c),this.stat=d}p(VI,I);function bt(c){let d=Cu();Ct(d,new VI(d,c))}Ai.Ja="timingevent";function jI(c,d){I.call(this,Ai.Ja,c),this.size=d}p(jI,I);function la(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){c()},d)}function da(){this.g=!0}da.prototype.ua=function(){this.g=!1};function wM(c,d,h,g,D,b){c.info(function(){if(c.g)if(b){var k="",oe=b.split("&");for(let xe=0;xe<oe.length;xe++){var Xe=oe[xe].split("=");if(Xe.length>1){let ot=Xe[0];Xe=Xe[1];let jn=ot.split("_");k=jn.length>=2&&jn[1]=="type"?k+(ot+"="+Xe+"&"):k+(ot+"=redacted&")}}}else k=null;else k=b;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+h+`
`+k})}function TM(c,d,h,g,D,b,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+h+`
`+b+" "+k})}function Mo(c,d,h,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+CM(c,h)+(g?" "+g:"")})}function DM(c,d){c.info(function(){return"TIMEOUT: "+d})}da.prototype.info=function(){};function CM(c,d){if(!c.g)return d;if(!d)return null;try{let b=JSON.parse(d);if(b){for(c=0;c<b.length;c++)if(Array.isArray(b[c])){var h=b[c];if(!(h.length<2)){var g=h[1];if(Array.isArray(g)&&!(g.length<1)){var D=g[0];if(D!="noop"&&D!="stop"&&D!="close")for(let k=1;k<g.length;k++)g[k]=""}}}}return np(b)}catch{return d}}var bu={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},UI={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},BI;function op(){}p(op,OI),op.prototype.g=function(){return new XMLHttpRequest},BI=new op;function fa(c){return encodeURIComponent(String(c))}function bM(c){var d=1;c=c.split(":");let h=[];for(;d>0&&c.length;)h.push(c.shift()),d--;return c.length&&h.push(c.join(":")),h}function Or(c,d,h,g){this.j=c,this.i=d,this.l=h,this.S=g||1,this.V=new aa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $I}function $I(){this.i=null,this.g="",this.h=!1}var HI={},sp={};function ap(c,d,h){c.M=1,c.A=Au(Vn(d)),c.u=h,c.R=!0,zI(c,null)}function zI(c,d){c.F=Date.now(),Su(c),c.B=Vn(c.A);var h=c.B,g=c.S;Array.isArray(g)||(g=[String(g)]),rw(h.i,"t",g),c.C=0,h=c.j.L,c.h=new $I,c.g=Iw(c.j,h?d:null,!c.u),c.P>0&&(c.O=new _M(l(c.Y,c,c.g),c.P)),d=c.V,h=c.g,g=c.ba;var D="readystatechange";Array.isArray(D)||(D&&(xI[0]=D.toString()),D=xI);for(let b=0;b<D.length;b++){let k=bI(h,D[b],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.J?TI(c.J):{},c.u?(c.v||(c.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,d)):(c.v="GET",c.g.ea(c.B,c.v,null,d)),ua(),wM(c.i,c.v,c.B,c.l,c.S,c.u)}Or.prototype.ba=function(c){c=c.target;let d=this.O;d&&Fr(c)==3?d.j():this.Y(c)},Or.prototype.Y=function(c){try{if(c==this.g)e:{let oe=Fr(this.g),Xe=this.g.ya(),xe=this.g.ca();if(!(oe<3)&&(oe!=3||this.g&&(this.h.h||this.g.la()||lw(this.g)))){this.K||oe!=4||Xe==7||(Xe==8||xe<=0?ua(3):ua(2)),cp(this);var d=this.g.ca();this.X=d;var h=SM(this);if(this.o=d==200,TM(this.i,this.v,this.B,this.l,this.S,oe,d),this.o){if(this.U&&!this.L){t:{if(this.g){var g,D=this.g;if((g=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(g)){var b=g;break t}}b=null}if(c=b)Mo(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,up(this,c);else{this.o=!1,this.m=3,bt(12),Ri(this),ha(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<h.length;)if(ot=AM(this,h),ot==sp){oe==4&&(this.m=4,bt(14),c=!1),Mo(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==HI){this.m=4,bt(15),Mo(this.i,this.l,h,"[Invalid Chunk]"),c=!1;break}else Mo(this.i,this.l,ot,null),up(this,ot);if(qI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),oe!=4||h.length!=0||this.h.h||(this.m=1,bt(16),c=!1),this.o=this.o&&c,!c)Mo(this.i,this.l,h,"[Invalid Chunked Response]"),Ri(this),ha(this);else if(h.length>0&&!this.W){this.W=!0;var k=this.j;k.g==this&&k.aa&&!k.P&&(k.j.info("Great, no buffering proxy detected. Bytes received: "+h.length),mp(k),k.P=!0,bt(11))}}else Mo(this.i,this.l,h,null),up(this,h);oe==4&&Ri(this),this.o&&!this.K&&(oe==4?yw(this.j,this):(this.o=!1,Su(this)))}else $M(this.g),d==400&&h.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),Ri(this),ha(this)}}}catch{}finally{}};function SM(c){if(!qI(c))return c.g.la();let d=lw(c.g);if(d==="")return"";let h="",g=d.length,D=Fr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Ri(c),ha(c),"";c.h.i=new s.TextDecoder}for(let b=0;b<g;b++)c.h.h=!0,h+=c.h.i.decode(d[b],{stream:!(D&&b==g-1)});return d.length=0,c.h.g+=h,c.C=0,c.h.g}function qI(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function AM(c,d){var h=c.C,g=d.indexOf(`
`,h);return g==-1?sp:(h=Number(d.substring(h,g)),isNaN(h)?HI:(g+=1,g+h>d.length?sp:(d=d.slice(g,g+h),c.C=g+h,d)))}Or.prototype.cancel=function(){this.K=!0,Ri(this)};function Su(c){c.T=Date.now()+c.H,GI(c,c.H)}function GI(c,d){if(c.D!=null)throw Error("WatchDog timer not null");c.D=la(l(c.aa,c),d)}function cp(c){c.D&&(s.clearTimeout(c.D),c.D=null)}Or.prototype.aa=function(){this.D=null;let c=Date.now();c-this.T>=0?(DM(this.i,this.B),this.M!=2&&(ua(),bt(17)),Ri(this),this.m=2,ha(this)):GI(this,this.T-c)};function ha(c){c.j.I==0||c.K||yw(c.j,c)}function Ri(c){cp(c);var d=c.O;d&&typeof d.dispose=="function"&&d.dispose(),c.O=null,PI(c.V),c.g&&(d=c.g,c.g=null,d.abort(),d.dispose())}function up(c,d){try{var h=c.j;if(h.I!=0&&(h.g==c||lp(h.h,c))){if(!c.L&&lp(h.h,c)&&h.I==3){try{var g=h.Ba.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!h.v){if(h.g)if(h.g.F+3e3<c.F)Ou(h),xu(h);else break e;gp(h),bt(18)}}else h.xa=D[1],0<h.xa-h.K&&D[2]<37500&&h.F&&h.A==0&&!h.C&&(h.C=la(l(h.Va,h),6e3));QI(h.h)<=1&&h.ta&&(h.ta=void 0)}else Mi(h,11)}else if((c.L||h.g==c)&&Ou(h),!_(d))for(D=h.Ba.g.parse(d),d=0;d<D.length;d++){let xe=D[d],ot=xe[0];if(!(ot<=h.K))if(h.K=ot,xe=xe[1],h.I==2)if(xe[0]=="c"){h.M=xe[1],h.ba=xe[2];let jn=xe[3];jn!=null&&(h.ka=jn,h.j.info("VER="+h.ka));let xi=xe[4];xi!=null&&(h.za=xi,h.j.info("SVER="+h.za));let Vr=xe[5];Vr!=null&&typeof Vr=="number"&&Vr>0&&(g=1.5*Vr,h.O=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let jr=c.g;if(jr){let Lu=jr.g?jr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lu){var b=g.h;b.g||Lu.indexOf("spdy")==-1&&Lu.indexOf("quic")==-1&&Lu.indexOf("h2")==-1||(b.j=b.l,b.g=new Set,b.h&&(dp(b,b.h),b.h=null))}if(g.G){let yp=jr.g?jr.g.getResponseHeader("X-HTTP-Session-Id"):null;yp&&(g.wa=yp,ke(g.J,g.G,yp))}}h.I=3,h.l&&h.l.ra(),h.aa&&(h.T=Date.now()-c.F,h.j.info("Handshake RTT: "+h.T+"ms")),g=h;var k=c;if(g.na=Ew(g,g.L?g.ba:null,g.W),k.L){YI(g.h,k);var oe=k,Xe=g.O;Xe&&(oe.H=Xe),oe.D&&(cp(oe),Su(oe)),g.g=k}else gw(g);h.i.length>0&&Pu(h)}else xe[0]!="stop"&&xe[0]!="close"||Mi(h,7);else h.I==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?Mi(h,7):pp(h):xe[0]!="noop"&&h.l&&h.l.qa(xe),h.A=0)}}ua(4)}catch{}}var RM=class{constructor(c,d){this.g=c,this.map=d}};function WI(c){this.l=c||10,s.PerformanceNavigationTiming?(c=s.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function KI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function QI(c){return c.h?1:c.g?c.g.size:0}function lp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function dp(c,d){c.g?c.g.add(d):c.h=d}function YI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}WI.prototype.cancel=function(){if(this.i=JI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function JI(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let h of c.g.values())d=d.concat(h.G);return d}return y(c.i)}var ZI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function NM(c,d){if(c){c=c.split("&");for(let h=0;h<c.length;h++){let g=c[h].indexOf("="),D,b=null;g>=0?(D=c[h].substring(0,g),b=c[h].substring(g+1)):D=c[h],d(D,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function kr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;c instanceof kr?(this.l=c.l,pa(this,c.j),this.o=c.o,this.g=c.g,ga(this,c.u),this.h=c.h,fp(this,iw(c.i)),this.m=c.m):c&&(d=String(c).match(ZI))?(this.l=!1,pa(this,d[1]||"",!0),this.o=ma(d[2]||""),this.g=ma(d[3]||"",!0),ga(this,d[4]),this.h=ma(d[5]||"",!0),fp(this,d[6]||"",!0),this.m=ma(d[7]||"")):(this.l=!1,this.i=new va(null,this.l))}kr.prototype.toString=function(){let c=[];var d=this.j;d&&c.push(ya(d,XI,!0),":");var h=this.g;return(h||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ya(d,XI,!0),"@"),c.push(fa(h).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.u,h!=null&&c.push(":",String(h))),(h=this.h)&&(this.g&&h.charAt(0)!="/"&&c.push("/"),c.push(ya(h,h.charAt(0)=="/"?PM:xM,!0))),(h=this.i.toString())&&c.push("?",h),(h=this.m)&&c.push("#",ya(h,kM)),c.join("")},kr.prototype.resolve=function(c){let d=Vn(this),h=!!c.j;h?pa(d,c.j):h=!!c.o,h?d.o=c.o:h=!!c.g,h?d.g=c.g:h=c.u!=null;var g=c.h;if(h)ga(d,c.u);else if(h=!!c.h){if(g.charAt(0)!="/")if(this.g&&!this.h)g="/"+g;else{var D=d.h.lastIndexOf("/");D!=-1&&(g=d.h.slice(0,D+1)+g)}if(D=g,D==".."||D==".")g="";else if(D.indexOf("./")!=-1||D.indexOf("/.")!=-1){g=D.lastIndexOf("/",0)==0,D=D.split("/");let b=[];for(let k=0;k<D.length;){let oe=D[k++];oe=="."?g&&k==D.length&&b.push(""):oe==".."?((b.length>1||b.length==1&&b[0]!="")&&b.pop(),g&&k==D.length&&b.push("")):(b.push(oe),g=!0)}g=b.join("/")}else g=D}return h?d.h=g:h=c.i.toString()!=="",h?fp(d,iw(c.i)):h=!!c.m,h&&(d.m=c.m),d};function Vn(c){return new kr(c)}function pa(c,d,h){c.j=h?ma(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function ga(c,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);c.u=d}else c.u=null}function fp(c,d,h){d instanceof va?(c.i=d,LM(c.i,c.l)):(h||(d=ya(d,OM)),c.i=new va(d,c.l))}function ke(c,d,h){c.i.set(d,h)}function Au(c){return ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ma(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ya(c,d,h){return typeof c=="string"?(c=encodeURI(c).replace(d,MM),h&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function MM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var XI=/[#\/\?@]/g,xM=/[#\?:]/g,PM=/[#\?]/g,OM=/[#\?@]/g,kM=/#/g;function va(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Ni(c){c.g||(c.g=new Map,c.h=0,c.i&&NM(c.i,function(d,h){c.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=va.prototype,t.add=function(c,d){Ni(this),this.i=null,c=xo(this,c);let h=this.g.get(c);return h||this.g.set(c,h=[]),h.push(d),this.h+=1,this};function ew(c,d){Ni(c),d=xo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function tw(c,d){return Ni(c),d=xo(c,d),c.g.has(d)}t.forEach=function(c,d){Ni(this),this.g.forEach(function(h,g){h.forEach(function(D){c.call(d,D,g,this)},this)},this)};function nw(c,d){Ni(c);let h=[];if(typeof d=="string")tw(c,d)&&(h=h.concat(c.g.get(xo(c,d))));else for(c=Array.from(c.g.values()),d=0;d<c.length;d++)h=h.concat(c[d]);return h}t.set=function(c,d){return Ni(this),this.i=null,c=xo(this,c),tw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=nw(this,c),c.length>0?String(c[0]):d):d};function rw(c,d,h){ew(c,d),h.length>0&&(c.i=null,c.g.set(xo(c,d),y(h)),c.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(let g=0;g<d.length;g++){var h=d[g];let D=fa(h);h=nw(this,h);for(let b=0;b<h.length;b++){let k=D;h[b]!==""&&(k+="="+fa(h[b])),c.push(k)}}return this.i=c.join("&")};function iw(c){let d=new va;return d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),d}function xo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function LM(c,d){d&&!c.j&&(Ni(c),c.i=null,c.g.forEach(function(h,g){let D=g.toLowerCase();g!=D&&(ew(this,g),rw(this,D,h))},c)),c.j=d}function FM(c,d){let h=new da;if(s.Image){let g=new Image;g.onload=f(Lr,h,"TestLoadImage: loaded",!0,d,g),g.onerror=f(Lr,h,"TestLoadImage: error",!1,d,g),g.onabort=f(Lr,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=f(Lr,h,"TestLoadImage: timeout",!1,d,g),s.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function VM(c,d){let h=new da,g=new AbortController,D=setTimeout(()=>{g.abort(),Lr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(b=>{clearTimeout(D),b.ok?Lr(h,"TestPingServer: ok",!0,d):Lr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Lr(h,"TestPingServer: error",!1,d)})}function Lr(c,d,h,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(h)}catch{}}function jM(){this.g=new IM}function Ru(c){this.i=c.Sb||null,this.h=c.ab||!1}p(Ru,OI),Ru.prototype.g=function(){return new Nu(this.i,this.h)};function Nu(c,d){yt.call(this),this.H=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Nu,yt),t=Nu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=d,this.readyState=1,Ea(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(d.body=c),(this.H||s).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_a(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ea(this)),this.g&&(this.readyState=3,Ea(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ow(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ow(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?_a(this):Ea(this),this.readyState==3&&ow(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,_a(this))},t.Na=function(c){this.g&&(this.response=c,_a(this))},t.ga=function(){this.g&&_a(this)};function _a(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Ea(c)}t.setRequestHeader=function(c,d){this.A.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,c.push(h[0]+": "+h[1]),h=d.next();return c.join(`\r
`)};function Ea(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Nu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function sw(c){let d="";return wu(c,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function hp(c,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=sw(h),typeof c=="string"?h!=null&&fa(h):ke(c,d,h))}function Ue(c){yt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ue,yt);var UM=/^https?$/i,BM=["POST","PUT"];t=Ue.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():BI.g(),this.g.onreadystatechange=m(l(this.Ca,this));try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(b){aw(this,b);return}if(c=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)h.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let b of g.keys())h.set(b,g.get(b));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(b=>b.toLowerCase()=="content-type"),D=s.FormData&&c instanceof s.FormData,!(Array.prototype.indexOf.call(BM,d,void 0)>=0)||g||D||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[b,k]of h)this.g.setRequestHeader(b,k);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(b){aw(this,b)}};function aw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.o=5,cw(c),Mu(c)}function cw(c){c.A||(c.A=!0,Ct(c,"complete"),Ct(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ct(this,"complete"),Ct(this,"abort"),Mu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mu(this,!0)),Ue.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?uw(this):this.Xa())},t.Xa=function(){uw(this)};function uw(c){if(c.h&&typeof o<"u"){if(c.v&&Fr(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ct(c,"readystatechange"),Fr(c)==4){c.h=!1;try{let b=c.ca();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=b===0){let k=String(c.D).match(ZI)[1]||null;!k&&s.self&&s.self.location&&(k=s.self.location.protocol.slice(0,-1)),g=!UM.test(k?k.toLowerCase():"")}h=g}if(h)Ct(c,"complete"),Ct(c,"success");else{c.o=6;try{var D=Fr(c)>2?c.g.statusText:""}catch{D=""}c.l=D+" ["+c.ca()+"]",cw(c)}}finally{Mu(c)}}}}function Mu(c,d){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);let h=c.g;c.g=null,d||Ct(c,"ready");try{h.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Fr(c){return c.g?c.g.readyState:0}t.ca=function(){try{return Fr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),EM(d)}};function lw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $M(c){let d={};c=(c.g&&Fr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(_(c[g]))continue;var h=bM(c[g]);let D=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let b=d[D]||[];d[D]=b,b.push(h)}gM(d,function(g){return g.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ia(c,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[c]||d}function dw(c){this.za=0,this.i=[],this.j=new da,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ia("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ia("baseRetryDelayMs",5e3,c),this.Za=Ia("retryDelaySeedMs",1e4,c),this.Ta=Ia("forwardChannelMaxRetries",2,c),this.va=Ia("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new WI(c&&c.concurrentRequestLimit),this.Ba=new jM,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=dw.prototype,t.ka=8,t.I=1,t.connect=function(c,d,h,g){bt(0),this.W=c,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.J=Ew(this,null,this.W),Pu(this)};function pp(c){if(fw(c),c.I==3){var d=c.V++,h=Vn(c.J);if(ke(h,"SID",c.M),ke(h,"RID",d),ke(h,"TYPE","terminate"),wa(c,h),d=new Or(c,c.j,d),d.M=2,d.A=Au(Vn(h)),h=!1,s.navigator&&s.navigator.sendBeacon)try{h=s.navigator.sendBeacon(d.A.toString(),"")}catch{}!h&&s.Image&&(new Image().src=d.A,h=!0),h||(d.g=Iw(d.j,null),d.g.ea(d.A)),d.F=Date.now(),Su(d)}_w(c)}function xu(c){c.g&&(mp(c),c.g.cancel(),c.g=null)}function fw(c){xu(c),c.v&&(s.clearTimeout(c.v),c.v=null),Ou(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&s.clearTimeout(c.m),c.m=null)}function Pu(c){if(!KI(c.h)&&!c.m){c.m=!0;var d=c.Ea;kt||v(),it||(kt(),it=!0),w.add(d,c),c.D=0}}function HM(c,d){return QI(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=d.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=la(l(c.Ea,c,d),vw(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;let D=new Or(this,this.j,c),b=this.o;if(this.U&&(b?(b=TI(b),CI(b,this.U)):b=this.U),this.u!==null||this.R||(D.J=b,b=null),this.S)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,d>4096){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=pw(this,D,d),h=Vn(this.J),ke(h,"RID",c),ke(h,"CVER",22),this.G&&ke(h,"X-HTTP-Session-Id",this.G),wa(this,h),b&&(this.R?d="headers="+fa(sw(b))+"&"+d:this.u&&hp(h,this.u,b)),dp(this.h,D),this.Ra&&ke(h,"TYPE","init"),this.S?(ke(h,"$req",d),ke(h,"SID","null"),D.U=!0,ap(D,h,null)):ap(D,h,d),this.I=2}}else this.I==3&&(c?hw(this,c):this.i.length==0||KI(this.h)||hw(this))};function hw(c,d){var h;d?h=d.l:h=c.V++;let g=Vn(c.J);ke(g,"SID",c.M),ke(g,"RID",h),ke(g,"AID",c.K),wa(c,g),c.u&&c.o&&hp(g,c.u,c.o),h=new Or(c,c.j,h,c.D+1),c.u===null&&(h.J=c.o),d&&(c.i=d.G.concat(c.i)),d=pw(c,h,1e3),h.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),dp(c.h,h),ap(h,g,d)}function wa(c,d){c.H&&wu(c.H,function(h,g){ke(d,g,h)}),c.l&&wu({},function(h,g){ke(d,g,h)})}function pw(c,d,h){h=Math.min(c.i.length,h);let g=c.l?l(c.l.Ka,c.l,c):null;e:{var D=c.i;let oe=-1;for(;;){let Xe=["count="+h];oe==-1?h>0?(oe=D[0].g,Xe.push("ofs="+oe)):oe=0:Xe.push("ofs="+oe);let xe=!0;for(let ot=0;ot<h;ot++){var b=D[ot].g;let jn=D[ot].map;if(b-=oe,b<0)oe=Math.max(0,D[ot].g-100),xe=!1;else try{b="req"+b+"_"||"";try{var k=jn instanceof Map?jn:Object.entries(jn);for(let[xi,Vr]of k){let jr=Vr;a(Vr)&&(jr=np(Vr)),Xe.push(b+xi+"="+encodeURIComponent(jr))}}catch(xi){throw Xe.push(b+"type="+encodeURIComponent("_badmap")),xi}}catch{g&&g(jn)}}if(xe){k=Xe.join("&");break e}}k=void 0}return c=c.i.splice(0,h),d.G=c,k}function gw(c){if(!c.g&&!c.v){c.Y=1;var d=c.Da;kt||v(),it||(kt(),it=!0),w.add(d,c),c.A=0}}function gp(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=la(l(c.Da,c),vw(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,mw(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=la(l(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),xu(this),mw(this))};function mp(c){c.B!=null&&(s.clearTimeout(c.B),c.B=null)}function mw(c){c.g=new Or(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var d=Vn(c.na);ke(d,"RID","rpc"),ke(d,"SID",c.M),ke(d,"AID",c.K),ke(d,"CI",c.F?"0":"1"),!c.F&&c.ia&&ke(d,"TO",c.ia),ke(d,"TYPE","xmlhttp"),wa(c,d),c.u&&c.o&&hp(d,c.u,c.o),c.O&&(c.g.H=c.O);var h=c.g;c=c.ba,h.M=1,h.A=Au(Vn(d)),h.u=null,h.R=!0,zI(h,c)}t.Va=function(){this.C!=null&&(this.C=null,xu(this),gp(this),bt(19))};function Ou(c){c.C!=null&&(s.clearTimeout(c.C),c.C=null)}function yw(c,d){var h=null;if(c.g==d){Ou(c),mp(c),c.g=null;var g=2}else if(lp(c.h,d))h=d.G,YI(c.h,d),g=1;else return;if(c.I!=0){if(d.o)if(g==1){h=d.u?d.u.length:0,d=Date.now()-d.F;var D=c.D;g=Cu(),Ct(g,new jI(g,h)),Pu(c)}else gw(c);else if(D=d.m,D==3||D==0&&d.X>0||!(g==1&&HM(c,d)||g==2&&gp(c)))switch(h&&h.length>0&&(d=c.h,d.i=d.i.concat(h)),D){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function vw(c,d){let h=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(h*=2),h*d}function Mi(c,d){if(c.j.info("Error code "+d),d==2){var h=l(c.bb,c),g=c.Ua;let D=!g;g=new kr(g||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||pa(g,"https"),Au(g),D?FM(g.toString(),h):VM(g.toString(),h)}else bt(2);c.I=0,c.l&&c.l.pa(d),_w(c),fw(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function _w(c){if(c.I=0,c.ja=[],c.l){let d=JI(c.h);(d.length!=0||c.i.length!=0)&&(S(c.ja,d),S(c.ja,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.oa()}}function Ew(c,d,h){var g=h instanceof kr?Vn(h):new kr(h);if(g.g!="")d&&(g.g=d+"."+g.g),ga(g,g.u);else{var D=s.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;let b=new kr(null);g&&pa(b,g),d&&(b.g=d),D&&ga(b,D),h&&(b.h=h),g=b}return h=c.G,d=c.wa,h&&d&&ke(g,h,d),ke(g,"VER",c.ka),wa(c,g),g}function Iw(c,d,h){if(d&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Aa&&!c.ma?new Ue(new Ru({ab:h})):new Ue(c.ma),d.Fa(c.L),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ww(){}t=ww.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ku(){}ku.prototype.g=function(c,d){return new Wt(c,d)};function Wt(c,d){yt.call(this),this.g=new dw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(c?c["X-WebChannel-Client-Profile"]=d.sa:c={"X-WebChannel-Client-Profile":d.sa}),this.g.U=c,(c=d&&d.Qb)&&!_(c)&&(this.g.u=c),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!_(d)&&(this.g.G=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Po(this)}p(Wt,yt),Wt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){pp(this.g)},Wt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var h={};h.__data__=c,c=h}else this.v&&(h={},h.__data__=np(c),c=h);d.i.push(new RM(d.Ya++,c)),d.I==3&&Pu(d)},Wt.prototype.N=function(){this.g.l=null,delete this.j,pp(this.g),delete this.g,Wt.Z.N.call(this)};function Tw(c){rp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let h in d){c=h;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}p(Tw,rp);function Dw(){ip.call(this),this.status=1}p(Dw,ip);function Po(c){this.g=c}p(Po,ww),Po.prototype.ra=function(){Ct(this.g,"a")},Po.prototype.qa=function(c){Ct(this.g,new Tw(c))},Po.prototype.pa=function(c){Ct(this.g,new Dw)},Po.prototype.oa=function(){Ct(this.g,"b")},ku.prototype.createWebChannel=ku.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,Nv=Dr.createWebChannelTransport=function(){return new ku},Rv=Dr.getStatEventTarget=function(){return Cu()},Av=Dr.Event=Ai,bf=Dr.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},bu.NO_ERROR=0,bu.TIMEOUT=8,bu.HTTP_ERROR=6,Wc=Dr.ErrorCode=bu,UI.COMPLETE="complete",Sv=Dr.EventType=UI,kI.EventType=ca,ca.OPEN="a",ca.CLOSE="b",ca.ERROR="c",ca.MESSAGE="d",yt.prototype.listen=yt.prototype.J,Ns=Dr.WebChannel=kI,mj=Dr.FetchXmlHttpFactory=Ru,Ue.prototype.listenOnce=Ue.prototype.K,Ue.prototype.getLastError=Ue.prototype.Ha,Ue.prototype.getLastErrorCode=Ue.prototype.ya,Ue.prototype.getStatus=Ue.prototype.ca,Ue.prototype.getResponseJson=Ue.prototype.La,Ue.prototype.getResponseText=Ue.prototype.la,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Fa,bv=Dr.XhrIo=Ue}).apply(typeof Cf<"u"?Cf:typeof self<"u"?self:typeof window<"u"?window:{});var P0="@firebase/firestore",O0="4.9.2";var dt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};dt.UNAUTHENTICATED=new dt(null),dt.GOOGLE_CREDENTIALS=new dt("google-credentials-uid"),dt.FIRST_PARTY=new dt("first-party-uid"),dt.MOCK_USER=new dt("mock-user");var Xs="12.3.0";var mo=new ai("@firebase/firestore");function Ms(){return mo.logLevel}function V(t,...e){if(mo.logLevel<=he.DEBUG){let n=e.map(DE);mo.debug(`Firestore (${Xs}): ${t}`,...n)}}function Cr(t,...e){if(mo.logLevel<=he.ERROR){let n=e.map(DE);mo.error(`Firestore (${Xs}): ${t}`,...n)}}function Bs(t,...e){if(mo.logLevel<=he.WARN){let n=e.map(DE);mo.warn(`Firestore (${Xs}): ${t}`,...n)}}function DE(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,TA(t,r,n)}function TA(t,e,n){let r=`FIRESTORE (${Xs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Cr(r),new Error(r)}function Se(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||TA(e,i,r)}function X(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=class extends Xt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ir=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Pf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Lv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dt.UNAUTHENTICATED))}shutdown(){}},Fv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Vv=class{constructor(e){this.t=e,this.currentUser=dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Se(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ir,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ir)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string",31837,{l:r}),new Pf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string",2055,{h:e}),new dt(e)}},jv=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=dt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Uv=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new jv(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Of=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Bv=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,en(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Se(this.o===void 0,3512);let r=o=>{o.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,V("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Of(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Of(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function yj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Xc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=yj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function ge(t,e){return t<e?-1:t>e?1:0}function $v(t,e){let n=Math.min(t.length,e.length);for(let r=0;r<n;r++){let i=t.charAt(r),o=e.charAt(r);if(i!==o)return Mv(i)===Mv(o)?ge(i,o):Mv(i)?1:-1}return ge(t.length,e.length)}var vj=55296,_j=57343;function Mv(t){let e=t.charCodeAt(0);return e>=vj&&e<=_j}function $s(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var k0="__name__",kf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ge(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):$v(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Tr.fromString(e.substring(4,e.length-2))}},je=class t extends kf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new F(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Ej=/^[_a-zA-Z][_a-zA-Z0-9]*$/,tn=class t extends kf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Ej.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k0}static keyField(){return new t([k0])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new F(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new F(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new F(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var B=class t{constructor(e){this.path=e}static fromPath(e){return new t(je.fromString(e))}static fromName(e){return new t(je.fromString(e).popFirst(5))}static empty(){return new t(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new je(e.slice()))}};function DA(t,e,n){if(!n)throw new F(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ij(t,e,n,r){if(e===!0&&r===!0)throw new F(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function L0(t){if(!B.isDocumentKey(t))throw new F(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function F0(t){if(B.isDocumentKey(t))throw new F(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function CA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function uh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q(12329,{type:typeof t})}function eu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=uh(t);throw new F(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Je(t,e){let n={typeString:t};return e&&(n.value=e),n}function hu(t,e){if(!CA(t))throw new F(N.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new F(N.INVALID_ARGUMENT,n);return!0}var V0=-62135596800,j0=1e6,Ze=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*j0);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<V0)throw new F(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j0}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hu(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-V0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:Je("string",Ze._jsonSchemaVersion),seconds:Je("number"),nanoseconds:Je("number")};var ne=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Ze(0,0))}static max(){return new t(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var tu=-1,Hv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Hv.UNKNOWN_ID=-1;function wj(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new yo(i,B.empty(),e)}function Tj(t){return new yo(t.readTime,t.key,tu)}var yo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ne.min(),B.empty(),tu)}static max(){return new t(ne.max(),B.empty(),tu)}};function Dj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=B.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}var Cj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",zv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function ea(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==Cj)throw t;V("LocalStore","Unexpectedly lost primary lease")}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(f=>{s[l]=f,++a,a===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function bj(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ta(t){return t.name==="IndexedDbTransactionError"}var CE=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ue&&this.ue(n),n}}t.ce=-1;return t})(),bE=-1;function lh(t){return t==null}function nu(t){return t===0&&1/t==-1/0}function Sj(t){return typeof t=="number"&&Number.isInteger(t)&&!nu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var bA="";function Aj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=U0(e)),e=Rj(t.get(n),e);return U0(e)}function Rj(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case bA:n+="";break;default:n+=o}}return n}function U0(t){return t+bA+""}var Nj="remoteDocuments",SA="owner";var AA="mutationQueues";var RA="mutations";var NA="documentMutations",Mj="remoteDocumentsV14";var MA="remoteDocumentGlobal";var xA="targets";var PA="targetDocuments";var OA="targetGlobal",kA="collectionParents";var LA="clientMetadata";var FA="bundles";var VA="namedQueries";var xj="indexConfiguration";var Pj="indexState";var Oj="indexEntries";var jA="documentOverlays";var kj="globals";var Lj=[AA,RA,NA,Nj,xA,SA,OA,PA,LA,MA,kA,FA,VA],YX=[...Lj,jA],Fj=[AA,RA,NA,Mj,xA,SA,OA,PA,LA,MA,kA,FA,VA,jA],Vj=Fj,jj=[...Vj,xj,Pj,Oj];var JX=[...jj,kj];function B0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Co(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function UA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var He=class t{constructor(e,n){this.comparator=e,this.root=n||or.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,or.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,or.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ks(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ks(this.root,e,this.comparator,!1)}getReverseIterator(){return new ks(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ks(this.root,e,this.comparator,!0)}},ks=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},or=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw q(27949);return e+(this.isRed()?0:1)}};or.EMPTY=null,or.RED=!0,or.BLACK=!1;or.EMPTY=new class{constructor(){this.size=0}get key(){throw q(57766)}get value(){throw q(16141)}get color(){throw q(16727)}get left(){throw q(29726)}get right(){throw q(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new or(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ft=class t{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Lf(this.data.getIterator())}getIteratorFrom(e){return new Lf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Lf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var rr=class t{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new t([])}unionWith(e){let n=new ft(tn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $s(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Ff=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Tt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ff("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Tt.EMPTY_BYTE_STRING=new Tt("");var Uj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(t){if(Se(!!t,39018),typeof t=="string"){let e=0,n=Uj.exec(t);if(Se(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Sr(t){return typeof t=="string"?Tt.fromBase64String(t):Tt.fromUint8Array(t)}var BA="server_timestamp",$A="__type__",HA="__previous_value__",zA="__local_write_time__";function SE(t){return(t?.mapValue?.fields||{})[$A]?.stringValue===BA}function dh(t){let e=t.mapValue.fields[HA];return SE(e)?dh(e):e}function ru(t){let e=br(t.mapValue.fields[zA].timestampValue);return new Ze(e.seconds,e.nanos)}var qv=class{constructor(e,n,r,i,o,s,a,u,l,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=f}},Vf="(default)",jf=class t{constructor(e,n){this.projectId=e,this.database=n||Vf}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Vf}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var AE="__type__",qA="__max__",Sf={mapValue:{fields:{__type__:{stringValue:qA}}}},RE="__vector__",Hs="value";function mi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?SE(t)?4:WA(t)?9007199254740991:GA(t)?10:11:q(28295,{value:t})}function cr(t,e){if(t===e)return!0;let n=mi(t);if(n!==mi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ru(t).isEqual(ru(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=br(i.timestampValue),a=br(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Sr(i.bytesValue).isEqual(Sr(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ve(i.geoPointValue.latitude)===Ve(o.geoPointValue.latitude)&&Ve(i.geoPointValue.longitude)===Ve(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ve(i.integerValue)===Ve(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ve(i.doubleValue),a=Ve(o.doubleValue);return s===a?nu(s)===nu(a):isNaN(s)&&isNaN(a)}return!1})(t,e);case 9:return $s(t.arrayValue.values||[],e.arrayValue.values||[],cr);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(B0(s)!==B0(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!cr(s[u],a[u])))return!1;return!0})(t,e);default:return q(52216,{left:t})}}function iu(t,e){return(t.values||[]).find(n=>cr(n,e))!==void 0}function zs(t,e){if(t===e)return 0;let n=mi(t),r=mi(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Ve(o.integerValue||o.doubleValue),u=Ve(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(t,e);case 3:return $0(t.timestampValue,e.timestampValue);case 4:return $0(ru(t),ru(e));case 5:return $v(t.stringValue,e.stringValue);case 6:return(function(o,s){let a=Sr(o),u=Sr(s);return a.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let f=ge(a[l],u[l]);if(f!==0)return f}return ge(a.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=ge(Ve(o.latitude),Ve(s.latitude));return a!==0?a:ge(Ve(o.longitude),Ve(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return H0(t.arrayValue,e.arrayValue);case 10:return(function(o,s){let a=o.fields||{},u=s.fields||{},l=a[Hs]?.arrayValue,f=u[Hs]?.arrayValue,p=ge(l?.values?.length||0,f?.values?.length||0);return p!==0?p:H0(l,f)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Sf.mapValue&&s===Sf.mapValue)return 0;if(o===Sf.mapValue)return 1;if(s===Sf.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let m=$v(u[p],f[p]);if(m!==0)return m;let y=zs(a[u[p]],l[f[p]]);if(y!==0)return y}return ge(u.length,f.length)})(t.mapValue,e.mapValue);default:throw q(23264,{he:n})}}function $0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);let n=br(t),r=br(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function H0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=zs(n[i],r[i]);if(o)return o}return ge(n.length,r.length)}function qs(t){return Gv(t)}function Gv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=br(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Sr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return B.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Gv(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Gv(n.fields[s])}`;return i+"}"})(t.mapValue):q(61005,{value:t})}function Nf(t){switch(mi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=dh(t);return e?16+Nf(e):16;case 5:return 2*t.stringValue.length;case 6:return Sr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Nf(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Co(r.fields,(o,s)=>{i+=o.length+Nf(s)}),i})(t.mapValue);default:throw q(13486,{value:t})}}function z0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wv(t){return!!t&&"integerValue"in t}function NE(t){return!!t&&"arrayValue"in t}function q0(t){return!!t&&"nullValue"in t}function G0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mf(t){return!!t&&"mapValue"in t}function GA(t){return(t?.mapValue?.fields||{})[AE]?.stringValue===RE}function Qc(t){if(t.geoPointValue)return{geoPointValue:M({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:M({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Co(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qc(t.arrayValue.values[n]);return e}return M({},t)}function WA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===qA}var XX={mapValue:{fields:{[AE]:{stringValue:RE},[Hs]:{arrayValue:{}}}}};var kn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Mf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qc(n)}setAll(e){let n=tn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Qc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Mf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Mf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Co(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Qc(this.value))}};function KA(t){let e=[];return Co(t.fields,(n,r)=>{let i=new tn([n]);if(Mf(r)){let o=KA(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new rr(e)}var Ln=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ne.min(),ne.min(),ne.min(),kn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ne.min(),ne.min(),kn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ne.min(),ne.min(),kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Gs=class{constructor(e,n){this.position=e,this.inclusive=n}};function W0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=B.comparator(B.fromName(s.referenceValue),n.key):r=zs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function K0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!cr(t.position[n],e.position[n]))return!1;return!0}var vo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Bj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Uf=class{},Ye=class t extends Uf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Qv(e,n,r):n==="array-contains"?new Zv(e,r):n==="in"?new Xv(e,r):n==="not-in"?new e_(e,r):n==="array-contains-any"?new t_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Yv(e,r):new Jv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zs(n,this.value)):n!==null&&mi(this.value)===mi(n)&&this.matchesComparison(zs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Fn=class t extends Uf{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new t(e,n)}matches(e){return QA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function QA(t){return t.op==="and"}function YA(t){return $j(t)&&QA(t)}function $j(t){for(let e of t.filters)if(e instanceof Fn)return!1;return!0}function Kv(t){if(t instanceof Ye)return t.field.canonicalString()+t.op.toString()+qs(t.value);if(YA(t))return t.filters.map(e=>Kv(e)).join(",");{let e=t.filters.map(n=>Kv(n)).join(",");return`${t.op}(${e})`}}function JA(t,e){return t instanceof Ye?(function(r,i){return i instanceof Ye&&r.op===i.op&&r.field.isEqual(i.field)&&cr(r.value,i.value)})(t,e):t instanceof Fn?(function(r,i){return i instanceof Fn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&JA(s,i.filters[a]),!0):!1})(t,e):void q(19439)}function ZA(t){return t instanceof Ye?(function(n){return`${n.field.canonicalString()} ${n.op} ${qs(n.value)}`})(t):t instanceof Fn?(function(n){return n.op.toString()+" {"+n.getFilters().map(ZA).join(" ,")+"}"})(t):"Filter"}var Qv=class extends Ye{constructor(e,n,r){super(e,n,r),this.key=B.fromName(r.referenceValue)}matches(e){let n=B.comparator(e.key,this.key);return this.matchesComparison(n)}},Yv=class extends Ye{constructor(e,n){super(e,"in",n),this.keys=XA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Jv=class extends Ye{constructor(e,n){super(e,"not-in",n),this.keys=XA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function XA(t,e){return(e.arrayValue?.values||[]).map(n=>B.fromName(n.referenceValue))}var Zv=class extends Ye{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return NE(n)&&iu(n.arrayValue,this.value)}},Xv=class extends Ye{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&iu(this.value.arrayValue,n)}},e_=class extends Ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!iu(this.value.arrayValue,n)}},t_=class extends Ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!NE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>iu(this.value.arrayValue,r))}};var n_=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}};function Q0(t,e=null,n=[],r=[],i=null,o=null,s=null){return new n_(t,e,n,r,i,o,s)}function ME(t){let e=X(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Kv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qs(r)).join(",")),e.Te=n}return e.Te}function xE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Bj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!JA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!K0(t.startAt,e.startAt)&&K0(t.endAt,e.endAt)}function r_(t){return B.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var yi=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function Hj(t,e,n,r,i,o,s,a){return new yi(t,e,n,r,i,o,s,a)}function eR(t){return new yi(t)}function Y0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tR(t){return t.collectionGroup!==null}function Yc(t){let e=X(t);if(e.Ie===null){e.Ie=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ft(tn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new vo(o,r))}),n.has(tn.keyField().canonicalString())||e.Ie.push(new vo(tn.keyField(),r))}return e.Ie}function sr(t){let e=X(t);return e.Ee||(e.Ee=zj(e,Yc(t))),e.Ee}function zj(t,e){if(t.limitType==="F")return Q0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new vo(i.field,o)});let n=t.endAt?new Gs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gs(t.startAt.position,t.startAt.inclusive):null;return Q0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function i_(t,e){let n=t.filters.concat([e]);return new yi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function o_(t,e,n){return new yi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fh(t,e){return xE(sr(t),sr(e))&&t.limitType===e.limitType}function nR(t){return`${ME(sr(t))}|lt:${t.limitType}`}function xs(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ZA(i)).join(", ")}]`),lh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>qs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>qs(i)).join(",")),`Target(${r})`})(sr(t))}; limitType=${t.limitType})`}function hh(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):B.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of Yc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=W0(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,Yc(r),i)||r.endAt&&!(function(s,a,u){let l=W0(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,Yc(r),i))})(t,e)}function qj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rR(t){return(e,n)=>{let r=!1;for(let i of Yc(t)){let o=Gj(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Gj(t,e,n){let r=t.field.isKeyField()?B.comparator(e.key,n.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?zs(u,l):q(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q(19790,{direction:t.dir})}}var Ar=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Co(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return UA(this.inner)}size(){return this.innerSize}};var Wj=new He(B.comparator);function Rr(){return Wj}var iR=new He(B.comparator);function Kc(...t){let e=iR;for(let n of t)e=e.insert(n.key,n);return e}function oR(t){let e=iR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function po(){return Jc()}function sR(){return Jc()}function Jc(){return new Ar(t=>t.toString(),(t,e)=>t.isEqual(e))}var Kj=new He(B.comparator),Qj=new ft(B.comparator);function me(...t){let e=Qj;for(let n of t)e=e.add(n);return e}var Yj=new ft(ge);function Jj(){return Yj}function PE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nu(e)?"-0":e}}function aR(t){return{integerValue:""+t}}function Zj(t,e){return Sj(e)?aR(e):PE(t,e)}var Ws=class{constructor(){this._=void 0}};function Xj(t,e,n){return t instanceof _o?(function(i,o){let s={fields:{[$A]:{stringValue:BA},[zA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&SE(o)&&(o=dh(o)),o&&(s.fields[HA]=o),{mapValue:s}})(n,e):t instanceof Eo?uR(t,e):t instanceof Io?lR(t,e):(function(i,o){let s=cR(i,o),a=J0(s)+J0(i.Ae);return Wv(s)&&Wv(i.Ae)?aR(a):PE(i.serializer,a)})(t,e)}function eU(t,e,n){return t instanceof Eo?uR(t,e):t instanceof Io?lR(t,e):n}function cR(t,e){return t instanceof Ks?(function(r){return Wv(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var _o=class extends Ws{},Eo=class extends Ws{constructor(e){super(),this.elements=e}};function uR(t,e){let n=dR(e);for(let r of t.elements)n.some(i=>cr(i,r))||n.push(r);return{arrayValue:{values:n}}}var Io=class extends Ws{constructor(e){super(),this.elements=e}};function lR(t,e){let n=dR(e);for(let r of t.elements)n=n.filter(i=>!cr(i,r));return{arrayValue:{values:n}}}var Ks=class extends Ws{constructor(e,n){super(),this.serializer=e,this.Ae=n}};function J0(t){return Ve(t.integerValue||t.doubleValue)}function dR(t){return NE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var s_=class{constructor(e,n){this.field=e,this.transform=n}};function tU(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Eo&&i instanceof Eo||r instanceof Io&&i instanceof Io?$s(r.elements,i.elements,cr):r instanceof Ks&&i instanceof Ks?cr(r.Ae,i.Ae):r instanceof _o&&i instanceof _o})(t.transform,e.transform)}var a_=class{constructor(e,n){this.version=e,this.transformResults=n}},di=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function xf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Qs=class{};function fR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ou(t.key,di.none()):new wo(t.key,t.data,di.none());{let n=t.data,r=kn.empty(),i=new ft(tn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Nr(t.key,r,new rr(i.toArray()),di.none())}}function nU(t,e,n){t instanceof wo?(function(i,o,s){let a=i.value.clone(),u=X0(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(t,e,n):t instanceof Nr?(function(i,o,s){if(!xf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=X0(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(hR(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function Zc(t,e,n,r){return t instanceof wo?(function(o,s,a,u){if(!xf(o.precondition,s))return a;let l=o.value.clone(),f=eA(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof Nr?(function(o,s,a,u){if(!xf(o.precondition,s))return a;let l=eA(o.fieldTransforms,u,s),f=s.data;return f.setAll(hR(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(t,e,n,r):(function(o,s,a){return xf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(t,e,n)}function rU(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=cR(r.transform,i||null);o!=null&&(n===null&&(n=kn.empty()),n.set(r.field,o))}return n||null}function Z0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$s(r,i,(o,s)=>tU(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var wo=class extends Qs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Nr=class extends Qs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function hR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function X0(t,e,n){let r=new Map;Se(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,eU(s,a,n[i]))}return r}function eA(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,Xj(o,s,e))}return r}var ou=class extends Qs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},c_=class extends Qs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var u_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&nU(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Zc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=sR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=fR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&$s(this.mutations,e.mutations,(n,r)=>Z0(n,r))&&$s(this.baseMutations,e.baseMutations,(n,r)=>Z0(n,r))}},l_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Se(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Kj})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var d_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var f_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ke,_e;function iU(t){switch(t){case N.OK:return q(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return q(15467,{code:t})}}function pR(t){if(t===void 0)return Cr("GRPC error has no .code"),N.UNKNOWN;switch(t){case Ke.OK:return N.OK;case Ke.CANCELLED:return N.CANCELLED;case Ke.UNKNOWN:return N.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return N.INTERNAL;case Ke.UNAVAILABLE:return N.UNAVAILABLE;case Ke.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Ke.NOT_FOUND:return N.NOT_FOUND;case Ke.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Ke.ABORTED:return N.ABORTED;case Ke.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Ke.DATA_LOSS:return N.DATA_LOSS;default:return q(39323,{code:t})}}(_e=Ke||(Ke={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var oU=null;function sU(){return new TextEncoder}var aU=new Tr([4294967295,4294967295],0);function tA(t){let e=sU().encode(t),n=new Cv;return n.update(e),new Uint8Array(n.digest())}function nA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Tr([n,r],0),new Tr([i,o],0)]}var h_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new go(`Invalid padding: ${n}`);if(r<0)throw new go(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new go(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new go(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Tr.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Tr.fromNumber(r)));return i.compare(aU)===1&&(i=new Tr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let n=tA(e),[r,i]=nA(n);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;let n=tA(e),[r,i]=nA(n);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);this.Se(s)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},go=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Bf=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ne.min(),i,new He(ge),Rr(),me())}},su=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,me(),me(),me())}};var Fs=class{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}},$f=class{constructor(e,n){this.targetId=e,this.Ce=n}},Hf=class{constructor(e,n,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},zf=class{constructor(){this.ve=0,this.Fe=rA(),this.Me=Tt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=me(),n=me(),r=me();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:q(38017,{changeType:o})}}),new su(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=rA()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Se(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},p_=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rr(),this.Je=Af(),this.He=Af(),this.Ye=new He(ge)}Ze(e){for(let n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(let n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{let r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){let n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){let o=i.target;if(r_(o))if(r===0){let s=new B(o.path);this.et(n,s,Ln.newNoDocument(s,ne.min()))}else Se(r===1,20013,{expectedCount:r});else{let s=this._t(n);if(s!==r){let a=this.ut(e),u=a?this.ct(a,e,s):1;if(u!==0){this.it(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,l)}oU?.lt((function(f,p,m,y,S){let A={localCacheCount:f,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},R=p.unchangedNames;return R&&(A.bloomFilter={applied:S===0,hashCount:R?.hashCount??0,bitmapLength:R?.bits?.bitmap?.length??0,padding:R?.bits?.padding??0,mightContain:L=>y?.mightContain(L)??!1}),A})(s,e.Ce,this.Ge.ht(),a,u))}}}}ut(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Sr(r).toUint8Array()}catch(u){if(u instanceof Ff)return Bs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new h_(s,i,o)}catch(u){return Bs(u instanceof go?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){let r=this.Ge.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){let n=new Map;this.ze.forEach((o,s)=>{let a=this.ot(s);if(a){if(o.current&&r_(a.target)){let u=new B(a.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,Ln.newNoDocument(u,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=me();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.ot(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));let i=new Bf(e,n,this.Ye,this.je,r);return this.je=Rr(),this.Je=Af(),this.He=Af(),this.Ye=new He(ge),i}Xe(e,n){if(!this.rt(e))return;let r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){let n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new zf,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ft(ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ft(ge),this.Je=this.Je.insert(e,n)),n}rt(e){let n=this.ot(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}ot(e){let n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zf),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}};function Af(){return new He(B.comparator)}function rA(){return new He(B.comparator)}var cU={asc:"ASCENDING",desc:"DESCENDING"},uU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lU={and:"AND",or:"OR"},g_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function m_(t,e){return t.useProto3Json||lh(e)?e:{value:e}}function qf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dU(t,e){return qf(t,e.toTimestamp())}function ar(t){return Se(!!t,49232),ne.fromTimestamp((function(n){let r=br(n);return new Ze(r.seconds,r.nanos)})(t))}function OE(t,e){return y_(t,e).canonicalString()}function y_(t,e){let n=(function(i){return new je(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function mR(t){let e=je.fromString(t);return Se(IR(e),10190,{key:e.toString()}),e}function v_(t,e){return OE(t.databaseId,e.path)}function xv(t,e){let n=mR(e);if(n.get(1)!==t.databaseId.projectId)throw new F(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new B(vR(n))}function yR(t,e){return OE(t.databaseId,e)}function fU(t){let e=mR(t);return e.length===4?je.emptyPath():vR(e)}function __(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vR(t){return Se(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function iA(t,e,n){return{name:v_(t,e),fields:n.value.mapValue.fields}}function hU(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:q(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,f){return l.useProto3Json?(Se(f===void 0||typeof f=="string",58123),Tt.fromBase64String(f||"")):(Se(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Tt.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let f=l.code===void 0?N.UNKNOWN:pR(l.code);return new F(f,l.message||"")})(s);n=new Hf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=xv(t,r.document.name),o=ar(r.document.updateTime),s=r.document.createTime?ar(r.document.createTime):ne.min(),a=new kn({mapValue:{fields:r.document.fields}}),u=Ln.newFoundDocument(i,o,s,a),l=r.targetIds||[],f=r.removedTargetIds||[];n=new Fs(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=xv(t,r.document),o=r.readTime?ar(r.readTime):ne.min(),s=Ln.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Fs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=xv(t,r.document),o=r.removedTargetIds||[];n=new Fs([],o,i,null)}else{if(!("filter"in e))return q(11601,{Rt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new f_(i,o),a=r.targetId;n=new $f(a,s)}}return n}function pU(t,e){let n;if(e instanceof wo)n={update:iA(t,e.key,e.value)};else if(e instanceof ou)n={delete:v_(t,e.key)};else if(e instanceof Nr)n={update:iA(t,e.key,e.data),updateMask:TU(e.fieldMask)};else{if(!(e instanceof c_))return q(16599,{Vt:e.type});n={verify:v_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof _o)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Eo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Io)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ks)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw q(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:dU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:q(27497)})(t,e.precondition)),n}function gU(t,e){return t&&t.length>0?(Se(e!==void 0,14353),t.map(n=>(function(i,o){let s=i.updateTime?ar(i.updateTime):ar(o);return s.isEqual(ne.min())&&(s=ar(o)),new a_(s,i.transformResults||[])})(n,e))):[]}function mU(t,e){return{documents:[yR(t,e.path)]}}function yU(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yR(t,i);let o=(function(l){if(l.length!==0)return ER(Fn.create(l,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(f=>(function(m){return{field:Ps(m.field),direction:EU(m.dir)}})(f))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=m_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{ft:n,parent:i}}function vU(t){let e=fU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Se(r===1,65062);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=(function(p){let m=_R(p);return m instanceof Fn&&YA(m)?m.getFilters():[m]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map(m=>(function(S){return new vo(Os(S.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(m))})(n.orderBy));let a=null;n.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,lh(m)?null:m})(n.limit));let u=null;n.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new Gs(y,m)})(n.startAt));let l=null;return n.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new Gs(y,m)})(n.endAt)),Hj(e,i,s,o,a,"F",u,l)}function _U(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _R(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Os(n.unaryFilter.field);return Ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Os(n.unaryFilter.field);return Ye.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Os(n.unaryFilter.field);return Ye.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Os(n.unaryFilter.field);return Ye.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return q(61313);default:return q(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ye.create(Os(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return q(58110);default:return q(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Fn.create(n.compositeFilter.filters.map(r=>_R(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q(1026)}})(n.compositeFilter.op))})(t):q(30097,{filter:t})}function EU(t){return cU[t]}function IU(t){return uU[t]}function wU(t){return lU[t]}function Ps(t){return{fieldPath:t.canonicalString()}}function Os(t){return tn.fromServerFormat(t.fieldPath)}function ER(t){return t instanceof Ye?(function(n){if(n.op==="=="){if(G0(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NAN"}};if(q0(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(G0(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NAN"}};if(q0(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(n.field),op:IU(n.op),value:n.value}}})(t):t instanceof Fn?(function(n){let r=n.getFilters().map(i=>ER(i));return r.length===1?r[0]:{compositeFilter:{op:wU(n.op),filters:r}}})(t):q(54877,{filter:t})}function TU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function IR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var au=class t{constructor(e,n,r,i,o=ne.min(),s=ne.min(),a=Tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var E_=class{constructor(e){this.yt=e}};function DU(t){let e=vU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?o_(e,e.limit,"L"):e}var Gf=class{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Ve(e.integerValue));else if("doubleValue"in e){let r=Ve(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),nu(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=br(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Sr(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?WA(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):GA(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):q(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){let r=e.fields||{};this.Ft(n,55);for(let i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){let r=e.fields||{};this.Ft(n,53);let i=Hs,o=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(Ve(o)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){let r=e.values||[];this.Ft(n,50);for(let i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),B.fromName(e).path.forEach(r=>{this.Ft(n,60),this.Ut(r,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}};Gf.Kt=new Gf;var I_=class{constructor(){this.Cn=new w_}addToCollectionParentIndex(e,n){return this.Cn.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(yo.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(yo.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},w_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ft(je.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ft(je.comparator)).toArray()}};var eee=new Uint8Array(0);var oA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wR=41943040,gn=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(wR,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);var cu=class t{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new t(0)}static cr(){return new t(-1)}};var sA="LruGarbageCollector",CU=1048576;function aA([t,e],[n,r]){let i=ge(t,n);return i===0?ge(e,r):i}var T_=class{constructor(e){this.Ir=e,this.buffer=new ft(aA),this.Er=0}dr(){return++this.Er}Ar(e){let n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();aA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},D_=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){V(sA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ta(n)?V(sA,"Ignoring IndexedDB error during garbage collection: ",n):await ea(n)}await this.Vr(3e5)})}},C_=class{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return x.resolve(CE.ce);let r=new T_(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(V("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(oA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(V("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oA):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(V("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Ms()<=he.DEBUG&&V("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function bU(t,e){return new C_(t,e)}var b_=class{constructor(){this.changes=new Ar(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var S_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var A_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Zc(r.mutation,i,rr.empty(),Ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){let i=po();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Kc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=po();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Rr(),s=Jc(),a=(function(){return Jc()})();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Nr)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),Zc(f.mutation,l,f.mutation.getFieldMask(),Ze.now())):s.set(l.key,rr.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>a.set(l,new S_(f,s.get(l)??null))),a))}recalculateAndSaveOverlays(e,n){let r=Jc(),i=new He((s,a)=>s-a),o=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||rr.empty();f=a.applyToLocalView(l,f),r.set(u,f);let p=(i.get(a.batchId)||me()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,f=u.value,p=sR();f.forEach(m=>{if(!o.has(m)){let y=fR(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return B.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):x.resolve(po()),a=tu,u=o;return s.next(l=>x.forEach(l,(f,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(f)?x.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,me())).next(f=>({batchId:a,changes:oR(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new B(n)).next(r=>{let i=Kc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Kc();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,u=>{let l=(function(p,m){return new yi(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,Ln.newInvalidDocument(f)))});let a=Kc();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&Zc(f.mutation,l,rr.empty(),Ze.now()),hh(n,l)&&(a=a.insert(u,l))}),a})}};var R_=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return x.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:ar(i.createTime)}})(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:DU(i.bundledQuery),readTime:ar(i.readTime)}})(n)),x.resolve()}};var N_=class{constructor(){this.overlays=new He(B.comparator),this.qr=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=po();return x.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=po(),o=n.length+1,s=new B(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new He((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=po(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let a=po(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>a.set(l,f)),!(a.size()>=i)););return x.resolve(a)}St(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new d_(n,r));let o=this.qr.get(n);o===void 0&&(o=me(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}};var M_=class{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var uu=class{constructor(){this.Qr=new ft(Qe.$r),this.Ur=new ft(Qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){let r=new Qe(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Qe(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){let n=new B(new je([])),r=new Qe(n,e),i=new Qe(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let n=new B(new je([])),r=new Qe(n,e),i=new Qe(n,e+1),o=me();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Qe(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Qe=class{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return B.comparator(e.key,n.key)||ge(e.Yr,n.Yr)}static Kr(e,n){return ge(e.Yr,n.Yr)||B.comparator(e.key,n.key)}};var x_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ft(Qe.$r)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new u_(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Zr=this.Zr.add(new Qe(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,n){return x.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.ei(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?bE:this.tr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Qe(n,0),i=new Qe(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{let a=this.Xr(s.Yr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ft(ge);return n.forEach(i=>{let o=new Qe(i,0),s=new Qe(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),x.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;B.isDocumentKey(o)||(o=o.child(""));let s=new Qe(new B(o),0),a=new ft(ge);return this.Zr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Yr)),!0)},s),x.resolve(this.ti(a))}ti(e){let n=[];return e.forEach(r=>{let i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Se(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return x.forEach(n.mutations,i=>{let o=new Qe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){let r=new Qe(n,0),i=this.Zr.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var P_=class{constructor(e){this.ri=e,this.docs=(function(){return new He(B.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Ln.newInvalidDocument(n))}getEntries(e,n){let r=Rr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ln.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Rr(),s=n.path,a=new B(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||Dj(Tj(f),r)<=0||(i.has(f.key)||hh(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,n,r,i){q(9500)}ii(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new O_(this)}getSize(e){return x.resolve(this.size)}},O_=class extends b_{constructor(e){super(),this.Nr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}};var k_=class{constructor(e){this.persistence=e,this.si=new Ar(n=>ME(n),xE),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.oi=0,this._i=new uu,this.targetCount=0,this.ai=cu.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),x.resolve()}Pr(e){this.si.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ai=new cu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Pr(n),x.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.si.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this._i.Hr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this._i.containsKey(n))}};var Wf=class{constructor(e,n){this.ui={},this.overlays={},this.ci=new CE(0),this.li=!1,this.li=!0,this.hi=new M_,this.referenceDelegate=e(this),this.Pi=new k_(this),this.indexManager=new I_,this.remoteDocumentCache=(function(i){return new P_(i)})(r=>this.referenceDelegate.Ti(r)),this.serializer=new E_(n),this.Ii=new R_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new N_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new x_(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new L_(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return x.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}},L_=class extends zv{constructor(e){super(),this.currentSequenceNumber=e}},F_=class t{constructor(e){this.persistence=e,this.Ri=new uu,this.Vi=null}static mi(e){return new t(e)}get fi(){if(this.Vi)return this.Vi;throw q(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),x.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.fi,r=>{let i=B.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,ne.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return x.or([()=>x.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}},Kf=class t{constructor(e,n){this.persistence=e,this.pi=new Ar(r=>Aj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=bU(this,n)}static mi(e,n){return new t(e,n)}Ei(){}di(e){return x.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){let n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return x.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?x.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ne.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),x.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),x.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nf(e.data.value)),n}br(e,n,r){return x.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.pi.get(n);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var V_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=me(),i=me();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var j_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var U_=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return h0()?8:bj(lt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new j_;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ms()<=he.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",xs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),x.resolve()):(Ms()<=he.DEBUG&&V("QueryEngine","Query:",xs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ms()<=he.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",xs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sr(n))):x.resolve())}ys(e,n){if(Y0(n))return x.resolve(null);let r=sr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=o_(n,null,"F"),r=sr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=me(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.Ds(n,a);return this.Cs(n,l,s,u.readTime)?this.ys(e,o_(n,null,"F")):this.vs(e,l,n,u)}))})))}ws(e,n,r,i){return Y0(n)||i.isEqual(ne.min())?x.resolve(null):this.ps.getDocuments(e,r).next(o=>{let s=this.Ds(n,o);return this.Cs(n,s,r,i)?x.resolve(null):(Ms()<=he.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xs(n)),this.vs(e,s,n,wj(i,tu)).next(a=>a))})}Ds(e,n){let r=new ft(rR(e));return n.forEach((i,o)=>{hh(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Ms()<=he.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",xs(n)),this.ps.getDocumentsMatchingQuery(e,n,yo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var kE="LocalStore",SU=3e8,B_=class{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new He(ge),this.xs=new Ar(o=>ME(o),xE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new A_(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}};function AU(t,e,n,r){return new B_(t,e,n,r)}async function TR(t,e){let n=X(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=me();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){a.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Ls:l,removedBatchIds:s,addedBatchIds:a}))})})}function RU(t,e){let n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,f){let p=l.batch,m=p.keys(),y=x.resolve();return m.forEach(S=>{y=y.next(()=>f.getEntry(u,S)).next(A=>{let R=l.docVersions.get(S);Se(R!==null,48541),A.version.compareTo(R)<0&&(p.applyToRemoteDocument(A,l),A.isValidDocument()&&(A.setReadTime(l.commitVersion),f.addEntry(A)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=me();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function DR(t){let e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function NU(t,e){let n=X(t),r=e.snapshotVersion,i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;let a=[];e.targetChanges.forEach((f,p)=>{let m=i.get(p);if(!m)return;a.push(n.Pi.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(o,f.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Tt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(p,y),(function(A,R,L){return A.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=SU?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(m,y,f)&&a.push(n.Pi.updateTargetData(o,y))});let u=Rr(),l=me();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push(MU(o,s,e.documentUpdates).next(f=>{u=f.ks,l=f.qs})),!r.isEqual(ne.min())){let f=n.Pi.getLastRemoteSnapshotVersion(o).next(p=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(f)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Ms=i,o))}function MU(t,e,n){let r=me(),i=me();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Rr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):V(kE,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{ks:s,qs:i}})}function xU(t,e){let n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=bE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function PU(t,e){let n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new au(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function $_(t,e,n){let r=X(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ta(s))throw s;V(kE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function cA(t,e,n){let r=X(t),i=ne.min(),o=me();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,f){let p=X(u),m=p.xs.get(f);return m!==void 0?x.resolve(p.Ms.get(m)):p.Pi.getTargetData(l,f)})(r,s,sr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:ne.min(),n?o:me())).next(a=>(OU(r,qj(e),a),{documents:a,Qs:o})))}function OU(t,e,n){let r=t.Os.get(e)||ne.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}var Qf=class{constructor(){this.activeTargetIds=Jj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var H_=class{constructor(){this.Mo=new Qf,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Qf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var z_=class{Oo(e){}shutdown(){}};var uA="ConnectivityMonitor",Yf=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){V(uA,"Network connectivity changed: AVAILABLE");for(let e of this.qo)e(0)}ko(){V(uA,"Network connectivity changed: UNAVAILABLE");for(let e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Rf=null;function q_(){return Rf===null?Rf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rf++,"0x"+Rf.toString(16)}var Pv="RestConnection",kU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},G_=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Vf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){let s=q_(),a=this.zo(e,n.toUriEncodedString());V(Pv,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,o);let{host:l}=new URL(a),f=si(l);return this.Jo(e,a,u,r,f).then(p=>(V(Pv,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Bs(Pv,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){let r=kU[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}};var W_=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}};var wt="WebChannelConnection",K_=class extends G_{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){let s=q_();return new Promise((a,u)=>{let l=new bv;l.setWithCredentials(!0),l.listenOnce(Sv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Wc.NO_ERROR:let p=l.getResponseJson();V(wt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Wc.TIMEOUT:V(wt,`RPC '${e}' ${s} timed out`),u(new F(N.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:let m=l.getStatus();if(V(wt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let S=y?.error;if(S&&S.status&&S.message){let A=(function(L){let re=L.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(re)>=0?re:N.UNKNOWN})(S.status);u(new F(A,S.message))}else u(new F(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new F(N.UNAVAILABLE,"Connection failed."));break;default:q(9055,{l_:e,streamId:s,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{V(wt,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);V(wt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",f,r,15)})}T_(e,n,r){let i=q_(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Nv(),a=Rv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");V(wt,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u);this.I_(p);let m=!1,y=!1,S=new W_({Yo:R=>{y?V(wt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(V(wt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),V(wt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Zo:()=>p.close()}),A=(R,L,re)=>{R.listen(L,pe=>{try{re(pe)}catch(Dt){setTimeout(()=>{throw Dt},0)}})};return A(p,Ns.EventType.OPEN,()=>{y||(V(wt,`RPC '${e}' stream ${i} transport opened.`),S.o_())}),A(p,Ns.EventType.CLOSE,()=>{y||(y=!0,V(wt,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(p))}),A(p,Ns.EventType.ERROR,R=>{y||(y=!0,Bs(wt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),S.a_(new F(N.UNAVAILABLE,"The operation could not be completed")))}),A(p,Ns.EventType.MESSAGE,R=>{if(!y){let L=R.data[0];Se(!!L,16349);let re=L,pe=re?.error||re[0]?.error;if(pe){V(wt,`RPC '${e}' stream ${i} received error:`,pe);let Dt=pe.status,kt=(function(v){let E=Ke[v];if(E!==void 0)return pR(E)})(Dt),it=pe.message;kt===void 0&&(kt=N.INTERNAL,it="Unknown error status: "+Dt+" with message "+pe.message),y=!0,S.a_(new F(kt,it)),p.close()}else V(wt,`RPC '${e}' stream ${i} received:`,L),S.u_(L)}}),A(a,Av.STAT_EVENT,R=>{R.stat===bf.PROXY?V(wt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===bf.NOPROXY&&V(wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}};function Ov(){return typeof document<"u"?document:null}function ph(t){return new g_(t,!0)}var Jf=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};var lA="PersistentStream",Zf=class{constructor(e,n,r,i,o,s,a,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Jf(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Cr(n.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{let i=new F(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){let r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return V(lA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(V(lA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Q_=class extends Zf{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let n=hU(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ne.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?ar(s.readTime):ne.min()})(e);return this.listener.H_(n,r)}Y_(e){let n={};n.database=__(this.serializer),n.addTarget=(function(o,s){let a,u=s.target;if(a=r_(u)?{documents:mU(o,u)}:{query:yU(o,u).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=gR(o,s.resumeToken);let l=m_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ne.min())>0){a.readTime=qf(o,s.snapshotVersion.toTimestamp());let l=m_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=_U(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){let n={};n.database=__(this.serializer),n.removeTarget=e,this.q_(n)}},Y_=class extends Zf{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Se(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Se(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let n=gU(e.writeResults,e.commitTime),r=ar(e.commitTime);return this.listener.na(r,n)}ra(){let e={};e.database=__(this.serializer),this.q_(e)}ea(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>pU(this.serializer,r))};this.q_(n)}};var J_=class{},Z_=class extends J_{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new F(N.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,y_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(N.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,y_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(N.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}},X_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cr(n),this.aa=!1):V("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var To="RemoteStore",eE=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{bo(this)&&(V(To,"Restarting streams for network reachability change."),await(async function(u){let l=X(u);l.Ea.add(4),await pu(l),l.Ra.set("Unknown"),l.Ea.delete(4),await gh(l)})(this))})}),this.Ra=new X_(r,i)}};async function gh(t){if(bo(t))for(let e of t.da)await e(!0)}async function pu(t){for(let e of t.da)await e(!1)}function CR(t,e){let n=X(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),jE(n)?VE(n):na(n).O_()&&FE(n,e))}function LE(t,e){let n=X(t),r=na(n);n.Ia.delete(e),r.O_()&&bR(n,e),n.Ia.size===0&&(r.O_()?r.L_():bo(n)&&n.Ra.set("Unknown"))}function FE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}na(t).Y_(e)}function bR(t,e){t.Va.Ue(e),na(t).Z_(e)}function VE(t){t.Va=new p_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),na(t).start(),t.Ra.ua()}function jE(t){return bo(t)&&!na(t).x_()&&t.Ia.size>0}function bo(t){return X(t).Ea.size===0}function SR(t){t.Va=void 0}async function LU(t){t.Ra.set("Online")}async function FU(t){t.Ia.forEach((e,n)=>{FE(t,e)})}async function VU(t,e){SR(t),jE(t)?(t.Ra.ha(e),VE(t)):t.Ra.set("Unknown")}async function jU(t,e,n){if(t.Ra.set("Online"),e instanceof Hf&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))})(t,e)}catch(r){V(To,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xf(t,r)}else if(e instanceof Fs?t.Va.Ze(e):e instanceof $f?t.Va.st(e):t.Va.tt(e),!n.isEqual(ne.min()))try{let r=await DR(t.localStore);n.compareTo(r)>=0&&await(function(o,s){let a=o.Va.Tt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.Ia.get(l);f&&o.Ia.set(l,f.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let f=o.Ia.get(u);if(!f)return;o.Ia.set(u,f.withResumeToken(Tt.EMPTY_BYTE_STRING,f.snapshotVersion)),bR(o,u);let p=new au(f.target,u,l,f.sequenceNumber);FE(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){V(To,"Failed to raise snapshot:",r),await Xf(t,r)}}async function Xf(t,e,n){if(!ta(e))throw e;t.Ea.add(1),await pu(t),t.Ra.set("Offline"),n||(n=()=>DR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{V(To,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await gh(t)})}function AR(t,e){return e().catch(n=>Xf(t,n,e))}async function mh(t){let e=X(t),n=vi(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bE;for(;UU(e);)try{let i=await xU(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,BU(e,i)}catch(i){await Xf(e,i)}RR(e)&&NR(e)}function UU(t){return bo(t)&&t.Ta.length<10}function BU(t,e){t.Ta.push(e);let n=vi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function RR(t){return bo(t)&&!vi(t).x_()&&t.Ta.length>0}function NR(t){vi(t).start()}async function $U(t){vi(t).ra()}async function HU(t){let e=vi(t);for(let n of t.Ta)e.ea(n.mutations)}async function zU(t,e,n){let r=t.Ta.shift(),i=l_.from(r,e,n);await AR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await mh(t)}async function qU(t,e){e&&vi(t).X_&&await(async function(r,i){if((function(s){return iU(s)&&s!==N.ABORTED})(i.code)){let o=r.Ta.shift();vi(r).B_(),await AR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await mh(r)}})(t,e),RR(t)&&NR(t)}async function dA(t,e){let n=X(t);n.asyncQueue.verifyOperationInProgress(),V(To,"RemoteStore received new credentials");let r=bo(n);n.Ea.add(3),await pu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gh(n)}async function GU(t,e){let n=X(t);e?(n.Ea.delete(2),await gh(n)):e||(n.Ea.add(2),await pu(n),n.Ra.set("Unknown"))}function na(t){return t.ma||(t.ma=(function(n,r,i){let o=X(n);return o.sa(),new Q_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:LU.bind(null,t),t_:FU.bind(null,t),r_:VU.bind(null,t),H_:jU.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),jE(t)?VE(t):t.Ra.set("Unknown")):(await t.ma.stop(),SR(t))})),t.ma}function vi(t){return t.fa||(t.fa=(function(n,r,i){let o=X(n);return o.sa(),new Y_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:$U.bind(null,t),r_:qU.bind(null,t),ta:HU.bind(null,t),na:zU.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await mh(t)):(await t.fa.stop(),t.Ta.length>0&&(V(To,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}var tE=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function UE(t,e){if(Cr("AsyncQueue",`${e}: ${t}`),ta(t))return new F(N.UNAVAILABLE,`${e}: ${t}`);throw t}var eh=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||B.comparator(n.key,r.key):(n,r)=>B.comparator(n.key,r.key),this.keyedMap=Kc(),this.sortedSet=new He(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var th=class{constructor(){this.ga=new He(B.comparator)}track(e){let n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):q(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){let e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}},Ys=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,eh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var nE=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}},rE=class{constructor(){this.queries=fA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){let i=X(n),o=i.queries;i.queries=fA(),o.forEach((s,a)=>{for(let u of a.Sa)u.onError(r)})})(this,new F(N.ABORTED,"Firestore shutting down"))}};function fA(){return new Ar(t=>nR(t),fh)}async function WU(t,e){let n=X(t),r=3,i=e.query,o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new nE,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){let a=UE(s,`Initialization of query '${xs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&BE(n)}async function KU(t,e){let n=X(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function QU(t,e){let n=X(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&BE(n)}function YU(t,e,n){let r=X(t),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(n);r.queries.delete(e)}function BE(t){t.Ca.forEach(e=>{e.next()})}var iE,hA;(hA=iE||(iE={})).Ma="default",hA.Cache="cache";var oE=class{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ys(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;let r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ys.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==iE.Cache}};var nh=class{constructor(e){this.key=e}},rh=class{constructor(e){this.key=e}},sE=class{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=me(),this.mutatedKeys=me(),this.eu=rR(e),this.tu=new eh(this.eu)}get nu(){return this.Ya}ru(e,n){let r=n?n.iu:new th,i=n?n.tu:this.tu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let m=i.get(f),y=hh(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?S!==A&&(r.track({type:3,doc:y}),R=!0):this.su(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.eu(y,u)>0||l&&this.eu(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=A?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let s=e.iu.ya();s.sort((f,p)=>(function(y,S){let A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q(20277,{Rt:R})}};return A(y)-A(S)})(f.type,p.type)||this.eu(f.doc,p.doc)),this.ou(r),i=i??!1;let a=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,l=u!==this.Za;return this.Za=u,s.length!==0||l?{snapshot:new Ys(this.query,e.tu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new th,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=me(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});let n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new rh(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new nh(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=me();let n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ys.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},$E="SyncEngine",aE=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},cE=class{constructor(e){this.key=e,this.hu=!1}},uE=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Ar(a=>nR(a),fh),this.Iu=new Map,this.Eu=new Set,this.du=new He(B.comparator),this.Au=new Map,this.Ru=new uu,this.Vu={},this.mu=new Map,this.fu=cu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function JU(t,e,n=!0){let r=LR(t),i,o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await MR(r,e,n,!0),i}async function ZU(t,e){let n=LR(t);await MR(n,e,!0,!1)}async function MR(t,e,n,r){let i=await PU(t.localStore,sr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=await XU(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&CR(t.remoteStore,i),a}async function XU(t,e,n,r,i){t.pu=(p,m,y)=>(async function(A,R,L,re){let pe=R.view.ru(L);pe.Cs&&(pe=await cA(A.localStore,R.query,!1).then(({documents:w})=>R.view.ru(w,pe)));let Dt=re&&re.targetChanges.get(R.targetId),kt=re&&re.targetMismatches.get(R.targetId)!=null,it=R.view.applyChanges(pe,A.isPrimaryClient,Dt,kt);return gA(A,R.targetId,it.au),it.snapshot})(t,p,m,y);let o=await cA(t.localStore,e,!0),s=new sE(e,o.Qs),a=s.ru(o.documents),u=su.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);gA(t,n,l.au);let f=new aE(e,n,s);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),l.snapshot}async function eB(t,e,n){let r=X(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!fh(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await $_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&LE(r.remoteStore,i.targetId),lE(r,i.targetId)}).catch(ea)):(lE(r,i.targetId),await $_(r.localStore,i.targetId,!0))}async function tB(t,e){let n=X(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),LE(n.remoteStore,r.targetId))}async function nB(t,e,n){let r=uB(t);try{let i=await(function(s,a){let u=X(s),l=Ze.now(),f=a.reduce((y,S)=>y.add(S.key),me()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=Rr(),A=me();return u.Ns.getEntries(y,f).next(R=>{S=R,S.forEach((L,re)=>{re.isValidDocument()||(A=A.add(L))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,S)).next(R=>{p=R;let L=[];for(let re of a){let pe=rU(re,p.get(re.key).overlayedDocument);pe!=null&&L.push(new Nr(re.key,pe,KA(pe.value.mapValue),di.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,L,a)}).next(R=>{m=R;let L=R.applyToLocalDocumentSet(p,A);return u.documentOverlayCache.saveOverlays(y,R.batchId,L)})}).then(()=>({batchId:m.batchId,changes:oR(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Vu[s.currentUser.toKey()];l||(l=new He(ge)),l=l.insert(a,u),s.Vu[s.currentUser.toKey()]=l})(r,i.batchId,n),await gu(r,i.changes),await mh(r.remoteStore)}catch(i){let o=UE(i,"Failed to persist write");n.reject(o)}}async function xR(t,e){let n=X(t);try{let r=await NU(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Au.get(o);s&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Se(s.hu,14607):i.removedDocuments.size>0&&(Se(s.hu,42227),s.hu=!1))}),await gu(n,r,e)}catch(r){await ea(r)}}function pA(t,e,n){let r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Tu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=X(s);u.onlineState=a;let l=!1;u.queries.forEach((f,p)=>{for(let m of p.Sa)m.va(a)&&(l=!0)}),l&&BE(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rB(t,e,n){let r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Au.get(e),o=i&&i.key;if(o){let s=new He(B.comparator);s=s.insert(o,Ln.newNoDocument(o,ne.min()));let a=me().add(o),u=new Bf(ne.min(),new Map,new He(ge),s,a);await xR(r,u),r.du=r.du.remove(o),r.Au.delete(e),HE(r)}else await $_(r.localStore,e,!1).then(()=>lE(r,e,n)).catch(ea)}async function iB(t,e){let n=X(t),r=e.batch.batchId;try{let i=await RU(n.localStore,e);OR(n,r,null),PR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gu(n,i)}catch(i){await ea(i)}}async function oB(t,e,n){let r=X(t);try{let i=await(function(s,a){let u=X(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Se(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})})(r.localStore,e);OR(r,e,n),PR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gu(r,i)}catch(i){await ea(i)}}function PR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function OR(t,e,n){let r=X(t),i=r.Vu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function lE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||kR(t,r)})}function kR(t,e){t.Eu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(LE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),HE(t))}function gA(t,e,n){for(let r of n)r instanceof nh?(t.Ru.addReference(r.key,e),sB(t,r)):r instanceof rh?(V($E,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||kR(t,r.key)):q(19791,{wu:r})}function sB(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(V($E,"New document in limbo: "+n),t.Eu.add(r),HE(t))}function HE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Eu.values().next().value;t.Eu.delete(e);let n=new B(je.fromString(e)),r=t.fu.next();t.Au.set(r,new cE(n)),t.du=t.du.insert(n,r),CR(t.remoteStore,new au(sr(eR(n.path)),r,"TargetPurposeLimboResolution",CE.ce))}}async function gu(t,e,n){let r=X(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{s.push(r.pu(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient){let f=l?!l.fromCache:n?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(l){i.push(l);let f=V_.As(u.targetId,l);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await(async function(u,l){let f=X(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.Es,y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>x.forEach(m.ds,y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!ta(p))throw p;V(kE,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=f.Ms.get(m),S=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(S);f.Ms=f.Ms.insert(m,A)}}})(r.localStore,o))}async function aB(t,e){let n=X(t);if(!n.currentUser.isEqual(e)){V($E,"User change. New user:",e.toKey());let r=await TR(n.localStore,e);n.currentUser=e,(function(o,s){o.mu.forEach(a=>{a.forEach(u=>{u.reject(new F(N.CANCELLED,s))})}),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gu(n,r.Ls)}}function cB(t,e){let n=X(t),r=n.Au.get(e);if(r&&r.hu)return me().add(r.key);{let i=me(),o=n.Iu.get(e);if(!o)return i;for(let s of o){let a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function LR(t){let e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rB.bind(null,e),e.Pu.H_=QU.bind(null,e.eventManager),e.Pu.yu=YU.bind(null,e.eventManager),e}function uB(t){let e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oB.bind(null,e),e}var FR=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=ph(n.databaseInfo.databaseId),this.sharedClientState=this.Du(n),this.persistence=this.Cu(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Fu(n,this.localStore),this.indexBackfillerScheduler=this.Mu(n,this.localStore)}Fu(n,r){return null}Mu(n,r){return null}vu(n){return AU(this.persistence,new U_,n.initialUser,this.serializer)}Cu(n){return new Wf(F_.mi,this.serializer)}Du(n){return new H_}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return t.provider={build:()=>new t},t})(),dE=class extends FR{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Se(this.persistence.referenceDelegate instanceof Kf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new D_(r,e.asyncQueue,n)}Cu(e){let n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new Wf(r=>Kf.mi(r,n),this.serializer)}};var lB=(()=>{class t{async initialize(n,r){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>pA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=aB.bind(null,this.syncEngine),await GU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new rE})()}createDatastore(n){let r=ph(n.databaseInfo.databaseId),i=(function(s){return new K_(s)})(n.databaseInfo);return(function(s,a,u,l){return new Z_(s,a,u,l)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,a,u){return new eE(i,o,s,a,u)})(this.localStore,this.datastore,n.asyncQueue,r=>pA(this.syncEngine,r,0),(function(){return Yf.v()?new Yf:new z_})())}createSyncEngine(n,r){return(function(o,s,a,u,l,f,p){let m=new uE(o,s,a,u,l,f);return p&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){let i=X(r);V(To,"RemoteStore shutting down."),i.Ea.add(5),await pu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}return t.provider={build:()=>new t},t})();var fE=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var _i="FirestoreClient",hE=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=dt.UNAUTHENTICATED,this.clientId=Xc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{V(_i,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(V(_i,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=UE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function kv(t,e){t.asyncQueue.verifyOperationInProgress(),V(_i,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await TR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function mA(t,e){t.asyncQueue.verifyOperationInProgress();let n=await dB(t);V(_i,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>dA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>dA(e.remoteStore,i)),t._onlineComponents=e}async function dB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V(_i,"Using user provided OfflineComponentProvider");try{await kv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Bs("Error using user provided cache. Falling back to memory cache: "+n),await kv(t,new FR)}}else V(_i,"Using default OfflineComponentProvider"),await kv(t,new dE(void 0));return t._offlineComponents}async function VR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(V(_i,"Using user provided OnlineComponentProvider"),await mA(t,t._uninitializedComponentsProvider._online)):(V(_i,"Using default OnlineComponentProvider"),await mA(t,new lB))),t._onlineComponents}function fB(t){return VR(t).then(e=>e.syncEngine)}async function hB(t){let e=await VR(t),n=e.eventManager;return n.onListen=JU.bind(null,e.syncEngine),n.onUnlisten=eB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tB.bind(null,e.syncEngine),n}function pB(t,e,n={}){let r=new ir;return t.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,u,l){let f=new fE({next:m=>{f.Nu(),s.enqueueAndForget(()=>KU(o,p)),m.fromCache&&u.source==="server"?l.reject(new F(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new oE(a,f,{includeMetadataChanges:!0,qa:!0});return WU(o,p)})(await hB(t),t.asyncQueue,e,n,r)),r.promise}function jR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var yA=new Map;var UR="firestore.googleapis.com",vA=!0,ih=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new F(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UR,this.ssl=vA}else this.host=e.host,this.ssl=e.ssl??vA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CU)throw new F(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ij("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new F(N.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new F(N.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new F(N.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Js=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ih({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new F(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ih(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Lv;switch(r.type){case"firstParty":return new Uv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=yA.get(n);r&&(V("ComponentProvider","Removing Datastore"),yA.delete(n),r.terminate())})(this),Promise.resolve()}};function gB(t,e,n,r={}){t=eu(t,Js);let i=si(e),o=t._getSettings(),s=ie(M({},o),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i&&(_f(`https://${a}`),Ef("Firestore",!0)),o.host!==UR&&o.host!==a&&Bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=ie(M({},o),{host:a,ssl:i,emulatorOptions:r});if(!tr(u,s)&&(t._setSettings(u),r.mockUserToken)){let l,f;if(typeof r.mockUserToken=="string")l=r.mockUserToken,f=dt.MOCK_USER;else{l=a0(r.mockUserToken,t._app?.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new F(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new dt(p)}t._authCredentials=new Fv(new Pf(l,f))}}var Do=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ot=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(hu(n,t._jsonSchema))return new t(e,r||null,new B(je.fromString(n.referencePath)))}};Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:Je("string",Ot._jsonSchemaVersion),referencePath:Je("string")};var fi=class t extends Do{constructor(e,n,r){super(e,n,eR(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new B(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function zE(t,e,...n){if(t=Gt(t),DA("collection","path",e),t instanceof Js){let r=je.fromString(e,...n);return F0(r),new fi(t,null,r)}{if(!(t instanceof Ot||t instanceof fi))throw new F(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(je.fromString(e,...n));return F0(r),new fi(t.firestore,null,r)}}function qE(t,e,...n){if(t=Gt(t),arguments.length===1&&(e=Xc.newId()),DA("doc","path",e),t instanceof Js){let r=je.fromString(e,...n);return L0(r),new Ot(t,null,new B(r))}{if(!(t instanceof Ot||t instanceof fi))throw new F(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(je.fromString(e,...n));return L0(r),new Ot(t.firestore,t instanceof fi?t.converter:null,new B(r))}}var _A="AsyncQueue",oh=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Jf(this,"async_queue_retry"),this._c=()=>{let r=Ov();r&&V(_A,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let n=Ov();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let n=Ov();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let n=new ir;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ta(e))throw e;V(_A,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Cr("INTERNAL UNHANDLED ERROR: ",EA(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);let i=tE.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&q(47125,{Pc:EA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){let n=this.tc.indexOf(e);this.tc.splice(n,1)}};function EA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var Zs=class extends Js{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new oh,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new oh(e),this._firestoreClient=void 0,await e}}};function BR(t,e){let n=typeof t=="object"?t:Df(),r=typeof t=="string"?t:e||Vf,i=Gc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=s0("firestore");o&&gB(i,...o)}return i}function $R(t){if(t._terminated)throw new F(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||mB(t),t._firestoreClient}function mB(t){let e=t._freezeSettings(),n=(function(i,o,s,a){return new qv(i,o,s,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,jR(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new hE(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){let o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(t._componentsProvider))}var hi=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Tt.fromBase64String(e))}catch(n){throw new F(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hu(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};hi._jsonSchemaVersion="firestore/bytes/1.0",hi._jsonSchema={type:Je("string",hi._jsonSchemaVersion),bytes:Je("string")};var lu=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var du=class{constructor(e){this._methodName=e}};var pi=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(hu(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};pi._jsonSchemaVersion="firestore/geoPoint/1.0",pi._jsonSchema={type:Je("string",pi._jsonSchemaVersion),latitude:Je("number"),longitude:Je("number")};var gi=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hu(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new F(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};gi._jsonSchemaVersion="firestore/vectorValue/1.0",gi._jsonSchema={type:Je("string",gi._jsonSchemaVersion),vectorValues:Je("object")};var yB=/^__.*__$/,pE=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Nr(e,this.data,this.fieldMask,n,this.fieldTransforms):new wo(e,this.data,n,this.fieldTransforms)}};function HR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q(40011,{Ac:t})}}var gE=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new t(M(M({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){let n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(HR(this.Ac)&&yB.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}},mE=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ph(e)}Cc(e,n,r,i=!1){return new gE({Ac:e,methodName:n,Dc:r,path:tn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function zR(t){let e=t._freezeSettings(),n=ph(t._databaseId);return new mE(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vB(t,e,n,r,i,o={}){let s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);WR("Data must be an object, but it was:",s,r);let a=qR(r,s),u,l;if(o.merge)u=new rr(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let m=EB(e,p,n);if(!s.contains(m))throw new F(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);wB(f,m)||f.push(m)}u=new rr(f),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new pE(new kn(a),u,l)}var yE=class t extends du{_toFieldTransform(e){return new s_(e.path,new _o)}isEqual(e){return e instanceof t}};function _B(t,e,n,r=!1){return GE(n,t.Cc(r?4:3,e))}function GE(t,e){if(GR(t=Gt(t)))return WR("Unsupported field value:",e,t),qR(t,e);if(t instanceof du)return(function(r,i){if(!HR(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=GE(a,i.wc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Zj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ze.fromDate(r);return{timestampValue:qf(i.serializer,o)}}if(r instanceof Ze){let o=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qf(i.serializer,o)}}if(r instanceof pi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hi)return{bytesValue:gR(i.serializer,r._byteString)};if(r instanceof Ot){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:OE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof gi)return(function(s,a){return{mapValue:{fields:{[AE]:{stringValue:RE},[Hs]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Sc("VectorValues must only contain numeric values.");return PE(a.serializer,l)})}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${uh(r)}`)})(t,e)}function qR(t,e){let n={};return UA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Co(t,(r,i)=>{let o=GE(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function GR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof pi||t instanceof hi||t instanceof Ot||t instanceof du||t instanceof gi)}function WR(t,e,n){if(!GR(n)||!CA(n)){let r=uh(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function EB(t,e,n){if((e=Gt(e))instanceof lu)return e._internalPath;if(typeof e=="string")return KR(t,e);throw sh("Field path arguments must be of type string or ",t,!1,void 0,n)}var IB=new RegExp("[~\\*/\\[\\]]");function KR(t,e,n){if(e.search(IB)>=0)throw sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lu(...e.split("."))._internalPath}catch{throw sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new F(N.INVALID_ARGUMENT,a+t+u)}function wB(t,e){return t.some(n=>n.isEqual(e))}var ah=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new vE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(WE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},vE=class extends ah{data(){return super.data()}};function WE(t,e){return typeof e=="string"?KR(t,e):e instanceof lu?e._internalPath:e._delegate._internalPath}function TB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var fu=class{},ch=class extends fu{};function QR(t,e,...n){let r=[];e instanceof fu&&r.push(e),r=r.concat(n),(function(o){let s=o.filter(u=>u instanceof EE).length,a=o.filter(u=>u instanceof _E).length;if(s>1||s>0&&a>0)throw new F(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)t=i._apply(t);return t}var _E=class t extends ch{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return JR(e._query,n),new Do(e.firestore,e.converter,i_(e._query,n))}_parse(e){let n=zR(e.firestore);return(function(o,s,a,u,l,f,p){let m;if(l.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new F(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){wA(p,f);let S=[];for(let A of p)S.push(IA(u,o,A));m={arrayValue:{values:S}}}else m=IA(u,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||wA(p,f),m=_B(a,s,p,f==="in"||f==="not-in");return Ye.create(l,f,m)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var EE=class t extends fu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Fn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)JR(s,u),s=i_(s,u)})(e._query,n),new Do(e.firestore,e.converter,i_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var IE=class t extends ch{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=(function(i,o,s){if(i.startAt!==null)throw new F(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new F(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vo(o,s)})(e._query,this._field,this._direction);return new Do(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new yi(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}};function YR(t,e="asc"){let n=e,r=WE("orderBy",t);return IE._create(r,n)}function IA(t,e,n){if(typeof(n=Gt(n))=="string"){if(n==="")throw new F(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tR(e)&&n.indexOf("/")!==-1)throw new F(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(je.fromString(n));if(!B.isDocumentKey(r))throw new F(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return z0(t,new B(r))}if(n instanceof Ot)return z0(t,n._key);throw new F(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uh(n)}.`)}function wA(t,e){if(!Array.isArray(t)||t.length===0)throw new F(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JR(t,e){let n=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new F(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var wE=class{convertValue(e,n="none"){switch(mi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Co(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){let n=e.fields?.[Hs].arrayValue?.values?.map(r=>Ve(r.doubleValue));return new gi(n)}convertGeoPoint(e){return new pi(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=dh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ru(e));default:return null}}convertTimestamp(e){let n=br(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=je.fromString(e);Se(IR(r),9688,{name:e});let i=new jf(r.get(1),r.get(3)),o=new B(r.popFirst(5));return i.isEqual(n)||Cr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function DB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ls=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Vs=class t extends ah{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new js(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(WE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new F(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Vs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vs._jsonSchema={type:Je("string",Vs._jsonSchemaVersion),bundleSource:Je("string","DocumentSnapshot"),bundleName:Je("string"),bundle:Je("string")};var js=class extends Vs{data(e={}){return super.data(e)}},Us=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ls(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new js(this._firestore,this._userDataWriter,r.key,r,new Ls(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new js(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ls(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new js(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ls(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),f=s.indexOf(a.doc.key)),{type:CB(a.type),doc:u,oldIndex:l,newIndex:f}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new F(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function CB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q(61501,{type:t})}}Us._jsonSchemaVersion="firestore/querySnapshot/1.0",Us._jsonSchema={type:Je("string",Us._jsonSchemaVersion),bundleSource:Je("string","QuerySnapshot"),bundleName:Je("string"),bundle:Je("string")};var TE=class extends wE{constructor(e){super(),this.firestore=e}convertBytes(e){return new hi(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}};function ZR(t){t=eu(t,Do);let e=eu(t.firestore,Zs),n=$R(e),r=new TE(e);return TB(t._query),pB(n,t._query).then(i=>new Us(e,r,t,i))}function XR(t){return tN(eu(t.firestore,Zs),[new ou(t._key,di.none())])}function eN(t,e){let n=eu(t.firestore,Zs),r=qE(t),i=DB(t.converter,e);return tN(n,[vB(zR(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,di.exists(!1))]).then(()=>r)}function tN(t,e){return(function(r,i){let o=new ir;return r.asyncQueue.enqueueAndForget(async()=>nB(await fB(r),i,o)),o.promise})($R(t),e)}function nN(){return new yE("serverTimestamp")}(function(e,n=!0){(function(i){Xs=i})(li),ui(new pn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Zs(new Vv(r.getProvider("auth-internal")),new Bv(s,r.getProvider("app-check-internal")),(function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new F(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jf(l.options.projectId,f)})(s,i),s);return o=M({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),On(P0,O0,e),On(P0,O0,"esm2020")})();function yN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var vN=yN,_N=new Ir("auth","Firebase",yN());var wh=new ai("@firebase/auth");function bB(t,...e){wh.logLevel<=he.WARN&&wh.warn(`Auth (${li}): ${t}`,...e)}function vh(t,...e){wh.logLevel<=he.ERROR&&wh.error(`Auth (${li}): ${t}`,...e)}function Ti(t,...e){throw hI(t,...e)}function So(t,...e){return hI(t,...e)}function EN(t,e,n){let r=ie(M({},vN()),{[e]:n});return new Ir("auth","Firebase",r).create(e,{appName:t.name})}function wi(t){return EN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hI(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _N.create(t,...e)}function Y(t,e,...n){if(!t)throw hI(e,...n)}function Mr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw vh(e),new Error(e)}function Di(t,e){t||Mr(e)}function JE(){return typeof self<"u"&&self.location?.href||""}function SB(){return rN()==="http:"||rN()==="https:"}function rN(){return typeof self<"u"&&self.location?.protocol||null}function AB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SB()||l0()||"connection"in navigator)?navigator.onLine:!0}function RB(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ao=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Di(n>e,"Short delay should be less than long delay!"),this.isMobile=c0()||d0()}get(){return AB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function pI(t,e){Di(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Th=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var NB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var MB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xB=new Ao(3e4,6e4);function Oh(t,e){return t.tenantId&&!e.tenantId?ie(M({},e),{tenantId:t.tenantId}):e}async function ra(t,e,n,r,i={}){return IN(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=zc(M({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);let l=M({method:e,headers:u},o);return u0()||(l.referrerPolicy="no-referrer"),t.emulatorConfig&&si(t.emulatorConfig.host)&&(l.credentials="include"),Th.fetch()(await TN(t,t.config.apiHost,n,a),l)})}async function IN(t,e,n){t._canInitEmulator=!1;let r=M(M({},NB),e);try{let i=new ZE(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw yh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw yh(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw yh(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw yh(t,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw EN(t,f,l);Ti(t,f)}}catch(i){if(i instanceof Xt)throw i;Ti(t,"network-request-failed",{message:String(i)})}}async function wN(t,e,n,r,i={}){let o=await ra(t,e,n,r,i);return"mfaPendingCredential"in o&&Ti(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function TN(t,e,n,r){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?pI(t.config,i):`${t.config.apiScheme}://${i}`;return MB.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var ZE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(So(this.auth,"network-request-failed")),xB.get())})}};function yh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=So(t,e,r);return i.customData._tokenResponse=n,i}async function PB(t,e){return ra(t,"POST","/v1/accounts:delete",e)}async function Dh(t,e){return ra(t,"POST","/v1/accounts:lookup",e)}function mu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DN(t,e=!1){let n=Gt(t),r=await n.getIdToken(e),i=gI(r);Y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:mu(KE(i.auth_time)),issuedAtTime:mu(KE(i.iat)),expirationTime:mu(KE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function KE(t){return Number(t)*1e3}function gI(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vh("JWT malformed, contained fewer than 3 sections"),null;try{let i=yf(n);return i?JSON.parse(i):(vh("Failed to decode base64 JWT payload"),null)}catch(i){return vh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function iN(t){let e=gI(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function vu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xt&&OB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function OB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var XE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var _u=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mu(this.lastLoginAt),this.creationTime=mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Ch(t){let e=t.auth,n=await t.getIdToken(),r=await vu(t,Dh(e,{idToken:n}));Y(r?.users.length,e,"internal-error");let i=r.users[0];t._notifyReloadListener(i);let o=i.providerUserInfo?.length?bN(i.providerUserInfo):[],s=kB(t.providerData,o),a=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!s?.length,l=a?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _u(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(t,f)}async function CN(t){let e=Gt(t);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function bN(t){return t.map(r=>{var i=r,{providerId:e}=i,n=vp(i,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}async function LB(t,e){let n=await IN(t,{},async()=>{let r=zc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await TN(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return t.emulatorConfig&&si(t.emulatorConfig.host)&&(u.credentials="include"),Th.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FB(t,e){return ra(t,"POST","/v2/accounts:revokeToken",Oh(t,e))}var yu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");let n=iN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await LB(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Y(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Y(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Mr("not implemented")}};function Ei(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ii=class t{constructor(o){var s=o,{uid:e,auth:n,stsTokenManager:r}=s,i=vp(s,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _u(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let n=await vu(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return DN(this,e)}reload(){return CN(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>M({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(ie(M({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(en(this.auth.app))return Promise.reject(wi(this.auth));let e=await this.getIdToken();return await vu(this,PB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return ie(M({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>M({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){let r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,u=n._redirectEventId??void 0,l=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:y,providerData:S,stsTokenManager:A}=n;Y(p&&A,e,"internal-error");let R=yu.fromJSON(this.name,A);Y(typeof p=="string",e,"internal-error"),Ei(r,e.name),Ei(i,e.name),Y(typeof m=="boolean",e,"internal-error"),Y(typeof y=="boolean",e,"internal-error"),Ei(o,e.name),Ei(s,e.name),Ei(a,e.name),Ei(u,e.name),Ei(l,e.name),Ei(f,e.name);let L=new t({uid:p,auth:e,email:i,emailVerified:m,displayName:r,isAnonymous:y,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:R,createdAt:l,lastLoginAt:f});return S&&Array.isArray(S)&&(L.providerData=S.map(re=>M({},re))),u&&(L._redirectEventId=u),L}static async _fromIdTokenResponse(e,n,r=!1){let i=new yu;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ch(o),o}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];Y(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?bN(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new yu;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new _u(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var oN=new Map;function xr(t){Di(t instanceof Function,"Expected a class definition");let e=oN.get(t);return e?(Di(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,oN.set(t,e),e)}var VB=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),eI=VB;function _h(t,e,n){return`firebase:${t}:${e}:${n}`}var bh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=_h(this.userKey,i.apiKey,o),this.fullPersistenceKey=_h("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await Dh(this.auth,{idToken:e}).catch(()=>{});return n?Ii._fromGetAccountInfoResponse(this.auth,n,e):null}return Ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(xr(eI),e,r);let i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||xr(eI),s=_h(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let f=await l._get(s);if(f){let p;if(typeof f=="string"){let m=await Dh(e,{idToken:f}).catch(()=>{});if(!m)break;p=await Ii._fromGetAccountInfoResponse(e,m,f)}else p=Ii._fromJSON(e,f);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new t(o,e,r))}};function sN(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xN(e))return"Blackberry";if(PN(e))return"Webos";if(AN(e))return"Safari";if((e.includes("chrome/")||RN(e))&&!e.includes("edge/"))return"Chrome";if(MN(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function SN(t=lt()){return/firefox\//i.test(t)}function AN(t=lt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RN(t=lt()){return/crios\//i.test(t)}function NN(t=lt()){return/iemobile/i.test(t)}function MN(t=lt()){return/android/i.test(t)}function xN(t=lt()){return/blackberry/i.test(t)}function PN(t=lt()){return/webos/i.test(t)}function mI(t=lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jB(t=lt()){return mI(t)&&!!window.navigator?.standalone}function UB(){return f0()&&document.documentMode===10}function ON(t=lt()){return mI(t)||MN(t)||PN(t)||xN(t)||/windows phone/i.test(t)||NN(t)}function kN(t,e=[]){let n;switch(t){case"Browser":n=sN(lt());break;case"Worker":n=`${sN(lt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${li}/${r}`}var tI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function BB(t,e={}){return ra(t,"GET","/v2/passwordPolicy",Oh(t,e))}var $B=6,nI=class{constructor(e){let n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$B,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var rI=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sh(this),this.idTokenSubscription=new Sh(this),this.beforeStateQueue=new tI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_N,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await bh.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await Dh(this,{idToken:e}),r=await Ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(en(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}let n=await this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=this.redirectUser?._redirectEventId,s=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===s)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(en(this.app))return Promise.reject(wi(this));let n=e?Gt(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return en(this.app)?Promise.reject(wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return en(this.app)?Promise.reject(wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await BB(this),n=new nI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ir("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await FB(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&xr(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await bh.create(this,[xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(en(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&bB(`Error while retrieving App Check token: ${e.error}`),e?.token}};function kh(t){return Gt(t)}var Sh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=m0(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var yI={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HB(t){yI=t}function zB(t){return yI.loadJS(t)}function qB(){return yI.gapiScript}function LN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function FN(t,e){let n=Gc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(tr(o,e??{}))return i;Ti(i,"already-initialized")}return n.initialize({options:e})}function GB(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(xr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function VN(t,e,n){let r=kh(t);Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=jN(e),{host:s,port:a}=WB(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},f=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Y(tr(l,r.config.emulator)&&tr(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,si(s)?(_f(`${o}//${s}${u}`),Ef("Auth",!0)):i||KB()}function jN(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function WB(t){let e=jN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:aN(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:aN(s)}}}function aN(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function KB(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ah=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mr("not implemented")}_getIdTokenResponse(e){return Mr("not implemented")}_linkToIdToken(e,n){return Mr("not implemented")}_getReauthenticationResolver(e){return Mr("not implemented")}};async function QE(t,e){return wN(t,"POST","/v1/accounts:signInWithIdp",Oh(t,e))}var Rh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var iI=class extends Rh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};async function QB(t,e){return wN(t,"POST","/v1/accounts:signUp",Oh(t,e))}var Ro=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){let o=await Ii._fromIdTokenResponse(e,r,i),s=cN(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);let i=cN(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function cN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}async function vI(t){if(en(t.app))return Promise.reject(wi(t));let e=kh(t);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ro({user:e.currentUser,providerId:null,operationType:"signIn"});let n=await QB(e,{returnSecureToken:!0}),r=await Ro._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}var oI=class t extends Xt{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function UN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?oI._fromErrorAndOperation(t,o,e,r):o})}async function YB(t,e,n=!1){let r=await vu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ro._forOperation(t,"link",r)}async function JB(t,e,n=!1){let{auth:r}=t;if(en(r.app))return Promise.reject(wi(r));let i="reauthenticate";try{let o=await vu(t,UN(r,i,e,t),n);Y(o.idToken,r,"internal-error");let s=gI(o.idToken);Y(s,r,"internal-error");let{sub:a}=s;return Y(t.uid===a,r,"user-mismatch"),Ro._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ti(r,"user-mismatch"),o}}async function ZB(t,e,n=!1){if(en(t.app))return Promise.reject(wi(t));let r="signIn",i=await UN(t,r,e),o=await Ro._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function BN(t,e,n,r){return Gt(t).onIdTokenChanged(e,n,r)}function $N(t,e,n){return Gt(t).beforeAuthStateChanged(e,n)}var Nh="__sak";var Mh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var XB=1e3,e$=10,t$=(()=>{class t extends Mh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ON(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);UB()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,e$):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},XB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(n,r){await super._set(n,r),this.localCache[n]=JSON.stringify(r)}async _get(n){let r=await super._get(n);return this.localCache[n]=JSON.stringify(r),r}async _remove(n){await super._remove(n),delete this.localCache[n]}}return t.type="LOCAL",t})(),HN=t$;var n$=(()=>{class t extends Mh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),_I=n$;function r$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}var i$=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}async handleEvent(n){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(async f=>f(r.origin,s)),l=await r$(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function zN(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var sI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=zN("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function ur(){return window}function o$(t){ur().location.href=t}function qN(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function s$(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function a$(){return navigator?.serviceWorker?.controller||null}function c$(){return qN()?self:null}var GN="firebaseLocalStorageDb",u$=1,xh="firebaseLocalStorage",WN="fbase_key",No=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Lh(t,e){return t.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function l$(){let t=indexedDB.deleteDatabase(GN);return new No(t).toPromise()}function aI(){let t=indexedDB.open(GN,u$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(xh,{keyPath:WN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{let r=t.result;r.objectStoreNames.contains(xh)?e(r):(r.close(),await l$(),e(await aI()))})})}async function uN(t,e,n){let r=Lh(t,!0).put({[WN]:e,value:n});return new No(r).toPromise()}async function d$(t,e){let n=Lh(t,!1).get(e),r=await new No(n).toPromise();return r===void 0?null:r.value}function lN(t,e){let n=Lh(t,!0).delete(e);return new No(n).toPromise()}var f$=800,h$=3,p$=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await aI(),this.db)}async _withRetries(n){let r=0;for(;;)try{let i=await this._openDb();return await n(i)}catch(i){if(r++>h$)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=i$._getInstance(c$()),this.receiver._subscribe("keyChanged",async(n,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(n,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await s$(),!this.activeServiceWorker)return;this.sender=new sI(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&n[0]?.fulfilled&&n[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(n){if(!(!this.sender||!this.activeServiceWorker||a$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let n=await aI();return await uN(n,Nh,"1"),await lN(n,Nh),!0}catch{}return!1}async _withPendingWrite(n){this.pendingWrites++;try{await n()}finally{this.pendingWrites--}}async _set(n,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>uN(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)))}async _get(n){let r=await this._withRetries(i=>d$(i,n));return this.localCache[n]=r,r}async _remove(n){return this._withPendingWrite(async()=>(await this._withRetries(r=>lN(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)))}async _poll(){let n=await this._withRetries(o=>{let s=Lh(o,!1).getAll();return new No(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),f$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),KN=p$;var dee=LN("rcb"),fee=new Ao(3e4,6e4);function g$(t,e){return e?xr(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Eu=class extends Ah{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return QE(e,this._buildIdpRequest())}_linkToIdToken(e,n){return QE(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return QE(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function m$(t){return ZB(t.auth,new Eu(t),t.bypassAuthState)}function y$(t){let{auth:e,user:n}=t;return Y(n,e,"internal-error"),JB(n,new Eu(t),t.bypassAuthState)}async function v$(t){let{auth:e,user:n}=t;return Y(n,e,"internal-error"),YB(n,new Eu(t),t.bypassAuthState)}var cI=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return m$;case"linkViaPopup":case"linkViaRedirect":return v$;case"reauthViaPopup":case"reauthViaRedirect":return y$;default:Ti(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var hee=new Ao(2e3,1e4);var _$="pendingRedirect",Eh=new Map,uI=class extends cI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Eh.get(this.auth._key());if(!e){try{let r=await E$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Eh.set(this.auth._key(),e)}return this.bypassAuthState||Eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function E$(t,e){let n=T$(e),r=w$(t);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function I$(t,e){Eh.set(t._key(),e)}function w$(t){return xr(t._redirectPersistence)}function T$(t){return _h(_$,t.config.apiKey,t.name)}async function D$(t,e,n=!1){if(en(t.app))return Promise.reject(wi(t));let r=kh(t),i=g$(r,e),s=await new uI(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var C$=600*1e3,lI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!QN(e)){let r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(So(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=C$&&this.cachedEventUids.clear(),this.cachedEventUids.has(dN(e))}saveEventToCache(e){this.cachedEventUids.add(dN(e)),this.lastProcessedEventTime=Date.now()}};function dN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function b$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QN(t);default:return!1}}async function S$(t,e={}){return ra(t,"GET","/v1/projects",e)}var A$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,R$=/^https?/;async function N$(t){if(t.config.emulator)return;let{authorizedDomains:e}=await S$(t);for(let n of e)try{if(M$(n))return}catch{}Ti(t,"unauthorized-domain")}function M$(t){let e=JE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!R$.test(n))return!1;if(A$.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var x$=new Ao(3e4,6e4);function fN(){let t=ur().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function P$(t){return new Promise((e,n)=>{function r(){fN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fN(),n(So(t,"network-request-failed"))},timeout:x$.get()})}if(ur().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ur().gapi?.load)r();else{let i=LN("iframefcb");return ur()[i]=()=>{gapi.load?r():n(So(t,"network-request-failed"))},zB(`${qB()}?onload=${i}`).catch(o=>n(o))}}).catch(e=>{throw Ih=null,e})}var Ih=null;function O$(t){return Ih=Ih||P$(t),Ih}var k$=new Ao(5e3,15e3),L$="__/auth/iframe",F$="emulator/auth/iframe",V$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},j$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U$(t){let e=t.config;Y(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?pI(e,F$):`https://${t.config.authDomain}/${L$}`,r={apiKey:e.apiKey,appName:t.name,v:li},i=j$.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${zc(r).slice(1)}`}async function B$(t){let e=await O$(t),n=ur().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:U$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V$,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=So(t,"network-request-failed"),a=ur().setTimeout(()=>{o(s)},k$.get());function u(){ur().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var $$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H$=500,z$=600,q$="_blank",G$="http://localhost",Ph=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function W$(t,e,n,r=H$,i=z$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=ie(M({},$$),{width:r.toString(),height:i.toString(),top:o,left:s}),l=lt().toLowerCase();n&&(a=RN(l)?q$:n),SN(l)&&(e=e||G$,u.scrollbars="yes");let f=Object.entries(u).reduce((m,[y,S])=>`${m}${y}=${S},`,"");if(jB(l)&&a!=="_self")return K$(e||"",a),new Ph(null);let p=window.open(e||"",a,f);Y(p,t,"popup-blocked");try{p.focus()}catch{}return new Ph(p)}function K$(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Q$="__/auth/handler",Y$="emulator/auth/handler",J$=encodeURIComponent("fac");async function hN(t,e,n,r,i,o){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:li,eventId:i};if(e instanceof Rh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",g0(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(o||{}))s[f]=p}if(e instanceof iI){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let u=await t._getAppCheckToken(),l=u?`#${J$}=${encodeURIComponent(u)}`:"";return`${Z$(t)}?${zc(a).slice(1)}${l}`}function Z$({config:t}){return t.emulator?pI(t,Y$):`https://${t.authDomain}/${Q$}`}var YE="webStorageSupport",dI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_I,this._completeRedirectFn=D$,this._overrideRedirectResult=I$}async _openPopup(e,n,r,i){Di(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let o=await hN(e,n,r,JE(),i);return W$(e,o,zN())}async _openRedirect(e,n,r,i){await this._originValidation(e);let o=await hN(e,n,r,JE(),i);return o$(o),new Promise(()=>{})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Di(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){let n=await B$(e),r=new lI(e);return n.register("authEvent",i=>(Y(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(YE,{type:YE},i=>{let o=i?.[0]?.[YE];o!==void 0&&n(!!o),Ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=N$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ON()||AN()||mI()}},YN=dI;var pN="@firebase/auth",gN="1.11.1";var fI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function X$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eH(t){ui(new pn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Y(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kN(t)},l=new rI(r,i,o,u);return GB(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ui(new pn("auth-internal",e=>{let n=kh(e.getProvider("auth").getImmediate());return(r=>new fI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),On(pN,gN,X$(t)),On(pN,gN,"esm2020")}var tH=300,nH=cv("authIdTokenMaxAge")||tH,mN=null,rH=t=>async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nH)return;let i=n?.token;mN!==i&&(mN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function EI(t=Df()){let e=Gc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=FN(t,{popupRedirectResolver:YN,persistence:[KN,HN,_I]}),r=cv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=rH(o.toString());$N(n,s,()=>s(n.currentUser)),BN(n,a=>s(a))}}let i=sv("auth");return i&&VN(n,`http://${i}`),n}function iH(){return document.getElementsByTagName("head")?.[0]??document}HB({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=So("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",iH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eH("Browser");var ia=class t{db=BR();auth=EI();authReadyPromise;constructor(){this.authReadyPromise=this.signInAnon()}async signInAnon(){if(!this.auth.currentUser)try{let e=await vI(this.auth);console.log("Firebase: Anonymous Sign-In Successful. UID: "+e.user.uid)}catch(e){throw console.error("Firebase: Anonymous Sign-In Failed: "+e),new Error("Could not authenticate Demo user.")}}async withAuth(e){return await this.authReadyPromise,e()}async saveOrder(e){return this.withAuth(()=>eN(zE(this.db,"orders"),ie(M({},e),{createdAt:nN()})))}async getOrders(){return this.withAuth(async()=>{let e=zE(this.db,"orders"),n=QR(e,YR("createdAt","desc"));return(await ZR(n)).docs.map(i=>M({id:i.id},i.data()))})}async deleteOrder(e){return this.withAuth(()=>XR(qE(this.db,"orders",e)))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ci=class t{activeToasts=$e([]);duration=3e3;show(e){let n=Date.now(),r={id:n,message:e};this.activeToasts.update(i=>[...i,r]),setTimeout(()=>{this.removeToast(n)},this.duration)}removeToast(e){this.activeToasts.update(n=>n.filter(r=>r.id!==e))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})};var oa=class t{constructor(e,n){this.firebase=e;this.toastService=n}ordersSignal=$e([]);orders=this.ordersSignal.asReadonly();loadingSignal=$e(!0);loading=this.loadingSignal.asReadonly();orderLimit=5;async refreshOrders(){this.ordersSignal.set([]),this.loadingSignal.set(!0);try{let e=await this.firebase.getOrders();this.ordersSignal.set(e.map(n=>ie(M({},n),{createdAt:n.createdAt?new Date(n.createdAt.seconds*1e3):n.createdAt})))}catch(e){console.error("ORDERS SERVICE: Failed to load orders: "+e)}finally{this.loadingSignal.set(!1)}}async deleteOrder(e){let n=!1;try{await this.firebase.deleteOrder(e),await this.refreshOrders()}catch(r){console.error("ORDERS SERVICE: Failed to delete order: "+r),n=!0}this.toastService.show(n?"Failed to delete order":`Order ${e} deleted`)}static \u0275fac=function(n){return new(n||t)(W(ia),W(Ci))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})};var bi=class t{constructor(e,n,r){this.firebase=e;this.toastService=n;this.orderService=r;let i=localStorage.getItem("taniti-cart");i&&this.cartItemsSignal.set(JSON.parse(i))}cartItemsSignal=$e([]);cartItems=this.cartItemsSignal.asReadonly();cartTotal=dy(()=>this.cartItems().reduce((e,n)=>e+n.price,0));cartLimit=20;saveCart(){localStorage.setItem("taniti-cart",JSON.stringify(this.cartItemsSignal()))}addItem(e){let n=!1;this.cartItems().length<this.cartLimit?this.cartItemsSignal.update(r=>[...r,e]):n=!0,this.toastService.show(n?"Cart limit reached":`${e.name} added to cart`),this.saveCart()}removeItem(e){console.log("CART SERVICE: Deleting "+e.name),this.cartItemsSignal.update(n=>n.filter(r=>r.id!==e.id)),this.toastService.show(`${e.name} removed from cart`),this.saveCart()}clearItems(e){this.cartItemsSignal.set([]),this.toastService.show(e?"Order submitted":"Cart cleared"),this.saveCart()}async submitOrder(){console.log("CART SERVICE: Submitting Order...");let e=this.orderService.orderLimit;if(this.orderService.orders().length>=this.orderService.orderLimit){this.toastService.show("Order limit reached, please delete an order and try again");return}let n=this.cartItems(),r=n;if(n.length===0){console.error("CART SERVICE: Cannot submit an empty order.");return}n.length>this.cartLimit&&(r=n.slice(0,this.cartLimit),this.toastService.show(`Cart trimmed to ${this.cartLimit} items`),this.cartItemsSignal.set(r),this.saveCart());let i=this.cartTotal(),o=r.map(u=>M({id:u.id,name:u.name,price:Number(u.price)},typeof u.image=="string"&&u.image.length>0?{image:u.image}:{}));if(!o.every(u=>this.isValidActivityClient(u)))throw console.error("CART SERVICE: Submission Cancelled due to invalid Activity Data."),new Error("CART SERVICE: Invalid Activity Data in Cart.");let a={activities:o,total:i};console.log("CART SERVICE: Payload for Firestore: "+JSON.stringify(a,null,2));try{let u=await this.firebase.saveOrder(a);return console.log("CART SERVICE: Order saved with ID: "+u.id),this.clearItems(!0),u.id}catch(u){throw console.error("CART SERVICE: Failed to submit Order: "+u),this.toastService.show("Failed to submit Order"),u}}isValidActivityClient(e){return typeof e.id!="string"||e.id.length===0?(console.error("CART SERVICE: Validation Error: Invalid ID: ",e),!1):typeof e.name!="string"||e.name.length===0?(console.error("CART SERVICE: Validation Error: Invalid Name: ",e),!1):Number.isFinite(e.price)?e.image!==void 0&&typeof e.image!="string"?(console.error("CART SERVICE: Validation Error: Invalid Image: ",e),!1):!0:(console.error("CART SERVICE: Validation Error: Invalid Price: ",e),!1)}static \u0275fac=function(n){return new(n||t)(W(ia),W(Ci),W(oa))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})};var Fh=class t{constructor(e){this.cart=e}activity;addToCart(){this.cart.addItem(this.activity),console.log(`${this.activity.name} added to cart`)}static \u0275fac=function(n){return new(n||t)(de(bi))};static \u0275cmp=Te({type:t,selectors:[["app-product"]],inputs:{activity:"activity"},decls:9,vars:3,consts:[[1,"product-shell"],[1,"product-container"],["alt","Product",3,"src"],["id","add-to-cart",3,"click"]],template:function(n,r){n&1&&(ye(0,"div",0)(1,"div",1)(2,"h2"),te(3),ve(),ye(4,"p"),te(5),ve(),An(6,"img",2),ye(7,"button",3),Yn("click",function(){return r.addToCart()}),te(8,"Add to Cart"),ve()()()),n&2&&(P(3),Pe(r.activity.name),P(2),Rn("$",r.activity.price),P(),Qn("src",r.activity.image,cn))},styles:[".product-container[_ngcontent-%COMP%]{margin:0;padding:.5rem;display:flex;flex-direction:column;gap:1rem;background-color:var(--primary);color:#fffaf0}@media(hover:hover){.product-container[_ngcontent-%COMP%]{background-color:transparent;color:var(--highlight);transition:all .1s ease-in-out}}h2[_ngcontent-%COMP%]{margin:0;width:100%;font-family:Malvie,sans-serif}p[_ngcontent-%COMP%]{margin:0;width:100%;color:var(--text);font-size:1.25rem}img[_ngcontent-%COMP%]{margin:0;width:100%;aspect-ratio:4/3;object-fit:cover}button[_ngcontent-%COMP%]{margin:.5rem;padding:0;font-family:Bebas Neue,sans-serif;font-size:1.5rem;font-weight:700;background-color:#fffaf0;color:var(--primary);border:5px solid floralwhite;transform:scale(1.04)}@media(hover:hover){button[_ngcontent-%COMP%]{background-color:transparent;color:transparent;border:5px solid transparent;transition:all .1s ease-in-out;transform:scale(1)}}@media(hover:hover){.product-container[_ngcontent-%COMP%]:hover{background-color:var(--primary);color:#fffaf0}.product-container[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%], .product-container[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:#fffaf0}#add-to-cart[_ngcontent-%COMP%]:hover{background-color:#fffaf0;color:var(--primary);border:5px solid floralwhite;cursor:pointer;transform:scale(1.04)}}"]})};function oH(t,e){if(t&1&&Ee(0,"app-info",1),t&2){let n=Q();fe("data",n.pageData.desc)}}function sH(t,e){if(t&1&&Ee(0,"app-product",4),t&2){let n=e.$implicit;fe("activity",n)}}function aH(t,e){if(t&1&&($(0,"div",3),gt(1,sH,1,1,"app-product",4,ln),K()),t&2){let n=Q();P(),mt(n.pageData.activityData)}}function cH(t,e){if(t&1&&Ee(0,"app-info",1),t&2){let n=e.$implicit;fe("data",n)}}var Si=class t{constructor(e){this.route=e}pageData;ngOnInit(){this.pageData=this.route.snapshot.data.data}static \u0275fac=function(n){return new(n||t)(de(Pn))};static \u0275cmp=Te({type:t,selectors:[["app-page"]],inputs:{pageData:"pageData"},decls:7,vars:3,consts:[[1,"page-shell"],[3,"data"],[1,"pageInfo-container"],[1,"activity-container"],[3,"activity"]],template:function(n,r){n&1&&($(0,"div",0),Ee(1,"app-banner",1),$(2,"div",2),se(3,oH,1,1,"app-info",1),se(4,aH,3,0,"div",3),gt(5,cH,1,1,"app-info",1,ln),K()()),n&2&&(P(),fe("data",r.pageData.bannerData),P(2),ae(r.pageData.desc.content!=""?3:-1),P(),ae(r.pageData.activityData.length>0?4:-1),P(),mt(r.pageData.infoData))},dependencies:[er,Rs,Fh],styles:["app-banner[_ngcontent-%COMP%]{width:100%}.page-shell[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.pageInfo-container[_ngcontent-%COMP%]{width:100%;max-width:var(--maxWidth);display:flex;flex-direction:column;justify-content:space-between;align-items:center;gap:3rem}.activity-container[_ngcontent-%COMP%]{width:100%;max-width:var(--maxWidth);display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;justify-content:center}"]})};var XN=[],eM=[],tM=[],nM=[{id:"e4",name:"Snorkeling",price:80,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"e5",name:"Ziplining",price:100,image:"pageMedia/entertainment-ziplining.jpeg"},{id:"e3",name:"Fishing",price:150,image:"pageMedia/entertainment-fishing.jpeg"},{id:"e8",name:"Golf",price:125,image:"pageMedia/entertainment-golf.jpeg"},{id:"e6",name:"Night Club",price:30,image:"pageMedia/entertainment-night-club.jpeg"},{id:"e7",name:"Art Gallery",price:15,image:"pageMedia/entertainment-art-gallery.jpeg"},{id:"e1",name:"Museum",price:25,image:"pageMedia/entertainment-museum.jpeg"},{id:"e2",name:"Bowling",price:20,image:"pageMedia/entertainment-bowling.jpeg"}],rM=[{id:"s1",name:"Volcano Tour",price:250,image:"pageMedia/sightseeing-volcano.jpeg"},{id:"s2",name:"Helicopter Tour",price:300,image:"banners/entertainment.jpeg"},{id:"s3",name:"Boat Tour",price:50,image:"pageMedia/sightseeing-boat-tour.jpeg"},{id:"s4",name:"Bus Tour",price:50,image:"pageMedia/sightseeing-bus-tour.jpeg"},{id:"s5",name:"Bike Tour",price:40,image:"pageMedia/transportation-bike.jpeg"},{id:"s6",name:"Rainforest Hike",price:50,image:"pageMedia/sightseeing-rainforest.jpeg"}];var iM={bannerData:{bannerType:"subpage",title:"",image:"banners/transportation.jpeg",button:"Transportation",interactive:!1},desc:{},activityData:XN,infoData:[{title:"How to Get Here",type:0,content:"Almost all visitors arrive to Taniti by air, though some arrive on a small cruise ship that docks in Yellow Leaf Bay for one night per week. Taniti is served by a small airport that can accommodate small jets and propeller planes. Taniti is in the process of expanding the airport so larger jets will be able to land on the island within the next few years.",image:"pageMedia/transportation-plane.jpeg"},{title:"How to Get Around",type:0,content:"Public buses serve Taniti City and run from 5 a.m. to 11 p.m. every day. Private buses serve the rest of the island. Taxis are available in Taniti City, and rental cars can be rented from a local rental agency near the airport. Bikes and helmets are available to rent from several vendors (helmets are required by law). Taniti City is fairly flat and very walkable. Many tourists stay in the area surrounding Merriton Landing: this area is easy to explore on foot.",image:"pageMedia/transportation-bike.jpeg"}]},oM={bannerData:{bannerType:"subpage",title:"",image:"banners/lodging.jpeg",button:"Lodging",interactive:!1},desc:{},activityData:eM,infoData:[{title:"Luxury Hotels",type:0,content:"Taniti has a wide variety of lodging that ranges from an inexpensive hostel to one large, four-star resort.",image:"pageMedia/lodging-hotel.jpeg"},{title:"Bed & Breakfasts",type:0,content:"There are many small, family-owned hotels and a growing number of bed and breakfasts. All types of lodging are strictly regulated and regularly inspected by the Tanitian government.",image:"pageMedia/lodging-bnb.jpeg"}]},sM={bannerData:{bannerType:"subpage",title:"",image:"banners/food.jpeg",button:"Food",interactive:!1},desc:{},activityData:tM,infoData:[{title:"Restaurants",type:0,content:"Taniti currently has 10 restaurants: five serve mostly local fish and rice, three serve American-style meals, and two serve Pan-Asian cuisine.",image:"pageMedia/food-restaurant.jpeg"},{title:"Grocery",type:0,content:"Taniti has two supermarkets, two smaller grocery stores, and one convenience store that is open 24 hours a day.",image:"pageMedia/food-grocery.jpeg"}]},aM={bannerData:{bannerType:"subpage",title:"",image:"banners/entertainment.jpeg",button:"Entertainment",interactive:!1},desc:{title:"",type:1,content:"Most people visit Taniti to enjoy the beaches, explore the rainforest, and to visit the volcano. However, there are other things to do, including visiting a local history museum, going on chartered fishing tours, snorkeling, zip-lining in the rainforest, visiting several pubs, including a microbrewery, dancing at a new dance club, seeing a movie, taking helicopter rides, playing at an arcade, visiting art galleries, and bowling. Also, a nine-hole golf course should be operational by next year. Many of these activities are located in Merriton Landing, which is a rapidly developing area on the north side of Yellow Leaf Bay.",image:""},activityData:nM,infoData:[]},cM={bannerData:{bannerType:"subpage",title:"",image:"banners/sightseeing.jpeg",button:"Sightseeing",interactive:!1},desc:{title:"",type:1,content:"Most tourists spend most of their time in Taniti City, which boasts native architecture and nearby white, sandy beaches that encircle Yellow Leaf Bay. Other popular activities include boat or bus tours of the island, hikes in the rainforest, or visits to Taniti\u2019s active volcano.",image:""},activityData:rM,infoData:[]};function uH(t,e){if(t&1&&An(0,"img",2),t&2){let n=Q();Qn("src",n.item.image,cn)}}function lH(t,e){if(t&1){let n=Ht();ye(0,"button",4),Yn("click",function(){Nt(n);let i=Q();return Mt(i.removeFromCart())}),te(1,"DELETE"),ve()}}function dH(t,e){if(t&1){let n=Ht();ye(0,"button",4),Yn("click",function(){Nt(n);let i=Q();return Mt(i.clearCart())}),te(1,"CLEAR"),ve()}}var Vh=class t{constructor(e){this.cart=e}item;real=!0;removeFromCart(){console.log("ITEM: Deleting "+this.item.name),this.cart.removeItem(this.item)}clearCart(){console.log("ITEM: Clearing Cart"),this.cart.clearItems(!1)}static \u0275fac=function(n){return new(n||t)(de(bi))};static \u0275cmp=Te({type:t,selectors:[["app-item"]],inputs:{item:"item",real:"real"},decls:9,vars:4,consts:[[1,"item-shell"],[1,"item-container"],[3,"src"],[1,"price"],[3,"click"]],template:function(n,r){n&1&&(ye(0,"div",0)(1,"div",1),se(2,uH,1,1,"img",2),ye(3,"p"),te(4),ve(),ye(5,"p",3),te(6),ve(),se(7,lH,2,0,"button")(8,dH,2,0,"button"),ve()()),n&2&&(P(2),ae(r.item.image!=""?2:-1),P(2),Pe(r.item.name),P(2),Rn("$",r.item.price),P(),ae(r.real?7:8))},styles:[".item-shell[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;width:100%}.item-container[_ngcontent-%COMP%]{margin:0;padding:1rem;display:flex;flex-direction:row;align-items:center;gap:1rem;flex:1;background-color:var(--primary)}img[_ngcontent-%COMP%]{width:96px;height:48px;object-fit:cover}p[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.5rem;color:#fffaf0}.price[_ngcontent-%COMP%]{margin-left:auto}button[_ngcontent-%COMP%]{padding:.25rem .5rem;background-color:transparent;color:#ff4646;border:none}button[_ngcontent-%COMP%]:hover{background-color:#ff4646;color:#fff;cursor:pointer}@media(max-width:550px){.item-container[_ngcontent-%COMP%]{padding:.5rem}img[_ngcontent-%COMP%]{width:64px;height:32px}p[_ngcontent-%COMP%]{font-size:1.25rem}}"]})};var fH=t=>({id:"0",name:"Total",price:t,image:""});function hH(t,e){t&1&&($(0,"p",4),te(1,"Cart is Empty"),K())}function pH(t,e){if(t&1&&Ee(0,"app-item",5),t&2){let n=e.$implicit;fe("item",n)}}function gH(t,e){if(t&1){let n=Ht();gt(0,pH,1,1,"app-item",5,ln),$(2,"div",6),Ee(3,"app-item",7),$(4,"button",8),dn("click",function(){Nt(n);let i=Q();return Mt(i.submitOrder())}),te(5,"Submit Order"),K()()}if(t&2){let n=Q();mt(n.cartItems()),P(3),fe("item",hc(2,fH,n.cartTotal()))("real",!1)}}var jh=class t{constructor(e){this.cartService=e;this.cartItems=e.cartItems,this.cartTotal=e.cartTotal}bannerData={bannerType:"subpage",title:"",image:"banners/taniti.jpeg",button:"Cart",interactive:!1};cartItems;cartTotal;async submitOrder(){try{await this.cartService.submitOrder()}catch(e){console.log("CART: Error submitting Order: "+e)}}static \u0275fac=function(n){return new(n||t)(de(bi))};static \u0275cmp=Te({type:t,selectors:[["app-cart"]],decls:6,vars:2,consts:[[1,"cart-shell"],[3,"data"],[1,"cart-wrapper"],[1,"cart-container"],[1,"empty"],[3,"item"],[1,"total-container"],[3,"item","real"],[3,"click"]],template:function(n,r){n&1&&($(0,"div",0),Ee(1,"app-banner",1),$(2,"div",2)(3,"div",3),se(4,hH,2,0,"p",4)(5,gH,6,4),K()()()),n&2&&(P(),fe("data",r.bannerData),P(3),ae(r.cartItems().length<=0?4:5))},dependencies:[Vh,er],styles:[".cart-shell[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}app-banner[_ngcontent-%COMP%]{width:100%}.cart-wrapper[_ngcontent-%COMP%]{margin:0;padding:0;width:100%;max-width:var(--maxWidth)}.cart-container[_ngcontent-%COMP%]{margin:0;padding:0 .5rem;display:flex;flex-direction:column;gap:1rem;text-align:center}h1[_ngcontent-%COMP%]{font-family:Malvie,sans-serif;color:var(--highlight)}.empty[_ngcontent-%COMP%]{font-size:1.5rem}.total-container[_ngcontent-%COMP%]{margin:0;padding:0 0 1rem;background:var(--primary)}button[_ngcontent-%COMP%]{margin:1rem auto 0;padding:0 1rem;font-family:Bebas Neue,sans-serif;font-size:1.5rem;background-color:transparent;color:#fffaf0;border:5px solid transparent;transition:all .1s ease-in-out}button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#fffaf0;color:var(--primary);cursor:pointer}@media(max-width:550px){.cart-container[_ngcontent-%COMP%]{gap:.5rem}button[_ngcontent-%COMP%]{font-size:2rem}}"]})};var sa=class t{themes=["theme-light","theme-dark"];themeSignal=$e("");theme=this.themeSignal.asReadonly();initializeTheme(){let e=localStorage.getItem("theme")??"theme-dark",n;e&&this.themes.includes(e)?n=e:n=this.themes[0],this.setTheme(n)}setTheme(e){if(!this.themes.includes(e)){console.error(`THEME SERVICE: Invalid Theme: ${e}`);return}this.clearTheme(),this.themeSignal.set(e),this.applyTheme(this.theme()),console.log("THEME SERVICE: Theme Set: "+this.theme())}applyTheme(e){this.themes.includes(e)&&e&&(document.documentElement.classList.add(this.theme()),localStorage.setItem("theme",this.theme()))}clearTheme(){let e=0;this.themes.forEach(n=>{document.documentElement.classList.contains(n)&&(document.documentElement.classList.remove(n),e++)}),this.themeSignal.set(""),localStorage.setItem("theme",""),e>0&&console.log("THEME SERVICE: Theme Cleared")}logTheme(){console.log("THEME SERVICE: Current Theme: "+this.theme())}static \u0275fac=function(n){return new(n||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})};function mH(t,e){if(t&1){let n=Ht();ye(0,"button",0),Yn("click",function(){Nt(n);let i=Q();return Mt(i.setTheme("theme-dark"))}),An(1,"span",1),ve()}t&2&&(P(),ei("mask-image","url(icons/dark-mode.svg)")("-webkit-mask-image","url(icons/dark-mode.svg)"))}function yH(t,e){if(t&1){let n=Ht();ye(0,"button",0),Yn("click",function(){Nt(n);let i=Q();return Mt(i.setTheme("theme-light"))}),An(1,"span",1),ve()}t&2&&(P(),ei("mask-image","url(icons/light-mode.svg)")("-webkit-mask-image","url(icons/light-mode.svg)"))}var Uh=class t{constructor(e){this.themeService=e;this.currentTheme=e.theme}currentTheme;setTheme(e){this.themeService.setTheme(e)}static \u0275fac=function(n){return new(n||t)(de(sa))};static \u0275cmp=Te({type:t,selectors:[["app-theme"]],decls:3,vars:2,consts:[[3,"click"],[1,"icon"]],template:function(n,r){n&1&&(ye(0,"div"),se(1,mH,2,4,"button"),se(2,yH,2,4,"button"),ve()),n&2&&(P(),ae(r.currentTheme()==="theme-light"?1:-1),P(),ae(r.currentTheme()==="theme-dark"?2:-1))},styles:["div[_ngcontent-%COMP%]{width:2rem;height:2rem;display:inline-block}button[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;font-size:1rem;background:transparent;border:2px solid transparent;box-sizing:border-box}button[_ngcontent-%COMP%]:hover{border:2px solid floralwhite;cursor:pointer}.icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;display:inline-block;background-color:#fffaf0;-webkit-mask-size:contain;mask-size:contain;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:center;mask-position:center}@media(max-width:1080px){button[_ngcontent-%COMP%]:hover{border:2px solid transparent}}"]})};var vH=(t,e)=>e.id;function _H(t,e){t&1&&($(0,"p"),te(1,"Loading Orders..."),K())}function EH(t,e){t&1&&($(0,"p",7),te(1,"No Orders Yet"),K())}function IH(t,e){if(t&1&&($(0,"div",13)(1,"p",16),te(2),K(),$(3,"p",17),te(4),K()()),t&2){let n=e.$implicit;P(2),Pe(n.name),P(2),Rn("$",n.price)}}function wH(t,e){if(t&1){let n=Ht();$(0,"div",8)(1,"div",9)(2,"p",10),te(3),K(),$(4,"p",11),te(5),cy(6,"date"),K()(),$(7,"div",12)(8,"h4"),te(9,"Activities"),K(),gt(10,IH,5,2,"div",13,ln),K(),$(12,"p",14),te(13),K(),$(14,"button",15),dn("click",function(){let i=Nt(n).$implicit,o=Q(2);return Mt(o.deleteOrder(i.id))}),te(15,"Delete Order"),K()()}if(t&2){let n=e.$implicit;P(3),Rn("ID: ",n.id),P(2),Pe(uy(6,3,n.createdAt,"short")),P(5),mt(n.activities),P(3),Rn("$",n.total)}}function TH(t,e){if(t&1&&gt(0,wH,16,6,"div",8,vH),t&2){let n=Q();mt(n.orders())}}var Bh=class t{constructor(e){this.ordersService=e;this.orders=e.orders,this.loading=e.loading}bannerData={bannerType:"subpage",title:"",image:"banners/taniti.jpeg",button:"PROFILE",interactive:!1};orders;loading;ngOnInit(){this.ordersService.refreshOrders()}async deleteOrder(e){try{await this.ordersService.deleteOrder(e)}catch(n){console.error("ORDERS: Failed to delete Order: "+n)}}static \u0275fac=function(n){return new(n||t)(de(oa))};static \u0275cmp=Te({type:t,selectors:[["app-orders"]],decls:17,vars:4,consts:[[1,"orders-shell"],[3,"data"],[1,"orders-content"],[1,"settings-wrapper"],[1,"setting"],[1,"orders-wrapper"],[1,"orders-container"],[1,"empty"],[1,"order-display"],[1,"order-stats"],[1,"order-id"],[1,"order-time"],[1,"activities-wrapper"],[1,"activity-entry"],[1,"order-price"],[1,"order-delete",3,"click"],[1,"activity-name"],[1,"activity-price"]],template:function(n,r){n&1&&($(0,"div",0),Ee(1,"app-banner",1),$(2,"div",2)(3,"div",3)(4,"h1"),te(5,"Settings"),K(),$(6,"div",4)(7,"h3"),te(8,"Dark Mode"),K(),Ee(9,"app-theme"),K()(),$(10,"div",5)(11,"h1"),te(12,"Orders"),K(),$(13,"div",6),se(14,_H,2,0,"p"),se(15,EH,2,0,"p",7),se(16,TH,2,0),K()()()()),n&2&&(P(),fe("data",r.bannerData),P(13),ae(r.loading()?14:-1),P(),ae(!r.loading()&&r.orders().length===0?15:-1),P(),ae(!r.loading()&&r.orders().length>0?16:-1))},dependencies:[er,Uh,_y],styles:[".orders-shell[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.orders-content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.orders-wrapper[_ngcontent-%COMP%]{margin-top:3rem;padding:.5rem;width:calc(100% - 2rem);max-width:var(--maxWidth)}.orders-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.order-display[_ngcontent-%COMP%]{margin-bottom:1rem;padding-bottom:1rem;width:100%;background-color:var(--primary);color:#fffaf0}.order-stats[_ngcontent-%COMP%]{margin:1rem 0;display:flex;justify-content:space-around}.activities-wrapper[_ngcontent-%COMP%]{margin:0 0 1rem}.activity-entry[_ngcontent-%COMP%]{margin:.5rem 1rem;padding:.5rem 1.5rem;display:flex;justify-content:space-between;background-color:var(--secondary)}.order-delete[_ngcontent-%COMP%]{margin:1rem 0 0;padding:.1rem 2rem 0;font-family:Bebas Neue,sans-serif;font-size:1.5rem;background-color:#fffaf0;color:var(--primary);border:2px solid transparent;box-sizing:border-box;cursor:pointer;transition:transform .05s ease-in-out}.settings-wrapper[_ngcontent-%COMP%]{padding:.5rem;width:calc(100% - 2rem);max-width:var(--maxWidth)}.setting[_ngcontent-%COMP%]{padding:.5rem;display:flex;flex-direction:row;justify-content:space-between;align-items:center;background-color:var(--setting-background)}h1[_ngcontent-%COMP%]{margin:0 0 1rem;padding:0;font-family:Malvie,sans-serif;color:var(--highlight)}h3[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Belanosima,sans-serif;font-weight:400;color:var(--setting-text)}h4[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Malvie,sans-serif;font-size:1.25rem}.empty[_ngcontent-%COMP%]{font-size:1.5rem}p[_ngcontent-%COMP%]{margin:0;padding:0}@media(hover:hover){.order-delete[_ngcontent-%COMP%]:hover{transform:scale(1.1)}}"]})};var lM=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:gf},{path:"transportation",component:Si,data:{data:iM}},{path:"lodging",component:Si,data:{data:oM}},{path:"food",component:Si,data:{data:sM}},{path:"entertainment",component:Si,data:{data:aM}},{path:"sightseeing",component:Si,data:{data:cM}},{path:"cart",component:jh},{path:"profile",component:Bh}];var dM={providers:[Yg(),ev(lM,tv({scrollPositionRestoration:"enabled"}))]};function DH(t,e){if(t&1&&($(0,"span"),Ee(1,"span",5),K()),t&2){let n=Q(2);P(),ei("mask-image","url("+n.linkData.icon+")")("-webkit-mask-image","url("+n.linkData.icon+")")}}function CH(t,e){if(t&1&&($(0,"a",3),se(1,DH,2,4,"span"),$(2,"span",4),te(3),K()()),t&2){let n=Q();Cd("mode-"+n.linkData.displayMode),fe("routerLink",n.linkData.route),P(),ae(n.linkData.icon?1:-1),P(2),Pe(n.linkData.text)}}function bH(t,e){if(t&1&&($(0,"span"),Ee(1,"span",5),K()),t&2){let n=Q(2);P(),ei("mask-image","url("+n.linkData.icon+")")("-webkit-mask-image","url("+n.linkData.icon+")")}}function SH(t,e){if(t&1&&($(0,"button"),se(1,bH,2,4,"span"),$(2,"span",4),te(3),K()()),t&2){let n=Q();Cd("mode-"+n.linkData.displayMode),P(),ae(n.linkData.icon?1:-1),P(2),Pe(n.linkData.text)}}var $h=class t{linkData;isButton=!1;iconExempt=["text-only","responsive-hide"];ngOnInit(){!this.iconExempt.includes(this.linkData.displayMode)&&!this.linkData.icon&&console.warn(`NAV LINK: ${this.linkData.text}: displayMode '${this.linkData.displayMode}' requires an [icon] input`)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["app-nav-link"]],inputs:{linkData:"linkData",isButton:"isButton"},decls:3,vars:1,consts:[[1,"link-shell"],["routerLinkActive","active",3,"routerLink","class"],[3,"class"],["routerLinkActive","active",3,"routerLink"],[1,"nav-text"],[1,"nav-icon"]],template:function(n,r){n&1&&($(0,"div",0),se(1,CH,4,5,"a",1)(2,SH,4,4,"button",2),K()),n&2&&(P(),ae(r.isButton?2:1))},dependencies:[As,Xy],styles:["button[_ngcontent-%COMP%]{background-color:transparent}a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin:0;padding:0;height:2rem;color:var(--nav-text);text-decoration:none;text-align:center;display:flex;align-items:center;justify-content:center;gap:0;border:2px solid transparent;box-sizing:border-box;cursor:pointer}a.mode-text-only[_ngcontent-%COMP%], a.mode-responsive[_ngcontent-%COMP%], button.mode-text-only[_ngcontent-%COMP%], button.mode-responsive[_ngcontent-%COMP%]{padding:0 1rem}a.mode-icon-only[_ngcontent-%COMP%]{padding:.25rem}a.mode-both[_ngcontent-%COMP%]{padding:.25rem 1rem 0;gap:.25rem}.mode-text-only[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%], .mode-responsive[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{display:none}.mode-icon-only[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{margin:0;padding:0;display:none}.mode-responsive-show[_ngcontent-%COMP%], .mode-responsive-show[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{display:none}.mode-responsive-hide[_ngcontent-%COMP%]{padding:0 1rem}.nav-icon[_ngcontent-%COMP%]{display:inline-block;width:1.75rem;height:1.75rem;background-color:var(--nav-icon);mask-size:contain;-webkit-mask-size:contain;mask-repeat:no-repeat;-webkit-mask-repeat:no-repeat;mask-position:center;-webkit-mask-position:center}.nav-text[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Bebas Neue,sans-serif;font-size:2rem;font-weight:400;font-variant:all-small-caps;color:var(--nav-text)}@media(max-width:1080px){a.mode-responsive[_ngcontent-%COMP%]{padding:.25rem}.mode-responsive[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{display:block}.mode-responsive[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{display:none}.mode-responsive-show[_ngcontent-%COMP%]{display:inline}.mode-responsive-hide[_ngcontent-%COMP%]{padding:0;display:none}}@media(max-width:500px){.nav-icon[_ngcontent-%COMP%]{width:2rem;height:2rem}}@media(hover:hover){a[_ngcontent-%COMP%]:not(.mode-icon-only,.mode-responsive-show):hover, button[_ngcontent-%COMP%]:not(.mode-icon-only,.mode-responsive-show):hover{color:var(--nav-highlight);border:2px solid var(--nav-highlight)}.nav-icon[_ngcontent-%COMP%]:hover{background-color:var(--nav-icon-highlight)}@media(max-width:1080px){a.mode-responsive[_ngcontent-%COMP%]:hover, a.mode-responsive-hide[_ngcontent-%COMP%]:hover{color:var(--nav-text);border:2px solid transparent}a[_ngcontent-%COMP%]:not(.mode-icon-only,.mode-responsive-show):hover, button[_ngcontent-%COMP%]:not(.mode-icon-only,.mode-responsive-show):hover{border:2px solid transparent}a[_ngcontent-%COMP%]:not(.mode-icon-only,.mode-responsive-show):hover   .nav-text[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:not(.mode-icon-only,.mode-responsive-show):hover   .nav-text[_ngcontent-%COMP%]{border:2px solid transparent;color:var(--nav-text-mobile-highlight)}}}"]})};var Hh=class t{breakpoint=1080;isDesktop=$e(window.innerWidth>this.breakpoint);constructor(){window.addEventListener("resize",this.onResize.bind(this))}onResize(){this.isDesktop.set(window.innerWidth>this.breakpoint)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})};var RH=["exploreButtonRef"],NH=["exploreMenuRef"],MH=(t,e)=>e.route;function xH(t,e){if(t&1&&Ee(0,"app-nav-link",3)(1,"app-nav-link",3)(2,"app-nav-link",3)(3,"app-nav-link",3)(4,"app-nav-link",3),t&2){let n=Q();fe("linkData",n.transportation),P(),fe("linkData",n.lodging),P(),fe("linkData",n.food),P(),fe("linkData",n.entertainment),P(),fe("linkData",n.sightseeing)}}function PH(t,e){if(t&1){let n=Ht();$(0,"app-nav-link",6),dn("click",function(){Nt(n);let i=Q(2);return Mt(i.closeExplore())}),K()}if(t&2){let n=e.$implicit;fe("linkData",n)}}function OH(t,e){if(t&1){let n=Ht();$(0,"app-nav-link",4,0),dn("click",function(){Nt(n);let i=Q();return Mt(i.toggleExplore())}),K(),$(2,"div",5,1),gt(4,PH,1,1,"app-nav-link",3,MH),K()}if(t&2){let n=Q();fe("linkData",n.explore)("isButton",!0),P(2),ls("is-open",n.isExploreOpen()),P(2),mt(n.exploreLinks)}}var zh=class t{constructor(e){this.screenService=e;this.isDesktop=e.isDesktop}isDesktop;isExploreOpen=$e(!1);exploreButtonRef;exploreMenuRef;toggleExplore(){this.isExploreOpen.update(e=>!e)}closeExplore(){this.isExploreOpen.set(!1)}clickout(e){if(!this.isExploreOpen())return;let n=e.target,r=this.exploreButtonRef?.nativeElement.contains(n),i=this.exploreMenuRef?.nativeElement.contains(n);!r&&!i&&this.closeExplore()}home={text:"Home",route:"/home",icon:"icons/home.svg",displayMode:"responsive"};transportation={text:"Transportation",route:"/transportation",icon:"",displayMode:"responsive-hide"};lodging={text:"Lodging",route:"/lodging",icon:"",displayMode:"responsive-hide"};food={text:"Food",route:"/food",icon:"",displayMode:"responsive-hide"};entertainment={text:"Entertainment",route:"/entertainment",icon:"",displayMode:"responsive-hide"};sightseeing={text:"Sightseeing",route:"/sightseeing",icon:"",displayMode:"responsive-hide"};cart={text:"Cart",route:"/cart",icon:"icons/cart.svg",displayMode:"icon-only"};profile={text:"Profile",route:"/profile",icon:"icons/profile.svg",displayMode:"icon-only"};explore={text:"Explore",route:"#",icon:"icons/explore.svg",displayMode:"icon-only"};exploreLinks=[{text:"Transportation",route:"/transportation",displayMode:"text-only"},{text:"Lodging",route:"/lodging",displayMode:"text-only"},{text:"Food",route:"/food",displayMode:"text-only"},{text:"Entertainment",route:"/entertainment",displayMode:"text-only"},{text:"Sightseeing",route:"/sightseeing",displayMode:"text-only"}];static \u0275fac=function(n){return new(n||t)(de(Hh))};static \u0275cmp=Te({type:t,selectors:[["app-navbar"]],viewQuery:function(n,r){if(n&1&&(Dd(RH,5,$t),Dd(NH,5,$t)),n&2){let i;cs(i=us())&&(r.exploreButtonRef=i.first),cs(i=us())&&(r.exploreMenuRef=i.first)}},hostBindings:function(n,r){n&1&&dn("click",function(o){return r.clickout(o)},Vm)},decls:7,vars:4,consts:[["exploreButtonRef",""],["exploreMenuRef",""],[1,"nav-shell"],[3,"linkData"],[3,"click","linkData","isButton"],[1,"explore-menu"],[3,"click","linkData"]],template:function(n,r){n&1&&($(0,"div",2)(1,"nav"),Ee(2,"app-nav-link",3),se(3,xH,5,5)(4,OH,6,4),Ee(5,"app-nav-link",3)(6,"app-nav-link",3),K()()),n&2&&(P(2),fe("linkData",r.home),P(),ae(r.isDesktop()?3:4),P(2),fe("linkData",r.cart),P(),fe("linkData",r.profile))},dependencies:[$h],styles:[".nav-shell[_ngcontent-%COMP%]{position:fixed;top:0;z-index:1000;width:100%}nav[_ngcontent-%COMP%]{margin:0;padding:0;width:100%;height:3rem;display:flex;flex-direction:row;justify-content:center;gap:.5rem;align-items:center;background-color:var(--background);box-shadow:0 .5rem 1rem #0000004d}a[_ngcontent-%COMP%]{padding:0 1rem;height:2rem;display:flex;align-items:center;color:var(--nav-text);text-decoration:none;text-align:center;font-size:1.1rem;font-weight:700;font-variant:all-small-caps;border:2px solid transparent;box-sizing:border-box;cursor:pointer}a[_ngcontent-%COMP%]:hover{color:var(--nav-highlight);border:2px solid var(--nav-highlight)}@media(max-width:1080px){.nav-shell[_ngcontent-%COMP%]{top:auto;bottom:0}nav[_ngcontent-%COMP%]{justify-content:center;gap:2rem;box-shadow:0 -.5rem 1rem #0000004d}}.explore-menu[_ngcontent-%COMP%]{padding:1rem;width:100%;position:fixed;bottom:3rem;z-index:-1;display:flex;flex-direction:column;gap:1rem;background-color:var(--background);box-shadow:0 -.5rem 1rem #0000004d;opacity:0;transform:translateY(100%);transition:opacity .2s ease-in-out,transform .2s ease-in-out;pointer-events:none}.explore-menu.is-open[_ngcontent-%COMP%]{opacity:1;transform:translateY(0);pointer-events:auto}@media(max-width:500px){nav[_ngcontent-%COMP%]{height:3rem;justify-content:space-around}.explore-menu[_ngcontent-%COMP%]{bottom:3rem}}"]})};function kH(t,e){if(t&1&&(ye(0,"a",1),te(1),ve()),t&2){let n=Q().$implicit;Qn("href",n.link,cn),P(),Pe(n.text)}}function LH(t,e){if(t&1&&(ye(0,"p"),te(1),ve()),t&2){let n=Q().$implicit;P(),Pe(n.text)}}function FH(t,e){if(t&1&&se(0,kH,2,2,"a",1)(1,LH,2,1,"p"),t&2){let n=e.$implicit;ae(n.link!=""?0:1)}}function VH(t,e){if(t&1&&gt(0,FH,2,1,null,null,ln),t&2){let n=Q();mt(n.footerData.lines)}}var qh=class t{footerData;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Te({type:t,selectors:[["app-footer"]],inputs:{footerData:"footerData"},decls:3,vars:1,consts:[[1,"footer-shell"],[3,"href"]],template:function(n,r){n&1&&(ye(0,"div",0)(1,"footer"),se(2,VH,2,0),ve()()),n&2&&(P(2),ae(r.footerData?2:-1))},styles:[".footer-shell[_ngcontent-%COMP%]{margin:3rem 0 0}footer[_ngcontent-%COMP%]{margin:0;padding:1rem;height:100px;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1rem;font-family:Belanosima,sans-serif;text-align:center;background-color:var(--primary);color:#fffaf0}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fffaf0;cursor:pointer}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:inherit;text-decoration:none}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.25rem}"]})};var jH=(t,e)=>e.id;function UH(t,e){if(t&1&&(ye(0,"div",1)(1,"p"),te(2),ve()()),t&2){let n=e.$implicit;P(2),Pe(n.message)}}var Gh=class t{constructor(e){this.toastService=e}static \u0275fac=function(n){return new(n||t)(de(Ci))};static \u0275cmp=Te({type:t,selectors:[["app-toast"]],decls:3,vars:0,consts:[[1,"toast-stack-shell"],[1,"toast"]],template:function(n,r){n&1&&(ye(0,"div",0),gt(1,UH,3,1,"div",1,jH),ve()),n&2&&(P(),mt(r.toastService.activeToasts()))},styles:[".toast-stack-shell[_ngcontent-%COMP%]{position:fixed;bottom:3.5rem;left:50%;transform:translate(-50%);z-index:1001;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1rem}.toast[_ngcontent-%COMP%]{width:fit-content;text-align:center;background-color:var(--toast-background);color:var(--toast-text);padding:10px 20px;box-shadow:0 4px 12px #0000004d;animation:_ngcontent-%COMP%_toast-fade 3s ease-in-out forwards}@keyframes _ngcontent-%COMP%_toast-fade{0%{opacity:0}10%{opacity:1}90%{opacity:1}to{opacity:0}}.toast[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}"]})};var Wh=class t{constructor(e){this.themeService=e}title=$e("ng-taniti");footerData={lines:[{text:"Photos licensed from Adobe Stock",link:"fake link"},{text:"Made with Angular 21",link:""},{text:"2025",link:""}]};ngOnInit(){this.themeService.initializeTheme()}static \u0275fac=function(n){return new(n||t)(de(sa))};static \u0275cmp=Te({type:t,selectors:[["app-root"]],decls:6,vars:1,consts:[[1,"app-shell"],[1,"main"],[3,"footerData"]],template:function(n,r){n&1&&($(0,"div",0),Ee(1,"app-toast")(2,"app-navbar"),$(3,"div",1),Ee(4,"router-outlet"),K(),Ee(5,"app-footer",2),K()),n&2&&(P(5),fe("footerData",r.footerData))},dependencies:[Vc,zh,qh,Gh],styles:[".app-shell[_ngcontent-%COMP%]{padding-top:3rem;min-height:calc(100vh + 150px);display:flex;flex-direction:column;justify-content:space-between}.main[_ngcontent-%COMP%]{margin:0;padding:0;flex:1}app-footer[_ngcontent-%COMP%]{padding-bottom:0}@media(max-width:1080px){.app-shell[_ngcontent-%COMP%]{padding-top:0}app-footer[_ngcontent-%COMP%]{padding-bottom:3rem}}@media(max-width:500px){app-footer[_ngcontent-%COMP%]{padding-bottom:3rem}}"]})};var BH="firebase",$H="12.6.0";On(BH,$H,"app");var fM={production:!1,firebaseConfig:{apiKey:"AIzaSyDweRdkdGsOkzaOxWWuoJ0JVQ7-KFtltFM",authDomain:"ng-taniti.firebaseapp.com",projectId:"ng-taniti",storageBucket:"ng-taniti.firebasestorage.app",messagingSenderId:"521171139506",appId:"1:521171139506:web:50d1e74c05b2b4de4182ab"}};var gre=Dv(fM.firebaseConfig);Ry(Wh,dM).catch(t=>console.error(t));
