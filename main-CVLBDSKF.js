var hx=Object.defineProperty,px=Object.defineProperties;var gx=Object.getOwnPropertyDescriptors;var Bu=Object.getOwnPropertySymbols;var Vw=Object.prototype.hasOwnProperty,jw=Object.prototype.propertyIsEnumerable;var Fw=(t,e,n)=>e in t?hx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,M=(t,e)=>{for(var n in e||={})Vw.call(e,n)&&Fw(t,n,e[n]);if(Bu)for(var n of Bu(e))jw.call(e,n)&&Fw(t,n,e[n]);return t},re=(t,e)=>px(t,gx(e));var Cp=(t,e)=>{var n={};for(var r in t)Vw.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Bu)for(var r of Bu(t))e.indexOf(r)<0&&jw.call(t,r)&&(n[r]=t[r]);return n};var _t=null,Hu=!1,Rp=1,mx=null,jt=Symbol("SIGNAL");function G(t){let e=_t;return _t=t,e}function zu(){return _t}var ba={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Sa(t){if(Hu)throw new Error("");if(_t===null)return;_t.consumerOnSignalRead(t);let e=_t.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=_t.recomputing;if(r&&(n=e!==void 0?e.nextProducer:_t.producers,n!==void 0&&n.producer===t)){_t.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===_t&&(!r||vx(i,_t)))return;let o=Fo(_t),s={producer:t,consumer:_t,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};_t.producersTail=s,e!==void 0?e.nextProducer=s:_t.producers=s,o&&$w(t,s)}function Uw(){Rp++}function Np(t){if(!(Fo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Rp)){if(!t.producerMustRecompute(t)&&!Gu(t)){Ap(t);return}t.producerRecomputeValue(t),Ap(t)}}function Mp(t){if(t.consumers===void 0)return;let e=Hu;Hu=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||yx(r)}}finally{Hu=e}}function xp(){return _t?.consumerAllowSignalWrites!==!1}function yx(t){t.dirty=!0,Mp(t),t.consumerMarkedDirty?.(t)}function Ap(t){t.dirty=!1,t.lastCleanEpoch=Rp}function Aa(t){return t&&Bw(t),G(t)}function Bw(t){t.producersTail=void 0,t.recomputing=!0}function qu(t,e){G(e),t&&Hw(t)}function Hw(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(Fo(t))do n=Pp(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Gu(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Np(n),r!==n.version))return!0}return!1}function Ra(t){if(Fo(t)){let e=t.producers;for(;e!==void 0;)e=Pp(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function $w(t,e){let n=t.consumersTail,r=Fo(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)$w(i.producer,i)}function Pp(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Fo(e)){let o=e.producers;for(;o!==void 0;)o=Pp(o)}return n}function Fo(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Op(t){mx?.(t)}function vx(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function kp(t,e){return Object.is(t,e)}function Wu(t,e){let n=Object.create(_x);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Np(n),Sa(n),n.value===$u)throw n.error;return n.value};return r[jt]=n,Op(n),r}var bp=Symbol("UNSET"),Sp=Symbol("COMPUTING"),$u=Symbol("ERRORED"),_x=re(M({},ba),{value:bp,dirty:!0,error:null,equal:kp,kind:"computed",producerMustRecompute(t){return t.value===bp||t.value===Sp},producerRecomputeValue(t){if(t.value===Sp)throw new Error("");let e=t.value;t.value=Sp;let n=Aa(t),r,i=!1;try{r=t.computation(),G(null),i=e!==bp&&e!==$u&&r!==$u&&t.equal(e,r)}catch(o){r=$u,t.error=o}finally{qu(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function Ex(){throw new Error}var zw=Ex;function qw(t){zw(t)}function Lp(t){zw=t}var Ix=null;function Fp(t,e){let n=Object.create(Ku);n.value=t,e!==void 0&&(n.equal=e);let r=()=>Gw(n);return r[jt]=n,Op(n),[r,s=>Na(n,s),s=>Ww(n,s)]}function Gw(t){return Sa(t),t.value}function Na(t,e){xp()||qw(t),t.equal(t.value,e)||(t.value=e,wx(t))}function Ww(t,e){xp()||qw(t),Na(t,e(t.value))}var Ku=re(M({},ba),{equal:kp,value:void 0,kind:"signal"});function wx(t){t.version++,Uw(),Mp(t),Ix?.(t)}function Vp(t){let e=G(null);try{return t()}finally{G(e)}}function ee(t){return typeof t=="function"}function Vo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Qu=Vo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ma(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ht=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(o){e=o instanceof Qu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Kw(o)}catch(s){e=e??[],s instanceof Qu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Qu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Kw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ma(n,e)}remove(e){let{_finalizers:n}=this;n&&Ma(n,e),e instanceof t&&e._removeParent(this)}};ht.EMPTY=(()=>{let t=new ht;return t.closed=!0,t})();var jp=ht.EMPTY;function Yu(t){return t instanceof ht||t&&"closed"in t&&ee(t.remove)&&ee(t.add)&&ee(t.unsubscribe)}function Kw(t){ee(t)?t():t.unsubscribe()}var vn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var jo={setTimeout(t,e,...n){let{delegate:r}=jo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=jo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ju(t){jo.setTimeout(()=>{let{onUnhandledError:e}=vn;if(e)e(t);else throw t})}function xa(){}var Qw=Up("C",void 0,void 0);function Yw(t){return Up("E",void 0,t)}function Jw(t){return Up("N",t,void 0)}function Up(t,e,n){return{kind:t,value:e,error:n}}var ki=null;function Uo(t){if(vn.useDeprecatedSynchronousErrorHandling){let e=!ki;if(e&&(ki={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ki;if(ki=null,n)throw r}}else t()}function Zw(t){vn.useDeprecatedSynchronousErrorHandling&&ki&&(ki.errorThrown=!0,ki.error=t)}var Li=class extends ht{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Yu(e)&&e.add(this)):this.destination=Cx}static create(e,n,r){return new Bo(e,n,r)}next(e){this.isStopped?Hp(Jw(e),this):this._next(e)}error(e){this.isStopped?Hp(Yw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Hp(Qw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Tx=Function.prototype.bind;function Bp(t,e){return Tx.call(t,e)}var $p=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Zu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Zu(r)}else Zu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Zu(n)}}},Bo=class extends Li{constructor(e,n,r){super();let i;if(ee(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&vn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Bp(e.next,o),error:e.error&&Bp(e.error,o),complete:e.complete&&Bp(e.complete,o)}):i=e}this.destination=new $p(i)}};function Zu(t){vn.useDeprecatedSynchronousErrorHandling?Zw(t):Ju(t)}function Dx(t){throw t}function Hp(t,e){let{onStoppedNotification:n}=vn;n&&jo.setTimeout(()=>n(t,e))}var Cx={closed:!0,next:xa,error:Dx,complete:xa};var Ho=typeof Symbol=="function"&&Symbol.observable||"@@observable";function _n(t){return t}function zp(...t){return qp(t)}function qp(t){return t.length===0?_n:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var _e=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Sx(n)?n:new Bo(n,r,i);return Uo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Xw(r),new r((i,o)=>{let s=new Bo({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ho](){return this}pipe(...n){return qp(n)(this)}toPromise(n){return n=Xw(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Xw(t){var e;return(e=t??vn.Promise)!==null&&e!==void 0?e:Promise}function bx(t){return t&&ee(t.next)&&ee(t.error)&&ee(t.complete)}function Sx(t){return t&&t instanceof Li||bx(t)&&Yu(t)}function Ax(t){return ee(t?.lift)}function Te(t){return e=>{if(Ax(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function be(t,e,n,r,i){return new Gp(t,e,n,r,i)}var Gp=class extends Li{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var eT=Vo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var st=(()=>{class t extends _e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Xu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new eT}next(n){Uo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Uo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Uo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?jp:(this.currentObservers=null,o.push(n),new ht(()=>{this.currentObservers=null,Ma(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new _e;return n.source=this,n}}return t.create=(e,n)=>new Xu(e,n),t})(),Xu=class extends st{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:jp}};var pt=class extends st{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ut=new _e(t=>t.complete());function tT(t){return t&&ee(t.schedule)}function nT(t){return t[t.length-1]}function rT(t){return ee(nT(t))?t.pop():void 0}function Hr(t){return tT(nT(t))?t.pop():void 0}function oT(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function iT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fi(t){return this instanceof Fi?(this.v=t,this):new Fi(t)}function sT(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(S){return Promise.resolve(S).then(y,p)}}function a(y,S){r[y]&&(i[y]=function(A){return new Promise(function(R,L){o.push([y,A,R,L])>1||u(y,A)})},S&&(i[y]=S(i[y])))}function u(y,S){try{l(r[y](S))}catch(A){m(o[0][3],A)}}function l(y){y.value instanceof Fi?Promise.resolve(y.value.v).then(f,p):m(o[0][2],y)}function f(y){u("next",y)}function p(y){u("throw",y)}function m(y,S){y(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function aT(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof iT=="function"?iT(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var el=t=>t&&typeof t.length=="number"&&typeof t!="function";function tl(t){return ee(t?.then)}function nl(t){return ee(t[Ho])}function rl(t){return Symbol.asyncIterator&&ee(t?.[Symbol.asyncIterator])}function il(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Rx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ol=Rx();function sl(t){return ee(t?.[ol])}function al(t){return sT(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Fi(n.read());if(i)return yield Fi(void 0);yield yield Fi(r)}}finally{n.releaseLock()}})}function cl(t){return ee(t?.getReader)}function at(t){if(t instanceof _e)return t;if(t!=null){if(nl(t))return Nx(t);if(el(t))return Mx(t);if(tl(t))return xx(t);if(rl(t))return cT(t);if(sl(t))return Px(t);if(cl(t))return Ox(t)}throw il(t)}function Nx(t){return new _e(e=>{let n=t[Ho]();if(ee(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Mx(t){return new _e(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function xx(t){return new _e(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ju)})}function Px(t){return new _e(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function cT(t){return new _e(e=>{kx(t,e).catch(n=>e.error(n))})}function Ox(t){return cT(al(t))}function kx(t,e){var n,r,i,o;return oT(this,void 0,void 0,function*(){try{for(n=aT(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Bt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ul(t,e=0){return Te((n,r)=>{n.subscribe(be(r,i=>Bt(r,t,()=>r.next(i),e),()=>Bt(r,t,()=>r.complete(),e),i=>Bt(r,t,()=>r.error(i),e)))})}function ll(t,e=0){return Te((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function uT(t,e){return at(t).pipe(ll(e),ul(e))}function lT(t,e){return at(t).pipe(ll(e),ul(e))}function dT(t,e){return new _e(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function fT(t,e){return new _e(n=>{let r;return Bt(n,e,()=>{r=t[ol](),Bt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function dl(t,e){if(!t)throw new Error("Iterable cannot be null");return new _e(n=>{Bt(n,e,()=>{let r=t[Symbol.asyncIterator]();Bt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function hT(t,e){return dl(al(t),e)}function pT(t,e){if(t!=null){if(nl(t))return uT(t,e);if(el(t))return dT(t,e);if(tl(t))return lT(t,e);if(rl(t))return dl(t,e);if(sl(t))return fT(t,e);if(cl(t))return hT(t,e)}throw il(t)}function Xe(t,e){return e?pT(t,e):at(t)}function ue(...t){let e=Hr(t);return Xe(t,e)}function Wp(t,e){let n=ee(t)?t:()=>t,r=i=>i.error(n());return new _e(e?i=>e.schedule(r,0,i):r)}function fl(t){return!!t&&(t instanceof _e||ee(t.lift)&&ee(t.subscribe))}var Vi=Vo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ke(t,e){return Te((n,r)=>{let i=0;n.subscribe(be(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Lx}=Array;function Fx(t,e){return Lx(e)?t(...e):t(e)}function gT(t){return ke(e=>Fx(t,e))}var{isArray:Vx}=Array,{getPrototypeOf:jx,prototype:Ux,keys:Bx}=Object;function mT(t){if(t.length===1){let e=t[0];if(Vx(e))return{args:e,keys:null};if(Hx(e)){let n=Bx(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Hx(t){return t&&typeof t=="object"&&jx(t)===Ux}function yT(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Kp(...t){let e=Hr(t),n=rT(t),{args:r,keys:i}=mT(t);if(r.length===0)return Xe([],e);let o=new _e($x(r,e,i?s=>yT(i,s):_n));return n?o.pipe(gT(n)):o}function $x(t,e,n=_n){return r=>{vT(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)vT(e,()=>{let l=Xe(t[u],e),f=!1;l.subscribe(be(r,p=>{o[u]=p,f||(f=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function vT(t,e,n){t?Bt(n,t,e):e()}function _T(t,e,n,r,i,o,s,a){let u=[],l=0,f=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=A=>l<r?S(A):u.push(A),S=A=>{o&&e.next(A),l++;let R=!1;at(n(A,f++)).subscribe(be(e,L=>{i?.(L),o?y(L):e.next(L)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let L=u.shift();s?Bt(e,s,()=>S(L)):S(L)}m()}catch(L){e.error(L)}}))};return t.subscribe(be(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Et(t,e,n=1/0){return ee(e)?Et((r,i)=>ke((o,s)=>e(r,o,i,s))(at(t(r,i))),n):(typeof e=="number"&&(n=e),Te((r,i)=>_T(r,i,t,n)))}function $o(t=1/0){return Et(_n,t)}function ET(){return $o(1)}function zo(...t){return ET()(Xe(t,Hr(t)))}function Pa(t){return new _e(e=>{at(t()).subscribe(e)})}function En(t,e){return Te((n,r)=>{let i=0;n.subscribe(be(r,o=>t.call(e,o,i++)&&r.next(o)))})}function qo(t){return Te((e,n)=>{let r=null,i=!1,o;r=e.subscribe(be(n,void 0,void 0,s=>{o=at(t(s,qo(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Oa(t,e){return ee(e)?Et(t,e,1):Et(t,1)}function Qp(t){return Te((e,n)=>{let r=!1;e.subscribe(be(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function fr(t){return t<=0?()=>Ut:Te((e,n)=>{let r=0;e.subscribe(be(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function IT(t=zx){return Te((e,n)=>{let r=!1;e.subscribe(be(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function zx(){return new Vi}function Yp(t){return Te((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function hr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?En((i,o)=>t(i,o,r)):_n,fr(1),n?Qp(e):IT(()=>new Vi))}function hl(t){return t<=0?()=>Ut:Te((e,n)=>{let r=[];e.subscribe(be(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Jp(...t){let e=Hr(t);return Te((n,r)=>{(e?zo(t,n,e):zo(t,n)).subscribe(r)})}function Hn(t,e){return Te((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(be(r,u=>{i?.unsubscribe();let l=0,f=o++;at(t(u,f)).subscribe(i=be(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ka(t){return Te((e,n)=>{at(t).subscribe(be(n,()=>n.complete(),xa)),!n.closed&&e.subscribe(n)})}function Rt(t,e,n){let r=ee(t)||e||n?{next:t,error:e,complete:n}:t;return r?Te((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(be(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):_n}var Zp;function pl(){return Zp}function $n(t){let e=Zp;return Zp=t,e}var wT=Symbol("NotFound");function Go(t){return t===wT||t?.name==="\u0275NotFound"}var El="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",U=class extends Error{code;constructor(e,n){super(qr(e,n)),this.code=e}};function Wx(t){return`NG0${Math.abs(t)}`}function qr(t,e){return`${Wx(t)}${e?": "+e:""}`}var wn=globalThis;function De(t){for(let e in t)if(t[e]===De)return e;throw Error("")}function gr(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(gr).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Il(t,e){return t?e?`${t} ${e}`:t:e||""}var Kx=De({__forward_ref__:De});function wl(t){return t.__forward_ref__=wl,t.toString=function(){return gr(this())},t}function Ht(t){return hg(t)?t():t}function hg(t){return typeof t=="function"&&t.hasOwnProperty(Kx)&&t.__forward_ref__===wl}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ba(t){return Qx(t,Tl)}function pg(t){return Ba(t)!==null}function Qx(t,e){return t.hasOwnProperty(e)&&t[e]||null}function Yx(t){let e=t?.[Tl]??null;return e||null}function eg(t){return t&&t.hasOwnProperty(ml)?t[ml]:null}var Tl=De({\u0275prov:De}),ml=De({\u0275inj:De}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function gg(t){return t&&!!t.\u0275providers}var mg=De({\u0275cmp:De}),yg=De({\u0275dir:De}),vg=De({\u0275pipe:De}),_g=De({\u0275mod:De}),Fa=De({\u0275fac:De}),Hi=De({__NG_ELEMENT_ID__:De}),TT=De({__NG_ENV_ID__:De});function Qo(t){return typeof t=="string"?t:t==null?"":String(t)}function ST(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Qo(t)}var AT=De({ngErrorCode:De}),Jx=De({ngErrorMessage:De}),Zx=De({ngTokenPath:De});function Eg(t,e){return RT("",-200,e)}function Dl(t,e){throw new U(-201,!1)}function RT(t,e,n){let r=new U(e,t);return r[AT]=e,r[Jx]=t,n&&(r[Zx]=n),r}function Xx(t){return t[AT]}var tg;function NT(){return tg}function Nt(t){let e=tg;return tg=t,e}function Ig(t,e,n){let r=Ba(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Dl(t,"Injector")}var eP={},ji=eP,tP="__NG_DI_FLAG__",ng=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Ui(n)||0;try{return this.injector.get(e,r&8?null:ji,r)}catch(i){if(Go(i))return i;throw i}}};function nP(t,e=0){let n=pl();if(n===void 0)throw new U(-203,!1);if(n===null)return Ig(t,void 0,e);{let r=rP(e),i=n.retrieve(t,r);if(Go(i)){if(r.optional)return null;throw i}return i}}function W(t,e=0){return(NT()||nP)(Ht(t),e)}function P(t,e){return W(t,Ui(e))}function Ui(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function rP(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function rg(t){let e=[];for(let n=0;n<t.length;n++){let r=Ht(t[n]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=iP(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(W(i,o))}else e.push(W(r))}return e}function iP(t){return t[tP]}function $r(t,e){let n=t.hasOwnProperty(Fa);return n?t[Fa]:null}function MT(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function xT(t){return t.flat(Number.POSITIVE_INFINITY)}function Cl(t,e){t.forEach(n=>Array.isArray(n)?Cl(n,e):e(n))}function wg(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ha(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function PT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function bl(t,e,n){let r=Yo(t,e);return r>=0?t[r|1]=n:(r=~r,PT(t,r,e,n)),r}function Sl(t,e){let n=Yo(t,e);if(n>=0)return t[n|1]}function Yo(t,e){return oP(t,e,1)}function oP(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var $i={},zn=[],zi=new $(""),Tg=new $("",-1),Dg=new $(""),Va=class{get(e,n=ji){if(n===ji){let i=RT("",-201);throw i.name="\u0275NotFound",i}return n}};function Cg(t){return t[_g]||null}function Gr(t){return t[mg]||null}function bg(t){return t[yg]||null}function OT(t){return t[vg]||null}function qi(t){return{\u0275providers:t}}function kT(t){return qi([{provide:zi,multi:!0,useValue:t}])}function LT(...t){return{\u0275providers:Sg(!0,t),\u0275fromNgModule:!0}}function Sg(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Cl(e,s=>{let a=s;yl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&FT(i,o),n}function FT(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Ag(i,o=>{e(o,r)})}}function yl(t,e,n,r){if(t=Ht(t),!t)return!1;let i=null,o=eg(t),s=!o&&Gr(t);if(!o&&!s){let u=t.ngModule;if(o=eg(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)yl(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Cl(o.imports,f=>{yl(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&FT(l,e)}if(!a){let l=$r(i)||(()=>new i);e({provide:i,useFactory:l,deps:zn},i),e({provide:Dg,useValue:i,multi:!0},i),e({provide:zi,useValue:()=>W(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Ag(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Ag(t,e){for(let n of t)gg(n)&&(n=n.\u0275providers),Array.isArray(n)?Ag(n,e):e(n)}var sP=De({provide:String,useValue:De});function VT(t){return t!==null&&typeof t=="object"&&sP in t}function aP(t){return!!(t&&t.useExisting)}function cP(t){return!!(t&&t.useFactory)}function vl(t){return typeof t=="function"}var $a=new $(""),gl={},DT={},Xp;function za(){return Xp===void 0&&(Xp=new Va),Xp}var ct=class{},Bi=class extends ct{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,og(e,s=>this.processProvider(s)),this.records.set(Tg,Wo(void 0,this)),i.has("environment")&&this.records.set(ct,Wo(void 0,this));let o=this.records.get($a);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Dg,zn,{self:!0}))}retrieve(e,n){let r=Ui(n)||0;try{return this.get(e,ji,r)}catch(i){if(Go(i))return i;throw i}}destroy(){La(this),this._destroyed=!0;let e=G(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),G(e)}}onDestroy(e){return La(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){La(this);let n=$n(this),r=Nt(void 0),i;try{return e()}finally{$n(n),Nt(r)}}get(e,n=ji,r){if(La(this),e.hasOwnProperty(TT))return e[TT](this);let i=Ui(r),o,s=$n(this),a=Nt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let f=hP(e)&&Ba(e);f&&this.injectableDefInScope(f)?l=Wo(ig(e),gl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?za():this.parent;return n=i&8&&n===ji?null:n,u.get(e,n)}catch(u){let l=Xx(u);throw l===-200||l===-201?new U(l,null):u}finally{Nt(a),$n(s)}}resolveInjectorInitializers(){let e=G(null),n=$n(this),r=Nt(void 0),i;try{let o=this.get(zi,zn,{self:!0});for(let s of o)s()}finally{$n(n),Nt(r),G(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(gr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ht(e);let n=vl(e)?e:Ht(e&&e.provide),r=lP(e);if(!vl(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Wo(void 0,gl,!0),i.factory=()=>rg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=G(null);try{if(n.value===DT)throw Eg(gr(e));return n.value===gl&&(n.value=DT,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&fP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{G(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ht(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ig(t){let e=Ba(t),n=e!==null?e.factory:$r(t);if(n!==null)return n;if(t instanceof $)throw new U(204,!1);if(t instanceof Function)return uP(t);throw new U(204,!1)}function uP(t){if(t.length>0)throw new U(204,!1);let n=Yx(t);return n!==null?()=>n.factory(t):()=>new t}function lP(t){if(VT(t))return Wo(void 0,t.useValue);{let e=jT(t);return Wo(e,gl)}}function jT(t,e,n){let r;if(vl(t)){let i=Ht(t);return $r(i)||ig(i)}else if(VT(t))r=()=>Ht(t.useValue);else if(cP(t))r=()=>t.useFactory(...rg(t.deps||[]));else if(aP(t))r=(i,o)=>W(Ht(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Ht(t&&(t.useClass||t.provide));if(dP(t))r=()=>new i(...rg(t.deps));else return $r(i)||ig(i)}return r}function La(t){if(t.destroyed)throw new U(205,!1)}function Wo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function dP(t){return!!t.deps}function fP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function hP(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function og(t,e){for(let n of t)Array.isArray(n)?og(n,e):n&&gg(n)?og(n.\u0275providers,e):e(n)}function Mt(t,e){let n;t instanceof Bi?(La(t),n=t):n=new ng(t);let r,i=$n(n),o=Nt(void 0);try{return e()}finally{$n(i),Nt(o)}}function UT(){return NT()!==void 0||pl()!=null}var Tn=0,z=1,J=2,et=3,on=4,sn=5,Jo=6,Zo=7,$e=8,yr=9,qn=10,Le=11,Xo=12,Rg=13,Gi=14,Yt=15,Wr=16,Wi=17,Gn=18,qa=19,Ng=20,pr=21,Al=22,Ga=23,Jt=24,Rl=25,Ki=26,tt=27,BT=1,Mg=6,Kr=7,Wa=8,Qi=9,Ue=10;function Wn(t){return Array.isArray(t)&&typeof t[BT]=="object"}function Dn(t){return Array.isArray(t)&&t[BT]===!0}function xg(t){return(t.flags&4)!==0}function Qr(t){return t.componentOffset>-1}function Nl(t){return(t.flags&1)===1}function Yi(t){return!!t.template}function es(t){return(t[J]&512)!==0}function Ji(t){return(t[J]&256)===256}var HT="svg",$T="math";function an(t){for(;Array.isArray(t);)t=t[Tn];return t}function Pg(t,e){return an(e[t])}function Cn(t,e){return an(e[t.index])}function Ka(t,e){return t.data[e]}function zT(t,e){return t[e]}function Og(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function cn(t,e){let n=e[t];return Wn(n)?n:n[Tn]}function qT(t){return(t[J]&4)===4}function Ml(t){return(t[J]&128)===128}function GT(t){return Dn(t[et])}function Kn(t,e){return e==null?null:t[e]}function kg(t){t[Wi]=0}function Lg(t){t[J]&1024||(t[J]|=1024,Ml(t)&&Ya(t))}function WT(t,e){for(;t>0;)e=e[Gi],t--;return e}function Qa(t){return!!(t[J]&9216||t[Jt]?.dirty)}function xl(t){t[qn].changeDetectionScheduler?.notify(8),t[J]&64&&(t[J]|=1024),Qa(t)&&Ya(t)}function Ya(t){t[qn].changeDetectionScheduler?.notify(0);let e=zr(t);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!Ml(e)));)e=zr(e)}function Fg(t,e){if(Ji(t))throw new U(911,!1);t[pr]===null&&(t[pr]=[]),t[pr].push(e)}function KT(t,e){if(t[pr]===null)return;let n=t[pr].indexOf(e);n!==-1&&t[pr].splice(n,1)}function zr(t){let e=t[et];return Dn(e)?e[et]:e}function Vg(t){return t[Zo]??=[]}function jg(t){return t.cleanup??=[]}function QT(t,e,n,r){let i=Vg(e);i.push(n),t.firstCreatePass&&jg(t).push(r,i.length-1)}var ce={lFrame:cD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var sg=!1;function YT(){return ce.lFrame.elementDepthCount}function JT(){ce.lFrame.elementDepthCount++}function Ug(){ce.lFrame.elementDepthCount--}function ZT(){return ce.bindingsEnabled}function XT(){return ce.skipHydrationRootTNode!==null}function Bg(t){return ce.skipHydrationRootTNode===t}function Hg(){ce.skipHydrationRootTNode=null}function ae(){return ce.lFrame.lView}function ut(){return ce.lFrame.tView}function xt(t){return ce.lFrame.contextLView=t,t[$e]}function Pt(t){return ce.lFrame.contextLView=null,t}function Ot(){let t=$g();for(;t!==null&&t.type===64;)t=t.parent;return t}function $g(){return ce.lFrame.currentTNode}function eD(){let t=ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ts(t,e){let n=ce.lFrame;n.currentTNode=t,n.isParent=e}function zg(){return ce.lFrame.isParent}function tD(){ce.lFrame.isParent=!1}function qg(){return sg}function Gg(t){let e=sg;return sg=t,e}function Wg(){let t=ce.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function nD(t){return ce.lFrame.bindingIndex=t}function Zi(){return ce.lFrame.bindingIndex++}function Kg(t){let e=ce.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function rD(){return ce.lFrame.inI18n}function iD(t,e){let n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,Pl(e)}function oD(){return ce.lFrame.currentDirectiveIndex}function Pl(t){ce.lFrame.currentDirectiveIndex=t}function sD(t){let e=ce.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Qg(){return ce.lFrame.currentQueryIndex}function Ol(t){ce.lFrame.currentQueryIndex=t}function pP(t){let e=t[z];return e.type===2?e.declTNode:e.type===1?t[sn]:null}function Yg(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=pP(o),i===null||(o=o[Gi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ce.lFrame=aD();return r.currentTNode=e,r.lView=t,!0}function kl(t){let e=aD(),n=t[z];ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function aD(){let t=ce.lFrame,e=t===null?null:t.child;return e===null?cD(t):e}function cD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function uD(){let t=ce.lFrame;return ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Jg=uD;function Ll(){let t=uD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function lD(t){return(ce.lFrame.contextLView=WT(t,ce.lFrame.contextLView))[$e]}function vr(){return ce.lFrame.selectedIndex}function Yr(t){ce.lFrame.selectedIndex=t}function Fl(){let t=ce.lFrame;return Ka(t.tView,t.selectedIndex)}function dD(){return ce.lFrame.currentNamespace}var fD=!0;function Vl(){return fD}function jl(t){fD=t}function ag(t,e=null,n=null,r){let i=Zg(t,e,n,r);return i.resolveInjectorInitializers(),i}function Zg(t,e=null,n=null,r,i=new Set){let o=[n||zn,LT(t)];return r=r||(typeof t=="object"?void 0:gr(t)),new Bi(o,e||za(),r||null,i)}var In=class t{static THROW_IF_NOT_FOUND=ji;static NULL=new Va;static create(e,n){if(Array.isArray(e))return ag({name:""},n,e,"");{let r=e.name??"";return ag({name:r},e.parent,e.providers,r)}}static \u0275prov=j({token:t,providedIn:"any",factory:()=>W(Tg)});static __NG_ELEMENT_ID__=-1},ze=new $(""),Jr=(()=>{class t{static __NG_ELEMENT_ID__=gP;static __NG_ENV_ID__=n=>n}return t})(),cg=class extends Jr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Ji(this._lView)}onDestroy(e){let n=this._lView;return Fg(n,e),()=>KT(n,e)}};function gP(){return new cg(ae())}var hD=!1,Zr=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new pt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new _e(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}return t})(),ug=class extends st{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,UT()&&(this.destroyRef=P(Jr,{optional:!0})??void 0,this.pendingTasks=P(Zr,{optional:!0})??void 0)}emit(e){let n=G(null);try{super.next(e)}finally{G(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ht&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},It=ug;function _l(...t){}function Xg(t){let e,n;function r(){t=_l;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function em(t){return queueMicrotask(()=>t()),()=>{t=_l}}var tm="isAngularZone",ja=tm+"_ID",mP=0,$t=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new It(!1);onMicrotaskEmpty=new It(!1);onStable=new It(!1);onError=new It(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=hD}=e;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,_P(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(tm)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new U(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,yP,_l,_l);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},yP={};function nm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vP(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Xg(()=>{t.callbackScheduled=!1,lg(t),t.isCheckStableRunning=!0,nm(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),lg(t)}function _P(t){let e=()=>{vP(t)},n=mP++;t._inner=t._inner.fork({name:"angular",properties:{[tm]:!0,[ja]:n,[ja+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(EP(u))return r.invokeTask(o,s,a,u);try{return CT(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),bT(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return CT(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!IP(u)&&e(),bT(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,lg(t),nm(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function lg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function CT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bT(t){t._nesting--,nm(t)}var Ua=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new It;onMicrotaskEmpty=new It;onStable=new It;onError=new It;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function EP(t){return pD(t,"__ignore_ng_zone__")}function IP(t){return pD(t,"__scheduler_tick__")}function pD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var mr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},un=new $("",{factory:()=>{let t=P($t),e=P(ct),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(mr),n.handleError(r))})}}}),gD={provide:zi,useValue:()=>{let t=P(mr,{optional:!0})},multi:!0},wP=new $("",{factory:()=>{let t=P(ze).defaultView;if(!t)return;let e=P(un),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),P(Jr).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function rm(){return qi([kT(()=>void P(wP))])}function Be(t,e){let[n,r,i]=Fp(t,e?.equal),o=n,s=o[jt];return o.set=r,o.update=i,o.asReadonly=mD.bind(o),o}function mD(){let t=this[jt];if(t.readonlyFn===void 0){let e=()=>this();e[jt]=t,t.readonlyFn=e}return t.readonlyFn}var Ko=class{},Ja=new $("",{factory:()=>!0});var im=new $("");var om=(()=>{class t{static \u0275prov=j({token:t,providedIn:"root",factory:()=>new dg})}return t})(),dg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},fg=class{[jt];constructor(e){this[jt]=e}destroy(){this[jt].destroy()}};function bn(t){return Vp(t)}function pd(t){return{toString:t}.toString()}function xP(t){return typeof t=="function"}function QD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Ql=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},io=(()=>{let t=()=>YD;return t.ngInherit=!0,t})();function YD(t){return t.type.prototype.ngOnChanges&&(t.setInput=OP),PP}function PP(){let t=ZD(this),e=t?.current;if(e){let n=t.previous;if(n===$i)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function OP(t,e,n,r,i){let o=this.declaredInputs[r],s=ZD(t)||kP(t,{previous:$i,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Ql(l&&l.currentValue,n,u===$i),QD(t,e,i,n)}var JD="__ngSimpleChanges__";function ZD(t){return t[JD]||null}function kP(t,e){return t[JD]=e}var yD=[];var Se=function(t,e=null,n){for(let r=0;r<yD.length;r++){let i=yD[r];i(t,e,n)}},Ee=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(Ee||{});function LP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=YD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function FP(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function zl(t,e,n){XD(t,e,3,n)}function ql(t,e,n,r){(t[J]&3)===n&&XD(t,e,n,r)}function sm(t,e){let n=t[J];(n&3)===e&&(n&=16383,n+=1,t[J]=n)}function XD(t,e,n,r){let i=r!==void 0?t[Wi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Wi]+=65536),(a<o||o==-1)&&(VP(t,n,e,u),t[Wi]=(t[Wi]&4294901760)+u+2),u++}function vD(t,e){Se(Ee.LifecycleHookStart,t,e);let n=G(null);try{e.call(t)}finally{G(n),Se(Ee.LifecycleHookEnd,t,e)}}function VP(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[J]>>14<t[Wi]>>16&&(t[J]&3)===e&&(t[J]+=16384,vD(a,o)):vD(a,o)}var rs=-1,tc=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function jP(t){return(t.flags&8)!==0}function UP(t){return(t.flags&16)!==0}function BP(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];HP(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function eC(t){return t===3||t===4||t===6}function HP(t){return t.charCodeAt(0)===64}function gd(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?_D(t,n,i,null,e[++r]):_D(t,n,i,null,null))}}return t}function _D(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function tC(t){return t!==rs}function Yl(t){return t&32767}function $P(t){return t>>16}function Jl(t,e){let n=$P(t),r=e;for(;n>0;)r=r[Gi],n--;return r}var pm=!0;function Zl(t){let e=pm;return pm=t,e}var zP=256,nC=zP-1,rC=5,qP=0,Qn={};function GP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Hi)&&(r=n[Hi]),r==null&&(r=n[Hi]=qP++);let i=r&nC,o=1<<i;e.data[t+(i>>rC)]|=o}function iC(t,e){let n=oC(t,e);if(n!==-1)return n;let r=e[z];r.firstCreatePass&&(t.injectorIndex=e.length,am(r.data,t),am(e,null),am(r.blueprint,null));let i=$m(t,e),o=t.injectorIndex;if(tC(i)){let s=Yl(i),a=Jl(i,e),u=a[z].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function am(t,e){t.push(0,0,0,0,0,0,0,0,e)}function oC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function $m(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=lC(i),r===null)return rs;if(n++,i=i[Gi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return rs}function WP(t,e,n){GP(t,e,n)}function KP(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(eC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function sC(t,e,n){if(n&8||t!==void 0)return t;Dl(e,"NodeInjector")}function aC(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[yr],o=Nt(void 0);try{return i?i.get(e,r,n&8):Ig(e,r,n&8)}finally{Nt(o)}}return sC(r,e,n)}function cC(t,e,n,r=0,i){if(t!==null){if(e[J]&2048&&!(r&2)){let s=ZP(t,e,n,r,Qn);if(s!==Qn)return s}let o=uC(t,e,n,r,Qn);if(o!==Qn)return o}return aC(e,n,r,i)}function uC(t,e,n,r,i){let o=YP(n);if(typeof o=="function"){if(!Yg(e,t,r))return r&1?sC(i,n,r):aC(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Dl(n);else return s}finally{Jg()}}else if(typeof o=="number"){let s=null,a=oC(t,e),u=rs,l=r&1?e[Yt][sn]:null;for((a===-1||r&4)&&(u=a===-1?$m(t,e):e[a+8],u===rs||!ID(r,!1)?a=-1:(s=e[z],a=Yl(u),e=Jl(u,e)));a!==-1;){let f=e[z];if(ED(o,a,f.data)){let p=QP(a,e,n,s,r,l);if(p!==Qn)return p}u=e[a+8],u!==rs&&ID(r,e[z].data[a+8]===l)&&ED(o,a,e)?(s=f,a=Yl(u),e=Jl(u,e)):a=-1}}return i}function QP(t,e,n,r,i,o){let s=e[z],a=s.data[t+8],u=r==null?Qr(a)&&pm:r!=s&&(a.type&3)!==0,l=i&1&&o===a,f=Gl(a,s,n,u,l);return f!==null?Xl(e,s,f,a,i):Qn}function Gl(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,f=o>>20,p=r?a:a+f,m=i?a+f:l;for(let y=p;y<m;y++){let S=s[y];if(y<u&&n===S||y>=u&&S.type===n)return y}if(i){let y=s[u];if(y&&Yi(y)&&y.type===n)return u}return null}function Xl(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof tc){let a=o;if(a.resolving){let y=ST(s[n]);throw Eg(y)}let u=Zl(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],f,p=a.injectImpl?Nt(a.injectImpl):null,m=Yg(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&LP(n,s[n],e)}finally{p!==null&&Nt(p),Zl(u),a.resolving=!1,Jg()}}return o}function YP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Hi)?t[Hi]:void 0;return typeof e=="number"?e>=0?e&nC:JP:e}function ED(t,e,n){let r=1<<t;return!!(n[e+(t>>rC)]&r)}function ID(t,e){return!(t&2)&&!(t&1&&e)}var Xi=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return cC(this._tNode,this._lView,e,Ui(r),n)}};function JP(){return new Xi(Ot(),ae())}function cc(t){return pd(()=>{let e=t.prototype.constructor,n=e[Fa]||gm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Fa]||gm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function gm(t){return hg(t)?()=>{let e=gm(Ht(t));return e&&e()}:$r(t)}function ZP(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[J]&2048&&!es(s);){let a=uC(o,s,n,r|2,Qn);if(a!==Qn)return a;let u=o.parent;if(!u){let l=s[Ng];if(l){let f=l.get(n,Qn,r);if(f!==Qn)return f}u=lC(s),s=s[Gi]}o=u}return i}function lC(t){let e=t[z],n=e.type;return n===2?e.declTNode:n===1?t[sn]:null}function uc(t){return KP(Ot(),t)}function XP(){return cs(Ot(),ae())}function cs(t,e){return new zt(Cn(t,e))}var zt=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=XP}return t})();function eO(t){return t instanceof zt?t.nativeElement:t}function tO(){return this._results[Symbol.iterator]()}var ed=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new st}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=xT(e);(this._changesDetected=!MT(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=tO};function dC(t){return(t.flags&128)===128}var zm=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(zm||{}),fC=new Map,nO=0;function rO(){return nO++}function iO(t){fC.set(t[qa],t)}function mm(t){fC.delete(t[qa])}var wD="__ngContext__";function is(t,e){Wn(e)?(t[wD]=e[qa],iO(e)):t[wD]=e}function hC(t){return gC(t[Xo])}function pC(t){return gC(t[on])}function gC(t){for(;t!==null&&!Dn(t);)t=t[on];return t}var ym;function qm(t){ym=t}function mC(){if(ym!==void 0)return ym;if(typeof document<"u")return document;throw new U(210,!1)}var md=new $("",{factory:()=>oO}),oO="ng";var yd=new $(""),lc=new $("",{providedIn:"platform",factory:()=>"unknown"});var vd=new $("",{factory:()=>P(ze).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var yC="r";var vC="di";var _C=!1,EC=new $("",{factory:()=>_C});var sO=(t,e,n,r)=>{};function aO(t,e,n,r){sO(t,e,n,r)}function Gm(t){return(t.flags&32)===32}var cO=()=>null;function IC(t,e,n=!1){return cO(t,e,n)}function wC(t,e){let n=t.contentQueries;if(n!==null){let r=G(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Ol(o),a.contentQueries(2,e[s],s)}}}finally{G(r)}}}function vm(t,e,n){Ol(0);let r=G(null);try{e(t,n)}finally{G(r)}}function TC(t,e,n){if(xg(e)){let r=G(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{G(r)}}}var Rn=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(Rn||{});var Ul;function uO(){if(Ul===void 0&&(Ul=null,wn.trustedTypes))try{Ul=wn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ul}function _d(t){return uO()?.createHTML(t)||t}var Bl;function DC(){if(Bl===void 0&&(Bl=null,wn.trustedTypes))try{Bl=wn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Bl}function TD(t){return DC()?.createHTML(t)||t}function DD(t){return DC()?.createScriptURL(t)||t}var td=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${El})`}};function oo(t){return t instanceof td?t.changingThisBreaksApplicationSecurity:t}function Ed(t,e){let n=CC(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${El})`)}return n===e}function CC(t){return t instanceof td&&t.getTypeName()||null}function lO(t){let e=new Em(t);return dO()?new _m(e):e}var _m=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(_d(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},Em=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=_d(e),n}};function dO(){try{return!!new window.DOMParser().parseFromString(_d(""),"text/html")}catch{return!1}}var fO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Wm(t){return t=String(t),t.match(fO)?t:"unsafe:"+t}function _r(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function dc(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var bC=_r("area,br,col,hr,img,wbr"),SC=_r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),AC=_r("rp,rt"),hO=dc(AC,SC),pO=dc(SC,_r("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),gO=dc(AC,_r("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),CD=dc(bC,pO,gO,hO),RC=_r("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mO=_r("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),yO=_r("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),vO=dc(RC,mO,yO),_O=_r("script,style,template"),Im=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=wO(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=IO(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=bD(e).toLowerCase();if(!CD.hasOwnProperty(n))return this.sanitizedSomething=!0,!_O.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!vO.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=o.value;RC[a]&&(u=Wm(u)),this.buf.push(" ",s,'="',SD(u),'"')}return this.buf.push(">"),!0}endElement(e){let n=bD(e).toLowerCase();CD.hasOwnProperty(n)&&!bC.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(SD(e))}};function EO(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function IO(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw NC(e);return e}function wO(t){let e=t.firstChild;if(e&&EO(t,e))throw NC(e);return e}function bD(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function NC(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var TO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,DO=/([^\#-~ |!])/g;function SD(t){return t.replace(/&/g,"&amp;").replace(TO,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(DO,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Hl;function MC(t,e){let n=null;try{Hl=Hl||lO(t);let r=e?String(e):"";n=Hl.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Hl.getInertBodyElement(r)}while(r!==o);let a=new Im().sanitizeChildren(AD(n)||n);return _d(a)}finally{if(n){let r=AD(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function AD(t){return"content"in t&&CO(t)?t.content:null}function CO(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}function bO(t,e){return t.createText(e)}function SO(t,e,n){t.setValue(e,n)}function xC(t,e,n){return t.createElement(e,n)}function nd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function PC(t,e,n){t.appendChild(e,n)}function RD(t,e,n,r,i){r!==null?nd(t,e,n,r,i):PC(t,e,n)}function OC(t,e,n,r){t.removeChild(null,e,n,r)}function AO(t,e,n){t.setAttribute(e,"style",n)}function RO(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function kC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&BP(t,e,r),i!==null&&RO(t,e,i),o!==null&&AO(t,e,o)}var fc=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(fc||{});function Jn(t){let e=Qm();return e?TD(e.sanitize(fc.HTML,t)||""):Ed(t,"HTML")?TD(oo(t)):MC(mC(),Qo(t))}function ln(t){let e=Qm();return e?e.sanitize(fc.URL,t)||"":Ed(t,"URL")?oo(t):Wm(Qo(t))}function LC(t){let e=Qm();if(e)return DD(e.sanitize(fc.RESOURCE_URL,t)||"");if(Ed(t,"ResourceURL"))return DD(oo(t));throw new U(904,!1)}function NO(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?LC:ln}function Km(t,e,n){return NO(e,n)(t)}function Qm(){let t=ae();return t&&t[qn].sanitizer}function Ym(t){return t.ownerDocument}function FC(t){return t instanceof Function?t():t}function MO(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var VC="ng-template";function xO(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&MO(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Jm(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Jm(t){return t.type===4&&t.value!==VC}function PO(t,e,n){let r=t.type===4&&!n?VC:t.value;return e===r}function OO(t,e,n){let r=4,i=t.attrs,o=i!==null?FO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Sn(r)&&!Sn(u))return!1;if(s&&Sn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!PO(t,u,n)||u===""&&e.length===1){if(Sn(r))return!1;s=!0}}else if(r&8){if(i===null||!xO(t,i,u,n)){if(Sn(r))return!1;s=!0}}else{let l=e[++a],f=kO(u,i,Jm(t),n);if(f===-1){if(Sn(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Sn(r))return!1;s=!0}}}}return Sn(r)||s}function Sn(t){return(t&1)===0}function kO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return VO(e,t)}function LO(t,e,n=!1){for(let r=0;r<e.length;r++)if(OO(t,e[r],n))return!0;return!1}function FO(t){for(let e=0;e<t.length;e++){let n=t[e];if(eC(n))return e}return t.length}function VO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function ND(t,e){return t?":not("+e.trim()+")":e}function jO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Sn(s)&&(e+=ND(o,i),i=""),r=s,o=o||!Sn(r);n++}return i!==""&&(e+=ND(o,i)),e}function UO(t){return t.map(jO).join(",")}function BO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Sn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var dn={};function Zm(t,e,n,r,i,o,s,a,u,l,f){let p=tt+r,m=p+i,y=HO(p,m),S=typeof l=="function"?l():l;return y[z]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:f}}function HO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:dn);return n}function $O(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Zm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Xm(t,e,n,r,i,o,s,a,u,l,f){let p=e.blueprint.slice();return p[Tn]=i,p[J]=r|4|128|8|64|1024,(l!==null||t&&t[J]&2048)&&(p[J]|=2048),kg(p),p[et]=p[Gi]=t,p[$e]=n,p[qn]=s||t&&t[qn],p[Le]=a||t&&t[Le],p[yr]=u||t&&t[yr]||null,p[sn]=o,p[qa]=rO(),p[Jo]=f,p[Ng]=l,p[Yt]=e.type==2?t[Yt]:p,p}function zO(t,e,n){let r=Cn(e,t),i=$O(n),o=t[qn].rendererFactory,s=ey(t,Xm(t,i,null,jC(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function jC(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function UC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ey(t,e){return t[Xo]?t[Rg][on]=e:t[Xo]=e,t[Rg]=e,e}function O(t=1){BC(ut(),ae(),vr()+t,!1)}function BC(t,e,n,r){if(!r)if((e[J]&3)===3){let o=t.preOrderCheckHooks;o!==null&&zl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&ql(e,o,0,n)}Yr(n)}var Id=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Id||{});function wm(t,e,n,r){let i=G(null);try{let[o,s,a]=t.inputs[n],u=null;(s&Id.SignalBased)!==0&&(u=e[o][jt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):QD(e,u,o,r)}finally{G(i)}}var Yn=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Yn||{}),qO;function ty(t,e){return qO(t,e)}var eo=new Set,ny=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(ny||{}),hc=new $(""),MD=new Set;function ei(t){MD.has(t)||(MD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var HC=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}return t})();var $C=new $("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:P(ct)})});function zC(t,e,n){let r=t.get($C);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function GO(t,e){let n=t.get($C);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)n.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function WO(t,e){for(let[n,r]of e)zC(t,r.animateFns)}function xD(t,e,n,r){let i=t?.[Ki]?.enter;e!==null&&i&&i.has(n.index)&&WO(r,i)}function ns(t,e,n,r,i,o,s,a){if(i!=null){let u,l=!1;Dn(i)?u=i:Wn(i)&&(l=!0,i=i[Tn]);let f=an(i);t===0&&r!==null?(xD(a,r,o,n),s==null?PC(e,r,f):nd(e,r,f,s||null,!0)):t===1&&r!==null?(xD(a,r,o,n),nd(e,r,f,s||null,!0)):t===2?PD(a,o,n,p=>{OC(e,f,l,p)}):t===3&&PD(a,o,n,()=>{e.destroyNode(f)}),u!=null&&sk(e,t,n,u,o,r,s)}}function KO(t,e){qC(t,e),e[Tn]=null,e[sn]=null}function QO(t,e,n,r,i,o){r[Tn]=i,r[sn]=e,Td(t,r,n,1,i,o)}function qC(t,e){e[qn].changeDetectionScheduler?.notify(9),Td(t,e,e[Le],2,null,null)}function YO(t){let e=t[Xo];if(!e)return cm(t[z],t);for(;e;){let n=null;if(Wn(e))n=e[Xo];else{let r=e[Ue];r&&(n=r)}if(!n){for(;e&&!e[on]&&e!==t;)Wn(e)&&cm(e[z],e),e=e[et];e===null&&(e=t),Wn(e)&&cm(e[z],e),n=e&&e[on]}e=n}}function ry(t,e){let n=t[Qi],r=n.indexOf(e);n.splice(r,1)}function wd(t,e){if(Ji(e))return;let n=e[Le];n.destroyNode&&Td(t,e,n,3,null,null),YO(e)}function cm(t,e){if(Ji(e))return;let n=G(null);try{e[J]&=-129,e[J]|=256,e[Jt]&&Ra(e[Jt]),XO(t,e),ZO(t,e),e[z].type===1&&e[Le].destroy();let r=e[Wr];if(r!==null&&Dn(e[et])){r!==e[et]&&ry(r,e);let i=e[Gn];i!==null&&i.detachView(t)}mm(e)}finally{G(n)}}function PD(t,e,n,r){let i=t?.[Ki];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&eo.add(t),zC(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:f}=l();a.push(f)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),JO(t,r)}else t&&eo.delete(t),r(!1)},i)}function JO(t,e){let n=t[Ki]?.running;if(n){n.then(()=>{t[Ki].running=void 0,eo.delete(t),e(!0)});return}e(!1)}function ZO(t,e){let n=t.cleanup,r=e[Zo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[Zo]=null);let i=e[pr];if(i!==null){e[pr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Ga];if(o!==null){e[Ga]=null;for(let s of o)s.destroy()}}function XO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof tc)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Se(Ee.LifecycleHookStart,a,u);try{u.call(a)}finally{Se(Ee.LifecycleHookEnd,a,u)}}else{Se(Ee.LifecycleHookStart,i,o);try{o.call(i)}finally{Se(Ee.LifecycleHookEnd,i,o)}}}}}function ek(t,e,n){return tk(t,e.parent,n)}function tk(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Tn];if(Qr(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Rn.None||i===Rn.Emulated)return null}return Cn(r,n)}function nk(t,e,n){return ik(t,e,n)}function rk(t,e,n){return t.type&40?Cn(t,n):null}var ik=rk,OD;function iy(t,e,n,r){let i=ek(t,r,e),o=e[Le],s=r.parent||e[sn],a=nk(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)RD(o,i,n[u],a,!1);else RD(o,i,n,a,!1);OD!==void 0&&OD(o,r,e,n,i)}function Xa(t,e){if(e!==null){let n=e.type;if(n&3)return Cn(e,t);if(n&4)return Tm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Xa(t,r);{let i=t[e.index];return Dn(i)?Tm(-1,i):an(i)}}else{if(n&128)return Xa(t,e.next);if(n&32)return ty(e,t)()||an(t[e.index]);{let r=GC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=zr(t[Yt]);return Xa(i,r)}else return Xa(t,e.next)}}}return null}function GC(t,e){if(e!==null){let r=t[Yt][sn],i=e.projection;return r.projection[i]}return null}function Tm(t,e){let n=Ue+t+1;if(n<e.length){let r=e[n],i=r[z].firstChild;if(i!==null)return Xa(r,i)}return e[Kr]}function oy(t,e,n,r,i,o,s){for(;n!=null;){let a=r[yr];if(n.type===128){n=n.next;continue}let u=r[n.index],l=n.type;if(s&&e===0&&(u&&is(an(u),r),n.flags|=2),!Gm(n))if(l&8)oy(t,e,n.child,r,i,o,!1),ns(e,t,a,i,u,n,o,r);else if(l&32){let f=ty(n,r),p;for(;p=f();)ns(e,t,a,i,p,n,o,r);ns(e,t,a,i,u,n,o,r)}else l&16?ok(t,e,r,n,i,o):ns(e,t,a,i,u,n,o,r);n=s?n.projectionNext:n.next}}function Td(t,e,n,r,i,o){oy(n,r,t.firstChild,e,i,o,!1)}function ok(t,e,n,r,i,o){let s=n[Yt],u=s[sn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];ns(e,t,n[yr],i,f,r,o,n)}else{let l=u,f=s[et];dC(r)&&(l.flags|=128),oy(t,e,l,f,i,o,!0)}}function sk(t,e,n,r,i,o,s){let a=r[Kr],u=an(r);a!==u&&ns(e,t,n,o,a,i,s);for(let l=Ue;l<r.length;l++){let f=r[l];Td(f[z],f,t,e,o,a)}}function ak(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Yn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Yn.Important),t.setStyle(n,r,i,o))}}function WC(t,e,n,r,i){let o=vr(),s=r&2;try{Yr(-1),s&&e.length>tt&&BC(t,e,tt,!1);let a=s?Ee.TemplateUpdateStart:Ee.TemplateCreateStart;Se(a,i,n),n(r,i)}finally{Yr(o);let a=s?Ee.TemplateUpdateEnd:Ee.TemplateCreateEnd;Se(a,i,n)}}function KC(t,e,n){pk(t,e,n),(n.flags&64)===64&&gk(t,e,n)}function sy(t,e,n=Cn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function ck(t,e,n,r){let o=r.get(EC,_C)||n===Rn.ShadowDom||n===Rn.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,o);return uk(s),s}function uk(t){lk(t)}var lk=()=>null;function dk(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function fk(t,e,n,r,i,o){let s=e[z];if(ay(t,s,e,n,r)){Qr(t)&&hk(e,t.index);return}t.type&3&&(n=dk(n)),QC(t,e,n,r,i,o)}function QC(t,e,n,r,i,o){if(t.type&3){let s=Cn(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function hk(t,e){let n=cn(e,t);n[J]&16||(n[J]|=64)}function pk(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Qr(n)&&zO(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||iC(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=Xl(e,t,s,n);if(is(u,e),o!==null&&Ek(e,s-r,u,a,n,o),Yi(a)){let l=cn(n.index,e);l[$e]=Xl(e,t,s,n)}}}function gk(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=oD();try{Yr(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Pl(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&mk(u,l)}}finally{Yr(-1),Pl(s)}}function mk(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function yk(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];LO(e,o.selectors,!1)&&(r??=[],Yi(o)?r.unshift(o):r.push(o))}return r}function vk(t,e,n,r,i,o){let s=Cn(t,e);_k(e[Le],s,o,t.value,n,r,i)}function _k(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Qo(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function Ek(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];wm(r,n,u,l)}}function YC(t,e,n,r,i){let o=tt+n,s=e[z],a=i(s,e,t,r,n);e[o]=a,ts(t,!0);let u=t.type===2;return u?(kC(e[Le],a,t),(YT()===0||Nl(t))&&is(a,e),JT()):is(a,e),Vl()&&(!u||!Gm(t))&&iy(s,e,a,t),t}function JC(t){let e=t;return zg()?tD():(e=e.parent,ts(e,!1)),e}function Ik(t,e){let n=t[yr];if(!n)return;let r;try{r=n.get(un,null)}catch{r=null}r?.(e)}function ay(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],f=s[u+1],p=e.data[l];wm(p,n[l],f,i),a=!0}if(o)for(let u of o){let l=n[u],f=e.data[u];wm(f,l,r,i),a=!0}return a}function wk(t,e){let n=cn(e,t),r=n[z];Tk(r,n);let i=n[Tn];i!==null&&n[Jo]===null&&(n[Jo]=IC(i,n[yr])),Se(Ee.ComponentStart);try{cy(r,n,n[$e])}finally{Se(Ee.ComponentEnd,n[$e])}}function Tk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function cy(t,e,n){kl(e);try{let r=t.viewQuery;r!==null&&vm(1,r,n);let i=t.template;i!==null&&WC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Gn]?.finishViewCreation(t),t.staticContentQueries&&wC(t,e),t.staticViewQueries&&vm(2,t.viewQuery,n);let o=t.components;o!==null&&Dk(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[J]&=-5,Ll()}}function Dk(t,e){for(let n=0;n<e.length;n++)wk(t,e[n])}function Dd(t,e,n,r){let i=G(null);try{let o=e.tView,a=t[J]&4096?4096:16,u=Xm(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Wr]=l;let f=t[Gn];return f!==null&&(u[Gn]=f.createEmbeddedView(o)),cy(o,u,n),u}finally{G(i)}}function nc(t,e){return!e||e.firstChild===null||dC(t)}function rc(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(an(o)),Dn(o)&&ZC(o,r);let s=n.type;if(s&8)rc(t,e,n.child,r);else if(s&32){let a=ty(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=GC(e,n);if(Array.isArray(a))r.push(...a);else{let u=zr(e[Yt]);rc(u[z],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function ZC(t,e){for(let n=Ue;n<t.length;n++){let r=t[n],i=r[z].firstChild;i!==null&&rc(r[z],r,i,e)}t[Kr]!==t[Tn]&&e.push(t[Kr])}function XC(t){if(t[Rl]!==null){for(let e of t[Rl])e.impl.addSequence(e);t[Rl].length=0}}var eb=[];function Ck(t){return t[Jt]??bk(t)}function bk(t){let e=eb.pop()??Object.create(Ak);return e.lView=t,e}function Sk(t){t.lView[Jt]!==t&&(t.lView=null,eb.push(t))}var Ak=re(M({},ba),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Ya(t.lView)},consumerOnSignalRead(){this.lView[Jt]=this}});function Rk(t){let e=t[Jt]??Object.create(Nk);return e.lView=t,e}var Nk=re(M({},ba),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=zr(t.lView);for(;e&&!tb(e[z]);)e=zr(e);e&&Lg(e)},consumerOnSignalRead(){this.lView[Jt]=this}});function tb(t){return t.type!==2}function nb(t){if(t[Ga]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Ga])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[J]&8192)}}var Mk=100;function rb(t,e=0){let r=t[qn].rendererFactory,i=!1;i||r.begin?.();try{xk(t,e)}finally{i||r.end?.()}}function xk(t,e){let n=qg();try{Gg(!0),Dm(t,e);let r=0;for(;Qa(t);){if(r===Mk)throw new U(103,!1);r++,Dm(t,1)}}finally{Gg(n)}}function Pk(t,e,n,r){if(Ji(e))return;let i=e[J],o=!1,s=!1;kl(e);let a=!0,u=null,l=null;o||(tb(t)?(l=Ck(e),u=Aa(l)):zu()===null?(a=!1,l=Rk(e),u=Aa(l)):e[Jt]&&(Ra(e[Jt]),e[Jt]=null));try{kg(e),nD(t.bindingStartIndex),n!==null&&WC(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let y=t.preOrderCheckHooks;y!==null&&zl(e,y,null)}else{let y=t.preOrderHooks;y!==null&&ql(e,y,0,null),sm(e,0)}if(s||Ok(e),nb(e),ib(e,0),t.contentQueries!==null&&wC(t,e),!o)if(f){let y=t.contentCheckHooks;y!==null&&zl(e,y)}else{let y=t.contentHooks;y!==null&&ql(e,y,1),sm(e,1)}Lk(t,e);let p=t.components;p!==null&&sb(e,p,0);let m=t.viewQuery;if(m!==null&&vm(2,m,r),!o)if(f){let y=t.viewCheckHooks;y!==null&&zl(e,y)}else{let y=t.viewHooks;y!==null&&ql(e,y,2),sm(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Al]){for(let y of e[Al])y();e[Al]=null}o||(XC(e),e[J]&=-73)}catch(f){throw o||Ya(e),f}finally{l!==null&&(qu(l,u),a&&Sk(l)),Ll()}}function ib(t,e){for(let n=hC(t);n!==null;n=pC(n))for(let r=Ue;r<n.length;r++){let i=n[r];ob(i,e)}}function Ok(t){for(let e=hC(t);e!==null;e=pC(e)){if(!(e[J]&2))continue;let n=e[Qi];for(let r=0;r<n.length;r++){let i=n[r];Lg(i)}}}function kk(t,e,n){Se(Ee.ComponentStart);let r=cn(e,t);try{ob(r,n)}finally{Se(Ee.ComponentEnd,r[$e])}}function ob(t,e){Ml(t)&&Dm(t,e)}function Dm(t,e){let r=t[z],i=t[J],o=t[Jt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Gu(o)),s||=!1,o&&(o.dirty=!1),t[J]&=-9217,s)Pk(r,t,r.template,t[$e]);else if(i&8192){let a=G(null);try{nb(t),ib(t,1);let u=r.components;u!==null&&sb(t,u,1),XC(t)}finally{G(a)}}}function sb(t,e,n){for(let r=0;r<e.length;r++)kk(t,e[r],n)}function Lk(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Yr(~i);else{let o=i,s=n[++r],a=n[++r];iD(s,o);let u=e[o];Se(Ee.HostBindingsUpdateStart,u);try{a(2,u)}finally{Se(Ee.HostBindingsUpdateEnd,u)}}}}finally{Yr(-1)}}function uy(t,e){let n=qg()?64:1088;for(t[qn].changeDetectionScheduler?.notify(e);t;){t[J]|=n;let r=zr(t);if(es(t)&&!r)return t;t=r}return null}function ab(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function cb(t,e){let n=Ue+e;if(n<t.length)return t[n]}function Cd(t,e,n,r=!0){let i=e[z];if(Fk(i,e,t,n),r){let s=Tm(n,t),a=e[Le],u=a.parentNode(t[Kr]);u!==null&&QO(i,t[sn],a,e,u,s)}let o=e[Jo];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ub(t,e){let n=ic(t,e);return n!==void 0&&wd(n[z],n),n}function ic(t,e){if(t.length<=Ue)return;let n=Ue+e,r=t[n];if(r){let i=r[Wr];i!==null&&i!==t&&ry(i,r),e>0&&(t[n-1][on]=r[on]);let o=Ha(t,Ue+e);KO(r[z],r);let s=o[Gn];s!==null&&s.detachView(o[z]),r[et]=null,r[on]=null,r[J]&=-129}return r}function Fk(t,e,n,r){let i=Ue+r,o=n.length;r>0&&(n[i-1][on]=e),r<o-Ue?(e[on]=n[i],wg(n,Ue+r,e)):(n.push(e),e[on]=null),e[et]=n;let s=e[Wr];s!==null&&n!==s&&lb(s,e);let a=e[Gn];a!==null&&a.insertView(t),xl(e),e[J]|=128}function lb(t,e){let n=t[Qi],r=e[et];if(Wn(r))t[J]|=2;else{let i=r[et][Yt];e[Yt]!==i&&(t[J]|=2)}n===null?t[Qi]=[e]:n.push(e)}var Xr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[z];return rc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[$e]}set context(e){this._lView[$e]=e}get destroyed(){return Ji(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[et];if(Dn(e)){let n=e[Wa],r=n?n.indexOf(this):-1;r>-1&&(ic(e,r),Ha(n,r))}this._attachedToViewContainer=!1}wd(this._lView[z],this._lView)}onDestroy(e){Fg(this._lView,e)}markForCheck(){uy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){xl(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,rb(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=es(this._lView),n=this._lView[Wr];n!==null&&!e&&ry(n,this._lView),qC(this._lView[z],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e;let n=es(this._lView),r=this._lView[Wr];r!==null&&!n&&lb(r,this._lView),xl(this._lView)}};var os=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Vk;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=Dd(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Xr(o)}}return t})();function Vk(){return ly(Ot(),ae())}function ly(t,e){return t.type&4?new os(e,t,cs(t,e)):null}function bd(t,e,n,r,i){let o=t.data[e];if(o===null)o=jk(t,e,n,r,i),rD()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=eD();o.injectorIndex=s===null?-1:s.injectorIndex}return ts(o,!0),o}function jk(t,e,n,r,i){let o=$g(),s=zg(),a=s?o:o&&o.parent,u=t.data[e]=Bk(t,a,n,e,r,i);return Uk(t,u,o,s),u}function Uk(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function Bk(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return XT()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Hk(t){let e=t[Mg]??[],r=t[et][Le],i=[];for(let o of e)o.data[vC]!==void 0?i.push(o):$k(o,r);t[Mg]=i}function $k(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[yC];for(;n<i;){let o=r.nextSibling;OC(e,r,!1),r=o,n++}}}var zk=()=>null,qk=()=>null;function Cm(t,e){return zk(t,e)}function db(t,e,n){return qk(t,e,n)}var fb=class{},Sd=class{},bm=class{resolveComponentFactory(e){throw new U(917,!1)}},pc=class{static NULL=new bm},to=class{},so=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>Gk()}return t})();function Gk(){let t=ae(),e=Ot(),n=cn(e.index,t);return(Wn(n)?n:t)[Le]}var hb=(()=>{class t{static \u0275prov=j({token:t,providedIn:"root",factory:()=>null})}return t})();var Wl={},Sm=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,Wl,r);return i!==Wl||n===Wl?i:this.parentInjector.get(e,n,r)}};function rd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Il(i,a);else if(o==2){let u=a,l=e[++s];r=Il(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function le(t,e=0){let n=ae();if(n===null)return W(t,e);let r=Ot();return cC(r,n,Ht(t),e)}function dy(){let t="invalid";throw new Error(t)}function Wk(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,u=null,l=null;for(let f of s)if(f.resolveHostDirectives!==null){[a,u,l]=f.resolveHostDirectives(s);break}Yk(t,e,n,a,o,u,l)}o!==null&&r!==null&&Kk(n,r,o)}function Kk(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new U(-301,!1);r.push(e[i],o)}}function Qk(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Yk(t,e,n,r,i,o,s){let a=r.length,u=null;for(let m=0;m<a;m++){let y=r[m];u===null&&Yi(y)&&(u=y,Qk(t,n,m)),WP(iC(n,e),t,y.type)}n1(n,t.data.length,a),u?.viewProvidersResolver&&u.viewProvidersResolver(u);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,f=!1,p=UC(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(n.mergedAttrs=gd(n.mergedAttrs,y.hostAttrs),Zk(t,n,e,p,y),t1(p,y,i),s!==null&&s.has(y)){let[A,R]=s.get(y);n.directiveToIndex.set(y.type,[p,A+n.directiveStart,R+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let S=y.type.prototype;!l&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!f&&(S.ngOnChanges||S.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),p++}Jk(t,n,o)}function Jk(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))kD(0,e,i,r),kD(1,e,i,r),FD(e,r,!1);else{let o=n.get(i);LD(0,e,o,r),LD(1,e,o,r),FD(e,r,!0)}}}function kD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),pb(e,o)}}function LD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),pb(e,s)}}function pb(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function FD(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Jm(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let f of l)if(f===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let f=0;f<l.length;f+=2)if(l[f]===e){s??=[],s.push(l[f+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function Zk(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=$r(i.type,!0)),s=new tc(o,Yi(i),le,null);t.blueprint[r]=s,n[r]=s,Xk(t,e,r,UC(t,n,i.hostVars,dn),i)}function Xk(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;e1(s)!=a&&s.push(a),s.push(n,r,o)}}function e1(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function t1(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Yi(e)&&(n[""]=t)}}function n1(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function gb(t,e,n,r,i,o,s,a){let u=e[z],l=u.consts,f=Kn(l,s),p=bd(u,t,n,r,f);return o&&Wk(u,e,p,Kn(l,a),i),p.mergedAttrs=gd(p.mergedAttrs,p.attrs),p.attrs!==null&&rd(p,p.attrs,!1),p.mergedAttrs!==null&&rd(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function mb(t,e){FP(t,e),xg(e)&&t.queries.elementEnd(e)}function r1(t,e,n,r,i,o){let s=e.consts,a=Kn(s,i),u=bd(e,t,n,r,a);if(u.mergedAttrs=gd(u.mergedAttrs,u.attrs),o!=null){let l=Kn(s,o);u.localNames=[];for(let f=0;f<l.length;f+=2)u.localNames.push(l[f],-1)}return u.attrs!==null&&rd(u,u.attrs,!1),u.mergedAttrs!==null&&rd(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function yb(t,e,n){return t[e]=n}function Nn(t,e,n){if(n===dn)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function i1(t,e,n,r){let i=Nn(t,e,n);return Nn(t,e+1,r)||i}function Kl(t,e,n){return function r(i){let o=Qr(t)?cn(t.index,e):e;uy(o,5);let s=e[$e],a=VD(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=VD(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function VD(t,e,n,r){let i=G(null);try{return Se(Ee.OutputStart,e,n),n(r)!==!1}catch(o){return Ik(t,o),!1}finally{Se(Ee.OutputEnd,e,n),G(i)}}function vb(t,e,n,r,i,o,s,a){let u=Nl(t),l=!1,f=null;if(!r&&u&&(f=s1(e,n,o,t.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,l=!0}else{let p=Cn(t,n),m=r?r(p):p;aO(n,m,o,a);let y=i.listen(m,o,a);if(!o1(o)){let S=r?A=>r(an(A[t.index])):t.index;_b(S,e,n,o,a,y,!1)}}return l}function o1(t){return t.startsWith("animation")||t.startsWith("transition")}function s1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Zo],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function _b(t,e,n,r,i,o,s){let a=e.firstCreatePass?jg(e):null,u=Vg(n),l=u.length;u.push(i,o),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function jD(t,e,n,r,i,o){let s=e[n],a=e[z],l=a.data[n].outputs[r],p=s[l].subscribe(o);_b(t.index,a,e,i,o,p,!0)}var Am=Symbol("BINDING");var id=class extends pc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Gr(e);return new ss(n,this.ngModule)}};function a1(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Id.SignalBased)!==0};return i&&(o.transform=i),o})}function c1(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function u1(t,e,n){let r=e instanceof ct?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Sm(n,r):n}function l1(t){let e=t.get(to,null);if(e===null)throw new U(407,!1);let n=t.get(hb,null),r=t.get(Ko,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function d1(t,e){let n=Eb(t);return xC(e,n,n==="svg"?HT:n==="math"?$T:null)}function Eb(t){return(t.selectors[0][0]||"div").toLowerCase()}var ss=class extends Sd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=a1(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=c1(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=UO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){Se(Ee.DynamicComponentStart);let a=G(null);try{let u=this.componentDef,l=f1(r,u,s,o),f=u1(u,i||this.ngModule,e),p=l1(f),m=p.rendererFactory.createRenderer(null,u),y=r?ck(m,r,u.encapsulation,f):d1(u,m),S=s?.some(UD)||o?.some(L=>typeof L!="function"&&L.bindings.some(UD)),A=Xm(null,l,null,512|jC(u),null,null,p,m,f,null,IC(y,f,!0));A[tt]=y,kl(A);let R=null;try{let L=gb(tt,A,2,"#host",()=>l.directiveRegistry,!0,0);kC(m,y,L),is(y,A),KC(l,A,L),TC(l,L,A),mb(l,L),n!==void 0&&p1(L,this.ngContentSelectors,n),R=cn(L.index,A),A[$e]=R[$e],cy(l,A,null)}catch(L){throw R!==null&&mm(R),mm(A),L}finally{Se(Ee.DynamicComponentEnd),Ll()}return new od(this.componentType,A,!!S)}finally{G(a)}}};function f1(t,e,n,r){let i=t?["ng-version","21.0.3"]:BO(e.selectors[0]),o=null,s=null,a=0;if(n)for(let f of n)a+=f[Am].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(r)for(let f=0;f<r.length;f++){let p=r[f];if(typeof p!="function")for(let m of p.bindings){a+=m[Am].requiredVars;let y=f+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let f of r){let p=typeof f=="function"?f:f.type,m=bg(p);u.push(m)}return Zm(0,null,h1(o,s),1,a,u,null,null,null,[i],null)}function h1(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function UD(t){let e=t[Am].kind;return e==="input"||e==="twoWay"}var od=class extends fb{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Ka(n[z],tt),this.location=cs(this._tNode,n),this.instance=cn(this._tNode.index,n)[$e],this.hostView=this.changeDetectorRef=new Xr(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=ay(r,i[z],i,e,n);this.previousInputValues.set(e,n);let s=cn(r.index,i);uy(s,1)}get injector(){return new Xi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function p1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ao=(()=>{class t{static __NG_ELEMENT_ID__=g1}return t})();function g1(){let t=Ot();return wb(t,ae())}var m1=ao,Ib=class extends m1{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return cs(this._hostTNode,this._hostLView)}get injector(){return new Xi(this._hostTNode,this._hostLView)}get parentInjector(){let e=$m(this._hostTNode,this._hostLView);if(tC(e)){let n=Jl(e,this._hostLView),r=Yl(e),i=n[z].data[r+8];return new Xi(i,n)}else return new Xi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=BD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ue}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Cm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,nc(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let u=e&&!xP(e),l;if(u)l=n;else{let R=n||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,a=R.bindings}let f=u?e:new ss(Gr(e)),p=r||this.parentInjector;if(!o&&f.ngModule==null){let L=(u?p:this.parentInjector).get(ct,null);L&&(o=L)}let m=Gr(f.componentType??{}),y=Cm(this._lContainer,m?.id??null),S=y?.firstChild??null,A=f.create(p,i,S,o,s,a);return this.insertImpl(A.hostView,l,nc(this._hostTNode,y)),A}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(GT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[et],l=new Ib(u,u[sn],u[et]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Cd(s,i,o,r),e.attachToViewContainerRef(),wg(um(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=BD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ic(this._lContainer,n);r&&(Ha(um(this._lContainer),n),wd(r[z],r))}detach(e){let n=this._adjustIndex(e,-1),r=ic(this._lContainer,n);return r&&Ha(um(this._lContainer),n)!=null?new Xr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function BD(t){return t[Wa]}function um(t){return t[Wa]||(t[Wa]=[])}function wb(t,e){let n,r=e[t.index];return Dn(r)?n=r:(n=ab(r,e,null,t),e[t.index]=n,ey(e,n)),v1(n,e,t,r),new Ib(n,t,e)}function y1(t,e){let n=t[Le],r=n.createComment(""),i=Cn(e,t),o=n.parentNode(i);return nd(n,o,r,n.nextSibling(i),!1),r}var v1=I1,_1=()=>!1;function E1(t,e,n){return _1(t,e,n)}function I1(t,e,n,r){if(t[Kr])return;let i;n.type&8?i=an(r):i=y1(e,n),t[Kr]=i}var Rm=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Nm=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)fy(e,n).matches!==null&&this.queries[n].setDirty()}},sd=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=R1(e):this.predicate=e}},Mm=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},xm=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,w1(n,o)),this.matchTNodeWithReadOption(e,n,Gl(n,e,o,!1,!1))}else r===os?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Gl(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===zt||i===ao||i===os&&n.type&4)this.addMatch(n.index,-2);else{let o=Gl(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function w1(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function T1(t,e){return t.type&11?cs(t,e):t.type&4?ly(t,e):null}function D1(t,e,n,r){return n===-1?T1(e,t):n===-2?C1(t,e,r):Xl(t,t[z],n,e)}function C1(t,e,n){if(n===zt)return cs(e,t);if(n===os)return ly(e,t);if(n===ao)return wb(e,t)}function Tb(t,e,n,r){let i=e[Gn].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let f=o[l];a.push(D1(e,f,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Pm(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=Tb(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],f=e[-u];for(let p=Ue;p<f.length;p++){let m=f[p];m[Wr]===m[et]&&Pm(m[z],m,l,r)}if(f[Qi]!==null){let p=f[Qi];for(let m=0;m<p.length;m++){let y=p[m];Pm(y[z],y,l,r)}}}}}return r}function b1(t,e){return t[Gn].queries[e].queryList}function Db(t,e,n){let r=new ed((n&4)===4);return QT(t,e,r,r.destroy),(e[Gn]??=new Nm).queries.push(new Rm(r))-1}function S1(t,e,n){let r=ut();return r.firstCreatePass&&(Cb(r,new sd(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),Db(r,ae(),e)}function A1(t,e,n,r){let i=ut();if(i.firstCreatePass){let o=Ot();Cb(i,new sd(e,n,r),o.index),N1(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return Db(i,ae(),n)}function R1(t){return t.split(",").map(e=>e.trim())}function Cb(t,e,n){t.queries===null&&(t.queries=new Mm),t.queries.track(new xm(e,n))}function N1(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function fy(t,e){return t.queries.getByIndex(e)}function M1(t,e){let n=t[z],r=fy(n,e);return r.crossesNgTemplate?Pm(n,t,e,[]):Tb(n,t,r,e)}var no=class{},Ad=class{};var ad=class extends no{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new id(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Cg(e);this._bootstrapComponents=FC(o.bootstrap),this._r3Injector=Zg(e,n,[{provide:no,useValue:this},{provide:pc,useValue:this.componentFactoryResolver},...r],gr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},cd=class extends Ad{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new ad(this.moduleType,e,[])}};var oc=class extends no{injector;componentFactoryResolver=new id(this);instance=null;constructor(e){super();let n=new Bi([...e.providers,{provide:no,useValue:this},{provide:pc,useValue:this.componentFactoryResolver}],e.parent||za(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function gc(t,e,n=null){return new oc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var x1=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Sg(!1,n.type),i=r.length>0?gc([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=j({token:t,providedIn:"environment",factory:()=>new t(W(ct))})}return t})();function Ie(t){return pd(()=>{let e=bb(t),n=re(M({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===zm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(x1).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Rn.Emulated,styles:t.styles||zn,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&ei("NgStandalone"),Sb(n);let r=t.dependencies;return n.directiveDefs=HD(r,P1),n.pipeDefs=HD(r,OT),n.id=L1(n),n})}function P1(t){return Gr(t)||bg(t)}function O1(t,e){if(t==null)return $i;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Id.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function k1(t){if(t==null)return $i;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function ti(t){return pd(()=>{let e=bb(t);return Sb(e),e})}function hy(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function bb(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||$i,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||zn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:O1(t.inputs,e),outputs:k1(t.outputs),debugInfo:null}}function Sb(t){t.features?.forEach(e=>e(t))}function HD(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function L1(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function F1(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=gd(t.mergedAttrs,t.attrs);let f=t.tView=Zm(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),f.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),ts(t,!1);let u=V1(n,e,t,r);Vl()&&iy(n,e,u,t),is(u,e);let l=ab(u,e,u,t);e[r+tt]=l,ey(e,l),E1(l,t,e)}function ud(t,e,n,r,i,o,s,a,u,l,f){let p=n+tt,m;if(e.firstCreatePass){if(m=bd(e,p,4,s||null,a||null),l!=null){let y=Kn(e.consts,l);m.localNames=[];for(let S=0;S<y.length;S+=2)m.localNames.push(y[S],-1)}}else m=e.data[p];return F1(m,t,e,n,r,i,o,u),l!=null&&sy(t,m,f),m}var V1=j1;function j1(t,e,n,r){return jl(!0),e[Le].createComment("")}var py=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var gy=new $("");function us(t){return!!t&&typeof t.then=="function"}function my(t){return!!t&&typeof t.subscribe=="function"}var Ab=new $("");var yy=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=P(Ab,{optional:!0})??[];injector=P(In);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Mt(this.injector,i);if(us(o))n.push(o);else if(my(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Rd=new $("");function Rb(){Lp(()=>{let t="";throw new U(600,t)})}function Nb(t){return t.isBoundToModule}var U1=10;var ls=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(un);afterRenderManager=P(HC);zonelessEnabled=P(Ja);rootEffectScheduler=P(om);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new st;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=P(Zr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ke(n=>!n))}constructor(){P(hc,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=P(ct);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=In.NULL){return this._injector.get($t).run(()=>{Se(Ee.BootstrapComponentStart);let s=n instanceof Sd;if(!this._injector.get(yy).done){let S="";throw new U(405,S)}let u;s?u=n:u=this._injector.get(pc).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=Nb(u)?void 0:this._injector.get(no),f=r||u.selector,p=u.create(i,[],f,l),m=p.location.nativeElement,y=p.injector.get(gy,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),ec(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),Se(Ee.BootstrapComponentEnd,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Se(Ee.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(ny.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw Se(Ee.ChangeDetectionEnd),new U(101,!1);let n=G(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,G(n),this.afterTick.next(),Se(Ee.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(to,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<U1;){Se(Ee.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{Se(Ee.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Qa(i))continue;let o=r&&!this.zonelessEnabled?0:1;rb(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Qa(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ec(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Rd,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ec(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new U(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ec(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Nd(t,e,n,r){let i=ae(),o=Zi();if(Nn(i,o,e)){let s=ut(),a=Fl();vk(a,i,t,e,n,r)}return Nd}var m8=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Om=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function lm(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function B1(t,e,n,r){let i,o,s=0,a=t.length-1,u=void 0;if(Array.isArray(e)){G(r);let l=e.length-1;for(G(null);s<=a&&s<=l;){let f=t.at(s),p=e[s],m=lm(s,f,s,p,n);if(m!==0){m<0&&t.updateValue(s,p),s++;continue}let y=t.at(a),S=e[l],A=lm(a,y,l,S,n);if(A!==0){A<0&&t.updateValue(a,S),a--,l--;continue}let R=n(s,f),L=n(a,y),ne=n(s,p);if(Object.is(ne,L)){let he=n(l,S);Object.is(he,R)?(t.swap(s,a),t.updateValue(a,S),l--,a--):t.move(a,s),t.updateValue(s,p),s++;continue}if(i??=new ld,o??=zD(t,s,a,n),km(t,i,s,ne))t.updateValue(s,p),s++,a++;else if(o.has(ne))i.set(R,t.detach(s)),a--;else{let he=t.create(s,e[s]);t.attach(s,he),s++,a++}}for(;s<=l;)$D(t,i,n,s,e[s]),s++}else if(e!=null){G(r);let l=e[Symbol.iterator]();G(null);let f=l.next();for(;!f.done&&s<=a;){let p=t.at(s),m=f.value,y=lm(s,p,s,m,n);if(y!==0)y<0&&t.updateValue(s,m),s++,f=l.next();else{i??=new ld,o??=zD(t,s,a,n);let S=n(s,m);if(km(t,i,s,S))t.updateValue(s,m),s++,a++,f=l.next();else if(!o.has(S))t.attach(s,t.create(s,m)),s++,a++,f=l.next();else{let A=n(s,p);i.set(A,t.detach(s)),a--}}}for(;!f.done;)$D(t,i,n,t.length,f.value),f=l.next()}for(;s<=a;)t.destroy(t.detach(a--));i?.forEach(l=>{t.destroy(l)})}function km(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function $D(t,e,n,r,i){if(km(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function zD(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var ld=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function oe(t,e,n,r,i,o,s,a){ei("NgControlFlow");let u=ae(),l=ut(),f=Kn(l.consts,o);return ud(u,l,t,e,n,r,i,f,256,s,a),vy}function vy(t,e,n,r,i,o,s,a){ei("NgControlFlow");let u=ae(),l=ut(),f=Kn(l.consts,o);return ud(u,l,t,e,n,r,i,f,512,s,a),vy}function se(t,e){ei("NgControlFlow");let n=ae(),r=Zi(),i=n[r]!==dn?n[r]:-1,o=i!==-1?dd(n,tt+i):void 0,s=0;if(Nn(n,r,t)){let a=G(null);try{if(o!==void 0&&ub(o,s),t!==-1){let u=tt+t,l=dd(n,u),f=jm(n[z],u),p=db(l,f,n),m=Dd(n,f,e,{dehydratedView:p});Cd(l,m,s,nc(f,p))}}finally{G(a)}}else if(o!==void 0){let a=cb(o,s);a!==void 0&&(a[$e]=e)}}var Lm=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ue}};function fn(t,e){return e}var Fm=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function gt(t,e,n,r,i,o,s,a,u,l,f,p,m){ei("NgControlFlow");let y=ae(),S=ut(),A=u!==void 0,R=ae(),L=a?s.bind(R[Yt][$e]):s,ne=new Fm(A,L);R[tt+t]=ne,ud(y,S,t+1,e,n,r,i,Kn(S.consts,o),256),A&&ud(y,S,t+2,u,l,f,p,Kn(S.consts,m),512)}var Vm=class extends Om{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Ue}at(e){return this.getLView(e)[$e].$implicit}attach(e,n){let r=n[Jo];this.needsIndexUpdate||=e!==this.length,Cd(this.lContainer,n,e,nc(this.templateTNode,r)),H1(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,$1(this.lContainer,e),z1(this.lContainer,e)}create(e,n){let r=Cm(this.lContainer,this.templateTNode.tView.ssrId),i=Dd(this.hostLView,this.templateTNode,new Lm(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){wd(e[z],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[$e].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[$e].$index=e}getLView(e){return q1(this.lContainer,e)}};function mt(t){let e=G(null),n=vr();try{let r=ae(),i=r[z],o=r[n],s=n+1,a=dd(r,s);if(o.liveCollection===void 0){let l=jm(i,s);o.liveCollection=new Vm(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(B1(u,t,o.trackByFn,e),u.updateIndexes(),o.hasEmptyBlock){let l=Zi(),f=u.length===0;if(Nn(r,l,f)){let p=n+2,m=dd(r,p);if(f){let y=jm(i,p),S=db(m,y,r),A=Dd(r,y,void 0,{dehydratedView:S});Cd(m,A,0,nc(y,S))}else i.firstUpdatePass&&Hk(m),ub(m,0)}}}finally{G(e)}}function dd(t,e){return t[e]}function H1(t,e){if(t.length<=Ue)return;let n=Ue+e,r=t[n],i=r?r[Ki]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[yr];GO(o,i),eo.delete(r),i.detachedLeaveAnimationFns=void 0}}function $1(t,e){if(t.length<=Ue)return;let n=Ue+e,r=t[n],i=r?r[Ki]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function z1(t,e){return ic(t,e)}function q1(t,e){return cb(t,e)}function jm(t,e){return Ka(t,e)}function de(t,e,n){let r=ae(),i=Zi();if(Nn(r,i,e)){let o=ut(),s=Fl();fk(s,r,t,e,r[Le],n)}return de}function Um(t,e,n,r,i){ay(e,t,n,i?"class":"style",r)}function H(t,e,n,r){let i=ae(),o=i[z],s=t+tt,a=o.firstCreatePass?gb(s,i,2,e,yk,ZT(),n,r):o.data[s];if(YC(a,i,t,e,Mb),Nl(a)){let u=i[z];KC(u,i,a),TC(u,a,i)}return r!=null&&sy(i,a),H}function K(){let t=ut(),e=Ot(),n=JC(e);return t.firstCreatePass&&mb(t,n),Bg(n)&&Hg(),Ug(),n.classesWithoutHost!=null&&jP(n)&&Um(t,n,ae(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&UP(n)&&Um(t,n,ae(),n.stylesWithoutHost,!1),K}function ve(t,e,n,r){return H(t,e,n,r),K(),ve}function Me(t,e,n,r){let i=ae(),o=i[z],s=t+tt,a=o.firstCreatePass?r1(s,o,2,e,n,r):o.data[s];return YC(a,i,t,e,Mb),r!=null&&sy(i,a),Me}function xe(){let t=Ot(),e=JC(t);return Bg(e)&&Hg(),Ug(),xe}function nt(t,e,n,r){return Me(t,e,n,r),xe(),nt}var Mb=(t,e,n,r,i)=>(jl(!0),xC(e[Le],r,dD()));function qt(){return ae()}function wt(t,e,n){let r=ae(),i=Zi();if(Nn(r,i,e)){let o=ut(),s=Fl();QC(s,r,t,e,r[Le],n)}return wt}var Za=void 0;function G1(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var W1=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Za,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Za,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",Za,Za,Za],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",G1],dm={};function Zt(t){let e=K1(t),n=qD(e);if(n)return n;let r=e.split("-")[0];if(n=qD(r),n)return n;if(r==="en")return W1;throw new U(701,!1)}function qD(t){return t in dm||(dm[t]=wn.ng&&wn.ng.common&&wn.ng.common.locales&&wn.ng.common.locales[t]),dm[t]}var qe=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(qe||{});function K1(t){return t.toLowerCase().replace(/_/g,"-")}var mc="en-US";var Q1=mc;function xb(t){typeof t=="string"&&(Q1=t.toLowerCase().replace(/_/g,"-"))}function hn(t,e,n){let r=ae(),i=ut(),o=Ot();return Y1(i,r,r[Le],o,t,e,n),hn}function Zn(t,e,n){let r=ae(),i=ut(),o=Ot();return(o.type&3||n)&&vb(o,i,r,n,r[Le],t,e,Kl(o,r,e)),Zn}function Y1(t,e,n,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=Kl(r,e,o),vb(r,t,e,s,n,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let p=0;p<f.length;p+=2){let m=f[p],y=f[p+1];u??=Kl(r,e,o),jD(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=Kl(r,e,o),jD(r,e,p,i,i,u)}}function Q(t=1){return lD(t)}function _y(t,e,n,r){A1(t,e,n,r)}function Md(t,e,n){S1(t,e,n)}function ds(t){let e=ae(),n=ut(),r=Qg();Ol(r+1);let i=fy(n,r);if(t.dirty&&qT(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=M1(e,r);t.reset(o,eO),t.notifyOnChanges()}return!0}return!1}function fs(){return b1(ae(),Qg())}function $l(t,e){return t<<17|e<<2}function ro(t){return t>>17&32767}function J1(t){return(t&2)==2}function Z1(t,e){return t&131071|e<<17}function Bm(t){return t|2}function as(t){return(t&131068)>>2}function fm(t,e){return t&-131069|e<<2}function X1(t){return(t&1)===1}function Hm(t){return t|1}function eL(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ro(s),u=as(s);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||Yo(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let m=ro(t[a+1]);t[r+1]=$l(m,a),m!==0&&(t[m+1]=fm(t[m+1],r)),t[a+1]=Z1(t[a+1],r)}else t[r+1]=$l(a,0),a!==0&&(t[a+1]=fm(t[a+1],r)),a=r;else t[r+1]=$l(u,0),a===0?a=r:t[u+1]=fm(t[u+1],r),u=r;l&&(t[r+1]=Bm(t[r+1])),GD(t,f,r,!0),GD(t,f,r,!1),tL(e,f,t,r,o),s=$l(a,u),o?e.classBindings=s:e.styleBindings=s}function tL(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Yo(o,e)>=0&&(n[r+1]=Hm(n[r+1]))}function GD(t,e,n,r){let i=t[n+1],o=e===null,s=r?ro(i):as(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];nL(u,e)&&(a=!0,t[s+1]=r?Hm(l):Bm(l)),s=r?ro(l):as(l)}a&&(t[n+1]=r?Bm(i):Hm(i))}function nL(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Yo(t,e)>=0:!1}var An={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function rL(t){return t.substring(An.key,An.keyEnd)}function iL(t){return oL(t),Pb(t,Ob(t,0,An.textEnd))}function Pb(t,e){let n=An.textEnd;return n===e?-1:(e=An.keyEnd=sL(t,An.key=e,n),Ob(t,e,n))}function oL(t){An.key=0,An.keyEnd=0,An.value=0,An.valueEnd=0,An.textEnd=t.length}function Ob(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function sL(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function ni(t,e,n){return kb(t,e,n,!1),ni}function hs(t,e){return kb(t,e,null,!0),hs}function xd(t){cL(pL,aL,t,!0)}function aL(t,e){for(let n=iL(e);n>=0;n=Pb(e,n))bl(t,rL(e),!0)}function kb(t,e,n,r){let i=ae(),o=ut(),s=Kg(2);if(o.firstUpdatePass&&Fb(o,t,s,r),e!==dn&&Nn(i,s,e)){let a=o.data[vr()];Vb(o,a,i,i[Le],t,i[s+1]=mL(e,n),r,s)}}function cL(t,e,n,r){let i=ut(),o=Kg(2);i.firstUpdatePass&&Fb(i,null,o,r);let s=ae();if(n!==dn&&Nn(s,o,n)){let a=i.data[vr()];if(jb(a,r)&&!Lb(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=Il(u,n||"")),Um(i,a,s,n,r)}else gL(i,a,s,s[Le],s[o+1],s[o+1]=hL(t,e,n),r,o)}}function Lb(t,e){return e>=t.expandoStartIndex}function Fb(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[vr()],s=Lb(t,n);jb(o,r)&&e===null&&!s&&(e=!1),e=uL(i,o,e,r),eL(i,o,e,n,s,r)}}function uL(t,e,n,r){let i=sD(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=hm(null,t,e,n,r),n=sc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=hm(i,t,e,n,r),o===null){let u=lL(t,e,r);u!==void 0&&Array.isArray(u)&&(u=hm(null,t,e,u[1],r),u=sc(u,e.attrs,r),dL(t,e,r,u))}else o=fL(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function lL(t,e,n){let r=n?e.classBindings:e.styleBindings;if(as(r)!==0)return t[ro(r)]}function dL(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ro(i)]=r}function fL(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=sc(r,s,n)}return sc(r,e.attrs,n)}function hm(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=sc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function sc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),bl(t,s,n?!0:e[++o]))}return t===void 0?null:t}function hL(t,e,n){if(n==null||n==="")return zn;let r=[],i=oo(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function pL(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&bl(t,r,n)}function gL(t,e,n,r,i,o,s,a){i===dn&&(i=zn);let u=0,l=0,f=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;f!==null||p!==null;){let m=u<i.length?i[u+1]:void 0,y=l<o.length?o[l+1]:void 0,S=null,A;f===p?(u+=2,l+=2,m!==y&&(S=p,A=y)):p===null||f!==null&&f<p?(u+=2,S=f):(l+=2,S=p,A=y),S!==null&&Vb(t,e,n,r,S,A,s,a),f=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function Vb(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],f=X1(l)?WD(u,e,n,i,as(l),s):void 0;if(!fd(f)){fd(o)||J1(l)&&(o=WD(u,null,n,i,a,s));let p=Pg(vr(),n);ak(r,s,p,i,o)}}function WD(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,m=n[i+1];m===dn&&(m=p?zn:void 0);let y=p?Sl(m,r):f===r?m:void 0;if(l&&!fd(y)&&(y=Sl(u,r)),fd(y)&&(a=y,s))return a;let S=t[i+1];i=s?ro(S):as(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Sl(u,r))}return a}function fd(t){return t!==void 0}function mL(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=gr(oo(t)))),t}function jb(t,e){return(t.flags&(e?8:16))!==0}function me(t,e=""){let n=ae(),r=ut(),i=t+tt,o=r.firstCreatePass?bd(r,i,1,e,null):r.data[i],s=yL(r,n,o,e,t);n[i]=s,Vl()&&iy(r,n,s,o),ts(o,!1)}var yL=(t,e,n,r,i)=>(jl(!0),bO(e[Le],r));function vL(t,e,n,r=""){return Nn(t,Zi(),n)?e+Qo(n)+r:dn}function yt(t){return Mn("",t),yt}function Mn(t,e,n){let r=ae(),i=vL(r,t,e,n);return i!==dn&&_L(r,vr(),i),Mn}function _L(t,e,n){let r=Pg(e,t);SO(t[Le],r,n)}function yc(t,e,n,r){return EL(ae(),Wg(),t,e,n,r)}function Ub(t,e){let n=t[e];return n===dn?void 0:n}function EL(t,e,n,r,i,o){let s=e+n;return Nn(t,s,i)?yb(t,s+1,o?r.call(o,i):r(i)):Ub(t,s+1)}function IL(t,e,n,r,i,o,s){let a=e+n;return i1(t,a,i,o)?yb(t,a+2,s?r.call(s,i,o):r(i,o)):Ub(t,a+2)}function Ey(t,e){let n=ut(),r,i=t+tt;n.firstCreatePass?(r=wL(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=$r(r.type,!0)),s,a=Nt(le);try{let u=Zl(!1),l=o();return Zl(u),Og(n,ae(),i,l),l}finally{Nt(a)}}function wL(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Iy(t,e,n,r){let i=t+tt,o=ae(),s=zT(o,i);return TL(o,i)?IL(o,Wg(),e,s.transform,n,r,s):s.transform(n,r)}function TL(t,e){return t[z].data[e].pure}var hd=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},wy=(()=>{class t{compileModuleSync(n){return new cd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Cg(n),o=FC(i.declarations).reduce((s,a)=>{let u=Gr(a);return u&&s.push(new ss(u)),s},[]);return new hd(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Bb=(()=>{class t{applicationErrorHandler=P(un);appRef=P(ls);taskService=P(Zr);ngZone=P($t);zonelessEnabled=P(Ja);tracing=P(hc,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ht;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ja):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(im,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?em:Xg;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ja+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,em(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Hb(){return[{provide:Ko,useExisting:Bb},{provide:$t,useClass:Ua},{provide:Ja,useValue:!0}]}function DL(){return typeof $localize<"u"&&$localize.locale||mc}var vc=new $("",{factory:()=>P(vc,{optional:!0,skipSelf:!0})||DL()});function Ty(t,e){return Wu(t,e?.equal)}var qb=Symbol("InputSignalNode#UNSET"),jL=re(M({},Ku),{transformFn:void 0,applyValueToInputSignal(t,e){Na(t,e)}});function Gb(t,e){let n=Object.create(jL);n.value=t,n.transformFn=e?.transform;function r(){if(Sa(n),n.value===qb){let i=null;throw new U(-950,i)}return n.value}return r[jt]=n,r}var Od=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>uc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function $b(t,e){return Gb(t,e)}function UL(t){return Gb(qb,t)}var Wb=($b.required=UL,$b);var Dy=new $(""),BL=new $("");function _c(t){return!t.moduleRef}function HL(t){let e=_c(t)?t.r3Injector:t.moduleRef.injector,n=e.get($t);return n.run(()=>{_c(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(un),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),_c(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Dy);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Dy);s.add(o),t.moduleRef.onDestroy(()=>{ec(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return zL(r,n,()=>{let o=e.get(Zr),s=o.add(),a=e.get(yy);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(vc,mc);if(xb(u||mc),!e.get(BL,!0))return _c(t)?e.get(ls):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(_c(t)){let f=e.get(ls);return t.rootComponent!==void 0&&f.bootstrap(t.rootComponent),f}else return $L?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var $L;function zL(t,e,n){try{let r=n();return us(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Pd=null;function qL(t=[],e){return In.create({name:e,providers:[{provide:$a,useValue:"platform"},{provide:Dy,useValue:new Set([()=>Pd=null])},...t]})}function GL(t=[]){if(Pd)return Pd;let e=qL(t);return Pd=e,Rb(),WL(e),e}function WL(t){let e=t.get(yd,null);Mt(t,()=>{e?.forEach(n=>n())})}var ps=(()=>{class t{static __NG_ELEMENT_ID__=KL}return t})();function KL(t){return QL(Ot(),ae(),(t&16)===16)}function QL(t,e,n){if(Qr(t)&&!n){let r=cn(t.index,e);return new Xr(r,r)}else if(t.type&175){let r=e[Yt];return new Xr(r,e)}return null}function Kb(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;Se(Ee.BootstrapApplicationStart);try{let o=i?.injector??GL(r),s=[Hb(),gD,...n||[]],a=new oc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return HL({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Se(Ee.BootstrapApplicationEnd)}}function Ec(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Qb=null;function Er(){return Qb}function Cy(t){Qb??=t}var Ic=class{},Ld=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:()=>P(Yb),providedIn:"platform"})}return t})();var Yb=(()=>{class t extends Ld{_location;_history;_doc=P(ze);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Er().getBaseHref(this._doc)}onPopState(n){let r=Er().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Er().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Xb(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function Jb(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function ri(t){return t&&t[0]!=="?"?`?${t}`:t}var co=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:()=>P(eS),providedIn:"root"})}return t})(),YL=new $(""),eS=(()=>{class t extends co{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(ze).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Xb(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+ri(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+ri(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+ri(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(W(Ld),W(YL,8))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),uo=(()=>{class t{_subject=new st;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=XL(Jb(Zb(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ri(r))}normalize(n){return t.stripTrailingSlash(ZL(this._basePath,Zb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ri(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ri(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ri;static joinWithSlash=Xb;static stripTrailingSlash=Jb;static \u0275fac=function(r){return new(r||t)(W(co))};static \u0275prov=j({token:t,factory:()=>JL(),providedIn:"root"})}return t})();function JL(){return new uo(W(co))}function ZL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Zb(t){return t.replace(/\/index.html$/,"")}function XL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Tt=(function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t})(Tt||{}),Re=(function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t})(Re||{}),Wt=(function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t})(Wt||{}),wr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function rS(t){return Zt(t)[qe.LocaleId]}function iS(t,e,n){let r=Zt(t),i=[r[qe.DayPeriodsFormat],r[qe.DayPeriodsStandalone]],o=pn(i,e);return pn(o,n)}function oS(t,e,n){let r=Zt(t),i=[r[qe.DaysFormat],r[qe.DaysStandalone]],o=pn(i,e);return pn(o,n)}function sS(t,e,n){let r=Zt(t),i=[r[qe.MonthsFormat],r[qe.MonthsStandalone]],o=pn(i,e);return pn(o,n)}function aS(t,e){let r=Zt(t)[qe.Eras];return pn(r,e)}function wc(t,e){let n=Zt(t);return pn(n[qe.DateFormat],e)}function Tc(t,e){let n=Zt(t);return pn(n[qe.TimeFormat],e)}function Dc(t,e){let r=Zt(t)[qe.DateTimeFormat];return pn(r,e)}function Cc(t,e){let n=Zt(t),r=n[qe.NumberSymbols][e];if(typeof r>"u"){if(e===wr.CurrencyDecimal)return n[qe.NumberSymbols][wr.Decimal];if(e===wr.CurrencyGroup)return n[qe.NumberSymbols][wr.Group]}return r}function cS(t){if(!t[qe.ExtraData])throw new U(2303,!1)}function uS(t){let e=Zt(t);return cS(e),(e[qe.ExtraData][2]||[]).map(r=>typeof r=="string"?by(r):[by(r[0]),by(r[1])])}function lS(t,e,n){let r=Zt(t);cS(r);let i=[r[qe.ExtraData][0],r[qe.ExtraData][1]],o=pn(i,e)||[];return pn(o,n)||[]}function pn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new U(2304,!1)}function by(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var eF=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Fd={},tF=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function dS(t,e,n,r){let i=lF(t);e=Ir(n,e)||e;let s=[],a;for(;e;)if(a=tF.exec(e),a){s=s.concat(a.slice(1));let f=s.pop();if(!f)break;e=f}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=hS(r,u),i=uF(i,r));let l="";return s.forEach(f=>{let p=aF(f);l+=p?p(i,n,u):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Hd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Ir(t,e){let n=rS(t);if(Fd[n]??={},Fd[n][e])return Fd[n][e];let r="";switch(e){case"shortDate":r=wc(t,Wt.Short);break;case"mediumDate":r=wc(t,Wt.Medium);break;case"longDate":r=wc(t,Wt.Long);break;case"fullDate":r=wc(t,Wt.Full);break;case"shortTime":r=Tc(t,Wt.Short);break;case"mediumTime":r=Tc(t,Wt.Medium);break;case"longTime":r=Tc(t,Wt.Long);break;case"fullTime":r=Tc(t,Wt.Full);break;case"short":let i=Ir(t,"shortTime"),o=Ir(t,"shortDate");r=Vd(Dc(t,Wt.Short),[i,o]);break;case"medium":let s=Ir(t,"mediumTime"),a=Ir(t,"mediumDate");r=Vd(Dc(t,Wt.Medium),[s,a]);break;case"long":let u=Ir(t,"longTime"),l=Ir(t,"longDate");r=Vd(Dc(t,Wt.Long),[u,l]);break;case"full":let f=Ir(t,"fullTime"),p=Ir(t,"fullDate");r=Vd(Dc(t,Wt.Full),[f,p]);break}return r&&(Fd[n][e]=r),r}function Vd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function xn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function nF(t,e){return xn(t,3).substring(0,e)}function Ge(t,e,n=0,r=!1,i=!1){return function(o,s){let a=rF(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return nF(a,e);let u=Cc(s,wr.MinusSign);return xn(a,e,u,r,i)}}function rF(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new U(2301,!1)}}function Pe(t,e,n=Tt.Format,r=!1){return function(i,o){return iF(i,o,t,e,n,r)}}function iF(t,e,n,r,i,o){switch(n){case 2:return sS(e,i,r)[t.getMonth()];case 1:return oS(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let l=uS(e),f=lS(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,S]=m,A=s>=y.hours&&a>=y.minutes,R=s<S.hours||s===S.hours&&a<S.minutes;if(y.hours<S.hours){if(A&&R)return!0}else if(A||R)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(p!==-1)return f[p]}return iS(e,i,r)[s<12?0:1];case 3:return aS(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new U(2302,!1)}}function jd(t){return function(e,n,r){let i=-1*r,o=Cc(n,wr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+xn(s,2,o)+xn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+xn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+xn(s,2,o)+":"+xn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+xn(s,2,o)+":"+xn(Math.abs(i%60),2,o);default:throw new U(2310,!1)}}}var oF=0,Bd=4;function sF(t){let e=Hd(t,oF,1).getDay();return Hd(t,0,1+(e<=Bd?Bd:Bd+7)-e)}function fS(t){let e=t.getDay(),n=e===0?-3:Bd-e;return Hd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Sy(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=fS(n),s=sF(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return xn(i,t,Cc(r,wr.MinusSign))}}function Ud(t,e=!1){return function(n,r){let o=fS(n).getFullYear();return xn(o,t,Cc(r,wr.MinusSign),e)}}var Ay={};function aF(t){if(Ay[t])return Ay[t];let e;switch(t){case"G":case"GG":case"GGG":e=Pe(3,Re.Abbreviated);break;case"GGGG":e=Pe(3,Re.Wide);break;case"GGGGG":e=Pe(3,Re.Narrow);break;case"y":e=Ge(0,1,0,!1,!0);break;case"yy":e=Ge(0,2,0,!0,!0);break;case"yyy":e=Ge(0,3,0,!1,!0);break;case"yyyy":e=Ge(0,4,0,!1,!0);break;case"Y":e=Ud(1);break;case"YY":e=Ud(2,!0);break;case"YYY":e=Ud(3);break;case"YYYY":e=Ud(4);break;case"M":case"L":e=Ge(1,1,1);break;case"MM":case"LL":e=Ge(1,2,1);break;case"MMM":e=Pe(2,Re.Abbreviated);break;case"MMMM":e=Pe(2,Re.Wide);break;case"MMMMM":e=Pe(2,Re.Narrow);break;case"LLL":e=Pe(2,Re.Abbreviated,Tt.Standalone);break;case"LLLL":e=Pe(2,Re.Wide,Tt.Standalone);break;case"LLLLL":e=Pe(2,Re.Narrow,Tt.Standalone);break;case"w":e=Sy(1);break;case"ww":e=Sy(2);break;case"W":e=Sy(1,!0);break;case"d":e=Ge(2,1);break;case"dd":e=Ge(2,2);break;case"c":case"cc":e=Ge(7,1);break;case"ccc":e=Pe(1,Re.Abbreviated,Tt.Standalone);break;case"cccc":e=Pe(1,Re.Wide,Tt.Standalone);break;case"ccccc":e=Pe(1,Re.Narrow,Tt.Standalone);break;case"cccccc":e=Pe(1,Re.Short,Tt.Standalone);break;case"E":case"EE":case"EEE":e=Pe(1,Re.Abbreviated);break;case"EEEE":e=Pe(1,Re.Wide);break;case"EEEEE":e=Pe(1,Re.Narrow);break;case"EEEEEE":e=Pe(1,Re.Short);break;case"a":case"aa":case"aaa":e=Pe(0,Re.Abbreviated);break;case"aaaa":e=Pe(0,Re.Wide);break;case"aaaaa":e=Pe(0,Re.Narrow);break;case"b":case"bb":case"bbb":e=Pe(0,Re.Abbreviated,Tt.Standalone,!0);break;case"bbbb":e=Pe(0,Re.Wide,Tt.Standalone,!0);break;case"bbbbb":e=Pe(0,Re.Narrow,Tt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Pe(0,Re.Abbreviated,Tt.Format,!0);break;case"BBBB":e=Pe(0,Re.Wide,Tt.Format,!0);break;case"BBBBB":e=Pe(0,Re.Narrow,Tt.Format,!0);break;case"h":e=Ge(3,1,-12);break;case"hh":e=Ge(3,2,-12);break;case"H":e=Ge(3,1);break;case"HH":e=Ge(3,2);break;case"m":e=Ge(4,1);break;case"mm":e=Ge(4,2);break;case"s":e=Ge(5,1);break;case"ss":e=Ge(5,2);break;case"S":e=Ge(6,1);break;case"SS":e=Ge(6,2);break;case"SSS":e=Ge(6,3);break;case"Z":case"ZZ":case"ZZZ":e=jd(0);break;case"ZZZZZ":e=jd(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=jd(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=jd(2);break;default:return null}return Ay[t]=e,e}function hS(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function cF(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function uF(t,e,n){let i=t.getTimezoneOffset(),o=hS(e,i);return cF(t,-1*(o-i))}function lF(t){if(tS(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Hd(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(eF))return dF(r)}let e=new Date(t);if(!tS(e))throw new U(2311,!1);return e}function dF(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function tS(t){return t instanceof Date&&!isNaN(t.valueOf())}var Ry=/\s+/,nS=[],Ny=(()=>{class t{_ngEl;_renderer;initialClasses=nS;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Ry):nS}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Ry):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Ry).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(le(zt),le(so))};static \u0275dir=ti({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();function fF(t,e){return new U(2100,!1)}var hF="mediumDate",pS=new $(""),gS=new $(""),My=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??hF,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return dS(n,s,o||this.locale,a)}catch(s){throw fF(t,s.message)}}static \u0275fac=function(r){return new(r||t)(le(vc,16),le(pS,24),le(gS,24))};static \u0275pipe=hy({name:"date",type:t,pure:!0})}return t})();function xy(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var bc=class{};var mS="browser";var yS=(()=>{class t{static \u0275prov=j({token:t,providedIn:"root",factory:()=>new Py(P(ze),window)})}return t})(),Py=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,n){this.window.scrollTo(re(M({},n),{left:e[0],top:e[1]}))}scrollToAnchor(e,n){let r=vF(this.document,e);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(qr(2400,!1))}}scrollToElement(e,n){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(re(M({},n),{left:i-s[0],top:o-s[1]}))}};function vF(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Sc=class{_doc;constructor(e){this._doc=e}manager},$d=(()=>{class t extends Sc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(W(ze))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),Gd=new $(""),Fy=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof $d));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof $d);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(W(Gd),W($t))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),Oy="ng-app-id";function vS(t){for(let e of t)e.remove()}function _S(t,e){let n=e.createElement("style");return n.textContent=t,n}function EF(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Oy}="${e}"],link[${Oy}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Oy),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Ly(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Vy=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,EF(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,_S);r?.forEach(i=>this.addUsage(i,this.external,Ly))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(vS(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])vS(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,_S(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Ly(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(W(ze),W(md),W(vd,8),W(lc))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),ky={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},jy=/%COMP%/g;var IS="%COMP%",IF=`_nghost-${IS}`,wF=`_ngcontent-${IS}`,TF=!0,DF=new $("",{factory:()=>TF});function CF(t){return wF.replace(jy,t)}function bF(t){return IF.replace(jy,t)}function wS(t,e){return e.map(n=>n.replace(jy,t))}var Uy=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new Ac(n,s,a,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof qd?i.applyToHost(n):i instanceof Rc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Rn.Emulated:o=new qd(u,l,r,this.appId,f,s,a,p,m);break;case Rn.ShadowDom:return new zd(u,n,r,s,a,this.nonce,p,m,l);case Rn.ExperimentalIsolatedShadowDom:return new zd(u,n,r,s,a,this.nonce,p,m);default:o=new Rc(u,l,r,f,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(W(Fy),W(Vy),W(md),W(DF),W(ze),W($t),W(vd),W(hc,8))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),Ac=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(ky[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ES(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ES(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=ky[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=ky[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Yn.DashCase|Yn.Important)?e.style.setProperty(n,r,i&Yn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Yn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Er().getGlobalEventTarget(this.doc,e),!e))throw new U(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function ES(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var zd=class extends Ac{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,o,s,a,u,l){super(e,i,o,a,u),this.hostEl=n,this.sharedStylesHost=l,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let f=r.styles;f=wS(r.id,f);for(let m of f){let y=document.createElement("style");s&&y.setAttribute("nonce",s),y.textContent=m,this.shadowRoot.appendChild(y)}let p=r.getExternalStyles?.();if(p)for(let m of p){let y=Ly(m,i);s&&y.setAttribute("nonce",s),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Rc=class extends Ac{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=l?wS(l,f):f,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&eo.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},qd=class extends Rc{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l){let f=i+"-"+r.id;super(e,n,r,o,s,a,u,l,f),this.contentAttr=CF(f),this.hostAttr=bF(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Wd=class t extends Ic{supportsDOMEvents=!0;static makeCurrent(){Cy(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=SF();return n==null?null:AF(n)}resetBaseElement(){Nc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return xy(document.cookie,e)}},Nc=null;function SF(){return Nc=Nc||document.head.querySelector("base"),Nc?Nc.getAttribute("href"):null}function AF(t){return new URL(t,document.baseURI).pathname}var RF=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),TS=["alt","control","meta","shift"],NF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},MF={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},DS=(()=>{class t extends Sc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Er().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),TS.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=NF[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),TS.forEach(s=>{if(s!==i){let a=MF[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(W(ze))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})();function By(t,e,n){let r=M({rootComponent:t,platformRef:n?.platformRef},xF(e));return Kb(r)}function xF(t){return{appProviders:[...FF,...t?.providers??[]],platformProviders:LF}}function PF(){Wd.makeCurrent()}function OF(){return new mr}function kF(){return qm(document),document}var LF=[{provide:lc,useValue:mS},{provide:yd,useValue:PF,multi:!0},{provide:ze,useFactory:kF}];var FF=[{provide:$a,useValue:"root"},{provide:mr,useFactory:OF},{provide:Gd,useClass:$d,multi:!0},{provide:Gd,useClass:DS,multi:!0},Uy,Vy,Fy,{provide:to,useExisting:Uy},{provide:bc,useClass:RF},[]];var CS=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(W(ze))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Z="primary",Bc=Symbol("RouteTitle"),Gy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function po(t){return new Gy(t)}function OS(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Xd(t){return new Promise((e,n)=>{t.pipe(hr()).subscribe({next:r=>e(r),error:r=>n(r)})})}function jF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Xn(t[n],e[n]))return!1;return!0}function Xn(t,e){let n=t?Wy(t):void 0,r=e?Wy(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!kS(t[i],e[i]))return!1;return!0}function Wy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function kS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function LS(t){return t.length>0?t[t.length-1]:null}function go(t){return fl(t)?t:us(t)?Xe(Promise.resolve(t)):ue(t)}function FS(t){return fl(t)?Xd(t):Promise.resolve(t)}var UF={exact:jS,subset:US},VS={exact:BF,subset:HF,ignored:()=>!0};function bS(t,e,n){return UF[n.paths](t.root,e.root,n.matrixParams)&&VS[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function BF(t,e){return Xn(t,e)}function jS(t,e,n){if(!fo(t.segments,e.segments)||!Yd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!jS(t.children[r],e.children[r],n))return!1;return!0}function HF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>kS(t[n],e[n]))}function US(t,e,n){return BS(t,e,e.segments,n)}function BS(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!fo(i,n)||e.hasChildren()||!Yd(i,n,r))}else if(t.segments.length===n.length){if(!fo(t.segments,n)||!Yd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!US(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!fo(t.segments,i)||!Yd(t.segments,i,r)||!t.children[Z]?!1:BS(t.children[Z],e,o,r)}}function Yd(t,e,n){return e.every((r,i)=>VS[n](t[i].parameters,r.parameters))}var On=class{root;queryParams;fragment;_queryParamMap;constructor(e=new we([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=po(this.queryParams),this._queryParamMap}toString(){return qF.serialize(this)}},we=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jd(this)}},ii=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=po(this.parameters),this._parameterMap}toString(){return $S(this)}};function $F(t,e){return fo(t,e)&&t.every((n,r)=>Xn(n.parameters,e[r].parameters))}function fo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function zF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Z&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Z&&(n=n.concat(e(i,r)))}),n}var Cs=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:()=>new oi,providedIn:"root"})}return t})(),oi=class{parse(e){let n=new Qy(e);return new On(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Mc(e.root,!0)}`,r=KF(e.queryParams),i=typeof e.fragment=="string"?`#${GF(e.fragment)}`:"";return`${n}${r}${i}`}},qF=new oi;function Jd(t){return t.segments.map(e=>$S(e)).join("/")}function Mc(t,e){if(!t.hasChildren())return Jd(t);if(e){let n=t.children[Z]?Mc(t.children[Z],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Z&&r.push(`${i}:${Mc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=zF(t,(r,i)=>i===Z?[Mc(t.children[Z],!1)]:[`${i}:${Mc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Z]!=null?`${Jd(t)}/${n[0]}`:`${Jd(t)}/(${n.join("//")})`}}function HS(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kd(t){return HS(t).replace(/%3B/gi,";")}function GF(t){return encodeURI(t)}function Ky(t){return HS(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zd(t){return decodeURIComponent(t)}function SS(t){return Zd(t.replace(/\+/g,"%20"))}function $S(t){return`${Ky(t.path)}${WF(t.parameters)}`}function WF(t){return Object.entries(t).map(([e,n])=>`;${Ky(e)}=${Ky(n)}`).join("")}function KF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Kd(n)}=${Kd(i)}`).join("&"):`${Kd(n)}=${Kd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var QF=/^[^\/()?;#]+/;function Hy(t){let e=t.match(QF);return e?e[0]:""}var YF=/^[^\/()?;=#]+/;function JF(t){let e=t.match(YF);return e?e[0]:""}var ZF=/^[^=?&#]+/;function XF(t){let e=t.match(ZF);return e?e[0]:""}var eV=/^[^&#]+/;function tV(t){let e=t.match(eV);return e?e[0]:""}var Qy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Z]=new we(e,n)),r}parseSegment(){let e=Hy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new ii(Zd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=JF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Hy(this.remaining);i&&(r=i,this.capture(r))}e[Zd(n)]=Zd(r)}parseQueryParam(e){let n=XF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=tV(this.remaining);s&&(r=s,this.capture(r))}let i=SS(n),o=SS(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Hy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Z);let s=this.parseChildren();n[o??Z]=Object.keys(s).length===1&&s[Z]?s[Z]:new we([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function zS(t){return t.segments.length>0?new we([],{[Z]:t}):t}function qS(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=qS(i);if(r===Z&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new we(t.segments,e);return nV(n)}function nV(t){if(t.numberOfChildren===1&&t.children[Z]){let e=t.children[Z];return new we(t.segments.concat(e.segments),e.children)}return t}function si(t){return t instanceof On}function GS(t,e,n=null,r=null,i=new oi){let o=WS(t);return KS(o,e,n,r,i)}function WS(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new we(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=zS(r);return e??i}function KS(t,e,n,r,i){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return $y(o,o,o,n,r,i);let s=rV(e);if(s.toRoot())return $y(o,o,new we([],{}),n,r,i);let a=iV(s,o,t),u=a.processChildren?Pc(a.segmentGroup,a.index,s.commands):YS(a.segmentGroup,a.index,s.commands);return $y(o,a.segmentGroup,u,n,r,i)}function ef(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function kc(t){return typeof t=="object"&&t!=null&&t.outlets}function AS(t,e,n){t||="\u0275";let r=new On;return r.queryParams={[t]:e},n.parse(n.serialize(r)).queryParams[t]}function $y(t,e,n,r,i,o){let s={};for(let[l,f]of Object.entries(r??{}))s[l]=Array.isArray(f)?f.map(p=>AS(l,p,o)):AS(l,f,o);let a;t===e?a=n:a=QS(t,e,n);let u=zS(qS(a));return new On(u,s,i)}function QS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=QS(o,e,n)}),new we(t.segments,r)}var tf=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ef(r[0]))throw new U(4003,!1);let i=r.find(kc);if(i&&i!==LS(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function rV(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new tf(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new tf(n,e,r)}var ms=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function iV(t,e,n){if(t.isAbsolute)return new ms(e,!0,0);if(!n)return new ms(e,!1,NaN);if(n.parent===null)return new ms(n,!0,0);let r=ef(t.commands[0])?0:1,i=n.segments.length-1+r;return oV(n,i,t.numberOfDoubleDots)}function oV(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new ms(r,!1,i-o)}function sV(t){return kc(t[0])?t[0].outlets:{[Z]:t}}function YS(t,e,n){if(t??=new we([],{}),t.segments.length===0&&t.hasChildren())return Pc(t,e,n);let r=aV(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new we(t.segments.slice(0,r.pathIndex),{});return o.children[Z]=new we(t.segments.slice(r.pathIndex),t.children),Pc(o,0,i)}else return r.match&&i.length===0?new we(t.segments,{}):r.match&&!t.hasChildren()?Yy(t,e,n):r.match?Pc(t,0,i):Yy(t,e,n)}function Pc(t,e,n){if(n.length===0)return new we(t.segments,{});{let r=sV(n),i={};if(Object.keys(r).some(o=>o!==Z)&&t.children[Z]&&t.numberOfChildren===1&&t.children[Z].segments.length===0){let o=Pc(t.children[Z],e,n);return new we(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=YS(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new we(t.segments,i)}}function aV(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(kc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!NS(u,l,s))return o;r+=2}else{if(!NS(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Yy(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(kc(o)){let u=cV(o.outlets);return new we(r,u)}if(i===0&&ef(n[0])){let u=t.segments[e];r.push(new ii(u.path,RS(n[0]))),i++;continue}let s=kc(o)?o.outlets[Z]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&ef(a)?(r.push(new ii(s,RS(a))),i+=2):(r.push(new ii(s,{})),i++)}return new we(r,{})}function cV(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Yy(new we([],{}),0,r))}),e}function RS(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function NS(t,e,n){return t==n.path&&Xn(e,n.parameters)}var ys="imperative",rt=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(rt||{}),en=class{id;url;constructor(e,n){this.id=e,this.url=n}},ai=class extends en{type=rt.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},gn=class extends en{urlAfterRedirects;type=rt.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},kt=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(kt||{}),_s=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(_s||{}),er=class extends en{reason;code;type=rt.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},tr=class extends en{reason;code;type=rt.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Es=class extends en{error;target;type=rt.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Lc=class extends en{urlAfterRedirects;state;type=rt.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nf=class extends en{urlAfterRedirects;state;type=rt.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rf=class extends en{urlAfterRedirects;state;shouldActivate;type=rt.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},of=class extends en{urlAfterRedirects;state;type=rt.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sf=class extends en{urlAfterRedirects;state;type=rt.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},af=class{route;type=rt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},cf=class{route;type=rt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},uf=class{snapshot;type=rt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lf=class{snapshot;type=rt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},df=class{snapshot;type=rt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ff=class{snapshot;type=rt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Is=class{routerEvent;position;anchor;type=rt.Scroll;constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Fc=class{},ws=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function uV(t){return!(t instanceof Fc)&&!(t instanceof ws)}function lV(t,e){return t.providers&&!t._injector&&(t._injector=gc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Pn(t){return t.outlet||Z}function dV(t,e){let n=t.filter(r=>Pn(r)===e);return n.push(...t.filter(r=>Pn(r)!==e)),n}function bs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var hf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return bs(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Ss(this.rootInjector)}},Ss=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new hf(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(W(ct))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Jy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Jy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Zy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Zy(e,this._root).map(n=>n.value)}};function Jy(t,e){if(t===e.value)return e;for(let n of e.children){let r=Jy(t,n);if(r)return r}return null}function Zy(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Zy(t,n);if(r.length)return r.unshift(e),r}return[]}var Xt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function gs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Vc=class extends pf{snapshot;constructor(e,n){super(e),this.snapshot=n,iv(this,e)}toString(){return this.snapshot.toString()}};function JS(t){let e=fV(t),n=new pt([new ii("",{})]),r=new pt({}),i=new pt({}),o=new pt({}),s=new pt(""),a=new kn(n,r,o,s,i,Z,t,e.root);return a.snapshot=e.root,new Vc(new Xt(a,[]),e)}function fV(t){let e={},n={},r={},o=new ho([],e,r,"",n,Z,t,null,{});return new jc("",new Xt(o,[]))}var kn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ke(l=>l[Bc]))??ue(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ke(e=>po(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ke(e=>po(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function gf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:M(M({},e.params),t.params),data:M(M({},e.data),t.data),resolve:M(M(M(M({},t.data),e.data),i?.data),t._resolvedData)}:r={params:M({},t.params),data:M({},t.data),resolve:M(M({},t.data),t._resolvedData??{})},i&&XS(i)&&(r.resolve[Bc]=i.title),r}var ho=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Bc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=po(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=po(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},jc=class extends pf{url;constructor(e,n){super(n),this.url=e,iv(this,n)}toString(){return ZS(this._root)}};function iv(t,e){e.value._routerState=t,e.children.forEach(n=>iv(t,n))}function ZS(t){let e=t.children.length>0?` { ${t.children.map(ZS).join(", ")} } `:"";return`${t.value}${e}`}function zy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Xn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Xn(e.params,n.params)||t.paramsSubject.next(n.params),jF(e.url,n.url)||t.urlSubject.next(n.url),Xn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Xy(t,e){let n=Xn(t.params,e.params)&&$F(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Xy(t.parent,e.parent))}function XS(t){return typeof t.title=="string"||t.title===null}var e0=new $(""),Hc=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Z;activateEvents=new It;deactivateEvents=new It;attachEvents=new It;detachEvents=new It;routerOutletData=Wb();parentContexts=P(Ss);location=P(ao);changeDetector=P(ps);inputBinder=P(_f,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new ev(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ti({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[io]})}return t})(),ev=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===kn?this.route:e===Ss?this.childContexts:e===e0?this.outletData:this.parent.get(e,n)}},_f=new $("");var ov=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ie({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ve(0,"router-outlet")},dependencies:[Hc],encapsulation:2})}return t})();function sv(t){let e=t.children&&t.children.map(sv),n=e?re(M({},t),{children:e}):M({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Z&&(n.component=ov),n}function hV(t,e,n){let r=Uc(t,e._root,n?n._root:void 0);return new Vc(r,e)}function Uc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=pV(t,e,n);return new Xt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Uc(t,a)),s}}let r=gV(e.value),i=e.children.map(o=>Uc(t,o));return new Xt(r,i)}}function pV(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Uc(t,r,i);return Uc(t,r)})}function gV(t){return new kn(new pt(t.url),new pt(t.params),new pt(t.queryParams),new pt(t.fragment),new pt(t.data),t.outlet,t.component,t)}var Ts=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},t0="ngNavigationCancelingError";function mf(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=si(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=n0(!1,kt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function n0(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[t0]=!0,n.cancellationCode=e,n}function mV(t){return r0(t)&&si(t.url)}function r0(t){return!!t&&t[t0]}var yV=(t,e,n,r)=>ke(i=>(new tv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),tv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),zy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=gs(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=gs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=gs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=gs(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new ff(o.value.snapshot))}),e.children.length&&this.forwardEvent(new lf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(zy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),zy(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},yf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},vs=class{component;route;constructor(e,n){this.component=e,this.route=n}};function vV(t,e,n){let r=t._root,i=e?e._root:null;return xc(r,i,n,[r.value])}function _V(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function As(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!pg(t)?t:e.get(t):r}function xc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=gs(e);return t.children.forEach(s=>{EV(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Oc(a,n.getContext(s),i)),i}function EV(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=IV(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new yf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?xc(t,e,a?a.children:null,r,i):xc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new vs(a.outlet.component,s))}else s&&Oc(e,a,i),i.canActivateChecks.push(new yf(r)),o.component?xc(t,null,a?a.children:null,r,i):xc(t,null,n,r,i);return i}function IV(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!fo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!fo(t.url,e.url)||!Xn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xy(t,e)||!Xn(t.queryParams,e.queryParams);case"paramsChange":default:return!Xy(t,e)}}function Oc(t,e,n){let r=gs(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Oc(s,e.children.getContext(o),n):Oc(s,null,n):Oc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new vs(e.outlet.component,i)):n.canDeactivateChecks.push(new vs(null,i)):n.canDeactivateChecks.push(new vs(null,i))}function $c(t){return typeof t=="function"}function wV(t){return typeof t=="boolean"}function TV(t){return t&&$c(t.canLoad)}function DV(t){return t&&$c(t.canActivate)}function CV(t){return t&&$c(t.canActivateChild)}function bV(t){return t&&$c(t.canDeactivate)}function SV(t){return t&&$c(t.canMatch)}function i0(t){return t instanceof Vi||t?.name==="EmptyError"}var Qd=Symbol("INITIAL_VALUE");function Ds(){return Hn(t=>Kp(t.map(e=>e.pipe(fr(1),Jp(Qd)))).pipe(ke(e=>{for(let n of e)if(n!==!0){if(n===Qd)return Qd;if(n===!1||AV(n))return n}return!0}),En(e=>e!==Qd),fr(1)))}function AV(t){return si(t)||t instanceof Ts}function o0(t){return t.aborted?ue(void 0).pipe(fr(1)):new _e(e=>{let n=()=>{e.next(),e.complete()};return t.addEventListener("abort",n),()=>t.removeEventListener("abort",n)})}function s0(t){return ka(o0(t))}function RV(t,e){return Et(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ue(re(M({},n),{guardsResult:!0})):NV(s,r,i,t).pipe(Et(a=>a&&wV(a)?MV(r,o,t,e):ue(a)),ke(a=>re(M({},n),{guardsResult:a})))})}function NV(t,e,n,r){return Xe(t).pipe(Et(i=>LV(i.component,i.route,n,e,r)),hr(i=>i!==!0,!0))}function MV(t,e,n,r){return Xe(e).pipe(Oa(i=>zo(PV(i.route.parent,r),xV(i.route,r),kV(t,i.path,n),OV(t,i.route,n))),hr(i=>i!==!0,!0))}function xV(t,e){return t!==null&&e&&e(new df(t)),ue(!0)}function PV(t,e){return t!==null&&e&&e(new uf(t)),ue(!0)}function OV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ue(!0);let i=r.map(o=>Pa(()=>{let s=bs(e)??n,a=As(o,s),u=DV(a)?a.canActivate(e,t):Mt(s,()=>a(e,t));return go(u).pipe(hr())}));return ue(i).pipe(Ds())}function kV(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>_V(s)).filter(s=>s!==null).map(s=>Pa(()=>{let a=s.guards.map(u=>{let l=bs(s.node)??n,f=As(u,l),p=CV(f)?f.canActivateChild(r,t):Mt(l,()=>f(r,t));return go(p).pipe(hr())});return ue(a).pipe(Ds())}));return ue(o).pipe(Ds())}function LV(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ue(!0);let s=o.map(a=>{let u=bs(e)??i,l=As(a,u),f=bV(l)?l.canDeactivate(t,e,n,r):Mt(u,()=>l(t,e,n,r));return go(f).pipe(hr())});return ue(s).pipe(Ds())}function FV(t,e,n,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return ue(!0);let s=o.map(a=>{let u=As(a,t),l=TV(u)?u.canLoad(e,n):Mt(t,()=>u(e,n)),f=go(l);return i?f.pipe(s0(i)):f});return ue(s).pipe(Ds(),a0(r))}function a0(t){return zp(Rt(e=>{if(typeof e!="boolean")throw mf(t,e)}),ke(e=>e===!0))}function VV(t,e,n,r,i){let o=e.canMatch;if(!o||o.length===0)return ue(!0);let s=o.map(a=>{let u=As(a,t),l=SV(u)?u.canMatch(e,n):Mt(t,()=>u(e,n)),f=go(l);return i?f.pipe(s0(i)):f});return ue(s).pipe(Ds(),a0(r))}var lo=class c0 extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,c0.prototype)}},nv=class u0 extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,u0.prototype)}};function jV(t){throw new U(4e3,!1)}function UV(t){throw n0(!1,kt.GuardRejected)}var BV=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}async lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[Z])throw jV(`${e.redirectTo}`);i=i.children[Z]}}async applyRedirectCommands(e,n,r,i,o){let s=await HV(n,i,o);if(s instanceof On)throw new nv(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new nv(a);return a}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new On(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new we(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function HV(t,e,n){if(typeof t=="string")return Promise.resolve(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:f,title:p}=e;return Xd(go(Mt(n,()=>r({params:l,data:f,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p}))))}var rv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $V(t,e,n,r,i,o){let s=l0(t,e,n);return s.matched?(r=lV(e,r),VV(r,e,n,i,o).pipe(ke(a=>a===!0?s:M({},rv)))):ue(s)}function l0(t,e,n){if(e.path==="**")return zV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?M({},rv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||OS)(n,t,e);if(!i)return M({},rv);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?M(M({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function zV(t){return{matched:!0,parameters:t.length>0?LS(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function MS(t,e,n,r){return n.length>0&&WV(t,n,r)?{segmentGroup:new we(e,GV(r,new we(n,t.children))),slicedSegments:[]}:n.length===0&&KV(t,n,r)?{segmentGroup:new we(t.segments,qV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new we(t.segments,t.children),slicedSegments:n}}function qV(t,e,n,r){let i={};for(let o of n)if(Ef(t,e,o)&&!r[Pn(o)]){let s=new we([],{});i[Pn(o)]=s}return M(M({},r),i)}function GV(t,e){let n={};n[Z]=e;for(let r of t)if(r.path===""&&Pn(r)!==Z){let i=new we([],{});n[Pn(r)]=i}return n}function WV(t,e,n){return n.some(r=>Ef(t,e,r)&&Pn(r)!==Z)}function KV(t,e,n){return n.some(r=>Ef(t,e,r))}function Ef(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function QV(t,e,n){return e.length===0&&!t.children[n]}var YV=class{};async function JV(t,e,n,r,i,o,s="emptyOnly",a){return new XV(t,e,n,r,i,s,o,a).recognize()}var ZV=31,XV=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a,u){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=u,this.applyRedirects=new BV(this.urlSerializer,this.urlTree)}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}async recognize(){let e=MS(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(e),i=new Xt(r,n),o=new jc("",i),s=GS(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(e){let n=new ho([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Z,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,Z,n),rootSnapshot:n}}catch(r){if(r instanceof nv)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof lo?this.noMatchError(r):r}}async processSegmentGroup(e,n,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,n,r,o);let s=await this.processSegment(e,n,r,r.segments,i,!0,o);return s instanceof Xt?[s]:[]}async processChildren(e,n,r,i){let o=[];for(let u of Object.keys(r.children))u==="primary"?o.unshift(u):o.push(u);let s=[];for(let u of o){let l=r.children[u],f=dV(n,u),p=await this.processSegmentGroup(e,f,l,u,i);s.push(...p)}let a=d0(s);return e2(a),a}async processSegment(e,n,r,i,o,s,a){for(let u of n)try{return await this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a)}catch(l){if(l instanceof lo||i0(l))continue;throw l}if(QV(r,i,o))return new YV;throw new lo(r)}async processSegmentAgainstRoute(e,n,r,i,o,s,a,u){if(Pn(r)!==s&&(s===Z||!Ef(i,o,r)))throw new lo(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,s,u);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u);throw new lo(i)}async expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:m}=l0(n,i,o);if(!u)throw new lo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ZV&&(this.allowRedirects=!1));let y=new ho(o,l,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,xS(i),Pn(i),i.component??i._loadedComponent??null,i,PS(i)),S=gf(y,a,this.paramsInheritanceStrategy);if(y.params=Object.freeze(S.params),y.data=Object.freeze(S.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let A=await this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,y,e),R=await this.applyRedirects.lineralizeSegments(i,A);return this.processSegment(e,r,n,R.concat(m),s,!1,a)}async matchSegmentAgainstRoute(e,n,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await Xd($V(n,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!a?.matched)throw new lo(n);e=r._injector??e;let{routes:u}=await this.getChildConfig(e,r,i),l=r._loadedInjector??e,{parameters:f,consumedSegments:p,remainingSegments:m}=a,y=new ho(p,f,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,xS(r),Pn(r),r.component??r._loadedComponent??null,r,PS(r)),S=gf(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(S.params),y.data=Object.freeze(S.data);let{segmentGroup:A,slicedSegments:R}=MS(n,p,m,u);if(R.length===0&&A.hasChildren()){let he=await this.processChildren(l,u,A,y);return new Xt(y,he)}if(u.length===0&&R.length===0)return new Xt(y,[]);let L=Pn(r)===o,ne=await this.processSegment(l,u,A,R,L?Z:o,!0,y);return new Xt(y,ne instanceof Xt?[ne]:[])}async getChildConfig(e,n,r){if(n.children)return{routes:n.children,injector:e};if(n.loadChildren){if(n._loadedRoutes!==void 0)return{routes:n._loadedRoutes,injector:n._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Xd(FV(e,n,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,n);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,o}throw UV(n)}return{routes:[],injector:e}}};function e2(t){t.sort((e,n)=>e.value.outlet===Z?-1:n.value.outlet===Z?1:e.value.outlet.localeCompare(n.value.outlet))}function t2(t){let e=t.value.routeConfig;return e&&e.path===""}function d0(t){let e=[],n=new Set;for(let r of t){if(!t2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=d0(r.children);e.push(new Xt(r.value,i))}return e.filter(r=>!n.has(r))}function xS(t){return t.data||{}}function PS(t){return t.resolve||{}}var n2=new $("",{factory:()=>JV});function r2(t,e,n,r,i,o,s){let a=t.get(n2);return Et(u=>ue(u).pipe(Hn(l=>a(t,e,n,r,l.extractedUrl,i,o,s)),ke(({state:l,tree:f})=>re(M({},u),{targetSnapshot:l,urlAfterRedirects:f}))))}function i2(t,e){return Et(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ue(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of f0(u))s.add(l);let a=0;return Xe(s).pipe(Oa(u=>o.has(u)?o2(u,r,t,e):(u.data=gf(u,u.parent,t).resolve,ue(void 0))),Rt(()=>a++),hl(1),Et(u=>a===s.size?ue(n):Ut))})}function f0(t){let e=t.children.map(n=>f0(n)).flat();return[t,...e]}function o2(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!XS(i)&&(o[Bc]=i.title),Pa(()=>(t.data=gf(t,t.parent,n).resolve,s2(o,t,e,r).pipe(ke(s=>(t._resolvedData=s,t.data=M(M({},t.data),s),null)))))}function s2(t,e,n,r){let i=Wy(t);if(i.length===0)return ue({});let o={};return Xe(i).pipe(Et(s=>a2(t[s],e,n,r).pipe(hr(),Rt(a=>{if(a instanceof Ts)throw mf(new oi,a);o[s]=a}))),hl(1),ke(()=>o),qo(s=>i0(s)?Ut:Wp(s)))}function a2(t,e,n,r){let i=bs(e)??r,o=As(t,i),s=o.resolve?o.resolve(e,n):Mt(i,()=>o(e,n));return go(s)}function qy(t){return Hn(e=>{let n=t(e);return n?Xe(n).pipe(ke(()=>e)):ue(e)})}var av=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Z);return r}getResolvedTitleForRoute(n){return n.data[Bc]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:()=>P(h0),providedIn:"root"})}return t})(),h0=(()=>{class t extends av{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(W(CS))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Rs=new $("",{factory:()=>({})}),zc=new $(""),p0=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(wy);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await FS(Mt(n,()=>r.loadComponent())),s=await y0(m0(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await g0(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();async function g0(t,e,n,r){let i=await FS(Mt(n,()=>t.loadChildren())),o=await y0(m0(i)),s;o instanceof Ad||Array.isArray(o)?s=o:s=await e.compileModuleAsync(o),r&&r(t);let a,u,l=!1;return Array.isArray(s)?(u=s,l=!0):(a=s.create(n).injector,u=a.get(zc,[],{optional:!0,self:!0}).flat()),{routes:u.map(sv),injector:a}}function c2(t){return t&&typeof t=="object"&&"default"in t}function m0(t){return c2(t)?t.default:t}async function y0(t){return t}var If=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:()=>P(u2),providedIn:"root"})}return t})(),u2=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),v0=new $("");var l2=()=>{},_0=new $(""),cv=(()=>{class t{currentNavigation=Be(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Be(null);events=new st;transitionAbortWithErrorSubject=new st;configLoader=P(p0);environmentInjector=P(ct);destroyRef=P(Jr);urlSerializer=P(Cs);rootContexts=P(Ss);location=P(uo);inputBindingEnabled=P(_f,{optional:!0})!==null;titleStrategy=P(av);options=P(Rs,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(If);createViewTransition=P(v0,{optional:!0});navigationErrorHandler=P(_0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ue(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new af(i)),r=i=>this.events.next(new cf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;bn(()=>{this.transitions?.next(re(M({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new pt(null),this.transitions.pipe(En(r=>r!==null),Hn(r=>{let i=!1,o=new AbortController;return ue(r).pipe(Hn(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",kt.SupersededByNewNavigation),Ut;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?re(M({},a),{previousNavigation:null}):null,abort:()=>o.abort()});let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&l!=="reload")return this.events.next(new tr(s.id,this.urlSerializer.serialize(s.rawUrl),"",_s.IgnoredSameUrlNavigation)),s.resolve(!1),Ut;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return ue(s).pipe(Hn(f=>(this.events.next(new ai(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),f.id!==this.navigationId?Ut:Promise.resolve(f))),r2(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),Rt(f=>{r.targetSnapshot=f.targetSnapshot,r.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation.update(m=>(m.finalUrl=f.urlAfterRedirects,m));let p=new Lc(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:f,extractedUrl:p,source:m,restoredState:y,extras:S}=s,A=new ai(f,this.urlSerializer.serialize(p),m,y);this.events.next(A);let R=JS(this.rootComponentType).snapshot;return this.currentTransition=r=re(M({},s),{targetSnapshot:R,urlAfterRedirects:p,extras:re(M({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(L=>(L.finalUrl=p,L)),ue(r)}else return this.events.next(new tr(s.id,this.urlSerializer.serialize(s.extractedUrl),"",_s.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Ut}),Rt(s=>{let a=new nf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ke(s=>(this.currentTransition=r=re(M({},s),{guards:vV(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),RV(this.environmentInjector,s=>this.events.next(s)),Rt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw mf(this.urlSerializer,s.guardsResult);let a=new rf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),En(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",kt.GuardRejected),!1)),qy(s=>{if(s.guards.canActivateChecks.length!==0)return ue(s).pipe(Rt(a=>{let u=new of(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Hn(a=>{let u=!1;return ue(a).pipe(i2(this.paramsInheritanceStrategy,this.environmentInjector),Rt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",kt.NoDataFromResolver)}}))}),Rt(a=>{let u=new sf(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),qy(s=>{let a=l=>{let f=[];if(l.routeConfig?._loadedComponent)l.component=l.routeConfig?._loadedComponent;else if(l.routeConfig?.loadComponent){let p=bs(l)??this.environmentInjector;f.push(this.configLoader.loadComponent(p,l.routeConfig).then(m=>{l.component=m}))}for(let p of l.children)f.push(...a(p));return f},u=a(s.targetSnapshot.root);return u.length===0?ue(s):Xe(Promise.all(u).then(()=>s))}),qy(()=>this.afterPreactivation()),Hn(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?Xe(u).pipe(ke(()=>r)):ue(r)}),ke(s=>{let a=hV(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=re(M({},s),{targetRouterState:a}),this.currentNavigation.update(u=>(u.targetRouterState=a,u)),r}),Rt(()=>{this.events.next(new Fc)}),yV(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),fr(1),ka(o0(o.signal).pipe(En(()=>!i&&!r.targetRouterState),Rt(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",kt.Aborted)}))),Rt({next:s=>{i=!0,this.currentNavigation.update(a=>(a.abort=l2,a)),this.lastSuccessfulNavigation.set(bn(this.currentNavigation)),this.events.next(new gn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),ka(this.transitionAbortWithErrorSubject.pipe(Rt(s=>{throw s}))),Yp(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",kt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),qo(s=>{if(this.destroyed)return r.resolve(!1),Ut;if(i=!0,r0(s))this.events.next(new er(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),mV(s)?this.events.next(new ws(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Es(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=Mt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof Ts){let{message:l,cancellationCode:f}=mf(this.urlSerializer,u);this.events.next(new er(r.id,this.urlSerializer.serialize(r.extractedUrl),l,f)),this.events.next(new ws(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Ut}))}))}cancelNavigationTransition(n,r,i){let o=new er(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=bn(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function d2(t){return t!==ys}var E0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:()=>P(f2),providedIn:"root"})}return t})(),vf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},f2=(()=>{class t extends vf{static \u0275fac=(()=>{let n;return function(i){return(n||(n=cc(t)))(i||t)}})();static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),uv=(()=>{class t{urlSerializer=P(Cs);options=P(Rs,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P(uo);urlHandlingStrategy=P(If);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new On;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof On?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=JS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:()=>P(I0),providedIn:"root"})}return t})(),I0=(()=>{class t extends uv{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof ai?this.updateStateMemento():n instanceof tr?this.commitTransition(r):n instanceof Lc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Fc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof er&&n.code!==kt.SupersededByNewNavigation&&n.code!==kt.Redirect?this.restoreHistory(r):n instanceof Es?this.restoreHistory(r,!0):n instanceof gn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=M(M({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=M(M({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=cc(t)))(i||t)}})();static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function lv(t,e){t.events.pipe(En(n=>n instanceof gn||n instanceof er||n instanceof Es||n instanceof tr),ke(n=>n instanceof gn||n instanceof tr?0:(n instanceof er?n.code===kt.Redirect||n.code===kt.SupersededByNewNavigation:!1)?2:1),En(n=>n!==2),fr(1)).subscribe(()=>{e()})}var h2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},p2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ns=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(py);stateManager=P(uv);options=P(Rs,{optional:!0})||{};pendingTasks=P(Zr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(cv);urlSerializer=P(Cs);location=P(uo);urlHandlingStrategy=P(If);injector=P(ct);_events=new st;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(E0);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(zc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(_f,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ht;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=bn(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof er&&r.code!==kt.Redirect&&r.code!==kt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof gn)this.navigated=!0;else if(r instanceof ws){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=M({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||d2(i.source)},s);this.scheduleNavigation(a,ys,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}uV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ys,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=M({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(un)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return bn(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(sv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=M(M({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=WS(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return KS(p,n,f,l??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let i=si(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ys,null,r)}navigate(n,r={skipLocationChange:!1}){return g2(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(qr(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=M({},h2):r===!1?i=M({},p2):i=r,si(n))return bS(this.currentUrlTree,n,i);let o=this.parseUrl(n);return bS(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let f=this.pendingTasks.add();return lv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function g2(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new U(4008,!1)}var Ms=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Be(null);get href(){return bn(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new st;applicationErrorHandler=P(un);options=P(Rs,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(P(new Od("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof gn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(si(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:si(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(le(Ns),le(kn),uc("tabindex"),le(so),le(zt),le(co))};static \u0275dir=ti({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&hn("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Nd("href",i.reactiveHref(),Km)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ec],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ec],replaceUrl:[2,"replaceUrl","replaceUrl",Ec],routerLink:"routerLink"},features:[io]})}return t})(),dv=(()=>{class t{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new It;link=P(Ms,{optional:!0});constructor(n,r,i,o){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.routerEventsSubscription=n.events.subscribe(s=>{s instanceof gn&&this.update()})}ngAfterContentInit(){ue(this.links.changes,ue(null)).pipe($o()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Xe(n).pipe($o()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=m2(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||t)(le(Ns),le(zt),le(so),le(ps))};static \u0275dir=ti({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&_y(o,Ms,5),r&2){let s;ds(s=fs())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[io]})}return t})();function m2(t){return!!t.paths}var w0=new $(""),y2=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ys;restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ai?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof gn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof tr&&n.code===_s.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{if(!(n instanceof Is))return;let r={behavior:"instant"};n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position,r):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(async()=>{await new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Is(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){dy()};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})();function fv(t,...e){return qi([{provide:zc,multi:!0,useValue:t},[],{provide:kn,useFactory:v2},{provide:Rd,multi:!0,useFactory:E2},e.map(n=>n.\u0275providers)])}function v2(){return P(Ns).routerState.root}function _2(t,e){return{\u0275kind:t,\u0275providers:e}}function hv(t={}){return _2(4,[{provide:w0,useFactory:()=>{let n=P(yS),r=P($t),i=P(cv),o=P(Cs);return new y2(o,i,n,r,t)}}])}function E2(){let t=P(In);return e=>{let n=t.get(ls);if(e!==n.components[0])return;let r=t.get(Ns),i=t.get(I2);t.get(w2)===1&&r.initialNavigation(),t.get(T2,null,{optional:!0})?.setUpPreloading(),t.get(w0,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var I2=new $("",{factory:()=>new st}),w2=new $("",{factory:()=>1});var T2=new $("");function C2(t,e){if(t&1&&ve(0,"img",2),t&2){let n=Q(2);de("src",n.data.image,ln)}}function b2(t,e){if(t&1&&(H(0,"h1"),me(1),K()),t&2){let n=Q(2);O(),yt(n.data.title)}}function S2(t,e){if(t&1&&(H(0,"button",4),me(1),K()),t&2){let n=Q(2);hs("disabled",!n.data.interactive),de("disabled",!n.data.interactive),O(),yt(n.data.button)}}function A2(t,e){if(t&1&&(H(0,"div",1),oe(1,C2,1,1,"img",2),H(2,"div",3),oe(3,b2,2,1,"h1"),oe(4,S2,2,4,"button",4),K()()),t&2){let n=Q();de("ngClass",n.data.bannerType),O(),se(n.data.image!=""?1:-1),O(2),se(n.data.title!=""?3:-1),O(),se(n.data.button!=""?4:-1)}}var nr=class t{data;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ie({type:t,selectors:[["app-banner"]],inputs:{data:"data"},decls:2,vars:1,consts:[[1,"banner-shell"],[1,"banner",3,"ngClass"],[3,"src","alt"],[1,"book-container"],["id","book",3,"disabled"]],template:function(n,r){n&1&&(H(0,"div",0),oe(1,A2,5,4,"div",1),K()),n&2&&(O(),se(r.data?1:-1))},dependencies:[Ny],styles:[".banner[_ngcontent-%COMP%]{margin:0 0 1.5rem;width:100%;height:300px;position:relative;display:flex;justify-content:center}.subpage[_ngcontent-%COMP%]{height:200px}h1[_ngcontent-%COMP%]{font-family:Malvie,sans-serif;font-size:6rem;color:#fffaf0}img[_ngcontent-%COMP%]{width:100%;object-fit:cover}.book-container[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;bottom:0;display:flex;flex-direction:column;justify-content:center;align-items:center;background:radial-gradient(black 0%,transparent 30%)}button[_ngcontent-%COMP%]{margin:0;padding:0}#book[_ngcontent-%COMP%]{margin:0;padding:.2rem 3rem 0;width:90%;max-width:450px;display:flex;justify-content:center;align-items:center;background:transparent;color:#fffaf0;font-family:Bebas Neue,sans-serif;font-size:clamp(1rem,3vw,2rem);border:5px solid floralwhite;box-sizing:border-box;transition:all .2s ease-in-out}#book.disabled[_ngcontent-%COMP%]{cursor:default;background:#fffaf0;color:var(--primary);font-size:clamp(3rem,4vw,4rem)}#book[_ngcontent-%COMP%]:not(.disabled):hover{transform:scale(1.1);background:#fffaf0;color:var(--primary);cursor:pointer}"]})};function R2(t,e){if(t&1&&nt(0,"h2",4),t&2){let n=Q(2);wt("innerHTML",n.data==null?null:n.data.title,Jn)}}function N2(t,e){if(t&1&&nt(0,"p",5),t&2){let n=Q(2);wt("innerHTML",n.data==null?null:n.data.content,Jn)}}function M2(t,e){if(t&1&&nt(0,"img",6),t&2){let n=Q(2);wt("src",n.data==null?null:n.data.image,ln)}}function x2(t,e){if(t&1&&(Me(0,"div",1),oe(1,R2,1,1,"h2",4),oe(2,N2,1,1,"p",5),oe(3,M2,1,1,"img",6),xe()),t&2){let n=Q();O(),se((n.data==null?null:n.data.title)!=""?1:-1),O(),se((n.data==null?null:n.data.content)!=""?2:-1),O(),se((n.data==null?null:n.data.image)!=""?3:-1)}}function P2(t,e){if(t&1&&nt(0,"p",5),t&2){let n=Q(2);wt("innerHTML",n.data==null?null:n.data.content,Jn)}}function O2(t,e){if(t&1&&(Me(0,"div",2),oe(1,P2,1,1,"p",5),xe()),t&2){let n=Q();O(),se((n.data==null?null:n.data.content)!=""?1:-1)}}function k2(t,e){if(t&1&&nt(0,"p",4),t&2){let n=Q(2);wt("innerHTML",n.data==null?null:n.data.title,Jn)}}function L2(t,e){if(t&1&&nt(0,"p",5),t&2){let n=Q(2);wt("innerHTML",n.data==null?null:n.data.content,Jn)}}function F2(t,e){if(t&1&&(Me(0,"div",3),oe(1,k2,1,1,"p",4),oe(2,L2,1,1,"p",5),xe()),t&2){let n=Q();O(),se((n.data==null?null:n.data.title)!=""?1:-1),O(),se((n.data==null?null:n.data.content)!=""?2:-1)}}var qc=(r=>(r[r.Primary=0]="Primary",r[r.Secondary=1]="Secondary",r[r.FAQ=2]="FAQ",r))(qc||{}),xs=class t{data;width;InfoType=qc;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ie({type:t,selectors:[["app-info"]],inputs:{data:"data",width:"width"},decls:4,vars:3,consts:[[1,"info-shell"],[1,"info-container","primary"],[1,"info-container","secondary"],[1,"info-container","faq"],[1,"title",3,"innerHTML"],[3,"innerHTML"],["alt","image",3,"src"]],template:function(n,r){n&1&&(Me(0,"div",0),oe(1,x2,4,3,"div",1),oe(2,O2,2,1,"div",2),oe(3,F2,3,2,"div",3),xe()),n&2&&(O(),se((r.data==null?null:r.data.type)===r.InfoType.Primary?1:-1),O(),se((r.data==null?null:r.data.type)===r.InfoType.Secondary?2:-1),O(),se((r.data==null?null:r.data.type)===r.InfoType.FAQ?3:-1))},styles:[".info-shell[_ngcontent-%COMP%]{display:flex;justify-content:center}.info-container[_ngcontent-%COMP%]{padding:0 1rem 1.25rem;max-width:var(--maxWidth);display:flex;flex-direction:column;align-items:center;gap:1rem}.faq[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start}.faq[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{flex:1;max-width:50%}.faq[_ngcontent-%COMP%]   p.title[_ngcontent-%COMP%]{text-align:right}.faq[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(.title){text-align:left}h2[_ngcontent-%COMP%]{margin:0;font-family:Malvie,sans-serif;font-size:2rem;text-align:center}p[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.25em;text-align:center}.title[_ngcontent-%COMP%]{color:var(--highlight)}img[_ngcontent-%COMP%]{width:100%;max-width:700px;max-height:450px;display:block;object-fit:cover;object-position:top}@media(max-width:850px){.info-container.primary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0 1rem;text-align:left}info-container.secondary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background-color:green}.info-container.faq[_ngcontent-%COMP%]{width:100%}.faq[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.faq[_ngcontent-%COMP%]   p.title[_ngcontent-%COMP%], .faq[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;max-width:calc(100% - 2rem);text-align:left}}"]})};var V2=t=>({title:"FAQ",type:t,content:"",image:""});function j2(t,e){if(t&1&&ve(0,"app-info",1),t&2){let n=e.$implicit;de("data",n)}}var wf=class t{bannerData={bannerType:"primary",title:"Taniti",image:"banners/taniti.jpeg",button:"",interactive:!1};aboutData={title:"About the Island",type:0,content:"Taniti is a small, tropical island in the Pacific. While the island has an area of less than 500 square miles, the terrain is varied and includes both sandy and rocky beaches, a small but safe harbor, lush tropical rainforests, and a mountainous interior that includes a small, active volcano. Taniti has an indigenous population of about 20,000. Until a recent increase in tourism, most of the Tanitian economy was dominated by fishing or agriculture",image:""};questionsData=[{title:"What language is spoken on Taniti?",type:2,content:"Many younger Tanitians speak fluent English. Very little English is spoken in rural areas, especially by the older residents.",image:""},{title:"What currency is accepted on Taniti?",type:2,content:"Taniti uses the U.S. dollar as its currency, but many businesses will also accept euros and yen. Several banks facilitate currency exchange, and many businesses accept major credit cards.",image:""},{title:"What power outlets are on the Island?",type:2,content:"Taniti's power outlets are 120 volts (the same as in the United States).",image:""},{title:"Does the island have medical facilities?",type:2,content:"There is one hospital and several clinics. The hospital has many multilingual employees.",image:""},{title:"How bad is the crime on Taniti?",type:2,content:"Violent crime is very rare on Taniti, but as tourism increases, there are more reports of pickpocketing and other petty crimes.",image:""},{title:"What holidays does Taniti observe?",type:2,content:"Taniti enjoys a large number of national holidays, and many tourist attractions and restaurants will be closed on holidays, so visitors should plan accordingly.",image:""}];InfoType=qc;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ie({type:t,selectors:[["app-home"]],decls:6,vars:5,consts:[[3,"data"],[1,"faq",3,"data"]],template:function(n,r){n&1&&(H(0,"div"),ve(1,"app-banner",0)(2,"app-info",0)(3,"app-info",0),gt(4,j2,1,1,"app-info",1,fn),K()),n&2&&(O(),de("data",r.bannerData),O(),de("data",r.aboutData),O(),de("data",yc(3,V2,r.InfoType.Primary)),O(),mt(r.questionsData))},dependencies:[nr,xs],encapsulation:2})};var T0=()=>{};var b0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},U2=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},S0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[f],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(b0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):U2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new mv;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},mv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},B2=function(t){let e=b0(t);return S0.encodeByteArray(e,!0)},Wc=function(t){return B2(t).replace(/\./g,"")},Df=function(t){try{return S0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function A0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var H2=()=>A0().__FIREBASE_DEFAULTS__,$2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},z2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Df(t[1]);return e&&JSON.parse(e)},Cf=()=>{try{return T0()||H2()||$2()||z2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vv=t=>Cf()?.emulatorHosts?.[t],R0=t=>{let e=vv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_v=()=>Cf()?.config,Ev=t=>Cf()?.[`_${t}`];var Tf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function ci(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bf(t){return(await fetch(t,{credentials:"include"})).ok}function N0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=M({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wc(JSON.stringify(n)),Wc(JSON.stringify(s)),""].join(".")}var Gc={};function q2(){let t={prod:[],emulator:[]};for(let e of Object.keys(Gc))Gc[e]?t.emulator.push(e):t.prod.push(e);return t}function G2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var D0=!1;function Sf(t,e){if(typeof window>"u"||typeof document>"u"||!ci(window.location.host)||Gc[t]===e||Gc[t]||D0)return;Gc[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=q2().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{D0=!0,s()},m}function f(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=G2(r),y=n("text"),S=document.getElementById(y)||document.createElement("span"),A=n("learnmore"),R=document.getElementById(A)||document.createElement("a"),L=n("preprendIcon"),ne=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let he=m.element;a(he),f(R,A);let bt=l();u(ne,L),he.append(ne,S,R,bt),document.body.appendChild(he)}o?(S.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function W2(){let t=Cf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function x0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function P0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function O0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function k0(){let t=lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function L0(){return!W2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Iv(){try{return typeof indexedDB=="object"}catch{return!1}}function F0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}var K2="FirebaseError",tn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=K2,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tr.prototype.create)}},Tr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Q2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new tn(i,a,r)}};function Q2(t,e){return t.replace(Y2,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Y2=/\{\$([^}]+)}/g;function V0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(C0(o)&&C0(s)){if(!rr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function C0(t){return t!==null&&typeof t=="object"}function Kc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function j0(t,e){let n=new yv(t,e);return n.subscribe.bind(n)}var yv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");J2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=gv),i.error===void 0&&(i.error=gv),i.complete===void 0&&(i.complete=gv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function J2(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gv(){}var YX=14400*1e3;function Kt(t){return t&&t._delegate?t._delegate:t}var mn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var mo="[DEFAULT]";var wv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Tf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){let n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(X2(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){let r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Z2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Z2(t){return t===mo?void 0:t}function X2(t){return t.instantiationMode==="EAGER"}var Af=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new wv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var ej=[],fe=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(fe||{}),tj={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},nj=fe.INFO,rj={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},ij=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=rj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ui=class{constructor(e){this.name=e,this._logLevel=nj,this._logHandler=ij,this._userLogHandler=null,ej.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var oj=(t,e)=>e.some(n=>t instanceof n),U0,B0;function sj(){return U0||(U0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aj(){return B0||(B0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var H0=new WeakMap,Dv=new WeakMap,$0=new WeakMap,Tv=new WeakMap,bv=new WeakMap;function cj(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ir(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&H0.set(n,t)}).catch(()=>{}),bv.set(e,t),e}function uj(t){if(Dv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Dv.set(t,e)}var Cv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ir(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function z0(t){Cv=t(Cv)}function lj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Rf(this),e,...n);return $0.set(r,e.sort?e.sort():[e]),ir(r)}:aj().includes(t)?function(...e){return t.apply(Rf(this),e),ir(H0.get(this))}:function(...e){return ir(t.apply(Rf(this),e))}}function dj(t){return typeof t=="function"?lj(t):(t instanceof IDBTransaction&&uj(t),oj(t,sj())?new Proxy(t,Cv):t)}function ir(t){if(t instanceof IDBRequest)return cj(t);if(Tv.has(t))return Tv.get(t);let e=dj(t);return e!==t&&(Tv.set(t,e),bv.set(e,t)),e}var Rf=t=>bv.get(t);function G0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=ir(s);return r&&s.addEventListener("upgradeneeded",u=>{r(ir(s.result),u.oldVersion,u.newVersion,ir(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var fj=["get","getKey","getAll","getAllKeys","count"],hj=["put","add","delete","clear"],Sv=new Map;function q0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sv.get(e))return Sv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=hj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fj.includes(n)))return;let o=async function(s,...a){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return Sv.set(e,o),o}z0(t=>re(M({},t),{get:(e,n,r)=>q0(e,n)||t.get(e,n,r),has:(e,n)=>!!q0(e,n)||t.has(e,n)}));var Rv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pj(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function pj(t){return t.getComponent()?.type==="VERSION"}var Nv="@firebase/app",W0="0.14.6";var Dr=new ui("@firebase/app"),gj="@firebase/app-compat",mj="@firebase/analytics-compat",yj="@firebase/analytics",vj="@firebase/app-check-compat",_j="@firebase/app-check",Ej="@firebase/auth",Ij="@firebase/auth-compat",wj="@firebase/database",Tj="@firebase/data-connect",Dj="@firebase/database-compat",Cj="@firebase/functions",bj="@firebase/functions-compat",Sj="@firebase/installations",Aj="@firebase/installations-compat",Rj="@firebase/messaging",Nj="@firebase/messaging-compat",Mj="@firebase/performance",xj="@firebase/performance-compat",Pj="@firebase/remote-config",Oj="@firebase/remote-config-compat",kj="@firebase/storage",Lj="@firebase/storage-compat",Fj="@firebase/firestore",Vj="@firebase/ai",jj="@firebase/firestore-compat",Uj="firebase",Bj="12.6.0";var Mv="[DEFAULT]",Hj={[Nv]:"fire-core",[gj]:"fire-core-compat",[yj]:"fire-analytics",[mj]:"fire-analytics-compat",[_j]:"fire-app-check",[vj]:"fire-app-check-compat",[Ej]:"fire-auth",[Ij]:"fire-auth-compat",[wj]:"fire-rtdb",[Tj]:"fire-data-connect",[Dj]:"fire-rtdb-compat",[Cj]:"fire-fn",[bj]:"fire-fn-compat",[Sj]:"fire-iid",[Aj]:"fire-iid-compat",[Rj]:"fire-fcm",[Nj]:"fire-fcm-compat",[Mj]:"fire-perf",[xj]:"fire-perf-compat",[Pj]:"fire-rc",[Oj]:"fire-rc-compat",[kj]:"fire-gcs",[Lj]:"fire-gcs-compat",[Fj]:"fire-fst",[jj]:"fire-fst-compat",[Vj]:"fire-vertex","fire-js":"fire-js",[Uj]:"fire-js-all"};var Nf=new Map,$j=new Map,xv=new Map;function K0(t,e){try{t.container.addComponent(e)}catch(n){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function di(t){let e=t.name;if(xv.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;xv.set(e,t);for(let n of Nf.values())K0(n,t);for(let n of $j.values())K0(n,t);return!0}function Yc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function nn(t){return t==null?!1:t.settings!==void 0}var zj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},li=new Tr("app","Firebase",zj);var Pv=class{constructor(e,n,r){this._isDeleted=!1,this._options=M({},e),this._config=M({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}};var fi=Bj;function Lv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=M({name:Mv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw li.create("bad-app-name",{appName:String(i)});if(n||(n=_v()),!n)throw li.create("no-options");let o=Nf.get(i);if(o){if(rr(n,o.options)&&rr(r,o.config))return o;throw li.create("duplicate-app",{appName:i})}let s=new Af(i);for(let u of xv.values())s.addComponent(u);let a=new Pv(n,r,s);return Nf.set(i,a),a}function Mf(t=Mv){let e=Nf.get(t);if(!e&&t===Mv&&_v())return Lv();if(!e)throw li.create("no-app",{appName:t});return e}function Ln(t,e,n){let r=Hj[t]??t;n&&(r+=`-${n}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(s.join(" "));return}di(new mn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var qj="firebase-heartbeat-database",Gj=1,Qc="firebase-heartbeat-store",Av=null;function Z0(){return Av||(Av=G0(qj,Gj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qc)}catch(n){console.warn(n)}}}}).catch(t=>{throw li.create("idb-open",{originalErrorMessage:t.message})})),Av}async function Wj(t){try{let n=(await Z0()).transaction(Qc),r=await n.objectStore(Qc).get(X0(t));return await n.done,r}catch(e){if(e instanceof tn)Dr.warn(e.message);else{let n=li.create("idb-get",{originalErrorMessage:e?.message});Dr.warn(n.message)}}}async function Q0(t,e){try{let r=(await Z0()).transaction(Qc,"readwrite");await r.objectStore(Qc).put(e,X0(t)),await r.done}catch(n){if(n instanceof tn)Dr.warn(n.message);else{let r=li.create("idb-set",{originalErrorMessage:n?.message});Dr.warn(r.message)}}}function X0(t){return`${t.name}!${t.options.appId}`}var Kj=1024,Qj=30,Ov=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new kv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Y0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Qj){let i=Jj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Dr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=Y0(),{heartbeatsToSend:n,unsentEntries:r}=Yj(this._heartbeatsCache.heartbeats),i=Wc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Dr.warn(e),""}}};function Y0(){return new Date().toISOString().substring(0,10)}function Yj(t,e=Kj){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),J0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),J0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var kv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Iv()?F0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await Wj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return Q0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return Q0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function J0(t){return Wc(JSON.stringify({version:2,heartbeats:t})).length}function Jj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Zj(t){di(new mn("platform-logger",e=>new Rv(e),"PRIVATE")),di(new mn("heartbeat",e=>new Ov(e),"PRIVATE")),Ln(Nv,W0,t),Ln(Nv,W0,"esm2020"),Ln("fire-js","")}Zj("");var eA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tA={};var Cr,Fv;(function(){var t;function e(w,v){function E(){}E.prototype=v.prototype,w.F=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.D=function(T,I,C){for(var _=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)_[Vt-2]=arguments[Vt];return v.prototype[I].apply(T,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);let T=Array(16);if(typeof v=="string")for(var I=0;I<16;++I)T[I]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(I=0;I<16;++I)T[I]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],I=w.g[2];let C=w.g[3],_;_=v+(C^E&(I^C))+T[0]+3614090360&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(I^v&(E^I))+T[1]+3905402710&4294967295,C=v+(_<<12&4294967295|_>>>20),_=I+(E^C&(v^E))+T[2]+606105819&4294967295,I=C+(_<<17&4294967295|_>>>15),_=E+(v^I&(C^v))+T[3]+3250441966&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(C^E&(I^C))+T[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(I^v&(E^I))+T[5]+1200080426&4294967295,C=v+(_<<12&4294967295|_>>>20),_=I+(E^C&(v^E))+T[6]+2821735955&4294967295,I=C+(_<<17&4294967295|_>>>15),_=E+(v^I&(C^v))+T[7]+4249261313&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(C^E&(I^C))+T[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(I^v&(E^I))+T[9]+2336552879&4294967295,C=v+(_<<12&4294967295|_>>>20),_=I+(E^C&(v^E))+T[10]+4294925233&4294967295,I=C+(_<<17&4294967295|_>>>15),_=E+(v^I&(C^v))+T[11]+2304563134&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(C^E&(I^C))+T[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(I^v&(E^I))+T[13]+4254626195&4294967295,C=v+(_<<12&4294967295|_>>>20),_=I+(E^C&(v^E))+T[14]+2792965006&4294967295,I=C+(_<<17&4294967295|_>>>15),_=E+(v^I&(C^v))+T[15]+1236535329&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(I^C&(E^I))+T[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^I&(v^E))+T[6]+3225465664&4294967295,C=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(C^v))+T[11]+643717713&4294967295,I=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(I^C))+T[0]+3921069994&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(I^C&(E^I))+T[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^I&(v^E))+T[10]+38016083&4294967295,C=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(C^v))+T[15]+3634488961&4294967295,I=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(I^C))+T[4]+3889429448&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(I^C&(E^I))+T[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^I&(v^E))+T[14]+3275163606&4294967295,C=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(C^v))+T[3]+4107603335&4294967295,I=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(I^C))+T[8]+1163531501&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(I^C&(E^I))+T[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^I&(v^E))+T[2]+4243563512&4294967295,C=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(C^v))+T[7]+1735328473&4294967295,I=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(I^C))+T[12]+2368359562&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(E^I^C)+T[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^I)+T[8]+2272392833&4294967295,C=v+(_<<11&4294967295|_>>>21),_=I+(C^v^E)+T[11]+1839030562&4294967295,I=C+(_<<16&4294967295|_>>>16),_=E+(I^C^v)+T[14]+4259657740&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(E^I^C)+T[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^I)+T[4]+1272893353&4294967295,C=v+(_<<11&4294967295|_>>>21),_=I+(C^v^E)+T[7]+4139469664&4294967295,I=C+(_<<16&4294967295|_>>>16),_=E+(I^C^v)+T[10]+3200236656&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(E^I^C)+T[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^I)+T[0]+3936430074&4294967295,C=v+(_<<11&4294967295|_>>>21),_=I+(C^v^E)+T[3]+3572445317&4294967295,I=C+(_<<16&4294967295|_>>>16),_=E+(I^C^v)+T[6]+76029189&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(E^I^C)+T[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^I)+T[12]+3873151461&4294967295,C=v+(_<<11&4294967295|_>>>21),_=I+(C^v^E)+T[15]+530742520&4294967295,I=C+(_<<16&4294967295|_>>>16),_=E+(I^C^v)+T[2]+3299628645&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(I^(E|~C))+T[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~I))+T[7]+1126891415&4294967295,C=v+(_<<10&4294967295|_>>>22),_=I+(v^(C|~E))+T[14]+2878612391&4294967295,I=C+(_<<15&4294967295|_>>>17),_=E+(C^(I|~v))+T[5]+4237533241&4294967295,E=I+(_<<21&4294967295|_>>>11),_=v+(I^(E|~C))+T[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~I))+T[3]+2399980690&4294967295,C=v+(_<<10&4294967295|_>>>22),_=I+(v^(C|~E))+T[10]+4293915773&4294967295,I=C+(_<<15&4294967295|_>>>17),_=E+(C^(I|~v))+T[1]+2240044497&4294967295,E=I+(_<<21&4294967295|_>>>11),_=v+(I^(E|~C))+T[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~I))+T[15]+4264355552&4294967295,C=v+(_<<10&4294967295|_>>>22),_=I+(v^(C|~E))+T[6]+2734768916&4294967295,I=C+(_<<15&4294967295|_>>>17),_=E+(C^(I|~v))+T[13]+1309151649&4294967295,E=I+(_<<21&4294967295|_>>>11),_=v+(I^(E|~C))+T[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~I))+T[11]+3174756917&4294967295,C=v+(_<<10&4294967295|_>>>22),_=I+(v^(C|~E))+T[2]+718787259&4294967295,I=C+(_<<15&4294967295|_>>>17),_=E+(C^(I|~v))+T[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(I+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+I&4294967295,w.g[3]=w.g[3]+C&4294967295}r.prototype.v=function(w,v){v===void 0&&(v=w.length);let E=v-this.blockSize,T=this.C,I=this.h,C=0;for(;C<v;){if(I==0)for(;C<=E;)i(this,w,C),C+=this.blockSize;if(typeof w=="string"){for(;C<v;)if(T[I++]=w.charCodeAt(C++),I==this.blockSize){i(this,T),I=0;break}}else for(;C<v;)if(T[I++]=w[C++],I==this.blockSize){i(this,T),I=0;break}}this.h=I,this.o+=v},r.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;v=this.o*8;for(var E=w.length-8;E<w.length;++E)w[E]=v&255,v/=256;for(this.v(w),w=Array(16),v=0,E=0;E<4;++E)for(let T=0;T<32;T+=8)w[v++]=this.g[E]>>>T&255;return w};function o(w,v){var E=a;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function s(w,v){this.h=v;let E=[],T=!0;for(let I=w.length-1;I>=0;I--){let C=w[I]|0;T&&C==v||(E[I]=C,T=!1)}this.g=E}var a={};function u(w){return-128<=w&&w<128?o(w,function(v){return new s([v|0],v<0?-1:0)}):new s([w|0],w<0?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(w<0)return R(l(-w));let v=[],E=1;for(let T=0;w>=E;T++)v[T]=w/E|0,E*=4294967296;return new s(v,0)}function f(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return R(f(w.substring(1),v));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');let E=l(Math.pow(v,8)),T=p;for(let C=0;C<w.length;C+=8){var I=Math.min(8,w.length-C);let _=parseInt(w.substring(C,C+I),v);I<8?(I=l(Math.pow(v,I)),T=T.j(I).add(l(_))):(T=T.j(E),T=T.add(l(_)))}return T}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(A(this))return-R(this).m();let w=0,v=1;for(let E=0;E<this.g.length;E++){let T=this.i(E);w+=(T>=0?T:4294967296+T)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(S(this))return"0";if(A(this))return"-"+R(this).toString(w);let v=l(Math.pow(w,6));var E=this;let T="";for(;;){let I=bt(E,v).g;E=L(E,I.j(v));let C=((E.g.length>0?E.g[0]:E.h)>>>0).toString(w);if(E=I,S(E))return C+T;for(;C.length<6;)C="0"+C;T=C+T}},t.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function S(w){if(w.h!=0)return!1;for(let v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function A(w){return w.h==-1}t.l=function(w){return w=L(this,w),A(w)?-1:S(w)?0:1};function R(w){let v=w.g.length,E=[];for(let T=0;T<v;T++)E[T]=~w.g[T];return new s(E,~w.h).add(m)}t.abs=function(){return A(this)?R(this):this},t.add=function(w){let v=Math.max(this.g.length,w.g.length),E=[],T=0;for(let I=0;I<=v;I++){let C=T+(this.i(I)&65535)+(w.i(I)&65535),_=(C>>>16)+(this.i(I)>>>16)+(w.i(I)>>>16);T=_>>>16,C&=65535,_&=65535,E[I]=_<<16|C}return new s(E,E[E.length-1]&-2147483648?-1:0)};function L(w,v){return w.add(R(v))}t.j=function(w){if(S(this)||S(w))return p;if(A(this))return A(w)?R(this).j(R(w)):R(R(this).j(w));if(A(w))return R(this.j(R(w)));if(this.l(y)<0&&w.l(y)<0)return l(this.m()*w.m());let v=this.g.length+w.g.length,E=[];for(var T=0;T<2*v;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(let I=0;I<w.g.length;I++){let C=this.i(T)>>>16,_=this.i(T)&65535,Vt=w.i(I)>>>16,kr=w.i(I)&65535;E[2*T+2*I]+=_*kr,ne(E,2*T+2*I),E[2*T+2*I+1]+=C*kr,ne(E,2*T+2*I+1),E[2*T+2*I+1]+=_*Vt,ne(E,2*T+2*I+1),E[2*T+2*I+2]+=C*Vt,ne(E,2*T+2*I+2)}for(w=0;w<v;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=v;w<2*v;w++)E[w]=0;return new s(E,0)};function ne(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function he(w,v){this.g=w,this.h=v}function bt(w,v){if(S(v))throw Error("division by zero");if(S(w))return new he(p,p);if(A(w))return v=bt(R(w),v),new he(R(v.g),R(v.h));if(A(v))return v=bt(w,R(v)),new he(R(v.g),v.h);if(w.g.length>30){if(A(w)||A(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,T=v;T.l(w)<=0;)E=Ft(E),T=Ft(T);var I=it(E,1),C=it(T,1);for(T=it(T,2),E=it(E,2);!S(T);){var _=C.add(T);_.l(w)<=0&&(I=I.add(E),C=_),T=it(T,1),E=it(E,1)}return v=L(w,I.j(v)),new he(I,v)}for(I=p;w.l(v)>=0;){for(E=Math.max(1,Math.floor(w.m()/v.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=T<=48?1:Math.pow(2,T-48),C=l(E),_=C.j(v);A(_)||_.l(w)>0;)E-=T,C=l(E),_=C.j(v);S(C)&&(C=m),I=I.add(C),w=L(w,_)}return new he(I,w)}t.B=function(w){return bt(this,w).h},t.and=function(w){let v=Math.max(this.g.length,w.g.length),E=[];for(let T=0;T<v;T++)E[T]=this.i(T)&w.i(T);return new s(E,this.h&w.h)},t.or=function(w){let v=Math.max(this.g.length,w.g.length),E=[];for(let T=0;T<v;T++)E[T]=this.i(T)|w.i(T);return new s(E,this.h|w.h)},t.xor=function(w){let v=Math.max(this.g.length,w.g.length),E=[];for(let T=0;T<v;T++)E[T]=this.i(T)^w.i(T);return new s(E,this.h^w.h)};function Ft(w){let v=w.g.length+1,E=[];for(let T=0;T<v;T++)E[T]=w.i(T)<<1|w.i(T-1)>>>31;return new s(E,w.h)}function it(w,v){let E=v>>5;v%=32;let T=w.g.length-E,I=[];for(let C=0;C<T;C++)I[C]=v>0?w.i(C+E)>>>v|w.i(C+E+1)<<32-v:w.i(C+E);return new s(I,w.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Fv=tA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,Cr=tA.Integer=s}).apply(typeof eA<"u"?eA:typeof self<"u"?self:typeof window<"u"?window:{});var xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},br={};var Vv,Xj,Ps,jv,Jc,Pf,Uv,Bv,Hv;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof xf=="object"&&xf];for(var d=0;d<c.length;++d){var h=c[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var h=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var D=c[g];if(!(D in h))break e;h=h[D]}c=c[c.length-1],g=h[c],d=d(g),d!=g&&d!=null&&e(h,c,{configurable:!0,writable:!0,value:d})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(d){var h=[],g;for(g in d)Object.prototype.hasOwnProperty.call(d,g)&&h.push([g,d[g]]);return h}});var o=o||{},s=this||self;function a(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function u(c,d,h){return c.call.apply(c.bind,arguments)}function l(c,d,h){return l=u,l.apply(null,arguments)}function f(c,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function p(c,d){function h(){}h.prototype=d.prototype,c.Z=d.prototype,c.prototype=new h,c.prototype.constructor=c,c.Ob=function(g,D,b){for(var k=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)k[ie-2]=arguments[ie];return d.prototype[D].apply(g,k)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function y(c){let d=c.length;if(d>0){let h=Array(d);for(let g=0;g<d;g++)h[g]=c[g];return h}return[]}function S(c,d){for(let g=1;g<arguments.length;g++){let D=arguments[g];var h=typeof D;if(h=h!="object"?h:D?Array.isArray(D)?"array":h:"null",h=="array"||h=="object"&&typeof D.length=="number"){h=c.length||0;let b=D.length||0;c.length=h+b;for(let k=0;k<b;k++)c[h+k]=D[k]}else c.push(D)}}class A{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function R(c){s.setTimeout(()=>{throw c},0)}function L(){var c=w;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class ne{constructor(){this.h=this.g=null}add(d,h){let g=he.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var he=new A(()=>new bt,c=>c.reset());class bt{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Ft,it=!1,w=new ne,v=()=>{let c=Promise.resolve(void 0);Ft=()=>{c.then(E)}};function E(){for(var c;c=L();){try{c.h.call(c.g)}catch(h){R(h)}var d=he;d.j(c),d.h<100&&(d.h++,c.next=d.g,d.g=c)}it=!1}function T(){this.u=this.u,this.C=this.C}T.prototype.u=!1,T.prototype.dispose=function(){this.u||(this.u=!0,this.N())},T.prototype[Symbol.dispose]=function(){this.dispose()},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var C=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let h=()=>{};s.addEventListener("test",h,d),s.removeEventListener("test",h,d)}catch{}return c})();function _(c){return/^[\s\xa0]*$/.test(c)}function Vt(c,d){I.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,d)}p(Vt,I),Vt.prototype.init=function(c,d){let h=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget,d||(h=="mouseover"?d=c.fromElement:h=="mouseout"&&(d=c.toElement)),this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Vt.Z.h.call(this)},Vt.prototype.h=function(){Vt.Z.h.call(this);let c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var kr="closure_listenable_"+(Math.random()*1e6|0),LM=0;function FM(c,d,h,g,D){this.listener=c,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=D,this.key=++LM,this.da=this.fa=!1}function Cu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function bu(c,d,h){for(let g in c)d.call(h,c[g],g,c)}function VM(c,d){for(let h in c)d.call(void 0,c[h],h,c)}function kI(c){let d={};for(let h in c)d[h]=c[h];return d}let LI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function FI(c,d){let h,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(h in g)c[h]=g[h];for(let b=0;b<LI.length;b++)h=LI[b],Object.prototype.hasOwnProperty.call(g,h)&&(c[h]=g[h])}}function Su(c){this.src=c,this.g={},this.h=0}Su.prototype.add=function(c,d,h,g,D){let b=c.toString();c=this.g[b],c||(c=this.g[b]=[],this.h++);let k=np(c,d,g,D);return k>-1?(d=c[k],h||(d.fa=!1)):(d=new FM(d,this.src,b,!!g,D),d.fa=h,c.push(d)),d};function tp(c,d){let h=d.type;if(h in c.g){var g=c.g[h],D=Array.prototype.indexOf.call(g,d,void 0),b;(b=D>=0)&&Array.prototype.splice.call(g,D,1),b&&(Cu(d),c.g[h].length==0&&(delete c.g[h],c.h--))}}function np(c,d,h,g){for(let D=0;D<c.length;++D){let b=c[D];if(!b.da&&b.listener==d&&b.capture==!!h&&b.ha==g)return D}return-1}var rp="closure_lm_"+(Math.random()*1e6|0),ip={};function VI(c,d,h,g,D){if(g&&g.once)return UI(c,d,h,g,D);if(Array.isArray(d)){for(let b=0;b<d.length;b++)VI(c,d[b],h,g,D);return null}return h=cp(h),c&&c[kr]?c.J(d,h,a(g)?!!g.capture:!!g,D):jI(c,d,h,!1,g,D)}function jI(c,d,h,g,D,b){if(!d)throw Error("Invalid event type");let k=a(D)?!!D.capture:!!D,ie=sp(c);if(ie||(c[rp]=ie=new Su(c)),h=ie.add(d,h,g,k,b),h.proxy)return h;if(g=jM(),h.proxy=g,g.src=c,g.listener=h,c.addEventListener)C||(D=k),D===void 0&&(D=!1),c.addEventListener(d.toString(),g,D);else if(c.attachEvent)c.attachEvent(HI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function jM(){function c(h){return d.call(c.src,c.listener,h)}let d=UM;return c}function UI(c,d,h,g,D){if(Array.isArray(d)){for(let b=0;b<d.length;b++)UI(c,d[b],h,g,D);return null}return h=cp(h),c&&c[kr]?c.K(d,h,a(g)?!!g.capture:!!g,D):jI(c,d,h,!0,g,D)}function BI(c,d,h,g,D){if(Array.isArray(d))for(var b=0;b<d.length;b++)BI(c,d[b],h,g,D);else g=a(g)?!!g.capture:!!g,h=cp(h),c&&c[kr]?(c=c.i,b=String(d).toString(),b in c.g&&(d=c.g[b],h=np(d,h,g,D),h>-1&&(Cu(d[h]),Array.prototype.splice.call(d,h,1),d.length==0&&(delete c.g[b],c.h--)))):c&&(c=sp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=np(d,h,g,D)),(h=c>-1?d[c]:null)&&op(h))}function op(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[kr])tp(d.i,c);else{var h=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(h,g,c.capture):d.detachEvent?d.detachEvent(HI(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=sp(d))?(tp(h,c),h.h==0&&(h.src=null,d[rp]=null)):Cu(c)}}}function HI(c){return c in ip?ip[c]:ip[c]="on"+c}function UM(c,d){if(c.da)c=!0;else{d=new Vt(d,this);let h=c.listener,g=c.ha||c.src;c.fa&&op(c),c=h.call(g,d)}return c}function sp(c){return c=c[rp],c instanceof Su?c:null}var ap="__closure_events_fn_"+(Math.random()*1e9>>>0);function cp(c){return typeof c=="function"?c:(c[ap]||(c[ap]=function(d){return c.handleEvent(d)}),c[ap])}function vt(){T.call(this),this.i=new Su(this),this.M=this,this.G=null}p(vt,T),vt.prototype[kr]=!0,vt.prototype.removeEventListener=function(c,d,h,g){BI(this,c,d,h,g)};function St(c,d){var h,g=c.G;if(g)for(h=[];g;g=g.G)h.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new I(d,c);else if(d instanceof I)d.target=d.target||c;else{var D=d;d=new I(g,c),FI(d,D)}D=!0;let b,k;if(h)for(k=h.length-1;k>=0;k--)b=d.g=h[k],D=Au(b,g,!0,d)&&D;if(b=d.g=c,D=Au(b,g,!0,d)&&D,D=Au(b,g,!1,d)&&D,h)for(k=0;k<h.length;k++)b=d.g=h[k],D=Au(b,g,!1,d)&&D}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(let d in c.g){let h=c.g[d];for(let g=0;g<h.length;g++)Cu(h[g]);delete c.g[d],c.h--}}this.G=null},vt.prototype.J=function(c,d,h,g){return this.i.add(String(c),d,!1,h,g)},vt.prototype.K=function(c,d,h,g){return this.i.add(String(c),d,!0,h,g)};function Au(c,d,h,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();let D=!0;for(let b=0;b<d.length;++b){let k=d[b];if(k&&!k.da&&k.capture==h){let ie=k.listener,Ze=k.ha||k.src;k.fa&&tp(c.i,k),D=ie.call(Ze,g)!==!1&&D}}return D&&!g.defaultPrevented}function BM(c,d){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=l(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:s.setTimeout(c,d||0)}function $I(c){c.g=BM(()=>{c.g=null,c.i&&(c.i=!1,$I(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class HM extends T{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:$I(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function la(c){T.call(this),this.h=c,this.g={}}p(la,T);var zI=[];function qI(c){bu(c.g,function(d,h){this.g.hasOwnProperty(h)&&op(d)},c),c.g={}}la.prototype.N=function(){la.Z.N.call(this),qI(this)},la.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var up=s.JSON.stringify,$M=s.JSON.parse,zM=class{stringify(c){return s.JSON.stringify(c,void 0)}parse(c){return s.JSON.parse(c,void 0)}};function GI(){}function WI(){}var da={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function lp(){I.call(this,"d")}p(lp,I);function dp(){I.call(this,"c")}p(dp,I);var Ni={},KI=null;function Ru(){return KI=KI||new vt}Ni.Ia="serverreachability";function QI(c){I.call(this,Ni.Ia,c)}p(QI,I);function fa(c){let d=Ru();St(d,new QI(d))}Ni.STAT_EVENT="statevent";function YI(c,d){I.call(this,Ni.STAT_EVENT,c),this.stat=d}p(YI,I);function At(c){let d=Ru();St(d,new YI(d,c))}Ni.Ja="timingevent";function JI(c,d){I.call(this,Ni.Ja,c),this.size=d}p(JI,I);function ha(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){c()},d)}function pa(){this.g=!0}pa.prototype.ua=function(){this.g=!1};function qM(c,d,h,g,D,b){c.info(function(){if(c.g)if(b){var k="",ie=b.split("&");for(let Ne=0;Ne<ie.length;Ne++){var Ze=ie[Ne].split("=");if(Ze.length>1){let ot=Ze[0];Ze=Ze[1];let Bn=ot.split("_");k=Bn.length>=2&&Bn[1]=="type"?k+(ot+"="+Ze+"&"):k+(ot+"=redacted&")}}}else k=null;else k=b;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+h+`
`+k})}function GM(c,d,h,g,D,b,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+h+`
`+b+" "+k})}function Oo(c,d,h,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+KM(c,h)+(g?" "+g:"")})}function WM(c,d){c.info(function(){return"TIMEOUT: "+d})}pa.prototype.info=function(){};function KM(c,d){if(!c.g)return d;if(!d)return null;try{let b=JSON.parse(d);if(b){for(c=0;c<b.length;c++)if(Array.isArray(b[c])){var h=b[c];if(!(h.length<2)){var g=h[1];if(Array.isArray(g)&&!(g.length<1)){var D=g[0];if(D!="noop"&&D!="stop"&&D!="close")for(let k=1;k<g.length;k++)g[k]=""}}}}return up(b)}catch{return d}}var Nu={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ZI={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},XI;function fp(){}p(fp,GI),fp.prototype.g=function(){return new XMLHttpRequest},XI=new fp;function ga(c){return encodeURIComponent(String(c))}function QM(c){var d=1;c=c.split(":");let h=[];for(;d>0&&c.length;)h.push(c.shift()),d--;return c.length&&h.push(c.join(":")),h}function Lr(c,d,h,g){this.j=c,this.i=d,this.l=h,this.S=g||1,this.V=new la(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ew}function ew(){this.i=null,this.g="",this.h=!1}var tw={},hp={};function pp(c,d,h){c.M=1,c.A=xu(Un(d)),c.u=h,c.R=!0,nw(c,null)}function nw(c,d){c.F=Date.now(),Mu(c),c.B=Un(c.A);var h=c.B,g=c.S;Array.isArray(g)||(g=[String(g)]),gw(h.i,"t",g),c.C=0,h=c.j.L,c.h=new ew,c.g=Pw(c.j,h?d:null,!c.u),c.P>0&&(c.O=new HM(l(c.Y,c,c.g),c.P)),d=c.V,h=c.g,g=c.ba;var D="readystatechange";Array.isArray(D)||(D&&(zI[0]=D.toString()),D=zI);for(let b=0;b<D.length;b++){let k=VI(h,D[b],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.J?kI(c.J):{},c.u?(c.v||(c.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,d)):(c.v="GET",c.g.ea(c.B,c.v,null,d)),fa(),qM(c.i,c.v,c.B,c.l,c.S,c.u)}Lr.prototype.ba=function(c){c=c.target;let d=this.O;d&&jr(c)==3?d.j():this.Y(c)},Lr.prototype.Y=function(c){try{if(c==this.g)e:{let ie=jr(this.g),Ze=this.g.ya(),Ne=this.g.ca();if(!(ie<3)&&(ie!=3||this.g&&(this.h.h||this.g.la()||ww(this.g)))){this.K||ie!=4||Ze==7||(Ze==8||Ne<=0?fa(3):fa(2)),gp(this);var d=this.g.ca();this.X=d;var h=YM(this);if(this.o=d==200,GM(this.i,this.v,this.B,this.l,this.S,ie,d),this.o){if(this.U&&!this.L){t:{if(this.g){var g,D=this.g;if((g=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(g)){var b=g;break t}}b=null}if(c=b)Oo(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mp(this,c);else{this.o=!1,this.m=3,At(12),Mi(this),ma(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<h.length;)if(ot=JM(this,h),ot==hp){ie==4&&(this.m=4,At(14),c=!1),Oo(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==tw){this.m=4,At(15),Oo(this.i,this.l,h,"[Invalid Chunk]"),c=!1;break}else Oo(this.i,this.l,ot,null),mp(this,ot);if(rw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ie!=4||h.length!=0||this.h.h||(this.m=1,At(16),c=!1),this.o=this.o&&c,!c)Oo(this.i,this.l,h,"[Invalid Chunked Response]"),Mi(this),ma(this);else if(h.length>0&&!this.W){this.W=!0;var k=this.j;k.g==this&&k.aa&&!k.P&&(k.j.info("Great, no buffering proxy detected. Bytes received: "+h.length),Tp(k),k.P=!0,At(11))}}else Oo(this.i,this.l,h,null),mp(this,h);ie==4&&Mi(this),this.o&&!this.K&&(ie==4?Rw(this.j,this):(this.o=!1,Mu(this)))}else dx(this.g),d==400&&h.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),Mi(this),ma(this)}}}catch{}finally{}};function YM(c){if(!rw(c))return c.g.la();let d=ww(c.g);if(d==="")return"";let h="",g=d.length,D=jr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Mi(c),ma(c),"";c.h.i=new s.TextDecoder}for(let b=0;b<g;b++)c.h.h=!0,h+=c.h.i.decode(d[b],{stream:!(D&&b==g-1)});return d.length=0,c.h.g+=h,c.C=0,c.h.g}function rw(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function JM(c,d){var h=c.C,g=d.indexOf(`
`,h);return g==-1?hp:(h=Number(d.substring(h,g)),isNaN(h)?tw:(g+=1,g+h>d.length?hp:(d=d.slice(g,g+h),c.C=g+h,d)))}Lr.prototype.cancel=function(){this.K=!0,Mi(this)};function Mu(c){c.T=Date.now()+c.H,iw(c,c.H)}function iw(c,d){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ha(l(c.aa,c),d)}function gp(c){c.D&&(s.clearTimeout(c.D),c.D=null)}Lr.prototype.aa=function(){this.D=null;let c=Date.now();c-this.T>=0?(WM(this.i,this.B),this.M!=2&&(fa(),At(17)),Mi(this),this.m=2,ma(this)):iw(this,this.T-c)};function ma(c){c.j.I==0||c.K||Rw(c.j,c)}function Mi(c){gp(c);var d=c.O;d&&typeof d.dispose=="function"&&d.dispose(),c.O=null,qI(c.V),c.g&&(d=c.g,c.g=null,d.abort(),d.dispose())}function mp(c,d){try{var h=c.j;if(h.I!=0&&(h.g==c||yp(h.h,c))){if(!c.L&&yp(h.h,c)&&h.I==3){try{var g=h.Ba.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!h.v){if(h.g)if(h.g.F+3e3<c.F)Vu(h),Lu(h);else break e;wp(h),At(18)}}else h.xa=D[1],0<h.xa-h.K&&D[2]<37500&&h.F&&h.A==0&&!h.C&&(h.C=ha(l(h.Va,h),6e3));aw(h.h)<=1&&h.ta&&(h.ta=void 0)}else Pi(h,11)}else if((c.L||h.g==c)&&Vu(h),!_(d))for(D=h.Ba.g.parse(d),d=0;d<D.length;d++){let Ne=D[d],ot=Ne[0];if(!(ot<=h.K))if(h.K=ot,Ne=Ne[1],h.I==2)if(Ne[0]=="c"){h.M=Ne[1],h.ba=Ne[2];let Bn=Ne[3];Bn!=null&&(h.ka=Bn,h.j.info("VER="+h.ka));let Oi=Ne[4];Oi!=null&&(h.za=Oi,h.j.info("SVER="+h.za));let Ur=Ne[5];Ur!=null&&typeof Ur=="number"&&Ur>0&&(g=1.5*Ur,h.O=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Br=c.g;if(Br){let Uu=Br.g?Br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Uu){var b=g.h;b.g||Uu.indexOf("spdy")==-1&&Uu.indexOf("quic")==-1&&Uu.indexOf("h2")==-1||(b.j=b.l,b.g=new Set,b.h&&(vp(b,b.h),b.h=null))}if(g.G){let Dp=Br.g?Br.g.getResponseHeader("X-HTTP-Session-Id"):null;Dp&&(g.wa=Dp,Oe(g.J,g.G,Dp))}}h.I=3,h.l&&h.l.ra(),h.aa&&(h.T=Date.now()-c.F,h.j.info("Handshake RTT: "+h.T+"ms")),g=h;var k=c;if(g.na=xw(g,g.L?g.ba:null,g.W),k.L){cw(g.h,k);var ie=k,Ze=g.O;Ze&&(ie.H=Ze),ie.D&&(gp(ie),Mu(ie)),g.g=k}else Sw(g);h.i.length>0&&Fu(h)}else Ne[0]!="stop"&&Ne[0]!="close"||Pi(h,7);else h.I==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Pi(h,7):Ip(h):Ne[0]!="noop"&&h.l&&h.l.qa(Ne),h.A=0)}}fa(4)}catch{}}var ZM=class{constructor(c,d){this.g=c,this.map=d}};function ow(c){this.l=c||10,s.PerformanceNavigationTiming?(c=s.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function sw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function aw(c){return c.h?1:c.g?c.g.size:0}function yp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function vp(c,d){c.g?c.g.add(d):c.h=d}function cw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}ow.prototype.cancel=function(){if(this.i=uw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function uw(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let h of c.g.values())d=d.concat(h.G);return d}return y(c.i)}var lw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function XM(c,d){if(c){c=c.split("&");for(let h=0;h<c.length;h++){let g=c[h].indexOf("="),D,b=null;g>=0?(D=c[h].substring(0,g),b=c[h].substring(g+1)):D=c[h],d(D,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Fr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;c instanceof Fr?(this.l=c.l,ya(this,c.j),this.o=c.o,this.g=c.g,va(this,c.u),this.h=c.h,_p(this,mw(c.i)),this.m=c.m):c&&(d=String(c).match(lw))?(this.l=!1,ya(this,d[1]||"",!0),this.o=_a(d[2]||""),this.g=_a(d[3]||"",!0),va(this,d[4]),this.h=_a(d[5]||"",!0),_p(this,d[6]||"",!0),this.m=_a(d[7]||"")):(this.l=!1,this.i=new Ia(null,this.l))}Fr.prototype.toString=function(){let c=[];var d=this.j;d&&c.push(Ea(d,dw,!0),":");var h=this.g;return(h||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ea(d,dw,!0),"@"),c.push(ga(h).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.u,h!=null&&c.push(":",String(h))),(h=this.h)&&(this.g&&h.charAt(0)!="/"&&c.push("/"),c.push(Ea(h,h.charAt(0)=="/"?nx:tx,!0))),(h=this.i.toString())&&c.push("?",h),(h=this.m)&&c.push("#",Ea(h,ix)),c.join("")},Fr.prototype.resolve=function(c){let d=Un(this),h=!!c.j;h?ya(d,c.j):h=!!c.o,h?d.o=c.o:h=!!c.g,h?d.g=c.g:h=c.u!=null;var g=c.h;if(h)va(d,c.u);else if(h=!!c.h){if(g.charAt(0)!="/")if(this.g&&!this.h)g="/"+g;else{var D=d.h.lastIndexOf("/");D!=-1&&(g=d.h.slice(0,D+1)+g)}if(D=g,D==".."||D==".")g="";else if(D.indexOf("./")!=-1||D.indexOf("/.")!=-1){g=D.lastIndexOf("/",0)==0,D=D.split("/");let b=[];for(let k=0;k<D.length;){let ie=D[k++];ie=="."?g&&k==D.length&&b.push(""):ie==".."?((b.length>1||b.length==1&&b[0]!="")&&b.pop(),g&&k==D.length&&b.push("")):(b.push(ie),g=!0)}g=b.join("/")}else g=D}return h?d.h=g:h=c.i.toString()!=="",h?_p(d,mw(c.i)):h=!!c.m,h&&(d.m=c.m),d};function Un(c){return new Fr(c)}function ya(c,d,h){c.j=h?_a(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function va(c,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);c.u=d}else c.u=null}function _p(c,d,h){d instanceof Ia?(c.i=d,ox(c.i,c.l)):(h||(d=Ea(d,rx)),c.i=new Ia(d,c.l))}function Oe(c,d,h){c.i.set(d,h)}function xu(c){return Oe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function _a(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ea(c,d,h){return typeof c=="string"?(c=encodeURI(c).replace(d,ex),h&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ex(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var dw=/[#\/\?@]/g,tx=/[#\?:]/g,nx=/[#\?]/g,rx=/[#\?@]/g,ix=/#/g;function Ia(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function xi(c){c.g||(c.g=new Map,c.h=0,c.i&&XM(c.i,function(d,h){c.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Ia.prototype,t.add=function(c,d){xi(this),this.i=null,c=ko(this,c);let h=this.g.get(c);return h||this.g.set(c,h=[]),h.push(d),this.h+=1,this};function fw(c,d){xi(c),d=ko(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function hw(c,d){return xi(c),d=ko(c,d),c.g.has(d)}t.forEach=function(c,d){xi(this),this.g.forEach(function(h,g){h.forEach(function(D){c.call(d,D,g,this)},this)},this)};function pw(c,d){xi(c);let h=[];if(typeof d=="string")hw(c,d)&&(h=h.concat(c.g.get(ko(c,d))));else for(c=Array.from(c.g.values()),d=0;d<c.length;d++)h=h.concat(c[d]);return h}t.set=function(c,d){return xi(this),this.i=null,c=ko(this,c),hw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=pw(this,c),c.length>0?String(c[0]):d):d};function gw(c,d,h){fw(c,d),h.length>0&&(c.i=null,c.g.set(ko(c,d),y(h)),c.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(let g=0;g<d.length;g++){var h=d[g];let D=ga(h);h=pw(this,h);for(let b=0;b<h.length;b++){let k=D;h[b]!==""&&(k+="="+ga(h[b])),c.push(k)}}return this.i=c.join("&")};function mw(c){let d=new Ia;return d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),d}function ko(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function ox(c,d){d&&!c.j&&(xi(c),c.i=null,c.g.forEach(function(h,g){let D=g.toLowerCase();g!=D&&(fw(this,g),gw(this,D,h))},c)),c.j=d}function sx(c,d){let h=new pa;if(s.Image){let g=new Image;g.onload=f(Vr,h,"TestLoadImage: loaded",!0,d,g),g.onerror=f(Vr,h,"TestLoadImage: error",!1,d,g),g.onabort=f(Vr,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=f(Vr,h,"TestLoadImage: timeout",!1,d,g),s.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function ax(c,d){let h=new pa,g=new AbortController,D=setTimeout(()=>{g.abort(),Vr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(b=>{clearTimeout(D),b.ok?Vr(h,"TestPingServer: ok",!0,d):Vr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Vr(h,"TestPingServer: error",!1,d)})}function Vr(c,d,h,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(h)}catch{}}function cx(){this.g=new zM}function Pu(c){this.i=c.Sb||null,this.h=c.ab||!1}p(Pu,GI),Pu.prototype.g=function(){return new Ou(this.i,this.h)};function Ou(c,d){vt.call(this),this.H=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Ou,vt),t=Ou.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=d,this.readyState=1,Ta(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(d.body=c),(this.H||s).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wa(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ta(this)),this.g&&(this.readyState=3,Ta(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;yw(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function yw(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?wa(this):Ta(this),this.readyState==3&&yw(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,wa(this))},t.Na=function(c){this.g&&(this.response=c,wa(this))},t.ga=function(){this.g&&wa(this)};function wa(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Ta(c)}t.setRequestHeader=function(c,d){this.A.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,c.push(h[0]+": "+h[1]),h=d.next();return c.join(`\r
`)};function Ta(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ou.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function vw(c){let d="";return bu(c,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function Ep(c,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=vw(h),typeof c=="string"?h!=null&&ga(h):Oe(c,d,h))}function je(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(je,vt);var ux=/^https?$/i,lx=["POST","PUT"];t=je.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():XI.g(),this.g.onreadystatechange=m(l(this.Ca,this));try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(b){_w(this,b);return}if(c=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)h.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let b of g.keys())h.set(b,g.get(b));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(b=>b.toLowerCase()=="content-type"),D=s.FormData&&c instanceof s.FormData,!(Array.prototype.indexOf.call(lx,d,void 0)>=0)||g||D||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[b,k]of h)this.g.setRequestHeader(b,k);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(b){_w(this,b)}};function _w(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.o=5,Ew(c),ku(c)}function Ew(c){c.A||(c.A=!0,St(c,"complete"),St(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,St(this,"complete"),St(this,"abort"),ku(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ku(this,!0)),je.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Iw(this):this.Xa())},t.Xa=function(){Iw(this)};function Iw(c){if(c.h&&typeof o<"u"){if(c.v&&jr(c)==4)setTimeout(c.Ca.bind(c),0);else if(St(c,"readystatechange"),jr(c)==4){c.h=!1;try{let b=c.ca();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=b===0){let k=String(c.D).match(lw)[1]||null;!k&&s.self&&s.self.location&&(k=s.self.location.protocol.slice(0,-1)),g=!ux.test(k?k.toLowerCase():"")}h=g}if(h)St(c,"complete"),St(c,"success");else{c.o=6;try{var D=jr(c)>2?c.g.statusText:""}catch{D=""}c.l=D+" ["+c.ca()+"]",Ew(c)}}finally{ku(c)}}}}function ku(c,d){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);let h=c.g;c.g=null,d||St(c,"ready");try{h.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function jr(c){return c.g?c.g.readyState:0}t.ca=function(){try{return jr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),$M(d)}};function ww(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function dx(c){let d={};c=(c.g&&jr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(_(c[g]))continue;var h=QM(c[g]);let D=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let b=d[D]||[];d[D]=b,b.push(h)}VM(d,function(g){return g.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Da(c,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[c]||d}function Tw(c){this.za=0,this.i=[],this.j=new pa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Da("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Da("baseRetryDelayMs",5e3,c),this.Za=Da("retryDelaySeedMs",1e4,c),this.Ta=Da("forwardChannelMaxRetries",2,c),this.va=Da("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ow(c&&c.concurrentRequestLimit),this.Ba=new cx,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Tw.prototype,t.ka=8,t.I=1,t.connect=function(c,d,h,g){At(0),this.W=c,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.J=xw(this,null,this.W),Fu(this)};function Ip(c){if(Dw(c),c.I==3){var d=c.V++,h=Un(c.J);if(Oe(h,"SID",c.M),Oe(h,"RID",d),Oe(h,"TYPE","terminate"),Ca(c,h),d=new Lr(c,c.j,d),d.M=2,d.A=xu(Un(h)),h=!1,s.navigator&&s.navigator.sendBeacon)try{h=s.navigator.sendBeacon(d.A.toString(),"")}catch{}!h&&s.Image&&(new Image().src=d.A,h=!0),h||(d.g=Pw(d.j,null),d.g.ea(d.A)),d.F=Date.now(),Mu(d)}Mw(c)}function Lu(c){c.g&&(Tp(c),c.g.cancel(),c.g=null)}function Dw(c){Lu(c),c.v&&(s.clearTimeout(c.v),c.v=null),Vu(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&s.clearTimeout(c.m),c.m=null)}function Fu(c){if(!sw(c.h)&&!c.m){c.m=!0;var d=c.Ea;Ft||v(),it||(Ft(),it=!0),w.add(d,c),c.D=0}}function fx(c,d){return aw(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=d.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ha(l(c.Ea,c,d),Nw(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;let D=new Lr(this,this.j,c),b=this.o;if(this.U&&(b?(b=kI(b),FI(b,this.U)):b=this.U),this.u!==null||this.R||(D.J=b,b=null),this.S)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,d>4096){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=bw(this,D,d),h=Un(this.J),Oe(h,"RID",c),Oe(h,"CVER",22),this.G&&Oe(h,"X-HTTP-Session-Id",this.G),Ca(this,h),b&&(this.R?d="headers="+ga(vw(b))+"&"+d:this.u&&Ep(h,this.u,b)),vp(this.h,D),this.Ra&&Oe(h,"TYPE","init"),this.S?(Oe(h,"$req",d),Oe(h,"SID","null"),D.U=!0,pp(D,h,null)):pp(D,h,d),this.I=2}}else this.I==3&&(c?Cw(this,c):this.i.length==0||sw(this.h)||Cw(this))};function Cw(c,d){var h;d?h=d.l:h=c.V++;let g=Un(c.J);Oe(g,"SID",c.M),Oe(g,"RID",h),Oe(g,"AID",c.K),Ca(c,g),c.u&&c.o&&Ep(g,c.u,c.o),h=new Lr(c,c.j,h,c.D+1),c.u===null&&(h.J=c.o),d&&(c.i=d.G.concat(c.i)),d=bw(c,h,1e3),h.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),vp(c.h,h),pp(h,g,d)}function Ca(c,d){c.H&&bu(c.H,function(h,g){Oe(d,g,h)}),c.l&&bu({},function(h,g){Oe(d,g,h)})}function bw(c,d,h){h=Math.min(c.i.length,h);let g=c.l?l(c.l.Ka,c.l,c):null;e:{var D=c.i;let ie=-1;for(;;){let Ze=["count="+h];ie==-1?h>0?(ie=D[0].g,Ze.push("ofs="+ie)):ie=0:Ze.push("ofs="+ie);let Ne=!0;for(let ot=0;ot<h;ot++){var b=D[ot].g;let Bn=D[ot].map;if(b-=ie,b<0)ie=Math.max(0,D[ot].g-100),Ne=!1;else try{b="req"+b+"_"||"";try{var k=Bn instanceof Map?Bn:Object.entries(Bn);for(let[Oi,Ur]of k){let Br=Ur;a(Ur)&&(Br=up(Ur)),Ze.push(b+Oi+"="+encodeURIComponent(Br))}}catch(Oi){throw Ze.push(b+"type="+encodeURIComponent("_badmap")),Oi}}catch{g&&g(Bn)}}if(Ne){k=Ze.join("&");break e}}k=void 0}return c=c.i.splice(0,h),d.G=c,k}function Sw(c){if(!c.g&&!c.v){c.Y=1;var d=c.Da;Ft||v(),it||(Ft(),it=!0),w.add(d,c),c.A=0}}function wp(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ha(l(c.Da,c),Nw(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,Aw(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ha(l(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),Lu(this),Aw(this))};function Tp(c){c.B!=null&&(s.clearTimeout(c.B),c.B=null)}function Aw(c){c.g=new Lr(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var d=Un(c.na);Oe(d,"RID","rpc"),Oe(d,"SID",c.M),Oe(d,"AID",c.K),Oe(d,"CI",c.F?"0":"1"),!c.F&&c.ia&&Oe(d,"TO",c.ia),Oe(d,"TYPE","xmlhttp"),Ca(c,d),c.u&&c.o&&Ep(d,c.u,c.o),c.O&&(c.g.H=c.O);var h=c.g;c=c.ba,h.M=1,h.A=xu(Un(d)),h.u=null,h.R=!0,nw(h,c)}t.Va=function(){this.C!=null&&(this.C=null,Lu(this),wp(this),At(19))};function Vu(c){c.C!=null&&(s.clearTimeout(c.C),c.C=null)}function Rw(c,d){var h=null;if(c.g==d){Vu(c),Tp(c),c.g=null;var g=2}else if(yp(c.h,d))h=d.G,cw(c.h,d),g=1;else return;if(c.I!=0){if(d.o)if(g==1){h=d.u?d.u.length:0,d=Date.now()-d.F;var D=c.D;g=Ru(),St(g,new JI(g,h)),Fu(c)}else Sw(c);else if(D=d.m,D==3||D==0&&d.X>0||!(g==1&&fx(c,d)||g==2&&wp(c)))switch(h&&h.length>0&&(d=c.h,d.i=d.i.concat(h)),D){case 1:Pi(c,5);break;case 4:Pi(c,10);break;case 3:Pi(c,6);break;default:Pi(c,2)}}}function Nw(c,d){let h=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(h*=2),h*d}function Pi(c,d){if(c.j.info("Error code "+d),d==2){var h=l(c.bb,c),g=c.Ua;let D=!g;g=new Fr(g||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||ya(g,"https"),xu(g),D?sx(g.toString(),h):ax(g.toString(),h)}else At(2);c.I=0,c.l&&c.l.pa(d),Mw(c),Dw(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Mw(c){if(c.I=0,c.ja=[],c.l){let d=uw(c.h);(d.length!=0||c.i.length!=0)&&(S(c.ja,d),S(c.ja,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.oa()}}function xw(c,d,h){var g=h instanceof Fr?Un(h):new Fr(h);if(g.g!="")d&&(g.g=d+"."+g.g),va(g,g.u);else{var D=s.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;let b=new Fr(null);g&&ya(b,g),d&&(b.g=d),D&&va(b,D),h&&(b.h=h),g=b}return h=c.G,d=c.wa,h&&d&&Oe(g,h,d),Oe(g,"VER",c.ka),Ca(c,g),g}function Pw(c,d,h){if(d&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Aa&&!c.ma?new je(new Pu({ab:h})):new je(c.ma),d.Fa(c.L),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ow(){}t=Ow.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ju(){}ju.prototype.g=function(c,d){return new Qt(c,d)};function Qt(c,d){vt.call(this),this.g=new Tw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(c?c["X-WebChannel-Client-Profile"]=d.sa:c={"X-WebChannel-Client-Profile":d.sa}),this.g.U=c,(c=d&&d.Qb)&&!_(c)&&(this.g.u=c),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!_(d)&&(this.g.G=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Lo(this)}p(Qt,vt),Qt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){Ip(this.g)},Qt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var h={};h.__data__=c,c=h}else this.v&&(h={},h.__data__=up(c),c=h);d.i.push(new ZM(d.Ya++,c)),d.I==3&&Fu(d)},Qt.prototype.N=function(){this.g.l=null,delete this.j,Ip(this.g),delete this.g,Qt.Z.N.call(this)};function kw(c){lp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let h in d){c=h;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}p(kw,lp);function Lw(){dp.call(this),this.status=1}p(Lw,dp);function Lo(c){this.g=c}p(Lo,Ow),Lo.prototype.ra=function(){St(this.g,"a")},Lo.prototype.qa=function(c){St(this.g,new kw(c))},Lo.prototype.pa=function(c){St(this.g,new Lw)},Lo.prototype.oa=function(){St(this.g,"b")},ju.prototype.createWebChannel=ju.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,Hv=br.createWebChannelTransport=function(){return new ju},Bv=br.getStatEventTarget=function(){return Ru()},Uv=br.Event=Ni,Pf=br.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Nu.NO_ERROR=0,Nu.TIMEOUT=8,Nu.HTTP_ERROR=6,Jc=br.ErrorCode=Nu,ZI.COMPLETE="complete",jv=br.EventType=ZI,WI.EventType=da,da.OPEN="a",da.CLOSE="b",da.ERROR="c",da.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Ps=br.WebChannel=WI,Xj=br.FetchXmlHttpFactory=Pu,je.prototype.listenOnce=je.prototype.K,je.prototype.getLastError=je.prototype.Ha,je.prototype.getLastErrorCode=je.prototype.ya,je.prototype.getStatus=je.prototype.ca,je.prototype.getResponseJson=je.prototype.La,je.prototype.getResponseText=je.prototype.la,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Fa,Vv=br.XhrIo=je}).apply(typeof xf<"u"?xf:typeof self<"u"?self:typeof window<"u"?window:{});var nA="@firebase/firestore",rA="4.9.2";var dt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};dt.UNAUTHENTICATED=new dt(null),dt.GOOGLE_CREDENTIALS=new dt("google-credentials-uid"),dt.FIRST_PARTY=new dt("first-party-uid"),dt.MOCK_USER=new dt("mock-user");var na="12.3.0";var _o=new ui("@firebase/firestore");function Os(){return _o.logLevel}function V(t,...e){if(_o.logLevel<=fe.DEBUG){let n=e.map(LE);_o.debug(`Firestore (${na}): ${t}`,...n)}}function Sr(t,...e){if(_o.logLevel<=fe.ERROR){let n=e.map(LE);_o.error(`Firestore (${na}): ${t}`,...n)}}function zs(t,...e){if(_o.logLevel<=fe.WARN){let n=e.map(LE);_o.warn(`Firestore (${na}): ${t}`,...n)}}function LE(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,GA(t,r,n)}function GA(t,e,n){let r=`FIRESTORE (${na}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Sr(r),new Error(r)}function Ce(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||GA(e,i,r)}function X(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=class extends tn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var sr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Uf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Kv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dt.UNAUTHENTICATED))}shutdown(){}},Qv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Yv=class{constructor(e){this.t=e,this.currentUser=dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ce(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new sr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new sr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new sr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string",31837,{l:r}),new Uf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string",2055,{h:e}),new dt(e)}},Jv=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=dt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Zv=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Jv(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Bf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Xv=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ce(this.o===void 0,3512);let r=o=>{o.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,V("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Bf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Bf(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function eU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ru=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=eU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function pe(t,e){return t<e?-1:t>e?1:0}function e_(t,e){let n=Math.min(t.length,e.length);for(let r=0;r<n;r++){let i=t.charAt(r),o=e.charAt(r);if(i!==o)return $v(i)===$v(o)?pe(i,o):$v(i)?1:-1}return pe(t.length,e.length)}var tU=55296,nU=57343;function $v(t){let e=t.charCodeAt(0);return e>=tU&&e<=nU}function qs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var iA="__name__",Hf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return pe(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):e_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cr.fromString(e.substring(4,e.length-2))}},Ve=class t extends Hf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new F(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},rU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rn=class t extends Hf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return rU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iA}static keyField(){return new t([iA])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new F(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new F(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new F(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var B=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ve.fromString(e))}static fromName(e){return new t(Ve.fromString(e).popFirst(5))}static empty(){return new t(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ve(e.slice()))}};function WA(t,e,n){if(!n)throw new F(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iU(t,e,n,r){if(e===!0&&r===!0)throw new F(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function oA(t){if(!B.isDocumentKey(t))throw new F(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sA(t){if(B.isDocumentKey(t))throw new F(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function KA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function mh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q(12329,{type:typeof t})}function iu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=mh(t);throw new F(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ye(t,e){let n={typeString:t};return e&&(n.value=e),n}function yu(t,e){if(!KA(t))throw new F(N.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new F(N.INVALID_ARGUMENT,n);return!0}var aA=-62135596800,cA=1e6,Je=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*cA);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<aA)throw new F(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cA}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yu(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-aA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:Ye("string",Je._jsonSchemaVersion),seconds:Ye("number"),nanoseconds:Ye("number")};var te=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Je(0,0))}static max(){return new t(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ou=-1,t_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};t_.UNKNOWN_ID=-1;function oU(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new Eo(i,B.empty(),e)}function sU(t){return new Eo(t.readTime,t.key,ou)}var Eo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(te.min(),B.empty(),ou)}static max(){return new t(te.max(),B.empty(),ou)}};function aU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=B.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}var cU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",n_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function ra(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==cU)throw t;V("LocalStore","Unexpectedly lost primary lease")}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(f=>{s[l]=f,++a,a===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function uU(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ia(t){return t.name==="IndexedDbTransactionError"}var FE=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ue&&this.ue(n),n}}t.ce=-1;return t})(),VE=-1;function yh(t){return t==null}function su(t){return t===0&&1/t==-1/0}function lU(t){return typeof t=="number"&&Number.isInteger(t)&&!su(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var QA="";function dU(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=uA(e)),e=fU(t.get(n),e);return uA(e)}function fU(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case QA:n+="";break;default:n+=o}}return n}function uA(t){return t+QA+""}var hU="remoteDocuments",YA="owner";var JA="mutationQueues";var ZA="mutations";var XA="documentMutations",pU="remoteDocumentsV14";var eR="remoteDocumentGlobal";var tR="targets";var nR="targetDocuments";var rR="targetGlobal",iR="collectionParents";var oR="clientMetadata";var sR="bundles";var aR="namedQueries";var gU="indexConfiguration";var mU="indexState";var yU="indexEntries";var cR="documentOverlays";var vU="globals";var _U=[JA,ZA,XA,hU,tR,YA,rR,nR,oR,eR,iR,sR,aR],Nee=[..._U,cR],EU=[JA,ZA,XA,pU,tR,YA,rR,nR,oR,eR,iR,sR,aR,cR],IU=EU,wU=[...IU,gU,mU,yU];var Mee=[...wU,vU];function lA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ao(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var He=class t{constructor(e,n){this.comparator=e,this.root=n||ar.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ar.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ar.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vs(this.root,e,this.comparator,!0)}},Vs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ar=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw q(27949);return e+(this.isRed()?0:1)}};ar.EMPTY=null,ar.RED=!0,ar.BLACK=!1;ar.EMPTY=new class{constructor(){this.size=0}get key(){throw q(57766)}get value(){throw q(16141)}get color(){throw q(16727)}get left(){throw q(29726)}get right(){throw q(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new ar(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ft=class t{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $f(this.data.getIterator())}getIteratorFrom(e){return new $f(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},$f=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var or=class t{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new t([])}unionWith(e){let n=new ft(rn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var zf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ct=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new zf("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ct.EMPTY_BYTE_STRING=new Ct("");var TU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(t){if(Ce(!!t,39018),typeof t=="string"){let e=0,n=TU.exec(t);if(Ce(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rr(t){return typeof t=="string"?Ct.fromBase64String(t):Ct.fromUint8Array(t)}var lR="server_timestamp",dR="__type__",fR="__previous_value__",hR="__local_write_time__";function jE(t){return(t?.mapValue?.fields||{})[dR]?.stringValue===lR}function vh(t){let e=t.mapValue.fields[fR];return jE(e)?vh(e):e}function au(t){let e=Ar(t.mapValue.fields[hR].timestampValue);return new Je(e.seconds,e.nanos)}var r_=class{constructor(e,n,r,i,o,s,a,u,l,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=f}},qf="(default)",Gf=class t{constructor(e,n){this.projectId=e,this.database=n||qf}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===qf}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var UE="__type__",pR="__max__",Of={mapValue:{fields:{__type__:{stringValue:pR}}}},BE="__vector__",Gs="value";function vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jE(t)?4:mR(t)?9007199254740991:gR(t)?10:11:q(28295,{value:t})}function lr(t,e){if(t===e)return!0;let n=vi(t);if(n!==vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return au(t).isEqual(au(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Ar(i.timestampValue),a=Ar(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Rr(i.bytesValue).isEqual(Rr(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Fe(i.geoPointValue.latitude)===Fe(o.geoPointValue.latitude)&&Fe(i.geoPointValue.longitude)===Fe(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Fe(i.integerValue)===Fe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Fe(i.doubleValue),a=Fe(o.doubleValue);return s===a?su(s)===su(a):isNaN(s)&&isNaN(a)}return!1})(t,e);case 9:return qs(t.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(lA(s)!==lA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!lr(s[u],a[u])))return!1;return!0})(t,e);default:return q(52216,{left:t})}}function cu(t,e){return(t.values||[]).find(n=>lr(n,e))!==void 0}function Ws(t,e){if(t===e)return 0;let n=vi(t),r=vi(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Fe(o.integerValue||o.doubleValue),u=Fe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(t,e);case 3:return dA(t.timestampValue,e.timestampValue);case 4:return dA(au(t),au(e));case 5:return e_(t.stringValue,e.stringValue);case 6:return(function(o,s){let a=Rr(o),u=Rr(s);return a.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let f=pe(a[l],u[l]);if(f!==0)return f}return pe(a.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=pe(Fe(o.latitude),Fe(s.latitude));return a!==0?a:pe(Fe(o.longitude),Fe(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return fA(t.arrayValue,e.arrayValue);case 10:return(function(o,s){let a=o.fields||{},u=s.fields||{},l=a[Gs]?.arrayValue,f=u[Gs]?.arrayValue,p=pe(l?.values?.length||0,f?.values?.length||0);return p!==0?p:fA(l,f)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Of.mapValue&&s===Of.mapValue)return 0;if(o===Of.mapValue)return 1;if(s===Of.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let m=e_(u[p],f[p]);if(m!==0)return m;let y=Ws(a[u[p]],l[f[p]]);if(y!==0)return y}return pe(u.length,f.length)})(t.mapValue,e.mapValue);default:throw q(23264,{he:n})}}function dA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);let n=Ar(t),r=Ar(e),i=pe(n.seconds,r.seconds);return i!==0?i:pe(n.nanos,r.nanos)}function fA(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Ws(n[i],r[i]);if(o)return o}return pe(n.length,r.length)}function Ks(t){return i_(t)}function i_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=Ar(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Rr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return B.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=i_(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${i_(n.fields[s])}`;return i+"}"})(t.mapValue):q(61005,{value:t})}function Ff(t){switch(vi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=vh(t);return e?16+Ff(e):16;case 5:return 2*t.stringValue.length;case 6:return Rr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Ff(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Ao(r.fields,(o,s)=>{i+=o.length+Ff(s)}),i})(t.mapValue);default:throw q(13486,{value:t})}}function hA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function o_(t){return!!t&&"integerValue"in t}function HE(t){return!!t&&"arrayValue"in t}function pA(t){return!!t&&"nullValue"in t}function gA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vf(t){return!!t&&"mapValue"in t}function gR(t){return(t?.mapValue?.fields||{})[UE]?.stringValue===BE}function Xc(t){if(t.geoPointValue)return{geoPointValue:M({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:M({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ao(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xc(t.arrayValue.values[n]);return e}return M({},t)}function mR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===pR}var Pee={mapValue:{fields:{[UE]:{stringValue:BE},[Gs]:{arrayValue:{}}}}};var Fn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xc(n)}setAll(e){let n=rn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Xc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Vf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ao(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Xc(this.value))}};function yR(t){let e=[];return Ao(t.fields,(n,r)=>{let i=new rn([n]);if(Vf(r)){let o=yR(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new or(e)}var Vn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,te.min(),te.min(),te.min(),Fn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,te.min(),te.min(),Fn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,te.min(),te.min(),Fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Qs=class{constructor(e,n){this.position=e,this.inclusive=n}};function mA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=B.comparator(B.fromName(s.referenceValue),n.key):r=Ws(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function yA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lr(t.position[n],e.position[n]))return!1;return!0}var Io=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function DU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Wf=class{},Qe=class t extends Wf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new a_(e,n,r):n==="array-contains"?new l_(e,r):n==="in"?new d_(e,r):n==="not-in"?new f_(e,r):n==="array-contains-any"?new h_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new c_(e,r):new u_(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ws(n,this.value)):n!==null&&vi(this.value)===vi(n)&&this.matchesComparison(Ws(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},jn=class t extends Wf{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new t(e,n)}matches(e){return vR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function vR(t){return t.op==="and"}function _R(t){return CU(t)&&vR(t)}function CU(t){for(let e of t.filters)if(e instanceof jn)return!1;return!0}function s_(t){if(t instanceof Qe)return t.field.canonicalString()+t.op.toString()+Ks(t.value);if(_R(t))return t.filters.map(e=>s_(e)).join(",");{let e=t.filters.map(n=>s_(n)).join(",");return`${t.op}(${e})`}}function ER(t,e){return t instanceof Qe?(function(r,i){return i instanceof Qe&&r.op===i.op&&r.field.isEqual(i.field)&&lr(r.value,i.value)})(t,e):t instanceof jn?(function(r,i){return i instanceof jn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&ER(s,i.filters[a]),!0):!1})(t,e):void q(19439)}function IR(t){return t instanceof Qe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ks(n.value)}`})(t):t instanceof jn?(function(n){return n.op.toString()+" {"+n.getFilters().map(IR).join(" ,")+"}"})(t):"Filter"}var a_=class extends Qe{constructor(e,n,r){super(e,n,r),this.key=B.fromName(r.referenceValue)}matches(e){let n=B.comparator(e.key,this.key);return this.matchesComparison(n)}},c_=class extends Qe{constructor(e,n){super(e,"in",n),this.keys=wR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},u_=class extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=wR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function wR(t,e){return(e.arrayValue?.values||[]).map(n=>B.fromName(n.referenceValue))}var l_=class extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return HE(n)&&cu(n.arrayValue,this.value)}},d_=class extends Qe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&cu(this.value.arrayValue,n)}},f_=class extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cu(this.value.arrayValue,n)}},h_=class extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!HE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>cu(this.value.arrayValue,r))}};var p_=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}};function vA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new p_(t,e,n,r,i,o,s)}function $E(t){let e=X(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>s_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),yh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ks(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ks(r)).join(",")),e.Te=n}return e.Te}function zE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ER(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yA(t.startAt,e.startAt)&&yA(t.endAt,e.endAt)}function g_(t){return B.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var _i=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function bU(t,e,n,r,i,o,s,a){return new _i(t,e,n,r,i,o,s,a)}function TR(t){return new _i(t)}function _A(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function DR(t){return t.collectionGroup!==null}function eu(t){let e=X(t);if(e.Ie===null){e.Ie=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ft(rn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Io(o,r))}),n.has(rn.keyField().canonicalString())||e.Ie.push(new Io(rn.keyField(),r))}return e.Ie}function cr(t){let e=X(t);return e.Ee||(e.Ee=SU(e,eu(t))),e.Ee}function SU(t,e){if(t.limitType==="F")return vA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Io(i.field,o)});let n=t.endAt?new Qs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qs(t.startAt.position,t.startAt.inclusive):null;return vA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function m_(t,e){let n=t.filters.concat([e]);return new _i(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function y_(t,e,n){return new _i(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _h(t,e){return zE(cr(t),cr(e))&&t.limitType===e.limitType}function CR(t){return`${$E(cr(t))}|lt:${t.limitType}`}function ks(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>IR(i)).join(", ")}]`),yh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ks(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ks(i)).join(",")),`Target(${r})`})(cr(t))}; limitType=${t.limitType})`}function Eh(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):B.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of eu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=mA(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,eu(r),i)||r.endAt&&!(function(s,a,u){let l=mA(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,eu(r),i))})(t,e)}function AU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bR(t){return(e,n)=>{let r=!1;for(let i of eu(t)){let o=RU(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function RU(t,e,n){let r=t.field.isKeyField()?B.comparator(e.key,n.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Ws(u,l):q(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q(19790,{direction:t.dir})}}var Nr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return uR(this.inner)}size(){return this.innerSize}};var NU=new He(B.comparator);function Mr(){return NU}var SR=new He(B.comparator);function Zc(...t){let e=SR;for(let n of t)e=e.insert(n.key,n);return e}function AR(t){let e=SR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function yo(){return tu()}function RR(){return tu()}function tu(){return new Nr(t=>t.toString(),(t,e)=>t.isEqual(e))}var MU=new He(B.comparator),xU=new ft(B.comparator);function ge(...t){let e=xU;for(let n of t)e=e.add(n);return e}var PU=new ft(pe);function OU(){return PU}function qE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:su(e)?"-0":e}}function NR(t){return{integerValue:""+t}}function kU(t,e){return lU(e)?NR(e):qE(t,e)}var Ys=class{constructor(){this._=void 0}};function LU(t,e,n){return t instanceof wo?(function(i,o){let s={fields:{[dR]:{stringValue:lR},[hR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&jE(o)&&(o=vh(o)),o&&(s.fields[fR]=o),{mapValue:s}})(n,e):t instanceof To?xR(t,e):t instanceof Do?PR(t,e):(function(i,o){let s=MR(i,o),a=EA(s)+EA(i.Ae);return o_(s)&&o_(i.Ae)?NR(a):qE(i.serializer,a)})(t,e)}function FU(t,e,n){return t instanceof To?xR(t,e):t instanceof Do?PR(t,e):n}function MR(t,e){return t instanceof Js?(function(r){return o_(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var wo=class extends Ys{},To=class extends Ys{constructor(e){super(),this.elements=e}};function xR(t,e){let n=OR(e);for(let r of t.elements)n.some(i=>lr(i,r))||n.push(r);return{arrayValue:{values:n}}}var Do=class extends Ys{constructor(e){super(),this.elements=e}};function PR(t,e){let n=OR(e);for(let r of t.elements)n=n.filter(i=>!lr(i,r));return{arrayValue:{values:n}}}var Js=class extends Ys{constructor(e,n){super(),this.serializer=e,this.Ae=n}};function EA(t){return Fe(t.integerValue||t.doubleValue)}function OR(t){return HE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var v_=class{constructor(e,n){this.field=e,this.transform=n}};function VU(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof To&&i instanceof To||r instanceof Do&&i instanceof Do?qs(r.elements,i.elements,lr):r instanceof Js&&i instanceof Js?lr(r.Ae,i.Ae):r instanceof wo&&i instanceof wo})(t.transform,e.transform)}var __=class{constructor(e,n){this.version=e,this.transformResults=n}},hi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function jf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Zs=class{};function kR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new uu(t.key,hi.none()):new Co(t.key,t.data,hi.none());{let n=t.data,r=Fn.empty(),i=new ft(rn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new xr(t.key,r,new or(i.toArray()),hi.none())}}function jU(t,e,n){t instanceof Co?(function(i,o,s){let a=i.value.clone(),u=wA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(t,e,n):t instanceof xr?(function(i,o,s){if(!jf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=wA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(LR(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function nu(t,e,n,r){return t instanceof Co?(function(o,s,a,u){if(!jf(o.precondition,s))return a;let l=o.value.clone(),f=TA(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof xr?(function(o,s,a,u){if(!jf(o.precondition,s))return a;let l=TA(o.fieldTransforms,u,s),f=s.data;return f.setAll(LR(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(t,e,n,r):(function(o,s,a){return jf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(t,e,n)}function UU(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=MR(r.transform,i||null);o!=null&&(n===null&&(n=Fn.empty()),n.set(r.field,o))}return n||null}function IA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qs(r,i,(o,s)=>VU(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Co=class extends Zs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},xr=class extends Zs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function LR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function wA(t,e,n){let r=new Map;Ce(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,FU(s,a,n[i]))}return r}function TA(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,LU(o,s,e))}return r}var uu=class extends Zs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},E_=class extends Zs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var I_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&jU(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=nu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=nu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=RR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=kR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&qs(this.mutations,e.mutations,(n,r)=>IA(n,r))&&qs(this.baseMutations,e.baseMutations,(n,r)=>IA(n,r))}},w_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return MU})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var T_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var D_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var We,ye;function BU(t){switch(t){case N.OK:return q(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return q(15467,{code:t})}}function FR(t){if(t===void 0)return Sr("GRPC error has no .code"),N.UNKNOWN;switch(t){case We.OK:return N.OK;case We.CANCELLED:return N.CANCELLED;case We.UNKNOWN:return N.UNKNOWN;case We.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case We.INTERNAL:return N.INTERNAL;case We.UNAVAILABLE:return N.UNAVAILABLE;case We.UNAUTHENTICATED:return N.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case We.NOT_FOUND:return N.NOT_FOUND;case We.ALREADY_EXISTS:return N.ALREADY_EXISTS;case We.PERMISSION_DENIED:return N.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case We.ABORTED:return N.ABORTED;case We.OUT_OF_RANGE:return N.OUT_OF_RANGE;case We.UNIMPLEMENTED:return N.UNIMPLEMENTED;case We.DATA_LOSS:return N.DATA_LOSS;default:return q(39323,{code:t})}}(ye=We||(We={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";var HU=null;function $U(){return new TextEncoder}var zU=new Cr([4294967295,4294967295],0);function DA(t){let e=$U().encode(t),n=new Fv;return n.update(e),new Uint8Array(n.digest())}function CA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Cr([n,r],0),new Cr([i,o],0)]}var C_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vo(`Invalid padding: ${n}`);if(r<0)throw new vo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Cr.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Cr.fromNumber(r)));return i.compare(zU)===1&&(i=new Cr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let n=DA(e),[r,i]=CA(n);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;let n=DA(e),[r,i]=CA(n);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);this.Se(s)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},vo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Kf=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(te.min(),i,new He(pe),Mr(),ge())}},lu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ge(),ge(),ge())}};var Us=class{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}},Qf=class{constructor(e,n){this.targetId=e,this.Ce=n}},Yf=class{constructor(e,n,r=Ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Jf=class{constructor(){this.ve=0,this.Fe=bA(),this.Me=Ct.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ge(),n=ge(),r=ge();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:q(38017,{changeType:o})}}),new lu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=bA()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},b_=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=Mr(),this.Je=kf(),this.He=kf(),this.Ye=new He(pe)}Ze(e){for(let n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(let n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{let r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){let n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){let o=i.target;if(g_(o))if(r===0){let s=new B(o.path);this.et(n,s,Vn.newNoDocument(s,te.min()))}else Ce(r===1,20013,{expectedCount:r});else{let s=this._t(n);if(s!==r){let a=this.ut(e),u=a?this.ct(a,e,s):1;if(u!==0){this.it(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,l)}HU?.lt((function(f,p,m,y,S){let A={localCacheCount:f,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},R=p.unchangedNames;return R&&(A.bloomFilter={applied:S===0,hashCount:R?.hashCount??0,bitmapLength:R?.bits?.bitmap?.length??0,padding:R?.bits?.padding??0,mightContain:L=>y?.mightContain(L)??!1}),A})(s,e.Ce,this.Ge.ht(),a,u))}}}}ut(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Rr(r).toUint8Array()}catch(u){if(u instanceof zf)return zs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new C_(s,i,o)}catch(u){return zs(u instanceof vo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){let r=this.Ge.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){let n=new Map;this.ze.forEach((o,s)=>{let a=this.ot(s);if(a){if(o.current&&g_(a.target)){let u=new B(a.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,Vn.newNoDocument(u,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=ge();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.ot(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));let i=new Kf(e,n,this.Ye,this.je,r);return this.je=Mr(),this.Je=kf(),this.He=kf(),this.Ye=new He(pe),i}Xe(e,n){if(!this.rt(e))return;let r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){let n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Jf,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ft(pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ft(pe),this.Je=this.Je.insert(e,n)),n}rt(e){let n=this.ot(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}ot(e){let n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Jf),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}};function kf(){return new He(B.comparator)}function bA(){return new He(B.comparator)}var qU={asc:"ASCENDING",desc:"DESCENDING"},GU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WU={and:"AND",or:"OR"},S_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function A_(t,e){return t.useProto3Json||yh(e)?e:{value:e}}function Zf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function KU(t,e){return Zf(t,e.toTimestamp())}function ur(t){return Ce(!!t,49232),te.fromTimestamp((function(n){let r=Ar(n);return new Je(r.seconds,r.nanos)})(t))}function GE(t,e){return R_(t,e).canonicalString()}function R_(t,e){let n=(function(i){return new Ve(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function jR(t){let e=Ve.fromString(t);return Ce(zR(e),10190,{key:e.toString()}),e}function N_(t,e){return GE(t.databaseId,e.path)}function zv(t,e){let n=jR(e);if(n.get(1)!==t.databaseId.projectId)throw new F(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new B(BR(n))}function UR(t,e){return GE(t.databaseId,e)}function QU(t){let e=jR(t);return e.length===4?Ve.emptyPath():BR(e)}function M_(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BR(t){return Ce(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function SA(t,e,n){return{name:N_(t,e),fields:n.value.mapValue.fields}}function YU(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:q(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,f){return l.useProto3Json?(Ce(f===void 0||typeof f=="string",58123),Ct.fromBase64String(f||"")):(Ce(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Ct.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let f=l.code===void 0?N.UNKNOWN:FR(l.code);return new F(f,l.message||"")})(s);n=new Yf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=zv(t,r.document.name),o=ur(r.document.updateTime),s=r.document.createTime?ur(r.document.createTime):te.min(),a=new Fn({mapValue:{fields:r.document.fields}}),u=Vn.newFoundDocument(i,o,s,a),l=r.targetIds||[],f=r.removedTargetIds||[];n=new Us(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=zv(t,r.document),o=r.readTime?ur(r.readTime):te.min(),s=Vn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Us([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=zv(t,r.document),o=r.removedTargetIds||[];n=new Us([],o,i,null)}else{if(!("filter"in e))return q(11601,{Rt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new D_(i,o),a=r.targetId;n=new Qf(a,s)}}return n}function JU(t,e){let n;if(e instanceof Co)n={update:SA(t,e.key,e.value)};else if(e instanceof uu)n={delete:N_(t,e.key)};else if(e instanceof xr)n={update:SA(t,e.key,e.data),updateMask:sB(e.fieldMask)};else{if(!(e instanceof E_))return q(16599,{Vt:e.type});n={verify:N_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof wo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof To)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Do)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Js)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw q(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:KU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:q(27497)})(t,e.precondition)),n}function ZU(t,e){return t&&t.length>0?(Ce(e!==void 0,14353),t.map(n=>(function(i,o){let s=i.updateTime?ur(i.updateTime):ur(o);return s.isEqual(te.min())&&(s=ur(o)),new __(s,i.transformResults||[])})(n,e))):[]}function XU(t,e){return{documents:[UR(t,e.path)]}}function eB(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UR(t,i);let o=(function(l){if(l.length!==0)return $R(jn.create(l,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(f=>(function(m){return{field:Ls(m.field),direction:rB(m.dir)}})(f))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=A_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{ft:n,parent:i}}function tB(t){let e=QU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ce(r===1,65062);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=(function(p){let m=HR(p);return m instanceof jn&&_R(m)?m.getFilters():[m]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map(m=>(function(S){return new Io(Fs(S.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(m))})(n.orderBy));let a=null;n.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,yh(m)?null:m})(n.limit));let u=null;n.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new Qs(y,m)})(n.startAt));let l=null;return n.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new Qs(y,m)})(n.endAt)),bU(e,i,s,o,a,"F",u,l)}function nB(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Fs(n.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Fs(n.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Fs(n.unaryFilter.field);return Qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Fs(n.unaryFilter.field);return Qe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return q(61313);default:return q(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Qe.create(Fs(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return q(58110);default:return q(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return jn.create(n.compositeFilter.filters.map(r=>HR(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q(1026)}})(n.compositeFilter.op))})(t):q(30097,{filter:t})}function rB(t){return qU[t]}function iB(t){return GU[t]}function oB(t){return WU[t]}function Ls(t){return{fieldPath:t.canonicalString()}}function Fs(t){return rn.fromServerFormat(t.fieldPath)}function $R(t){return t instanceof Qe?(function(n){if(n.op==="=="){if(gA(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NAN"}};if(pA(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gA(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NAN"}};if(pA(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ls(n.field),op:iB(n.op),value:n.value}}})(t):t instanceof jn?(function(n){let r=n.getFilters().map(i=>$R(i));return r.length===1?r[0]:{compositeFilter:{op:oB(n.op),filters:r}}})(t):q(54877,{filter:t})}function sB(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var du=class t{constructor(e,n,r,i,o=te.min(),s=te.min(),a=Ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var x_=class{constructor(e){this.yt=e}};function aB(t){let e=tB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?y_(e,e.limit,"L"):e}var Xf=class{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Fe(e.integerValue));else if("doubleValue"in e){let r=Fe(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),su(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Ar(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Rr(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?mR(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):gR(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):q(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){let r=e.fields||{};this.Ft(n,55);for(let i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){let r=e.fields||{};this.Ft(n,53);let i=Gs,o=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(Fe(o)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){let r=e.values||[];this.Ft(n,50);for(let i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),B.fromName(e).path.forEach(r=>{this.Ft(n,60),this.Ut(r,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}};Xf.Kt=new Xf;var P_=class{constructor(){this.Cn=new O_}addToCollectionParentIndex(e,n){return this.Cn.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(Eo.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(Eo.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},O_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ft(Ve.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ft(Ve.comparator)).toArray()}};var Oee=new Uint8Array(0);var AA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qR=41943040,yn=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(qR,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);var fu=class t{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new t(0)}static cr(){return new t(-1)}};var RA="LruGarbageCollector",cB=1048576;function NA([t,e],[n,r]){let i=pe(t,n);return i===0?pe(e,r):i}var k_=class{constructor(e){this.Ir=e,this.buffer=new ft(NA),this.Er=0}dr(){return++this.Er}Ar(e){let n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();NA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},L_=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){V(RA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ia(n)?V(RA,"Ignoring IndexedDB error during garbage collection: ",n):await ra(n)}await this.Vr(3e5)})}},F_=class{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return x.resolve(FE.ce);let r=new k_(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(V("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(AA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(V("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AA):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(V("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Os()<=fe.DEBUG&&V("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function uB(t,e){return new F_(t,e)}var V_=class{constructor(){this.changes=new Nr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var j_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var U_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&nu(r.mutation,i,or.empty(),Je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){let i=yo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Zc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=yo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Mr(),s=tu(),a=(function(){return tu()})();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof xr)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),nu(f.mutation,l,f.mutation.getFieldMask(),Je.now())):s.set(l.key,or.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>a.set(l,new j_(f,s.get(l)??null))),a))}recalculateAndSaveOverlays(e,n){let r=tu(),i=new He((s,a)=>s-a),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||or.empty();f=a.applyToLocalView(l,f),r.set(u,f);let p=(i.get(a.batchId)||ge()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,f=u.value,p=RR();f.forEach(m=>{if(!o.has(m)){let y=kR(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return B.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):DR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):x.resolve(yo()),a=ou,u=o;return s.next(l=>x.forEach(l,(f,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(f)?x.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ge())).next(f=>({batchId:a,changes:AR(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new B(n)).next(r=>{let i=Zc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Zc();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,u=>{let l=(function(p,m){return new _i(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,Vn.newInvalidDocument(f)))});let a=Zc();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&nu(f.mutation,l,or.empty(),Je.now()),Eh(n,l)&&(a=a.insert(u,l))}),a})}};var B_=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return x.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:ur(i.createTime)}})(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:aB(i.bundledQuery),readTime:ur(i.readTime)}})(n)),x.resolve()}};var H_=class{constructor(){this.overlays=new He(B.comparator),this.qr=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=yo();return x.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=yo(),o=n.length+1,s=new B(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new He((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=yo(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let a=yo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>a.set(l,f)),!(a.size()>=i)););return x.resolve(a)}St(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new T_(n,r));let o=this.qr.get(n);o===void 0&&(o=ge(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}};var $_=class{constructor(){this.sessionToken=Ct.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var hu=class{constructor(){this.Qr=new ft(Ke.$r),this.Ur=new ft(Ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){let r=new Ke(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ke(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){let n=new B(new Ve([])),r=new Ke(n,e),i=new Ke(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let n=new B(new Ve([])),r=new Ke(n,e),i=new Ke(n,e+1),o=ge();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ke(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ke=class{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return B.comparator(e.key,n.key)||pe(e.Yr,n.Yr)}static Kr(e,n){return pe(e.Yr,n.Yr)||B.comparator(e.key,n.key)}};var z_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ft(Ke.$r)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new I_(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Zr=this.Zr.add(new Ke(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,n){return x.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.ei(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?VE:this.tr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ke(n,0),i=new Ke(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{let a=this.Xr(s.Yr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ft(pe);return n.forEach(i=>{let o=new Ke(i,0),s=new Ke(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),x.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;B.isDocumentKey(o)||(o=o.child(""));let s=new Ke(new B(o),0),a=new ft(pe);return this.Zr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Yr)),!0)},s),x.resolve(this.ti(a))}ti(e){let n=[];return e.forEach(r=>{let i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return x.forEach(n.mutations,i=>{let o=new Ke(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){let r=new Ke(n,0),i=this.Zr.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var q_=class{constructor(e){this.ri=e,this.docs=(function(){return new He(B.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Vn.newInvalidDocument(n))}getEntries(e,n){let r=Mr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Vn.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Mr(),s=n.path,a=new B(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||aU(sU(f),r)<=0||(i.has(f.key)||Eh(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,n,r,i){q(9500)}ii(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new G_(this)}getSize(e){return x.resolve(this.size)}},G_=class extends V_{constructor(e){super(),this.Nr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}};var W_=class{constructor(e){this.persistence=e,this.si=new Nr(n=>$E(n),zE),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.oi=0,this._i=new hu,this.targetCount=0,this.ai=fu.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),x.resolve()}Pr(e){this.si.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ai=new fu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Pr(n),x.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.si.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this._i.Hr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this._i.containsKey(n))}};var eh=class{constructor(e,n){this.ui={},this.overlays={},this.ci=new FE(0),this.li=!1,this.li=!0,this.hi=new $_,this.referenceDelegate=e(this),this.Pi=new W_(this),this.indexManager=new P_,this.remoteDocumentCache=(function(i){return new q_(i)})(r=>this.referenceDelegate.Ti(r)),this.serializer=new x_(n),this.Ii=new B_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new H_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new z_(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new K_(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return x.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}},K_=class extends n_{constructor(e){super(),this.currentSequenceNumber=e}},Q_=class t{constructor(e){this.persistence=e,this.Ri=new hu,this.Vi=null}static mi(e){return new t(e)}get fi(){if(this.Vi)return this.Vi;throw q(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),x.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.fi,r=>{let i=B.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,te.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return x.or([()=>x.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}},th=class t{constructor(e,n){this.persistence=e,this.pi=new Nr(r=>dU(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=uB(this,n)}static mi(e,n){return new t(e,n)}Ei(){}di(e){return x.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){let n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return x.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?x.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,te.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),x.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),x.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ff(e.data.value)),n}br(e,n,r){return x.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.pi.get(n);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Y_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ge(),i=ge();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var J_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Z_=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return L0()?8:uU(lt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new J_;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Os()<=fe.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),x.resolve()):(Os()<=fe.DEBUG&&V("QueryEngine","Query:",ks(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Os()<=fe.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cr(n))):x.resolve())}ys(e,n){if(_A(n))return x.resolve(null);let r=cr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=y_(n,null,"F"),r=cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ge(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.Ds(n,a);return this.Cs(n,l,s,u.readTime)?this.ys(e,y_(n,null,"F")):this.vs(e,l,n,u)}))})))}ws(e,n,r,i){return _A(n)||i.isEqual(te.min())?x.resolve(null):this.ps.getDocuments(e,r).next(o=>{let s=this.Ds(n,o);return this.Cs(n,s,r,i)?x.resolve(null):(Os()<=fe.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ks(n)),this.vs(e,s,n,oU(i,ou)).next(a=>a))})}Ds(e,n){let r=new ft(bR(e));return n.forEach((i,o)=>{Eh(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Os()<=fe.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",ks(n)),this.ps.getDocumentsMatchingQuery(e,n,Eo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var WE="LocalStore",lB=3e8,X_=class{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new He(pe),this.xs=new Nr(o=>$E(o),zE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U_(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}};function dB(t,e,n,r){return new X_(t,e,n,r)}async function GR(t,e){let n=X(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ge();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){a.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Ls:l,removedBatchIds:s,addedBatchIds:a}))})})}function fB(t,e){let n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,f){let p=l.batch,m=p.keys(),y=x.resolve();return m.forEach(S=>{y=y.next(()=>f.getEntry(u,S)).next(A=>{let R=l.docVersions.get(S);Ce(R!==null,48541),A.version.compareTo(R)<0&&(p.applyToRemoteDocument(A,l),A.isValidDocument()&&(A.setReadTime(l.commitVersion),f.addEntry(A)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=ge();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function WR(t){let e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function hB(t,e){let n=X(t),r=e.snapshotVersion,i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;let a=[];e.targetChanges.forEach((f,p)=>{let m=i.get(p);if(!m)return;a.push(n.Pi.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(o,f.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Ct.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(p,y),(function(A,R,L){return A.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=lB?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(m,y,f)&&a.push(n.Pi.updateTargetData(o,y))});let u=Mr(),l=ge();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push(pB(o,s,e.documentUpdates).next(f=>{u=f.ks,l=f.qs})),!r.isEqual(te.min())){let f=n.Pi.getLastRemoteSnapshotVersion(o).next(p=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(f)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Ms=i,o))}function pB(t,e,n){let r=ge(),i=ge();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Mr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):V(WE,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{ks:s,qs:i}})}function gB(t,e){let n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=VE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mB(t,e){let n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new du(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function eE(t,e,n){let r=X(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ia(s))throw s;V(WE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function MA(t,e,n){let r=X(t),i=te.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,f){let p=X(u),m=p.xs.get(f);return m!==void 0?x.resolve(p.Ms.get(m)):p.Pi.getTargetData(l,f)})(r,s,cr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:te.min(),n?o:ge())).next(a=>(yB(r,AU(e),a),{documents:a,Qs:o})))}function yB(t,e,n){let r=t.Os.get(e)||te.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}var nh=class{constructor(){this.activeTargetIds=OU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var tE=class{constructor(){this.Mo=new nh,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new nh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var nE=class{Oo(e){}shutdown(){}};var xA="ConnectivityMonitor",rh=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){V(xA,"Network connectivity changed: AVAILABLE");for(let e of this.qo)e(0)}ko(){V(xA,"Network connectivity changed: UNAVAILABLE");for(let e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Lf=null;function rE(){return Lf===null?Lf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lf++,"0x"+Lf.toString(16)}var qv="RestConnection",vB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},iE=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===qf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){let s=rE(),a=this.zo(e,n.toUriEncodedString());V(qv,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,o);let{host:l}=new URL(a),f=ci(l);return this.Jo(e,a,u,r,f).then(p=>(V(qv,`Received RPC '${e}' ${s}: `,p),p),p=>{throw zs(qv,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+na})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){let r=vB[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}};var oE=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}};var Dt="WebChannelConnection",sE=class extends iE{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){let s=rE();return new Promise((a,u)=>{let l=new Vv;l.setWithCredentials(!0),l.listenOnce(jv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Jc.NO_ERROR:let p=l.getResponseJson();V(Dt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Jc.TIMEOUT:V(Dt,`RPC '${e}' ${s} timed out`),u(new F(N.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:let m=l.getStatus();if(V(Dt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let S=y?.error;if(S&&S.status&&S.message){let A=(function(L){let ne=L.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(ne)>=0?ne:N.UNKNOWN})(S.status);u(new F(A,S.message))}else u(new F(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new F(N.UNAVAILABLE,"Connection failed."));break;default:q(9055,{l_:e,streamId:s,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{V(Dt,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);V(Dt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",f,r,15)})}T_(e,n,r){let i=rE(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Hv(),a=Bv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");V(Dt,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u);this.I_(p);let m=!1,y=!1,S=new oE({Yo:R=>{y?V(Dt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(V(Dt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),V(Dt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Zo:()=>p.close()}),A=(R,L,ne)=>{R.listen(L,he=>{try{ne(he)}catch(bt){setTimeout(()=>{throw bt},0)}})};return A(p,Ps.EventType.OPEN,()=>{y||(V(Dt,`RPC '${e}' stream ${i} transport opened.`),S.o_())}),A(p,Ps.EventType.CLOSE,()=>{y||(y=!0,V(Dt,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(p))}),A(p,Ps.EventType.ERROR,R=>{y||(y=!0,zs(Dt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),S.a_(new F(N.UNAVAILABLE,"The operation could not be completed")))}),A(p,Ps.EventType.MESSAGE,R=>{if(!y){let L=R.data[0];Ce(!!L,16349);let ne=L,he=ne?.error||ne[0]?.error;if(he){V(Dt,`RPC '${e}' stream ${i} received error:`,he);let bt=he.status,Ft=(function(v){let E=We[v];if(E!==void 0)return FR(E)})(bt),it=he.message;Ft===void 0&&(Ft=N.INTERNAL,it="Unknown error status: "+bt+" with message "+he.message),y=!0,S.a_(new F(Ft,it)),p.close()}else V(Dt,`RPC '${e}' stream ${i} received:`,L),S.u_(L)}}),A(a,Uv.STAT_EVENT,R=>{R.stat===Pf.PROXY?V(Dt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Pf.NOPROXY&&V(Dt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}};function Gv(){return typeof document<"u"?document:null}function Ih(t){return new S_(t,!0)}var ih=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};var PA="PersistentStream",oh=class{constructor(e,n,r,i,o,s,a,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ih(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Sr(n.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{let i=new F(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){let r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return V(PA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(V(PA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},aE=class extends oh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let n=YU(this.serializer,e),r=(function(o){if(!("targetChange"in o))return te.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?ur(s.readTime):te.min()})(e);return this.listener.H_(n,r)}Y_(e){let n={};n.database=M_(this.serializer),n.addTarget=(function(o,s){let a,u=s.target;if(a=g_(u)?{documents:XU(o,u)}:{query:eB(o,u).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=VR(o,s.resumeToken);let l=A_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(te.min())>0){a.readTime=Zf(o,s.snapshotVersion.toTimestamp());let l=A_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=nB(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){let n={};n.database=M_(this.serializer),n.removeTarget=e,this.q_(n)}},cE=class extends oh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ce(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ce(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let n=ZU(e.writeResults,e.commitTime),r=ur(e.commitTime);return this.listener.na(r,n)}ra(){let e={};e.database=M_(this.serializer),this.q_(e)}ea(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>JU(this.serializer,r))};this.q_(n)}};var uE=class{},lE=class extends uE{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new F(N.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,R_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(N.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,R_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(N.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}},dE=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Sr(n),this.aa=!1):V("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var bo="RemoteStore",fE=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Ro(this)&&(V(bo,"Restarting streams for network reachability change."),await(async function(u){let l=X(u);l.Ea.add(4),await vu(l),l.Ra.set("Unknown"),l.Ea.delete(4),await wh(l)})(this))})}),this.Ra=new dE(r,i)}};async function wh(t){if(Ro(t))for(let e of t.da)await e(!0)}async function vu(t){for(let e of t.da)await e(!1)}function KR(t,e){let n=X(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),JE(n)?YE(n):oa(n).O_()&&QE(n,e))}function KE(t,e){let n=X(t),r=oa(n);n.Ia.delete(e),r.O_()&&QR(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ro(n)&&n.Ra.set("Unknown"))}function QE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oa(t).Y_(e)}function QR(t,e){t.Va.Ue(e),oa(t).Z_(e)}function YE(t){t.Va=new b_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),oa(t).start(),t.Ra.ua()}function JE(t){return Ro(t)&&!oa(t).x_()&&t.Ia.size>0}function Ro(t){return X(t).Ea.size===0}function YR(t){t.Va=void 0}async function _B(t){t.Ra.set("Online")}async function EB(t){t.Ia.forEach((e,n)=>{QE(t,e)})}async function IB(t,e){YR(t),JE(t)?(t.Ra.ha(e),YE(t)):t.Ra.set("Unknown")}async function wB(t,e,n){if(t.Ra.set("Online"),e instanceof Yf&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))})(t,e)}catch(r){V(bo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sh(t,r)}else if(e instanceof Us?t.Va.Ze(e):e instanceof Qf?t.Va.st(e):t.Va.tt(e),!n.isEqual(te.min()))try{let r=await WR(t.localStore);n.compareTo(r)>=0&&await(function(o,s){let a=o.Va.Tt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.Ia.get(l);f&&o.Ia.set(l,f.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let f=o.Ia.get(u);if(!f)return;o.Ia.set(u,f.withResumeToken(Ct.EMPTY_BYTE_STRING,f.snapshotVersion)),QR(o,u);let p=new du(f.target,u,l,f.sequenceNumber);QE(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){V(bo,"Failed to raise snapshot:",r),await sh(t,r)}}async function sh(t,e,n){if(!ia(e))throw e;t.Ea.add(1),await vu(t),t.Ra.set("Offline"),n||(n=()=>WR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{V(bo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await wh(t)})}function JR(t,e){return e().catch(n=>sh(t,n,e))}async function Th(t){let e=X(t),n=Ei(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:VE;for(;TB(e);)try{let i=await gB(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,DB(e,i)}catch(i){await sh(e,i)}ZR(e)&&XR(e)}function TB(t){return Ro(t)&&t.Ta.length<10}function DB(t,e){t.Ta.push(e);let n=Ei(t);n.O_()&&n.X_&&n.ea(e.mutations)}function ZR(t){return Ro(t)&&!Ei(t).x_()&&t.Ta.length>0}function XR(t){Ei(t).start()}async function CB(t){Ei(t).ra()}async function bB(t){let e=Ei(t);for(let n of t.Ta)e.ea(n.mutations)}async function SB(t,e,n){let r=t.Ta.shift(),i=w_.from(r,e,n);await JR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Th(t)}async function AB(t,e){e&&Ei(t).X_&&await(async function(r,i){if((function(s){return BU(s)&&s!==N.ABORTED})(i.code)){let o=r.Ta.shift();Ei(r).B_(),await JR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Th(r)}})(t,e),ZR(t)&&XR(t)}async function OA(t,e){let n=X(t);n.asyncQueue.verifyOperationInProgress(),V(bo,"RemoteStore received new credentials");let r=Ro(n);n.Ea.add(3),await vu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wh(n)}async function RB(t,e){let n=X(t);e?(n.Ea.delete(2),await wh(n)):e||(n.Ea.add(2),await vu(n),n.Ra.set("Unknown"))}function oa(t){return t.ma||(t.ma=(function(n,r,i){let o=X(n);return o.sa(),new aE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:_B.bind(null,t),t_:EB.bind(null,t),r_:IB.bind(null,t),H_:wB.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),JE(t)?YE(t):t.Ra.set("Unknown")):(await t.ma.stop(),YR(t))})),t.ma}function Ei(t){return t.fa||(t.fa=(function(n,r,i){let o=X(n);return o.sa(),new cE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:CB.bind(null,t),r_:AB.bind(null,t),ta:bB.bind(null,t),na:SB.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Th(t)):(await t.fa.stop(),t.Ta.length>0&&(V(bo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}var hE=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ZE(t,e){if(Sr("AsyncQueue",`${e}: ${t}`),ia(t))return new F(N.UNAVAILABLE,`${e}: ${t}`);throw t}var ah=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||B.comparator(n.key,r.key):(n,r)=>B.comparator(n.key,r.key),this.keyedMap=Zc(),this.sortedSet=new He(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var ch=class{constructor(){this.ga=new He(B.comparator)}track(e){let n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):q(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){let e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}},Xs=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,ah.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var pE=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}},gE=class{constructor(){this.queries=kA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){let i=X(n),o=i.queries;i.queries=kA(),o.forEach((s,a)=>{for(let u of a.Sa)u.onError(r)})})(this,new F(N.ABORTED,"Firestore shutting down"))}};function kA(){return new Nr(t=>CR(t),_h)}async function NB(t,e){let n=X(t),r=3,i=e.query,o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new pE,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){let a=ZE(s,`Initialization of query '${ks(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&XE(n)}async function MB(t,e){let n=X(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xB(t,e){let n=X(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&XE(n)}function PB(t,e,n){let r=X(t),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(n);r.queries.delete(e)}function XE(t){t.Ca.forEach(e=>{e.next()})}var mE,LA;(LA=mE||(mE={})).Ma="default",LA.Cache="cache";var yE=class{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Xs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;let r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mE.Cache}};var uh=class{constructor(e){this.key=e}},lh=class{constructor(e){this.key=e}},vE=class{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ge(),this.mutatedKeys=ge(),this.eu=bR(e),this.tu=new ah(this.eu)}get nu(){return this.Ya}ru(e,n){let r=n?n.iu:new ch,i=n?n.tu:this.tu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let m=i.get(f),y=Eh(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?S!==A&&(r.track({type:3,doc:y}),R=!0):this.su(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.eu(y,u)>0||l&&this.eu(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=A?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let s=e.iu.ya();s.sort((f,p)=>(function(y,S){let A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q(20277,{Rt:R})}};return A(y)-A(S)})(f.type,p.type)||this.eu(f.doc,p.doc)),this.ou(r),i=i??!1;let a=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,l=u!==this.Za;return this.Za=u,s.length!==0||l?{snapshot:new Xs(this.query,e.tu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ch,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=ge(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});let n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new lh(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new uh(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ge();let n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Xs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},eI="SyncEngine",_E=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},EE=class{constructor(e){this.key=e,this.hu=!1}},IE=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Nr(a=>CR(a),_h),this.Iu=new Map,this.Eu=new Set,this.du=new He(B.comparator),this.Au=new Map,this.Ru=new hu,this.Vu={},this.mu=new Map,this.fu=fu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function OB(t,e,n=!0){let r=oN(t),i,o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await eN(r,e,n,!0),i}async function kB(t,e){let n=oN(t);await eN(n,e,!0,!1)}async function eN(t,e,n,r){let i=await mB(t.localStore,cr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=await LB(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&KR(t.remoteStore,i),a}async function LB(t,e,n,r,i){t.pu=(p,m,y)=>(async function(A,R,L,ne){let he=R.view.ru(L);he.Cs&&(he=await MA(A.localStore,R.query,!1).then(({documents:w})=>R.view.ru(w,he)));let bt=ne&&ne.targetChanges.get(R.targetId),Ft=ne&&ne.targetMismatches.get(R.targetId)!=null,it=R.view.applyChanges(he,A.isPrimaryClient,bt,Ft);return VA(A,R.targetId,it.au),it.snapshot})(t,p,m,y);let o=await MA(t.localStore,e,!0),s=new vE(e,o.Qs),a=s.ru(o.documents),u=lu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);VA(t,n,l.au);let f=new _E(e,n,s);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),l.snapshot}async function FB(t,e,n){let r=X(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!_h(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await eE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&KE(r.remoteStore,i.targetId),wE(r,i.targetId)}).catch(ra)):(wE(r,i.targetId),await eE(r.localStore,i.targetId,!0))}async function VB(t,e){let n=X(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),KE(n.remoteStore,r.targetId))}async function jB(t,e,n){let r=GB(t);try{let i=await(function(s,a){let u=X(s),l=Je.now(),f=a.reduce((y,S)=>y.add(S.key),ge()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=Mr(),A=ge();return u.Ns.getEntries(y,f).next(R=>{S=R,S.forEach((L,ne)=>{ne.isValidDocument()||(A=A.add(L))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,S)).next(R=>{p=R;let L=[];for(let ne of a){let he=UU(ne,p.get(ne.key).overlayedDocument);he!=null&&L.push(new xr(ne.key,he,yR(he.value.mapValue),hi.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,L,a)}).next(R=>{m=R;let L=R.applyToLocalDocumentSet(p,A);return u.documentOverlayCache.saveOverlays(y,R.batchId,L)})}).then(()=>({batchId:m.batchId,changes:AR(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Vu[s.currentUser.toKey()];l||(l=new He(pe)),l=l.insert(a,u),s.Vu[s.currentUser.toKey()]=l})(r,i.batchId,n),await _u(r,i.changes),await Th(r.remoteStore)}catch(i){let o=ZE(i,"Failed to persist write");n.reject(o)}}async function tN(t,e){let n=X(t);try{let r=await hB(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Au.get(o);s&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Ce(s.hu,14607):i.removedDocuments.size>0&&(Ce(s.hu,42227),s.hu=!1))}),await _u(n,r,e)}catch(r){await ra(r)}}function FA(t,e,n){let r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Tu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=X(s);u.onlineState=a;let l=!1;u.queries.forEach((f,p)=>{for(let m of p.Sa)m.va(a)&&(l=!0)}),l&&XE(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UB(t,e,n){let r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Au.get(e),o=i&&i.key;if(o){let s=new He(B.comparator);s=s.insert(o,Vn.newNoDocument(o,te.min()));let a=ge().add(o),u=new Kf(te.min(),new Map,new He(pe),s,a);await tN(r,u),r.du=r.du.remove(o),r.Au.delete(e),tI(r)}else await eE(r.localStore,e,!1).then(()=>wE(r,e,n)).catch(ra)}async function BB(t,e){let n=X(t),r=e.batch.batchId;try{let i=await fB(n.localStore,e);rN(n,r,null),nN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _u(n,i)}catch(i){await ra(i)}}async function HB(t,e,n){let r=X(t);try{let i=await(function(s,a){let u=X(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ce(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})})(r.localStore,e);rN(r,e,n),nN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _u(r,i)}catch(i){await ra(i)}}function nN(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function rN(t,e,n){let r=X(t),i=r.Vu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function wE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||iN(t,r)})}function iN(t,e){t.Eu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(KE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),tI(t))}function VA(t,e,n){for(let r of n)r instanceof uh?(t.Ru.addReference(r.key,e),$B(t,r)):r instanceof lh?(V(eI,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||iN(t,r.key)):q(19791,{wu:r})}function $B(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(V(eI,"New document in limbo: "+n),t.Eu.add(r),tI(t))}function tI(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Eu.values().next().value;t.Eu.delete(e);let n=new B(Ve.fromString(e)),r=t.fu.next();t.Au.set(r,new EE(n)),t.du=t.du.insert(n,r),KR(t.remoteStore,new du(cr(TR(n.path)),r,"TargetPurposeLimboResolution",FE.ce))}}async function _u(t,e,n){let r=X(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{s.push(r.pu(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient){let f=l?!l.fromCache:n?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(l){i.push(l);let f=Y_.As(u.targetId,l);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await(async function(u,l){let f=X(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.Es,y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>x.forEach(m.ds,y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!ia(p))throw p;V(WE,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=f.Ms.get(m),S=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(S);f.Ms=f.Ms.insert(m,A)}}})(r.localStore,o))}async function zB(t,e){let n=X(t);if(!n.currentUser.isEqual(e)){V(eI,"User change. New user:",e.toKey());let r=await GR(n.localStore,e);n.currentUser=e,(function(o,s){o.mu.forEach(a=>{a.forEach(u=>{u.reject(new F(N.CANCELLED,s))})}),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _u(n,r.Ls)}}function qB(t,e){let n=X(t),r=n.Au.get(e);if(r&&r.hu)return ge().add(r.key);{let i=ge(),o=n.Iu.get(e);if(!o)return i;for(let s of o){let a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function oN(t){let e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UB.bind(null,e),e.Pu.H_=xB.bind(null,e.eventManager),e.Pu.yu=PB.bind(null,e.eventManager),e}function GB(t){let e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HB.bind(null,e),e}var sN=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=Ih(n.databaseInfo.databaseId),this.sharedClientState=this.Du(n),this.persistence=this.Cu(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Fu(n,this.localStore),this.indexBackfillerScheduler=this.Mu(n,this.localStore)}Fu(n,r){return null}Mu(n,r){return null}vu(n){return dB(this.persistence,new Z_,n.initialUser,this.serializer)}Cu(n){return new eh(Q_.mi,this.serializer)}Du(n){return new tE}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return t.provider={build:()=>new t},t})(),TE=class extends sN{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ce(this.persistence.referenceDelegate instanceof th,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new L_(r,e.asyncQueue,n)}Cu(e){let n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new eh(r=>th.mi(r,n),this.serializer)}};var WB=(()=>{class t{async initialize(n,r){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>FA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=zB.bind(null,this.syncEngine),await RB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new gE})()}createDatastore(n){let r=Ih(n.databaseInfo.databaseId),i=(function(s){return new sE(s)})(n.databaseInfo);return(function(s,a,u,l){return new lE(s,a,u,l)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,a,u){return new fE(i,o,s,a,u)})(this.localStore,this.datastore,n.asyncQueue,r=>FA(this.syncEngine,r,0),(function(){return rh.v()?new rh:new nE})())}createSyncEngine(n,r){return(function(o,s,a,u,l,f,p){let m=new IE(o,s,a,u,l,f);return p&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){let i=X(r);V(bo,"RemoteStore shutting down."),i.Ea.add(5),await vu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}return t.provider={build:()=>new t},t})();var DE=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Ii="FirestoreClient",CE=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=dt.UNAUTHENTICATED,this.clientId=ru.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{V(Ii,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(V(Ii,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=ZE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function Wv(t,e){t.asyncQueue.verifyOperationInProgress(),V(Ii,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await GR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function jA(t,e){t.asyncQueue.verifyOperationInProgress();let n=await KB(t);V(Ii,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>OA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>OA(e.remoteStore,i)),t._onlineComponents=e}async function KB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V(Ii,"Using user provided OfflineComponentProvider");try{await Wv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;zs("Error using user provided cache. Falling back to memory cache: "+n),await Wv(t,new sN)}}else V(Ii,"Using default OfflineComponentProvider"),await Wv(t,new TE(void 0));return t._offlineComponents}async function aN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(V(Ii,"Using user provided OnlineComponentProvider"),await jA(t,t._uninitializedComponentsProvider._online)):(V(Ii,"Using default OnlineComponentProvider"),await jA(t,new WB))),t._onlineComponents}function QB(t){return aN(t).then(e=>e.syncEngine)}async function YB(t){let e=await aN(t),n=e.eventManager;return n.onListen=OB.bind(null,e.syncEngine),n.onUnlisten=FB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=kB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VB.bind(null,e.syncEngine),n}function JB(t,e,n={}){let r=new sr;return t.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,u,l){let f=new DE({next:m=>{f.Nu(),s.enqueueAndForget(()=>MB(o,p)),m.fromCache&&u.source==="server"?l.reject(new F(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new yE(a,f,{includeMetadataChanges:!0,qa:!0});return NB(o,p)})(await YB(t),t.asyncQueue,e,n,r)),r.promise}function cN(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var UA=new Map;var uN="firestore.googleapis.com",BA=!0,dh=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new F(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uN,this.ssl=BA}else this.host=e.host,this.ssl=e.ssl??BA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cB)throw new F(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cN(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new F(N.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new F(N.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new F(N.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ea=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new F(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Kv;switch(r.type){case"firstParty":return new Zv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=UA.get(n);r&&(V("ComponentProvider","Removing Datastore"),UA.delete(n),r.terminate())})(this),Promise.resolve()}};function ZB(t,e,n,r={}){t=iu(t,ea);let i=ci(e),o=t._getSettings(),s=re(M({},o),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i&&(bf(`https://${a}`),Sf("Firestore",!0)),o.host!==uN&&o.host!==a&&zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=re(M({},o),{host:a,ssl:i,emulatorOptions:r});if(!rr(u,s)&&(t._setSettings(u),r.mockUserToken)){let l,f;if(typeof r.mockUserToken=="string")l=r.mockUserToken,f=dt.MOCK_USER;else{l=N0(r.mockUserToken,t._app?.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new F(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new dt(p)}t._authCredentials=new Qv(new Uf(l,f))}}var So=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Lt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(yu(n,t._jsonSchema))return new t(e,r||null,new B(Ve.fromString(n.referencePath)))}};Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Ye("string",Lt._jsonSchemaVersion),referencePath:Ye("string")};var pi=class t extends So{constructor(e,n,r){super(e,n,TR(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new B(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function nI(t,e,...n){if(t=Kt(t),WA("collection","path",e),t instanceof ea){let r=Ve.fromString(e,...n);return sA(r),new pi(t,null,r)}{if(!(t instanceof Lt||t instanceof pi))throw new F(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ve.fromString(e,...n));return sA(r),new pi(t.firestore,null,r)}}function rI(t,e,...n){if(t=Kt(t),arguments.length===1&&(e=ru.newId()),WA("doc","path",e),t instanceof ea){let r=Ve.fromString(e,...n);return oA(r),new Lt(t,null,new B(r))}{if(!(t instanceof Lt||t instanceof pi))throw new F(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ve.fromString(e,...n));return oA(r),new Lt(t.firestore,t instanceof pi?t.converter:null,new B(r))}}var HA="AsyncQueue",fh=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ih(this,"async_queue_retry"),this._c=()=>{let r=Gv();r&&V(HA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let n=Gv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let n=Gv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let n=new sr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ia(e))throw e;V(HA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Sr("INTERNAL UNHANDLED ERROR: ",$A(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);let i=hE.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&q(47125,{Pc:$A(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){let n=this.tc.indexOf(e);this.tc.splice(n,1)}};function $A(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var ta=class extends ea{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new fh,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new fh(e),this._firestoreClient=void 0,await e}}};function lN(t,e){let n=typeof t=="object"?t:Mf(),r=typeof t=="string"?t:e||qf,i=Yc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=R0("firestore");o&&ZB(i,...o)}return i}function dN(t){if(t._terminated)throw new F(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||XB(t),t._firestoreClient}function XB(t){let e=t._freezeSettings(),n=(function(i,o,s,a){return new r_(i,o,s,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,cN(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new CE(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){let o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(t._componentsProvider))}var gi=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Ct.fromBase64String(e))}catch(n){throw new F(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yu(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};gi._jsonSchemaVersion="firestore/bytes/1.0",gi._jsonSchema={type:Ye("string",gi._jsonSchemaVersion),bytes:Ye("string")};var pu=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var gu=class{constructor(e){this._methodName=e}};var mi=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(yu(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};mi._jsonSchemaVersion="firestore/geoPoint/1.0",mi._jsonSchema={type:Ye("string",mi._jsonSchemaVersion),latitude:Ye("number"),longitude:Ye("number")};var yi=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yu(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new F(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};yi._jsonSchemaVersion="firestore/vectorValue/1.0",yi._jsonSchema={type:Ye("string",yi._jsonSchemaVersion),vectorValues:Ye("object")};var eH=/^__.*__$/,bE=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Co(e,this.data,n,this.fieldTransforms)}};function fN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q(40011,{Ac:t})}}var SE=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new t(M(M({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){let n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(fN(this.Ac)&&eH.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}},AE=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ih(e)}Cc(e,n,r,i=!1){return new SE({Ac:e,methodName:n,Dc:r,path:rn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function hN(t){let e=t._freezeSettings(),n=Ih(t._databaseId);return new AE(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tH(t,e,n,r,i,o={}){let s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);mN("Data must be an object, but it was:",s,r);let a=pN(r,s),u,l;if(o.merge)u=new or(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let m=rH(e,p,n);if(!s.contains(m))throw new F(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);oH(f,m)||f.push(m)}u=new or(f),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new bE(new Fn(a),u,l)}var RE=class t extends gu{_toFieldTransform(e){return new v_(e.path,new wo)}isEqual(e){return e instanceof t}};function nH(t,e,n,r=!1){return iI(n,t.Cc(r?4:3,e))}function iI(t,e){if(gN(t=Kt(t)))return mN("Unsupported field value:",e,t),pN(t,e);if(t instanceof gu)return(function(r,i){if(!fN(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=iI(a,i.wc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Je.fromDate(r);return{timestampValue:Zf(i.serializer,o)}}if(r instanceof Je){let o=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zf(i.serializer,o)}}if(r instanceof mi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gi)return{bytesValue:VR(i.serializer,r._byteString)};if(r instanceof Lt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:GE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof yi)return(function(s,a){return{mapValue:{fields:{[UE]:{stringValue:BE},[Gs]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Sc("VectorValues must only contain numeric values.");return qE(a.serializer,l)})}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${mh(r)}`)})(t,e)}function pN(t,e){let n={};return uR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(t,(r,i)=>{let o=iI(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function gN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof mi||t instanceof gi||t instanceof Lt||t instanceof gu||t instanceof yi)}function mN(t,e,n){if(!gN(n)||!KA(n)){let r=mh(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function rH(t,e,n){if((e=Kt(e))instanceof pu)return e._internalPath;if(typeof e=="string")return yN(t,e);throw hh("Field path arguments must be of type string or ",t,!1,void 0,n)}var iH=new RegExp("[~\\*/\\[\\]]");function yN(t,e,n){if(e.search(iH)>=0)throw hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pu(...e.split("."))._internalPath}catch{throw hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new F(N.INVALID_ARGUMENT,a+t+u)}function oH(t,e){return t.some(n=>n.isEqual(e))}var ph=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new NE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(oI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},NE=class extends ph{data(){return super.data()}};function oI(t,e){return typeof e=="string"?yN(t,e):e instanceof pu?e._internalPath:e._delegate._internalPath}function sH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var mu=class{},gh=class extends mu{};function vN(t,e,...n){let r=[];e instanceof mu&&r.push(e),r=r.concat(n),(function(o){let s=o.filter(u=>u instanceof xE).length,a=o.filter(u=>u instanceof ME).length;if(s>1||s>0&&a>0)throw new F(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)t=i._apply(t);return t}var ME=class t extends gh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return EN(e._query,n),new So(e.firestore,e.converter,m_(e._query,n))}_parse(e){let n=hN(e.firestore);return(function(o,s,a,u,l,f,p){let m;if(l.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new F(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){qA(p,f);let S=[];for(let A of p)S.push(zA(u,o,A));m={arrayValue:{values:S}}}else m=zA(u,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||qA(p,f),m=nH(a,s,p,f==="in"||f==="not-in");return Qe.create(l,f,m)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var xE=class t extends mu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:jn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)EN(s,u),s=m_(s,u)})(e._query,n),new So(e.firestore,e.converter,m_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var PE=class t extends gh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=(function(i,o,s){if(i.startAt!==null)throw new F(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new F(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Io(o,s)})(e._query,this._field,this._direction);return new So(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new _i(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}};function _N(t,e="asc"){let n=e,r=oI("orderBy",t);return PE._create(r,n)}function zA(t,e,n){if(typeof(n=Kt(n))=="string"){if(n==="")throw new F(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DR(e)&&n.indexOf("/")!==-1)throw new F(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ve.fromString(n));if(!B.isDocumentKey(r))throw new F(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hA(t,new B(r))}if(n instanceof Lt)return hA(t,n._key);throw new F(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mh(n)}.`)}function qA(t,e){if(!Array.isArray(t)||t.length===0)throw new F(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function EN(t,e){let n=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new F(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var OE=class{convertValue(e,n="none"){switch(vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ao(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){let n=e.fields?.[Gs].arrayValue?.values?.map(r=>Fe(r.doubleValue));return new yi(n)}convertGeoPoint(e){return new mi(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=vh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(au(e));default:return null}}convertTimestamp(e){let n=Ar(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ve.fromString(e);Ce(zR(r),9688,{name:e});let i=new Gf(r.get(1),r.get(3)),o=new B(r.popFirst(5));return i.isEqual(n)||Sr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function aH(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var js=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Bs=class t extends ph{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Hs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(oI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new F(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bs._jsonSchema={type:Ye("string",Bs._jsonSchemaVersion),bundleSource:Ye("string","DocumentSnapshot"),bundleName:Ye("string"),bundle:Ye("string")};var Hs=class extends Bs{data(e={}){return super.data(e)}},$s=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new js(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hs(this._firestore,this._userDataWriter,r.key,r,new js(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Hs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new js(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Hs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new js(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),f=s.indexOf(a.doc.key)),{type:cH(a.type),doc:u,oldIndex:l,newIndex:f}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new F(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ru.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function cH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q(61501,{type:t})}}$s._jsonSchemaVersion="firestore/querySnapshot/1.0",$s._jsonSchema={type:Ye("string",$s._jsonSchemaVersion),bundleSource:Ye("string","QuerySnapshot"),bundleName:Ye("string"),bundle:Ye("string")};var kE=class extends OE{constructor(e){super(),this.firestore=e}convertBytes(e){return new gi(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}};function IN(t){t=iu(t,So);let e=iu(t.firestore,ta),n=dN(e),r=new kE(e);return sH(t._query),JB(n,t._query).then(i=>new $s(e,r,t,i))}function wN(t){return DN(iu(t.firestore,ta),[new uu(t._key,hi.none())])}function TN(t,e){let n=iu(t.firestore,ta),r=rI(t),i=aH(t.converter,e);return DN(n,[tH(hN(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,hi.exists(!1))]).then(()=>r)}function DN(t,e){return(function(r,i){let o=new sr;return r.asyncQueue.enqueueAndForget(async()=>jB(await QB(r),i,o)),o.promise})(dN(t),e)}function CN(){return new RE("serverTimestamp")}(function(e,n=!0){(function(i){na=i})(fi),di(new mn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ta(new Yv(r.getProvider("auth-internal")),new Xv(s,r.getProvider("app-check-internal")),(function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new F(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gf(l.options.projectId,f)})(s,i),s);return o=M({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ln(nA,rA,e),Ln(nA,rA,"esm2020")})();function UN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var BN=UN,HN=new Tr("auth","Firebase",UN());var Rh=new ui("@firebase/auth");function uH(t,...e){Rh.logLevel<=fe.WARN&&Rh.warn(`Auth (${fi}): ${t}`,...e)}function Ch(t,...e){Rh.logLevel<=fe.ERROR&&Rh.error(`Auth (${fi}): ${t}`,...e)}function Ci(t,...e){throw CI(t,...e)}function No(t,...e){return CI(t,...e)}function $N(t,e,n){let r=re(M({},BN()),{[e]:n});return new Tr("auth","Firebase",r).create(e,{appName:t.name})}function Di(t){return $N(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CI(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HN.create(t,...e)}function Y(t,e,...n){if(!t)throw CI(e,...n)}function Pr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ch(e),new Error(e)}function bi(t,e){t||Pr(e)}function uI(){return typeof self<"u"&&self.location?.href||""}function lH(){return bN()==="http:"||bN()==="https:"}function bN(){return typeof self<"u"&&self.location?.protocol||null}function dH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lH()||P0()||"connection"in navigator)?navigator.onLine:!0}function fH(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Mo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,bi(n>e,"Short delay should be less than long delay!"),this.isMobile=M0()||O0()}get(){return dH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function bI(t,e){bi(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Nh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var hH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var pH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gH=new Mo(3e4,6e4);function Bh(t,e){return t.tenantId&&!e.tenantId?re(M({},e),{tenantId:t.tenantId}):e}async function sa(t,e,n,r,i={}){return zN(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=Kc(M({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);let l=M({method:e,headers:u},o);return x0()||(l.referrerPolicy="no-referrer"),t.emulatorConfig&&ci(t.emulatorConfig.host)&&(l.credentials="include"),Nh.fetch()(await GN(t,t.config.apiHost,n,a),l)})}async function zN(t,e,n){t._canInitEmulator=!1;let r=M(M({},hH),e);try{let i=new lI(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw Dh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dh(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Dh(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Dh(t,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw $N(t,f,l);Ci(t,f)}}catch(i){if(i instanceof tn)throw i;Ci(t,"network-request-failed",{message:String(i)})}}async function qN(t,e,n,r,i={}){let o=await sa(t,e,n,r,i);return"mfaPendingCredential"in o&&Ci(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function GN(t,e,n,r){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?bI(t.config,i):`${t.config.apiScheme}://${i}`;return pH.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var lI=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(No(this.auth,"network-request-failed")),gH.get())})}};function Dh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=No(t,e,r);return i.customData._tokenResponse=n,i}async function mH(t,e){return sa(t,"POST","/v1/accounts:delete",e)}async function Mh(t,e){return sa(t,"POST","/v1/accounts:lookup",e)}function Eu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WN(t,e=!1){let n=Kt(t),r=await n.getIdToken(e),i=SI(r);Y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Eu(sI(i.auth_time)),issuedAtTime:Eu(sI(i.iat)),expirationTime:Eu(sI(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function sI(t){return Number(t)*1e3}function SI(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ch("JWT malformed, contained fewer than 3 sections"),null;try{let i=Df(n);return i?JSON.parse(i):(Ch("Failed to decode base64 JWT payload"),null)}catch(i){return Ch("Caught error parsing JWT payload as JSON",i?.toString()),null}}function SN(t){let e=SI(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function wu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof tn&&yH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function yH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var dI=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Tu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function xh(t){let e=t.auth,n=await t.getIdToken(),r=await wu(t,Mh(e,{idToken:n}));Y(r?.users.length,e,"internal-error");let i=r.users[0];t._notifyReloadListener(i);let o=i.providerUserInfo?.length?QN(i.providerUserInfo):[],s=vH(t.providerData,o),a=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!s?.length,l=a?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Tu(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(t,f)}async function KN(t){let e=Kt(t);await xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vH(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function QN(t){return t.map(r=>{var i=r,{providerId:e}=i,n=Cp(i,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}async function _H(t,e){let n=await zN(t,{},async()=>{let r=Kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await GN(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return t.emulatorConfig&&ci(t.emulatorConfig.host)&&(u.credentials="include"),Nh.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EH(t,e){return sa(t,"POST","/v2/accounts:revokeToken",Bh(t,e))}var Iu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");let n=SN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await _H(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Y(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Y(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Pr("not implemented")}};function wi(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ti=class t{constructor(o){var s=o,{uid:e,auth:n,stsTokenManager:r}=s,i=Cp(s,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Tu(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let n=await wu(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return WN(this,e)}reload(){return KN(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>M({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(re(M({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await xh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(nn(this.auth.app))return Promise.reject(Di(this.auth));let e=await this.getIdToken();return await wu(this,mH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return re(M({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>M({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){let r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,u=n._redirectEventId??void 0,l=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:y,providerData:S,stsTokenManager:A}=n;Y(p&&A,e,"internal-error");let R=Iu.fromJSON(this.name,A);Y(typeof p=="string",e,"internal-error"),wi(r,e.name),wi(i,e.name),Y(typeof m=="boolean",e,"internal-error"),Y(typeof y=="boolean",e,"internal-error"),wi(o,e.name),wi(s,e.name),wi(a,e.name),wi(u,e.name),wi(l,e.name),wi(f,e.name);let L=new t({uid:p,auth:e,email:i,emailVerified:m,displayName:r,isAnonymous:y,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:R,createdAt:l,lastLoginAt:f});return S&&Array.isArray(S)&&(L.providerData=S.map(ne=>M({},ne))),u&&(L._redirectEventId=u),L}static async _fromIdTokenResponse(e,n,r=!1){let i=new Iu;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await xh(o),o}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];Y(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?QN(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Iu;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Tu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var AN=new Map;function Or(t){bi(t instanceof Function,"Expected a class definition");let e=AN.get(t);return e?(bi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,AN.set(t,e),e)}var IH=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),fI=IH;function bh(t,e,n){return`firebase:${t}:${e}:${n}`}var Ph=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=bh(this.userKey,i.apiKey,o),this.fullPersistenceKey=bh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await Mh(this.auth,{idToken:e}).catch(()=>{});return n?Ti._fromGetAccountInfoResponse(this.auth,n,e):null}return Ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(Or(fI),e,r);let i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||Or(fI),s=bh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let f=await l._get(s);if(f){let p;if(typeof f=="string"){let m=await Mh(e,{idToken:f}).catch(()=>{});if(!m)break;p=await Ti._fromGetAccountInfoResponse(e,m,f)}else p=Ti._fromJSON(e,f);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new t(o,e,r))}};function RN(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tM(e))return"Blackberry";if(nM(e))return"Webos";if(JN(e))return"Safari";if((e.includes("chrome/")||ZN(e))&&!e.includes("edge/"))return"Chrome";if(eM(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function YN(t=lt()){return/firefox\//i.test(t)}function JN(t=lt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZN(t=lt()){return/crios\//i.test(t)}function XN(t=lt()){return/iemobile/i.test(t)}function eM(t=lt()){return/android/i.test(t)}function tM(t=lt()){return/blackberry/i.test(t)}function nM(t=lt()){return/webos/i.test(t)}function AI(t=lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wH(t=lt()){return AI(t)&&!!window.navigator?.standalone}function TH(){return k0()&&document.documentMode===10}function rM(t=lt()){return AI(t)||eM(t)||nM(t)||tM(t)||/windows phone/i.test(t)||XN(t)}function iM(t,e=[]){let n;switch(t){case"Browser":n=RN(lt());break;case"Worker":n=`${RN(lt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fi}/${r}`}var hI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function DH(t,e={}){return sa(t,"GET","/v2/passwordPolicy",Bh(t,e))}var CH=6,pI=class{constructor(e){let n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??CH,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var gI=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Oh(this),this.idTokenSubscription=new Oh(this),this.beforeStateQueue=new hI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Or(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ph.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await Mh(this,{idToken:e}),r=await Ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(nn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}let n=await this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=this.redirectUser?._redirectEventId,s=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===s)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(nn(this.app))return Promise.reject(Di(this));let n=e?Kt(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return nn(this.app)?Promise.reject(Di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return nn(this.app)?Promise.reject(Di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await DH(this),n=new pI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await EH(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&Or(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await Ph.create(this,[Or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&uH(`Error while retrieving App Check token: ${e.error}`),e?.token}};function Hh(t){return Kt(t)}var Oh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=j0(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var RI={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bH(t){RI=t}function SH(t){return RI.loadJS(t)}function AH(){return RI.gapiScript}function oM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function sM(t,e){let n=Yc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(rr(o,e??{}))return i;Ci(i,"already-initialized")}return n.initialize({options:e})}function RH(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Or);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function aM(t,e,n){let r=Hh(t);Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=cM(e),{host:s,port:a}=NH(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},f=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Y(rr(l,r.config.emulator)&&rr(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,ci(s)?(bf(`${o}//${s}${u}`),Sf("Auth",!0)):i||MH()}function cM(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function NH(t){let e=cM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:NN(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:NN(s)}}}function NN(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function MH(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var kh=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pr("not implemented")}_getIdTokenResponse(e){return Pr("not implemented")}_linkToIdToken(e,n){return Pr("not implemented")}_getReauthenticationResolver(e){return Pr("not implemented")}};async function aI(t,e){return qN(t,"POST","/v1/accounts:signInWithIdp",Bh(t,e))}var Lh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var mI=class extends Lh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};async function xH(t,e){return qN(t,"POST","/v1/accounts:signUp",Bh(t,e))}var xo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){let o=await Ti._fromIdTokenResponse(e,r,i),s=MN(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);let i=MN(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function MN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}async function NI(t){if(nn(t.app))return Promise.reject(Di(t));let e=Hh(t);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new xo({user:e.currentUser,providerId:null,operationType:"signIn"});let n=await xH(e,{returnSecureToken:!0}),r=await xo._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}var yI=class t extends tn{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function uM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?yI._fromErrorAndOperation(t,o,e,r):o})}async function PH(t,e,n=!1){let r=await wu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xo._forOperation(t,"link",r)}async function OH(t,e,n=!1){let{auth:r}=t;if(nn(r.app))return Promise.reject(Di(r));let i="reauthenticate";try{let o=await wu(t,uM(r,i,e,t),n);Y(o.idToken,r,"internal-error");let s=SI(o.idToken);Y(s,r,"internal-error");let{sub:a}=s;return Y(t.uid===a,r,"user-mismatch"),xo._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ci(r,"user-mismatch"),o}}async function kH(t,e,n=!1){if(nn(t.app))return Promise.reject(Di(t));let r="signIn",i=await uM(t,r,e),o=await xo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function lM(t,e,n,r){return Kt(t).onIdTokenChanged(e,n,r)}function dM(t,e,n){return Kt(t).beforeAuthStateChanged(e,n)}var Fh="__sak";var Vh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var LH=1e3,FH=10,VH=(()=>{class t extends Vh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rM(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);TH()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,FH):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},LH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(n,r){await super._set(n,r),this.localCache[n]=JSON.stringify(r)}async _get(n){let r=await super._get(n);return this.localCache[n]=JSON.stringify(r),r}async _remove(n){await super._remove(n),delete this.localCache[n]}}return t.type="LOCAL",t})(),fM=VH;var jH=(()=>{class t extends Vh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),MI=jH;function UH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}var BH=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}async handleEvent(n){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(async f=>f(r.origin,s)),l=await UH(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function hM(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var vI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=hM("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function dr(){return window}function HH(t){dr().location.href=t}function pM(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function $H(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zH(){return navigator?.serviceWorker?.controller||null}function qH(){return pM()?self:null}var gM="firebaseLocalStorageDb",GH=1,jh="firebaseLocalStorage",mM="fbase_key",Po=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function $h(t,e){return t.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function WH(){let t=indexedDB.deleteDatabase(gM);return new Po(t).toPromise()}function _I(){let t=indexedDB.open(gM,GH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(jh,{keyPath:mM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{let r=t.result;r.objectStoreNames.contains(jh)?e(r):(r.close(),await WH(),e(await _I()))})})}async function xN(t,e,n){let r=$h(t,!0).put({[mM]:e,value:n});return new Po(r).toPromise()}async function KH(t,e){let n=$h(t,!1).get(e),r=await new Po(n).toPromise();return r===void 0?null:r.value}function PN(t,e){let n=$h(t,!0).delete(e);return new Po(n).toPromise()}var QH=800,YH=3,JH=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _I(),this.db)}async _withRetries(n){let r=0;for(;;)try{let i=await this._openDb();return await n(i)}catch(i){if(r++>YH)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=BH._getInstance(qH()),this.receiver._subscribe("keyChanged",async(n,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(n,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $H(),!this.activeServiceWorker)return;this.sender=new vI(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&n[0]?.fulfilled&&n[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(n){if(!(!this.sender||!this.activeServiceWorker||zH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let n=await _I();return await xN(n,Fh,"1"),await PN(n,Fh),!0}catch{}return!1}async _withPendingWrite(n){this.pendingWrites++;try{await n()}finally{this.pendingWrites--}}async _set(n,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>xN(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)))}async _get(n){let r=await this._withRetries(i=>KH(i,n));return this.localCache[n]=r,r}async _remove(n){return this._withPendingWrite(async()=>(await this._withRetries(r=>PN(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)))}async _poll(){let n=await this._withRetries(o=>{let s=$h(o,!1).getAll();return new Po(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),yM=JH;var qee=oM("rcb"),Gee=new Mo(3e4,6e4);function ZH(t,e){return e?Or(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Du=class extends kh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return aI(e,this._buildIdpRequest())}_linkToIdToken(e,n){return aI(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return aI(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function XH(t){return kH(t.auth,new Du(t),t.bypassAuthState)}function e$(t){let{auth:e,user:n}=t;return Y(n,e,"internal-error"),OH(n,new Du(t),t.bypassAuthState)}async function t$(t){let{auth:e,user:n}=t;return Y(n,e,"internal-error"),PH(n,new Du(t),t.bypassAuthState)}var EI=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XH;case"linkViaPopup":case"linkViaRedirect":return t$;case"reauthViaPopup":case"reauthViaRedirect":return e$;default:Ci(this.auth,"internal-error")}}resolve(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Wee=new Mo(2e3,1e4);var n$="pendingRedirect",Sh=new Map,II=class extends EI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Sh.get(this.auth._key());if(!e){try{let r=await r$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function r$(t,e){let n=s$(e),r=o$(t);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function i$(t,e){Sh.set(t._key(),e)}function o$(t){return Or(t._redirectPersistence)}function s$(t){return bh(n$,t.config.apiKey,t.name)}async function a$(t,e,n=!1){if(nn(t.app))return Promise.reject(Di(t));let r=Hh(t),i=ZH(r,e),s=await new II(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var c$=600*1e3,wI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!u$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!vM(e)){let r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(No(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=c$&&this.cachedEventUids.clear(),this.cachedEventUids.has(ON(e))}saveEventToCache(e){this.cachedEventUids.add(ON(e)),this.lastProcessedEventTime=Date.now()}};function ON(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function u$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vM(t);default:return!1}}async function l$(t,e={}){return sa(t,"GET","/v1/projects",e)}var d$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f$=/^https?/;async function h$(t){if(t.config.emulator)return;let{authorizedDomains:e}=await l$(t);for(let n of e)try{if(p$(n))return}catch{}Ci(t,"unauthorized-domain")}function p$(t){let e=uI(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!f$.test(n))return!1;if(d$.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var g$=new Mo(3e4,6e4);function kN(){let t=dr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function m$(t){return new Promise((e,n)=>{function r(){kN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kN(),n(No(t,"network-request-failed"))},timeout:g$.get()})}if(dr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(dr().gapi?.load)r();else{let i=oM("iframefcb");return dr()[i]=()=>{gapi.load?r():n(No(t,"network-request-failed"))},SH(`${AH()}?onload=${i}`).catch(o=>n(o))}}).catch(e=>{throw Ah=null,e})}var Ah=null;function y$(t){return Ah=Ah||m$(t),Ah}var v$=new Mo(5e3,15e3),_$="__/auth/iframe",E$="emulator/auth/iframe",I$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T$(t){let e=t.config;Y(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?bI(e,E$):`https://${t.config.authDomain}/${_$}`,r={apiKey:e.apiKey,appName:t.name,v:fi},i=w$.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Kc(r).slice(1)}`}async function D$(t){let e=await y$(t),n=dr().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:T$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I$,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=No(t,"network-request-failed"),a=dr().setTimeout(()=>{o(s)},v$.get());function u(){dr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var C$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b$=500,S$=600,A$="_blank",R$="http://localhost",Uh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function N$(t,e,n,r=b$,i=S$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=re(M({},C$),{width:r.toString(),height:i.toString(),top:o,left:s}),l=lt().toLowerCase();n&&(a=ZN(l)?A$:n),YN(l)&&(e=e||R$,u.scrollbars="yes");let f=Object.entries(u).reduce((m,[y,S])=>`${m}${y}=${S},`,"");if(wH(l)&&a!=="_self")return M$(e||"",a),new Uh(null);let p=window.open(e||"",a,f);Y(p,t,"popup-blocked");try{p.focus()}catch{}return new Uh(p)}function M$(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var x$="__/auth/handler",P$="emulator/auth/handler",O$=encodeURIComponent("fac");async function LN(t,e,n,r,i,o){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fi,eventId:i};if(e instanceof Lh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",V0(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(o||{}))s[f]=p}if(e instanceof mI){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let u=await t._getAppCheckToken(),l=u?`#${O$}=${encodeURIComponent(u)}`:"";return`${k$(t)}?${Kc(a).slice(1)}${l}`}function k$({config:t}){return t.emulator?bI(t,P$):`https://${t.authDomain}/${x$}`}var cI="webStorageSupport",TI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MI,this._completeRedirectFn=a$,this._overrideRedirectResult=i$}async _openPopup(e,n,r,i){bi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let o=await LN(e,n,r,uI(),i);return N$(e,o,hM())}async _openRedirect(e,n,r,i){await this._originValidation(e);let o=await LN(e,n,r,uI(),i);return HH(o),new Promise(()=>{})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(bi(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){let n=await D$(e),r=new wI(e);return n.register("authEvent",i=>(Y(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cI,{type:cI},i=>{let o=i?.[0]?.[cI];o!==void 0&&n(!!o),Ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=h$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rM()||JN()||AI()}},_M=TI;var FN="@firebase/auth",VN="1.11.1";var DI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function L$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F$(t){di(new mn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Y(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iM(t)},l=new gI(r,i,o,u);return RH(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),di(new mn("auth-internal",e=>{let n=Hh(e.getProvider("auth").getImmediate());return(r=>new DI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ln(FN,VN,L$(t)),Ln(FN,VN,"esm2020")}var V$=300,j$=Ev("authIdTokenMaxAge")||V$,jN=null,U$=t=>async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>j$)return;let i=n?.token;jN!==i&&(jN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function xI(t=Mf()){let e=Yc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=sM(t,{popupRedirectResolver:_M,persistence:[yM,fM,MI]}),r=Ev("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=U$(o.toString());dM(n,s,()=>s(n.currentUser)),lM(n,a=>s(a))}}let i=vv("auth");return i&&aM(n,`http://${i}`),n}function B$(){return document.getElementsByTagName("head")?.[0]??document}bH({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=No("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",B$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F$("Browser");var aa=class t{db=lN();auth=xI();authReadyPromise;constructor(){this.authReadyPromise=this.signInAnon()}async signInAnon(){if(!this.auth.currentUser)try{let e=await NI(this.auth);console.log("Firebase: Anonymous Sign-In Successful. UID: "+e.user.uid)}catch(e){throw console.error("Firebase: Anonymous Sign-In Failed: "+e),new Error("Could not authenticate Demo user.")}}async withAuth(e){return await this.authReadyPromise,e()}async saveOrder(e){return this.withAuth(()=>TN(nI(this.db,"orders"),re(M({},e),{createdAt:CN()})))}async getOrders(){return this.withAuth(async()=>{let e=nI(this.db,"orders"),n=vN(e,_N("createdAt","desc"));return(await IN(n)).docs.map(i=>M({id:i.id},i.data()))})}async deleteOrder(e){return this.withAuth(()=>wN(rI(this.db,"orders",e)))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})};var Si=class t{activeToasts=Be([]);duration=3e3;show(e){let n=Date.now(),r={id:n,message:e};this.activeToasts.update(i=>[...i,r]),setTimeout(()=>{this.removeToast(n)},this.duration)}removeToast(e){this.activeToasts.update(n=>n.filter(r=>r.id!==e))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})};var ca=class t{constructor(e,n){this.firebase=e;this.toastService=n}ordersSignal=Be([]);orders=this.ordersSignal.asReadonly();loadingSignal=Be(!0);loading=this.loadingSignal.asReadonly();orderLimit=5;async refreshOrders(){this.ordersSignal.set([]),this.loadingSignal.set(!0);try{let e=await this.firebase.getOrders();this.ordersSignal.set(e.map(n=>re(M({},n),{createdAt:n.createdAt?new Date(n.createdAt.seconds*1e3):n.createdAt})))}catch(e){console.error("ORDERS SERVICE: Failed to load orders: "+e)}finally{this.loadingSignal.set(!1)}}async deleteOrder(e){let n=!1;try{await this.firebase.deleteOrder(e),await this.refreshOrders()}catch(r){console.error("ORDERS SERVICE: Failed to delete order: "+r),n=!0}this.toastService.show(n?"Failed to delete order":`Order ${e} deleted`)}static \u0275fac=function(n){return new(n||t)(W(aa),W(Si))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ai=class t{constructor(e,n,r){this.firebase=e;this.toastService=n;this.orderService=r;let i=localStorage.getItem("taniti-cart");i&&this.cartItemsSignal.set(JSON.parse(i))}cartItemsSignal=Be([]);cartItems=this.cartItemsSignal.asReadonly();cartTotal=Ty(()=>this.cartItems().reduce((e,n)=>e+n.price,0));cartLimit=20;saveCart(){localStorage.setItem("taniti-cart",JSON.stringify(this.cartItemsSignal()))}addItem(e){let n=!1;this.cartItems().length<this.cartLimit?this.cartItemsSignal.update(r=>[...r,e]):n=!0,this.toastService.show(n?"Cart limit reached":`${e.name} added to cart`),this.saveCart()}removeItem(e){console.log("CART SERVICE: Deleting "+e.name),this.cartItemsSignal.update(n=>n.filter(r=>r.id!==e.id)),this.toastService.show(`${e.name} removed from cart`),this.saveCart()}clearItems(e){this.cartItemsSignal.set([]),this.toastService.show(e?"Order submitted":"Cart cleared"),this.saveCart()}async submitOrder(){console.log("CART SERVICE: Submitting Order...");let e=this.orderService.orderLimit;if(this.orderService.orders().length>=this.orderService.orderLimit){this.toastService.show("Order limit reached, please delete an order and try again");return}let n=this.cartItems(),r=n;if(n.length===0){console.error("CART SERVICE: Cannot submit an empty order.");return}n.length>this.cartLimit&&(r=n.slice(0,this.cartLimit),this.toastService.show(`Cart trimmed to ${this.cartLimit} items`),this.cartItemsSignal.set(r),this.saveCart());let i=this.cartTotal(),o=r.map(u=>M({id:u.id,name:u.name,price:Number(u.price)},typeof u.image=="string"&&u.image.length>0?{image:u.image}:{}));if(!o.every(u=>this.isValidActivityClient(u)))throw console.error("CART SERVICE: Submission Cancelled due to invalid Activity Data."),new Error("CART SERVICE: Invalid Activity Data in Cart.");let a={activities:o,total:i};console.log("CART SERVICE: Payload for Firestore: "+JSON.stringify(a,null,2));try{let u=await this.firebase.saveOrder(a);return console.log("CART SERVICE: Order saved with ID: "+u.id),this.clearItems(!0),u.id}catch(u){throw console.error("CART SERVICE: Failed to submit Order: "+u),this.toastService.show("Failed to submit Order"),u}}isValidActivityClient(e){return typeof e.id!="string"||e.id.length===0?(console.error("CART SERVICE: Validation Error: Invalid ID: ",e),!1):typeof e.name!="string"||e.name.length===0?(console.error("CART SERVICE: Validation Error: Invalid Name: ",e),!1):Number.isFinite(e.price)?e.image!==void 0&&typeof e.image!="string"?(console.error("CART SERVICE: Validation Error: Invalid Image: ",e),!1):!0:(console.error("CART SERVICE: Validation Error: Invalid Price: ",e),!1)}static \u0275fac=function(n){return new(n||t)(W(aa),W(Si),W(ca))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})};var zh=class t{constructor(e){this.cart=e}activity;addToCart(){this.cart.addItem(this.activity),console.log(`${this.activity.name} added to cart`)}static \u0275fac=function(n){return new(n||t)(le(Ai))};static \u0275cmp=Ie({type:t,selectors:[["app-product"]],inputs:{activity:"activity"},decls:9,vars:3,consts:[[1,"product-shell"],[1,"product-container"],["alt","Product",3,"src"],["id","add-to-cart",3,"click"]],template:function(n,r){n&1&&(Me(0,"div",0)(1,"div",1)(2,"h2"),me(3),xe(),Me(4,"p"),me(5),xe(),nt(6,"img",2),Me(7,"button",3),Zn("click",function(){return r.addToCart()}),me(8,"Add to Cart"),xe()()()),n&2&&(O(3),yt(r.activity.name),O(2),Mn("$",r.activity.price),O(),wt("src",r.activity.image,ln))},styles:[".product-container[_ngcontent-%COMP%]{margin:0;padding:.5rem;display:flex;flex-direction:column;gap:1rem;background-color:var(--primary);color:#fffaf0}@media(hover:hover){.product-container[_ngcontent-%COMP%]{background-color:transparent;color:var(--highlight);transition:all .1s ease-in-out}}h2[_ngcontent-%COMP%]{margin:0;width:100%;font-family:Malvie,sans-serif}p[_ngcontent-%COMP%]{margin:0;width:100%;color:var(--text);font-size:1.25rem}img[_ngcontent-%COMP%]{margin:0;width:100%;aspect-ratio:4/3;object-fit:cover}button[_ngcontent-%COMP%]{margin:.5rem;padding:0;font-family:Bebas Neue,sans-serif;font-size:1.5rem;font-weight:700;background-color:#fffaf0;color:var(--primary);border:5px solid floralwhite;transform:scale(1.04)}@media(hover:hover){button[_ngcontent-%COMP%]{background-color:transparent;color:transparent;border:5px solid transparent;transition:all .1s ease-in-out;transform:scale(1)}}@media(hover:hover){.product-container[_ngcontent-%COMP%]:hover{background-color:var(--primary);color:#fffaf0}.product-container[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%], .product-container[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:#fffaf0}#add-to-cart[_ngcontent-%COMP%]:hover{background-color:#fffaf0;color:var(--primary);border:5px solid floralwhite;cursor:pointer;transform:scale(1.04)}}"]})};function H$(t,e){if(t&1&&ve(0,"app-info",1),t&2){let n=Q();de("data",n.pageData.desc)}}function $$(t,e){if(t&1&&ve(0,"app-product",4),t&2){let n=e.$implicit;de("activity",n)}}function z$(t,e){if(t&1&&(H(0,"div",3),gt(1,$$,1,1,"app-product",4,fn),K()),t&2){let n=Q();O(),mt(n.pageData.activityData)}}function q$(t,e){if(t&1&&ve(0,"app-info",1),t&2){let n=e.$implicit;de("data",n)}}var Ri=class t{constructor(e){this.route=e}pageData;ngOnInit(){this.pageData=this.route.snapshot.data.data}static \u0275fac=function(n){return new(n||t)(le(kn))};static \u0275cmp=Ie({type:t,selectors:[["app-page"]],inputs:{pageData:"pageData"},decls:7,vars:3,consts:[[1,"page-shell"],[3,"data"],[1,"pageInfo-container"],[1,"activity-container"],[3,"activity"]],template:function(n,r){n&1&&(H(0,"div",0),ve(1,"app-banner",1),H(2,"div",2),oe(3,H$,1,1,"app-info",1),oe(4,z$,3,0,"div",3),gt(5,q$,1,1,"app-info",1,fn),K()()),n&2&&(O(),de("data",r.pageData.bannerData),O(2),se(r.pageData.desc.content!=""?3:-1),O(),se(r.pageData.activityData.length>0?4:-1),O(),mt(r.pageData.infoData))},dependencies:[nr,xs,zh],styles:["app-banner[_ngcontent-%COMP%]{width:100%}.page-shell[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.pageInfo-container[_ngcontent-%COMP%]{width:100%;max-width:var(--maxWidth);display:flex;flex-direction:column;justify-content:space-between;align-items:center;gap:3rem}.activity-container[_ngcontent-%COMP%]{width:100%;max-width:var(--maxWidth);display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;justify-content:center}"]})};var wM=[{id:"t1",name:"Taniti Air",price:1500,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"t2",name:"Tropic Travel",price:1e3,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"t3",name:"Bob",price:20,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"t4",name:"Atlantis Cruise",price:2e3,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"t5",name:"Titanic III",price:1800,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"t4",name:"Coral Ferry",price:300,image:"pageMedia/entertainment-snorkeling.jpeg"}],TM=[{id:"l1",name:"Etoile Residence",price:1500,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"l2",name:"Sentinel Retreat",price:1e3,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"l3",name:"Grand Manor",price:800,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"l4",name:"Willow Inn",price:400,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"l5",name:"Iron Kettle",price:300,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"l6",name:"Anchor House",price:300,image:"pageMedia/entertainment-snorkeling.jpeg"}],DM=[{id:"f1",name:"Azure Plate",price:400,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"f2",name:"Volcano's Edge",price:400,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"f3",name:"Compass Rose",price:350,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"f4",name:"Taniti Tide",price:300,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"f5",name:"Shell Bistro",price:300,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"f6",name:"Yankee Grill",price:200,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"f7",name:"Flo's Cafe",price:180,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"f8",name:"Grain Club",price:180,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"f9",name:"Silk Pagoda",price:180,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"f10",name:"Mizuki Omakase",price:180,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"f11",name:"Harbor Harvest",price:80,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"f12",name:"Taniti Depot",price:60,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"f13",name:"Ocean Pantry",price:40,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"f14",name:"Island Provisions",price:35,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"f14",name:"The Lighthouse",price:15,image:"pageMedia/entertainment-snorkeling.jpeg"}],CM=[{id:"e4",name:"Snorkeling",price:80,image:"pageMedia/entertainment-snorkeling.jpeg"},{id:"e5",name:"Ziplining",price:100,image:"pageMedia/entertainment-ziplining.jpeg"},{id:"e3",name:"Fishing",price:150,image:"pageMedia/entertainment-fishing.jpeg"},{id:"e8",name:"Golf",price:125,image:"pageMedia/entertainment-golf.jpeg"},{id:"e6",name:"Night Club",price:30,image:"pageMedia/entertainment-night-club.jpeg"},{id:"e7",name:"Art Gallery",price:15,image:"pageMedia/entertainment-art-gallery.jpeg"},{id:"e1",name:"Museum",price:25,image:"pageMedia/entertainment-museum.jpeg"},{id:"e2",name:"Bowling",price:20,image:"pageMedia/entertainment-bowling.jpeg"}],bM=[{id:"s1",name:"Volcano Tour",price:250,image:"pageMedia/sightseeing-volcano.jpeg"},{id:"s2",name:"Helicopter Tour",price:300,image:"banners/entertainment.jpeg"},{id:"s3",name:"Boat Tour",price:50,image:"pageMedia/sightseeing-boat-tour.jpeg"},{id:"s4",name:"Bus Tour",price:50,image:"pageMedia/sightseeing-bus-tour.jpeg"},{id:"s5",name:"Bike Tour",price:40,image:"pageMedia/transportation-bike.jpeg"},{id:"s6",name:"Rainforest Hike",price:50,image:"pageMedia/sightseeing-rainforest.jpeg"}];var SM={bannerData:{bannerType:"subpage",title:"",image:"banners/transportation.jpeg",button:"Transportation",interactive:!1},desc:{title:"",type:1,content:"Almost all visitors arrive to Taniti by air, though some arrive on a small cruise ship that docks in Yellow Leaf Bay for one night per week. Taniti is served by a small airport that can accommodate small jets and propeller planes. Taniti is in the process of expanding the airport so larger jets will be able to land on the island within the next few years. <br><br>Public buses serve Taniti City and run from 5 a.m. to 11 p.m. every day. Private buses serve the rest of the island. Taxis are available in Taniti City, and rental cars can be rented from a local rental agency near the airport. Bikes and helmets are available to rent from several vendors (helmets are required by law). Taniti City is fairly flat and very walkable. Many tourists stay in the area surrounding Merriton Landing: this area is easy to explore on foot.",image:""},activityData:wM,infoData:[]},AM={bannerData:{bannerType:"subpage",title:"",image:"banners/lodging.jpeg",button:"Lodging",interactive:!1},desc:{title:"",type:1,content:"Taniti has a wide variety of lodging that ranges from an inexpensive hostel to one large, four-star resort. <br><br>There are many small, family-owned hotels and a growing number of bed and breakfasts. ",image:""},activityData:TM,infoData:[]},RM={bannerData:{bannerType:"subpage",title:"",image:"banners/food.jpeg",button:"Food",interactive:!1},desc:{title:"",type:1,content:"Taniti currently has 10 restaurants: five serve mostly local fish and rice, three serve American-style meals, and two serve Pan-Asian cuisine. <br><br>Taniti has two supermarkets, two smaller grocery stores, and one convenience store that is open 24 hours a day. ",image:""},activityData:DM,infoData:[]},NM={bannerData:{bannerType:"subpage",title:"",image:"banners/entertainment.jpeg",button:"Entertainment",interactive:!1},desc:{title:"",type:1,content:"Most people visit Taniti to enjoy the beaches, explore the rainforest, and to visit the volcano. However, there are other things to do, including visiting a local history museum, going on chartered fishing tours, snorkeling, zip-lining in the rainforest, visiting several pubs, including a microbrewery, dancing at a new dance club, seeing a movie, taking helicopter rides, playing at an arcade, visiting art galleries, and bowling. Also, a nine-hole golf course should be operational by next year. Many of these activities are located in Merriton Landing, which is a rapidly developing area on the north side of Yellow Leaf Bay.",image:""},activityData:CM,infoData:[]},MM={bannerData:{bannerType:"subpage",title:"",image:"banners/sightseeing.jpeg",button:"Sightseeing",interactive:!1},desc:{title:"",type:1,content:"Most tourists spend most of their time in Taniti City, which boasts native architecture and nearby white, sandy beaches that encircle Yellow Leaf Bay. Other popular activities include boat or bus tours of the island, hikes in the rainforest, or visits to Taniti\u2019s active volcano.",image:""},activityData:bM,infoData:[]};function G$(t,e){if(t&1&&nt(0,"img",2),t&2){let n=Q();wt("src",n.item.image,ln)}}function W$(t,e){if(t&1){let n=qt();Me(0,"button",4),Zn("click",function(){xt(n);let i=Q();return Pt(i.removeFromCart())}),me(1,"DELETE"),xe()}}function K$(t,e){if(t&1){let n=qt();Me(0,"button",4),Zn("click",function(){xt(n);let i=Q();return Pt(i.clearCart())}),me(1,"CLEAR"),xe()}}var qh=class t{constructor(e){this.cart=e}item;real=!0;removeFromCart(){console.log("ITEM: Deleting "+this.item.name),this.cart.removeItem(this.item)}clearCart(){console.log("ITEM: Clearing Cart"),this.cart.clearItems(!1)}static \u0275fac=function(n){return new(n||t)(le(Ai))};static \u0275cmp=Ie({type:t,selectors:[["app-item"]],inputs:{item:"item",real:"real"},decls:9,vars:4,consts:[[1,"item-shell"],[1,"item-container"],[3,"src"],[1,"price"],[3,"click"]],template:function(n,r){n&1&&(Me(0,"div",0)(1,"div",1),oe(2,G$,1,1,"img",2),Me(3,"p"),me(4),xe(),Me(5,"p",3),me(6),xe(),oe(7,W$,2,0,"button")(8,K$,2,0,"button"),xe()()),n&2&&(O(2),se(r.item.image!=""?2:-1),O(2),yt(r.item.name),O(2),Mn("$",r.item.price),O(),se(r.real?7:8))},styles:[".item-shell[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;width:100%}.item-container[_ngcontent-%COMP%]{margin:0;padding:1rem;display:flex;flex-direction:row;align-items:center;gap:1rem;flex:1;background-color:var(--primary)}img[_ngcontent-%COMP%]{width:96px;height:48px;object-fit:cover}p[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.5rem;color:#fffaf0}.price[_ngcontent-%COMP%]{margin-left:auto}button[_ngcontent-%COMP%]{padding:.25rem .5rem;background-color:transparent;color:#ff4646;border:none}button[_ngcontent-%COMP%]:hover{background-color:#ff4646;color:#fff;cursor:pointer}@media(max-width:550px){.item-container[_ngcontent-%COMP%]{padding:.5rem}img[_ngcontent-%COMP%]{width:64px;height:32px}p[_ngcontent-%COMP%]{font-size:1.25rem}}"]})};var Q$=t=>({id:"0",name:"Total",price:t,image:""});function Y$(t,e){t&1&&(H(0,"p",4),me(1,"Cart is Empty"),K())}function J$(t,e){if(t&1&&ve(0,"app-item",5),t&2){let n=e.$implicit;de("item",n)}}function Z$(t,e){if(t&1){let n=qt();gt(0,J$,1,1,"app-item",5,fn),H(2,"div",6),ve(3,"app-item",7),H(4,"button",8),hn("click",function(){xt(n);let i=Q();return Pt(i.submitOrder())}),me(5,"Submit Order"),K()()}if(t&2){let n=Q();mt(n.cartItems()),O(3),de("item",yc(2,Q$,n.cartTotal()))("real",!1)}}var Gh=class t{constructor(e){this.cartService=e;this.cartItems=e.cartItems,this.cartTotal=e.cartTotal}bannerData={bannerType:"subpage",title:"",image:"banners/taniti.jpeg",button:"Cart",interactive:!1};cartItems;cartTotal;async submitOrder(){try{await this.cartService.submitOrder()}catch(e){console.log("CART: Error submitting Order: "+e)}}static \u0275fac=function(n){return new(n||t)(le(Ai))};static \u0275cmp=Ie({type:t,selectors:[["app-cart"]],decls:6,vars:2,consts:[[1,"cart-shell"],[3,"data"],[1,"cart-wrapper"],[1,"cart-container"],[1,"empty"],[3,"item"],[1,"total-container"],[3,"item","real"],[3,"click"]],template:function(n,r){n&1&&(H(0,"div",0),ve(1,"app-banner",1),H(2,"div",2)(3,"div",3),oe(4,Y$,2,0,"p",4)(5,Z$,6,4),K()()()),n&2&&(O(),de("data",r.bannerData),O(3),se(r.cartItems().length<=0?4:5))},dependencies:[qh,nr],styles:[".cart-shell[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}app-banner[_ngcontent-%COMP%]{width:100%}.cart-wrapper[_ngcontent-%COMP%]{margin:0;padding:0;width:100%;max-width:var(--maxWidth)}.cart-container[_ngcontent-%COMP%]{margin:0;padding:0 .5rem;display:flex;flex-direction:column;gap:1rem;text-align:center}h1[_ngcontent-%COMP%]{font-family:Malvie,sans-serif;color:var(--highlight)}.empty[_ngcontent-%COMP%]{font-size:1.5rem}.total-container[_ngcontent-%COMP%]{margin:0;padding:0 0 1rem;background:var(--primary)}button[_ngcontent-%COMP%]{margin:1rem auto 0;padding:0 1rem;font-family:Bebas Neue,sans-serif;font-size:1.5rem;background-color:transparent;color:#fffaf0;border:5px solid transparent;transition:all .1s ease-in-out}button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#fffaf0;color:var(--primary);cursor:pointer}@media(max-width:550px){.cart-container[_ngcontent-%COMP%]{gap:.5rem}button[_ngcontent-%COMP%]{font-size:2rem}}"]})};var ua=class t{themes=["theme-light","theme-dark"];themeSignal=Be("");theme=this.themeSignal.asReadonly();initializeTheme(){let e=localStorage.getItem("theme")??"theme-dark",n;e&&this.themes.includes(e)?n=e:n=this.themes[0],this.setTheme(n)}setTheme(e){if(!this.themes.includes(e)){console.error(`THEME SERVICE: Invalid Theme: ${e}`);return}this.clearTheme(),this.themeSignal.set(e),this.applyTheme(this.theme()),console.log("THEME SERVICE: Theme Set: "+this.theme())}applyTheme(e){this.themes.includes(e)&&e&&(document.documentElement.classList.add(this.theme()),localStorage.setItem("theme",this.theme()))}clearTheme(){let e=0;this.themes.forEach(n=>{document.documentElement.classList.contains(n)&&(document.documentElement.classList.remove(n),e++)}),this.themeSignal.set(""),localStorage.setItem("theme",""),e>0&&console.log("THEME SERVICE: Theme Cleared")}logTheme(){console.log("THEME SERVICE: Current Theme: "+this.theme())}static \u0275fac=function(n){return new(n||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})};function X$(t,e){if(t&1){let n=qt();Me(0,"button",0),Zn("click",function(){xt(n);let i=Q();return Pt(i.setTheme("theme-dark"))}),nt(1,"span",1),xe()}t&2&&(O(),ni("mask-image","url(icons/dark-mode.svg)")("-webkit-mask-image","url(icons/dark-mode.svg)"))}function e4(t,e){if(t&1){let n=qt();Me(0,"button",0),Zn("click",function(){xt(n);let i=Q();return Pt(i.setTheme("theme-light"))}),nt(1,"span",1),xe()}t&2&&(O(),ni("mask-image","url(icons/light-mode.svg)")("-webkit-mask-image","url(icons/light-mode.svg)"))}var Wh=class t{constructor(e){this.themeService=e;this.currentTheme=e.theme}currentTheme;setTheme(e){this.themeService.setTheme(e)}static \u0275fac=function(n){return new(n||t)(le(ua))};static \u0275cmp=Ie({type:t,selectors:[["app-theme"]],decls:3,vars:2,consts:[[3,"click"],[1,"icon"]],template:function(n,r){n&1&&(Me(0,"div"),oe(1,X$,2,4,"button"),oe(2,e4,2,4,"button"),xe()),n&2&&(O(),se(r.currentTheme()==="theme-light"?1:-1),O(),se(r.currentTheme()==="theme-dark"?2:-1))},styles:["div[_ngcontent-%COMP%]{width:2rem;height:2rem;display:inline-block}button[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;font-size:1rem;background:transparent;border:2px solid transparent;box-sizing:border-box}button[_ngcontent-%COMP%]:hover{border:2px solid floralwhite;cursor:pointer}.icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;display:inline-block;background-color:#fffaf0;-webkit-mask-size:contain;mask-size:contain;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:center;mask-position:center}@media(max-width:1080px){button[_ngcontent-%COMP%]:hover{border:2px solid transparent}}"]})};var t4=(t,e)=>e.id;function n4(t,e){t&1&&(H(0,"p"),me(1,"Loading Orders..."),K())}function r4(t,e){t&1&&(H(0,"p",7),me(1,"No Orders Yet"),K())}function i4(t,e){if(t&1&&(H(0,"div",13)(1,"p",16),me(2),K(),H(3,"p",17),me(4),K()()),t&2){let n=e.$implicit;O(2),yt(n.name),O(2),Mn("$",n.price)}}function o4(t,e){if(t&1){let n=qt();H(0,"div",8)(1,"div",9)(2,"p",10),me(3),K(),H(4,"p",11),me(5),Ey(6,"date"),K()(),H(7,"div",12)(8,"h4"),me(9,"Activities"),K(),gt(10,i4,5,2,"div",13,fn),K(),H(12,"p",14),me(13),K(),H(14,"button",15),hn("click",function(){let i=xt(n).$implicit,o=Q(2);return Pt(o.deleteOrder(i.id))}),me(15,"Delete Order"),K()()}if(t&2){let n=e.$implicit;O(3),Mn("ID: ",n.id),O(2),yt(Iy(6,3,n.createdAt,"short")),O(5),mt(n.activities),O(3),Mn("$",n.total)}}function s4(t,e){if(t&1&&gt(0,o4,16,6,"div",8,t4),t&2){let n=Q();mt(n.orders())}}var Kh=class t{constructor(e){this.ordersService=e;this.orders=e.orders,this.loading=e.loading}bannerData={bannerType:"subpage",title:"",image:"banners/taniti.jpeg",button:"PROFILE",interactive:!1};orders;loading;ngOnInit(){this.ordersService.refreshOrders()}async deleteOrder(e){try{await this.ordersService.deleteOrder(e)}catch(n){console.error("ORDERS: Failed to delete Order: "+n)}}static \u0275fac=function(n){return new(n||t)(le(ca))};static \u0275cmp=Ie({type:t,selectors:[["app-orders"]],decls:17,vars:4,consts:[[1,"orders-shell"],[3,"data"],[1,"orders-content"],[1,"settings-wrapper"],[1,"setting"],[1,"orders-wrapper"],[1,"orders-container"],[1,"empty"],[1,"order-display"],[1,"order-stats"],[1,"order-id"],[1,"order-time"],[1,"activities-wrapper"],[1,"activity-entry"],[1,"order-price"],[1,"order-delete",3,"click"],[1,"activity-name"],[1,"activity-price"]],template:function(n,r){n&1&&(H(0,"div",0),ve(1,"app-banner",1),H(2,"div",2)(3,"div",3)(4,"h1"),me(5,"Settings"),K(),H(6,"div",4)(7,"h3"),me(8,"Dark Mode"),K(),ve(9,"app-theme"),K()(),H(10,"div",5)(11,"h1"),me(12,"Orders"),K(),H(13,"div",6),oe(14,n4,2,0,"p"),oe(15,r4,2,0,"p",7),oe(16,s4,2,0),K()()()()),n&2&&(O(),de("data",r.bannerData),O(13),se(r.loading()?14:-1),O(),se(!r.loading()&&r.orders().length===0?15:-1),O(),se(!r.loading()&&r.orders().length>0?16:-1))},dependencies:[nr,Wh,My],styles:[".orders-shell[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.orders-content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.orders-wrapper[_ngcontent-%COMP%]{margin-top:3rem;padding:.5rem;width:calc(100% - 2rem);max-width:var(--maxWidth)}.orders-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.order-display[_ngcontent-%COMP%]{margin-bottom:1rem;padding-bottom:1rem;width:100%;background-color:var(--primary);color:#fffaf0}.order-stats[_ngcontent-%COMP%]{margin:1rem 0;display:flex;justify-content:space-around}.activities-wrapper[_ngcontent-%COMP%]{margin:0 0 1rem}.activity-entry[_ngcontent-%COMP%]{margin:.5rem 1rem;padding:.5rem 1.5rem;display:flex;justify-content:space-between;background-color:var(--secondary)}.order-delete[_ngcontent-%COMP%]{margin:1rem 0 0;padding:.1rem 2rem 0;font-family:Bebas Neue,sans-serif;font-size:1.5rem;background-color:#fffaf0;color:var(--primary);border:2px solid transparent;box-sizing:border-box;cursor:pointer;transition:transform .05s ease-in-out}.settings-wrapper[_ngcontent-%COMP%]{padding:.5rem;width:calc(100% - 2rem);max-width:var(--maxWidth)}.setting[_ngcontent-%COMP%]{padding:.5rem;display:flex;flex-direction:row;justify-content:space-between;align-items:center;background-color:var(--setting-background)}h1[_ngcontent-%COMP%]{margin:0 0 1rem;padding:0;font-family:Malvie,sans-serif;color:var(--highlight)}h3[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Belanosima,sans-serif;font-weight:400;color:var(--setting-text)}h4[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Malvie,sans-serif;font-size:1.25rem}.empty[_ngcontent-%COMP%]{font-size:1.5rem}p[_ngcontent-%COMP%]{margin:0;padding:0}@media(hover:hover){.order-delete[_ngcontent-%COMP%]:hover{transform:scale(1.1)}}"]})};var PM=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:wf},{path:"transportation",component:Ri,data:{data:SM}},{path:"lodging",component:Ri,data:{data:AM}},{path:"food",component:Ri,data:{data:RM}},{path:"entertainment",component:Ri,data:{data:NM}},{path:"sightseeing",component:Ri,data:{data:MM}},{path:"cart",component:Gh},{path:"profile",component:Kh}];var OM={providers:[rm(),fv(PM,hv({scrollPositionRestoration:"enabled"}))]};function a4(t,e){if(t&1&&(H(0,"span"),ve(1,"span",5),K()),t&2){let n=Q(2);O(),ni("mask-image","url("+n.linkData.icon+")")("-webkit-mask-image","url("+n.linkData.icon+")")}}function c4(t,e){if(t&1&&(H(0,"a",3),oe(1,a4,2,4,"span"),H(2,"span",4),me(3),K()()),t&2){let n=Q();xd("mode-"+n.linkData.displayMode),de("routerLink",n.linkData.route),O(),se(n.linkData.icon?1:-1),O(2),yt(n.linkData.text)}}function u4(t,e){if(t&1&&(H(0,"span"),ve(1,"span",5),K()),t&2){let n=Q(2);O(),ni("mask-image","url("+n.linkData.icon+")")("-webkit-mask-image","url("+n.linkData.icon+")")}}function l4(t,e){if(t&1&&(H(0,"button"),oe(1,u4,2,4,"span"),H(2,"span",4),me(3),K()()),t&2){let n=Q();xd("mode-"+n.linkData.displayMode),O(),se(n.linkData.icon?1:-1),O(2),yt(n.linkData.text)}}var Qh=class t{linkData;isButton=!1;iconExempt=["text-only","responsive-hide"];ngOnInit(){!this.iconExempt.includes(this.linkData.displayMode)&&!this.linkData.icon&&console.warn(`NAV LINK: ${this.linkData.text}: displayMode '${this.linkData.displayMode}' requires an [icon] input`)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ie({type:t,selectors:[["app-nav-link"]],inputs:{linkData:"linkData",isButton:"isButton"},decls:3,vars:1,consts:[[1,"link-shell"],["routerLinkActive","active",3,"routerLink","class"],[3,"class"],["routerLinkActive","active",3,"routerLink"],[1,"nav-text"],[1,"nav-icon"]],template:function(n,r){n&1&&(H(0,"div",0),oe(1,c4,4,5,"a",1)(2,l4,4,4,"button",2),K()),n&2&&(O(),se(r.isButton?2:1))},dependencies:[Ms,dv],styles:["button[_ngcontent-%COMP%]{background-color:transparent}a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin:0;padding:0;height:2rem;color:var(--nav-text);text-decoration:none;text-align:center;display:flex;align-items:center;justify-content:center;gap:0;border:2px solid transparent;box-sizing:border-box;cursor:pointer}a.mode-text-only[_ngcontent-%COMP%], a.mode-responsive[_ngcontent-%COMP%], button.mode-text-only[_ngcontent-%COMP%], button.mode-responsive[_ngcontent-%COMP%]{padding:0 1rem}a.mode-icon-only[_ngcontent-%COMP%]{padding:.25rem}a.mode-both[_ngcontent-%COMP%]{padding:.25rem 1rem 0;gap:.25rem}.mode-text-only[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%], .mode-responsive[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{display:none}.mode-icon-only[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{margin:0;padding:0;display:none}.mode-responsive-show[_ngcontent-%COMP%], .mode-responsive-show[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{display:none}.mode-responsive-hide[_ngcontent-%COMP%]{padding:0 1rem}.nav-icon[_ngcontent-%COMP%]{display:inline-block;width:1.75rem;height:1.75rem;background-color:var(--nav-icon);mask-size:contain;-webkit-mask-size:contain;mask-repeat:no-repeat;-webkit-mask-repeat:no-repeat;mask-position:center;-webkit-mask-position:center}.nav-text[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Bebas Neue,sans-serif;font-size:2rem;font-weight:400;font-variant:all-small-caps;color:var(--nav-text)}@media(max-width:1080px){a.mode-responsive[_ngcontent-%COMP%]{padding:.25rem}.mode-responsive[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{display:block}.mode-responsive[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{display:none}.mode-responsive-show[_ngcontent-%COMP%]{display:inline}.mode-responsive-hide[_ngcontent-%COMP%]{padding:0;display:none}}@media(max-width:500px){.nav-icon[_ngcontent-%COMP%]{width:2rem;height:2rem}}@media(hover:hover){a[_ngcontent-%COMP%]:not(.mode-icon-only,.mode-responsive-show):hover, button[_ngcontent-%COMP%]:not(.mode-icon-only,.mode-responsive-show):hover{color:var(--nav-highlight);border:2px solid var(--nav-highlight)}.nav-icon[_ngcontent-%COMP%]:hover{background-color:var(--nav-icon-highlight)}@media(max-width:1080px){a.mode-responsive[_ngcontent-%COMP%]:hover, a.mode-responsive-hide[_ngcontent-%COMP%]:hover{color:var(--nav-text);border:2px solid transparent}a[_ngcontent-%COMP%]:not(.mode-icon-only,.mode-responsive-show):hover, button[_ngcontent-%COMP%]:not(.mode-icon-only,.mode-responsive-show):hover{border:2px solid transparent}a[_ngcontent-%COMP%]:not(.mode-icon-only,.mode-responsive-show):hover   .nav-text[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:not(.mode-icon-only,.mode-responsive-show):hover   .nav-text[_ngcontent-%COMP%]{border:2px solid transparent;color:var(--nav-text-mobile-highlight)}}}"]})};var Yh=class t{breakpoint=1080;isDesktop=Be(window.innerWidth>this.breakpoint);constructor(){window.addEventListener("resize",this.onResize.bind(this))}onResize(){this.isDesktop.set(window.innerWidth>this.breakpoint)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})};var f4=["exploreButtonRef"],h4=["exploreMenuRef"],p4=(t,e)=>e.route;function g4(t,e){if(t&1&&ve(0,"app-nav-link",3)(1,"app-nav-link",3)(2,"app-nav-link",3)(3,"app-nav-link",3)(4,"app-nav-link",3),t&2){let n=Q();de("linkData",n.transportation),O(),de("linkData",n.lodging),O(),de("linkData",n.food),O(),de("linkData",n.entertainment),O(),de("linkData",n.sightseeing)}}function m4(t,e){if(t&1){let n=qt();H(0,"app-nav-link",6),hn("click",function(){xt(n);let i=Q(2);return Pt(i.closeExplore())}),K()}if(t&2){let n=e.$implicit;de("linkData",n)}}function y4(t,e){if(t&1){let n=qt();H(0,"app-nav-link",4,0),hn("click",function(){xt(n);let i=Q();return Pt(i.toggleExplore())}),K(),H(2,"div",5,1),gt(4,m4,1,1,"app-nav-link",3,p4),K()}if(t&2){let n=Q();de("linkData",n.explore)("isButton",!0),O(2),hs("is-open",n.isExploreOpen()),O(2),mt(n.exploreLinks)}}var Jh=class t{constructor(e){this.screenService=e;this.isDesktop=e.isDesktop}isDesktop;isExploreOpen=Be(!1);exploreButtonRef;exploreMenuRef;toggleExplore(){this.isExploreOpen.update(e=>!e)}closeExplore(){this.isExploreOpen.set(!1)}clickout(e){if(!this.isExploreOpen())return;let n=e.target,r=this.exploreButtonRef?.nativeElement.contains(n),i=this.exploreMenuRef?.nativeElement.contains(n);!r&&!i&&this.closeExplore()}home={text:"Home",route:"/home",icon:"icons/home.svg",displayMode:"responsive"};transportation={text:"Transportation",route:"/transportation",icon:"",displayMode:"responsive-hide"};lodging={text:"Lodging",route:"/lodging",icon:"",displayMode:"responsive-hide"};food={text:"Food",route:"/food",icon:"",displayMode:"responsive-hide"};entertainment={text:"Entertainment",route:"/entertainment",icon:"",displayMode:"responsive-hide"};sightseeing={text:"Sightseeing",route:"/sightseeing",icon:"",displayMode:"responsive-hide"};cart={text:"Cart",route:"/cart",icon:"icons/cart.svg",displayMode:"icon-only"};profile={text:"Profile",route:"/profile",icon:"icons/profile.svg",displayMode:"icon-only"};explore={text:"Explore",route:"#",icon:"icons/explore.svg",displayMode:"icon-only"};exploreLinks=[{text:"Transportation",route:"/transportation",displayMode:"text-only"},{text:"Lodging",route:"/lodging",displayMode:"text-only"},{text:"Food",route:"/food",displayMode:"text-only"},{text:"Entertainment",route:"/entertainment",displayMode:"text-only"},{text:"Sightseeing",route:"/sightseeing",displayMode:"text-only"}];static \u0275fac=function(n){return new(n||t)(le(Yh))};static \u0275cmp=Ie({type:t,selectors:[["app-navbar"]],viewQuery:function(n,r){if(n&1&&(Md(f4,5,zt),Md(h4,5,zt)),n&2){let i;ds(i=fs())&&(r.exploreButtonRef=i.first),ds(i=fs())&&(r.exploreMenuRef=i.first)}},hostBindings:function(n,r){n&1&&hn("click",function(o){return r.clickout(o)},Ym)},decls:7,vars:4,consts:[["exploreButtonRef",""],["exploreMenuRef",""],[1,"nav-shell"],[3,"linkData"],[3,"click","linkData","isButton"],[1,"explore-menu"],[3,"click","linkData"]],template:function(n,r){n&1&&(H(0,"div",2)(1,"nav"),ve(2,"app-nav-link",3),oe(3,g4,5,5)(4,y4,6,4),ve(5,"app-nav-link",3)(6,"app-nav-link",3),K()()),n&2&&(O(2),de("linkData",r.home),O(),se(r.isDesktop()?3:4),O(2),de("linkData",r.cart),O(),de("linkData",r.profile))},dependencies:[Qh],styles:[".nav-shell[_ngcontent-%COMP%]{position:fixed;top:0;z-index:1000;width:100%}nav[_ngcontent-%COMP%]{margin:0;padding:0;width:100%;height:3rem;display:flex;flex-direction:row;justify-content:center;gap:.5rem;align-items:center;background-color:var(--background);box-shadow:0 .5rem 1rem #0000004d}a[_ngcontent-%COMP%]{padding:0 1rem;height:2rem;display:flex;align-items:center;color:var(--nav-text);text-decoration:none;text-align:center;font-size:1.1rem;font-weight:700;font-variant:all-small-caps;border:2px solid transparent;box-sizing:border-box;cursor:pointer}a[_ngcontent-%COMP%]:hover{color:var(--nav-highlight);border:2px solid var(--nav-highlight)}@media(max-width:1080px){.nav-shell[_ngcontent-%COMP%]{top:auto;bottom:0}nav[_ngcontent-%COMP%]{justify-content:center;gap:2rem;box-shadow:0 -.5rem 1rem #0000004d}}.explore-menu[_ngcontent-%COMP%]{padding:1rem;width:100%;position:fixed;bottom:3rem;z-index:-1;display:flex;flex-direction:column;gap:1rem;background-color:var(--background);box-shadow:0 -.5rem 1rem #0000004d;opacity:0;transform:translateY(100%);transition:opacity .2s ease-in-out,transform .2s ease-in-out;pointer-events:none}.explore-menu.is-open[_ngcontent-%COMP%]{opacity:1;transform:translateY(0);pointer-events:auto}@media(max-width:500px){nav[_ngcontent-%COMP%]{height:3rem;justify-content:space-around}.explore-menu[_ngcontent-%COMP%]{bottom:3rem}}"]})};function v4(t,e){if(t&1&&nt(0,"a",1),t&2){let n=Q().$implicit;wt("href",n.link,ln)("innerHTML",n.text,Jn)}}function _4(t,e){if(t&1&&nt(0,"p",2),t&2){let n=Q().$implicit;wt("innerHTML",n.text,Jn)}}function E4(t,e){if(t&1&&oe(0,v4,1,2,"a",1)(1,_4,1,1,"p",2),t&2){let n=e.$implicit;se(n.link!=""?0:1)}}function I4(t,e){if(t&1&&gt(0,E4,2,1,null,null,fn),t&2){let n=Q();mt(n.footerData.lines)}}var Zh=class t{footerData;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ie({type:t,selectors:[["app-footer"]],inputs:{footerData:"footerData"},decls:3,vars:1,consts:[[1,"footer-shell"],[3,"href","innerHTML"],[3,"innerHTML"]],template:function(n,r){n&1&&(Me(0,"div",0)(1,"footer"),oe(2,I4,2,0),xe()()),n&2&&(O(2),se(r.footerData?2:-1))},styles:[".footer-shell[_ngcontent-%COMP%]{margin:3rem 0 0}footer[_ngcontent-%COMP%]{margin:0;padding:1rem;height:100px;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1rem;font-family:Belanosima,sans-serif;text-align:center;background-color:var(--primary);color:#fffaf0}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fffaf0;cursor:pointer}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:inherit;text-decoration:none}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.25rem}"]})};var w4=(t,e)=>e.id;function T4(t,e){if(t&1&&(Me(0,"div",1)(1,"p"),me(2),xe()()),t&2){let n=e.$implicit;O(2),yt(n.message)}}var Xh=class t{constructor(e){this.toastService=e}static \u0275fac=function(n){return new(n||t)(le(Si))};static \u0275cmp=Ie({type:t,selectors:[["app-toast"]],decls:3,vars:0,consts:[[1,"toast-stack-shell"],[1,"toast"]],template:function(n,r){n&1&&(Me(0,"div",0),gt(1,T4,3,1,"div",1,w4),xe()),n&2&&(O(),mt(r.toastService.activeToasts()))},styles:[".toast-stack-shell[_ngcontent-%COMP%]{position:fixed;bottom:3.5rem;left:50%;transform:translate(-50%);z-index:1001;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1rem}.toast[_ngcontent-%COMP%]{width:fit-content;text-align:center;background-color:var(--toast-background);color:var(--toast-text);padding:10px 20px;box-shadow:0 4px 12px #0000004d;animation:_ngcontent-%COMP%_toast-fade 3s ease-in-out forwards}@keyframes _ngcontent-%COMP%_toast-fade{0%{opacity:0}10%{opacity:1}90%{opacity:1}to{opacity:0}}.toast[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}"]})};var ep=class t{constructor(e){this.themeService=e}title=Be("ng-taniti");footerData={lines:[{text:"Photos licensed from Adobe Stock",link:"fake link"},{text:"Made with Angular 21",link:""},{text:"Jake Poshepny, 2025",link:"https://jakeebro.github.io/Portfolio/about"}]};ngOnInit(){this.themeService.initializeTheme()}static \u0275fac=function(n){return new(n||t)(le(ua))};static \u0275cmp=Ie({type:t,selectors:[["app-root"]],decls:6,vars:1,consts:[[1,"app-shell"],[1,"main"],[3,"footerData"]],template:function(n,r){n&1&&(H(0,"div",0),ve(1,"app-toast")(2,"app-navbar"),H(3,"div",1),ve(4,"router-outlet"),K(),ve(5,"app-footer",2),K()),n&2&&(O(5),de("footerData",r.footerData))},dependencies:[Hc,Jh,Zh,Xh],styles:[".app-shell[_ngcontent-%COMP%]{padding-top:3rem;min-height:calc(100vh + 150px);display:flex;flex-direction:column;justify-content:space-between}.main[_ngcontent-%COMP%]{margin:0;padding:0;flex:1}app-footer[_ngcontent-%COMP%]{padding-bottom:0}@media(max-width:1080px){.app-shell[_ngcontent-%COMP%]{padding-top:0}app-footer[_ngcontent-%COMP%]{padding-bottom:3rem}}@media(max-width:500px){app-footer[_ngcontent-%COMP%]{padding-bottom:3rem}}"]})};var D4="firebase",C4="12.6.0";Ln(D4,C4,"app");var kM={production:!1,firebaseConfig:{apiKey:"AIzaSyDweRdkdGsOkzaOxWWuoJ0JVQ7-KFtltFM",authDomain:"ng-taniti.firebaseapp.com",projectId:"ng-taniti",storageBucket:"ng-taniti.firebasestorage.app",messagingSenderId:"521171139506",appId:"1:521171139506:web:50d1e74c05b2b4de4182ab"}};var Qre=Lv(kM.firebaseConfig);By(ep,OM).catch(t=>console.error(t));
